// Ion.RangeSlider
// version 1.6.3
// https://github.com/IonDen/ion.rangeSlider
(function(c){var S=0,t=function(c){return c.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 ")},J=function(){var c=navigator.userAgent,b=/msie\s\d+/i;return 0<c.search(b)?(c=b.exec(c).toString(),c=c.split(" ")[1],9>c?!0:!1):!1}(),F;try{document.createEvent("TouchEvent"),F=!0}catch(ca){F=!1}var E={init:function(p){var b=c.extend({min:10,max:100,from:10,to:100,type:"single",step:1,postfix:"",hasGrid:!1,hideText:!1,onChange:null,onFinish:null},p),q='<span class="irs">',q=q+'<span class="irs-line"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span>',
q=q+'<span class="irs-min">0</span><span class="irs-max">1</span>',q=q+'<span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span>',q=q+"</span>",q=q+'<span class="irs-grid"></span>',G='<span class="irs-diapason"></span>',G=G+'<span class="irs-slider from"></span>',G=G+'<span class="irs-slider to"></span>';return this.each(function(){var l=c(this);if(!l.data("isActive")){l.data("isActive",!0);S++;this.pluginCount=S;var p={min:parseInt(l.attr("value").split(";")[0])||
b.min,max:parseInt(l.attr("value").split(";")[1])||b.max,from:parseInt(l.data("from"))||b.from,to:parseInt(l.data("to"))||b.to,type:l.data("type")||b.type,step:parseInt(l.data("step"))||b.step,postfix:l.data("postfix")||b.postfix,hasGrid:l.data("hasgrid")||b.hasGrid,hideText:l.data("hidetext")||b.hideText};b=c.extend(b,p);p='<span class="irs" id="irs-'+this.pluginCount+'"></span>';l[0].style.display="none";l.before(p);var w=c("#irs-"+this.pluginCount),E=c(document.body),T=c(window),d,B,C,x,y,s,z,
m,r,u,P,U,n=!1,v=!1,V=!0,g={},Q=0,K=0,L=0,k=0,A=0,H=0,R=0,M=0,N=0,W=0;this.updateData=function(a){b=c.extend(b,a);w.find("*").off();w.html("");X()};this.removeSlider=function(){w.find("*").off();w.html("").remove();l.data("isActive",!1);l.show()};var X=function(){w.html(q);d=w.find(".irs");B=d.find(".irs-min");C=d.find(".irs-max");x=d.find(".irs-from");y=d.find(".irs-to");s=d.find(".irs-single");U=w.find(".irs-grid");b.hideText?(B[0].style.display="none",C[0].style.display="none",x[0].style.display=
"none",y[0].style.display="none",s[0].style.display="none"):(B.html(t(b.min)+b.postfix),C.html(t(b.max)+b.postfix));K=B.outerWidth();L=C.outerWidth();if("single"===b.type){if(d.append('<span class="irs-slider single"></span>'),z=d.find(".single"),z.on("mousedown",function(a){a.preventDefault();a.stopPropagation();D(a,c(this),null);v=n=!0;J&&c("*").prop("unselectable",!0)}),F)z.on("touchstart",function(a){a.preventDefault();a.stopPropagation();D(a.originalEvent,c(this),null);v=n=!0})}else"double"===
b.type&&(d.append(G),m=d.find(".from"),r=d.find(".to"),P=d.find(".irs-diapason"),I(),m.on("mousedown",function(a){a.preventDefault();a.stopPropagation();c(this).addClass("last");r.removeClass("last");D(a,c(this),"from");v=n=!0;J&&c("*").prop("unselectable",!0)}),r.on("mousedown",function(a){a.preventDefault();a.stopPropagation();c(this).addClass("last");m.removeClass("last");D(a,c(this),"to");v=n=!0;J&&c("*").prop("unselectable",!0)}),F&&(m.on("touchstart",function(a){a.preventDefault();a.stopPropagation();
c(this).addClass("last");r.removeClass("last");D(a.originalEvent,c(this),"from");v=n=!0}),r.on("touchstart",function(a){a.preventDefault();a.stopPropagation();c(this).addClass("last");m.removeClass("last");D(a.originalEvent,c(this),"to");v=n=!0})),b.to===b.max&&m.addClass("last"));E.on("mouseup",function(){n&&(n=v=!1,u.removeAttr("id"),u=null,"double"===b.type&&I(),O(),J&&c("*").prop("unselectable",!1))});E.on("mousemove",function(a){n&&(Q=a.pageX,Y())});F&&(T.on("touchend",function(){n&&(n=v=!1,
u.removeAttr("id"),u=null,"double"===b.type&&I(),O())}),T.on("touchmove",function(a){n&&(Q=a.originalEvent.pageX,Y())}));Z();aa();b.hasGrid&&ba()},Z=function(){k=d.width();H=z?z.width():m.width();A=k-H},D=function(a,f,e){Z();V=!1;u=f;u.attr("id","irs-active-slider");f=u.offset().left;W=f+(a.pageX-f)-u.position().left;"single"===b.type?R=d.width()-H:"double"===b.type&&("from"===e?(M=0,N=parseInt(r.css("left"))):(M=parseInt(m.css("left")),N=d.width()-H))},I=function(){var a=m.width(),b=parseInt(m[0].style.left)||
m.position().left,e=(parseInt(r[0].style.left)||r.position().left)-b;P[0].style.left=b+a/2+"px";P[0].style.width=e+"px"},Y=function(){var a=Math.round(Q-W);"single"===b.type?(0>a&&(a=0),a>R&&(a=R),O()):"double"===b.type&&(a<M&&(a=M),a>N&&(a=N),O(),I());u[0].style.left=a+"px"},O=function(){var a={fromNumber:0,toNumber:0,fromPers:0,toPers:0,fromX:0,toX:0},f=b.max-b.min,e;"single"===b.type?(a.fromX=parseInt(z[0].style.left)||z.position().left,a.fromPers=100*(a.fromX/A),e=f/100*a.fromPers+parseInt(b.min),
a.fromNumber=Math.round(e/b.step)*b.step):"double"===b.type&&(a.fromX=parseInt(m[0].style.left)||m.position().left,a.fromPers=100*(a.fromX/A),e=f/100*a.fromPers+parseInt(b.min),a.fromNumber=Math.round(e/b.step)*b.step,a.toX=parseInt(r[0].style.left)||r.position().left,a.toPers=100*(a.toX/A),f=f/100*a.toPers+parseInt(b.min),a.toNumber=Math.round(f/b.step)*b.step);g=a;$()},aa=function(){var a={fromNumber:b.from,toNumber:b.to,fromPers:0,toPers:0,fromX:0,toX:0},f=b.max-b.min;"single"===b.type?(a.fromPers=
100*((a.fromNumber-b.min)/f),a.fromX=Math.round(A/100*a.fromPers),z[0].style.left=a.fromX+"px"):"double"===b.type&&(a.fromPers=100*((a.fromNumber-b.min)/f),a.fromX=Math.round(A/100*a.fromPers),m[0].style.left=a.fromX+"px",a.toPers=100*((a.toNumber-b.min)/f),a.toX=Math.round(A/100*a.toPers),r[0].style.left=a.toX+"px",I());g=a;$()},$=function(){var a,f,e,c,d,h;h=H/2;"single"===b.type?(b.hideText||(x[0].style.display="none",y[0].style.display="none",e=t(g.fromNumber)+b.postfix,s.html(e),d=s.outerWidth(),
h=g.fromX-d/2+h,0>h&&(h=0),h>k-d&&(h=k-d),s[0].style.left=h+"px",B[0].style.display=h<K?"none":"block",C[0].style.display=h+d>k-L?"none":"block"),l.attr("value",parseInt(g.fromNumber))):"double"===b.type&&(b.hideText||(a=t(g.fromNumber)+b.postfix,f=t(g.toNumber)+b.postfix,e=g.fromNumber!=g.toNumber?t(g.fromNumber)+" \u2014 "+t(g.toNumber)+b.postfix:t(g.fromNumber)+b.postfix,x.html(a),y.html(f),s.html(e),a=x.outerWidth(),f=g.fromX-a/2+h,0>f&&(f=0),f>k-a&&(f=k-a),x[0].style.left=f+"px",e=y.outerWidth(),
c=g.toX-e/2+h,0>c&&(c=0),c>k-e&&(c=k-e),y[0].style.left=c+"px",d=s.outerWidth(),h=g.fromX+(g.toX-g.fromX)/2-d/2+h,0>h&&(h=0),h>k-d&&(h=k-d),s[0].style.left=h+"px",f+a<c?(s[0].style.display="none",x[0].style.display="block",y[0].style.display="block"):(s[0].style.display="block",x[0].style.display="none",y[0].style.display="none"),B[0].style.display=h<K||f<K?"none":"block",C[0].style.display=h+d>k-L||c+e>k-L?"none":"block"),l.attr("value",parseInt(g.fromNumber)+";"+parseInt(g.toNumber)));"function"===
typeof b.onChange&&b.onChange.call(this,g);"function"!==typeof b.onFinish||(v||V)||b.onFinish.call(this,g)},ba=function(){w.addClass("irs-with-grid");for(var a=0,c="",e=0,e=0,d="",a=0;20>=a;a++)e=Math.floor(k/20*a),e>=k&&(e=k-1),d+='<span class="irs-grid-pol small" style="left: '+e+'px;"></span>';for(a=0;4>=a;a++)e=Math.floor(k/4*a),e>=k&&(e=k-1),d+='<span class="irs-grid-pol" style="left: '+e+'px;"></span>',c=Math.round(b.min+(b.max-b.min)/4*a),c=Math.round(c/b.step)*b.step,c=t(c),0===a?d+='<span class="irs-grid-text" style="left: '+
e+'px; text-align: left;">'+c+"</span>":4===a?(e-=100,d+='<span class="irs-grid-text" style="left: '+e+'px; text-align: right;">'+c+"</span>"):(e-=50,d+='<span class="irs-grid-text" style="left: '+e+'px;">'+c+"</span>");U.html(d)};X()}})},update:function(c){return this.each(function(){this.updateData(c)})},remove:function(){return this.each(function(){this.removeSlider()})}};c.fn.ionRangeSlider=function(p){if(E[p])return E[p].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof p&&
p)c.error("Method "+p+" does not exist for jQuery.ionRangeSlider");else return E.init.apply(this,arguments)}})(jQuery);