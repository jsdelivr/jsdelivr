!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.YASR=t()}}(function(){var t;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e){e.exports=t("./main.js")},{"./main.js":29}],2:[function(){RegExp.escape=function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};(function(t){"use strict";t.csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(t){var e=/\./;if(isNaN(t))return t;if(e.test(t))return parseFloat(t);var n=parseInt(t);return isNaN(n)?null:n}},parsers:{parse:function(t,e){function n(){u=0;l="";if(e.start&&e.state.rowNum<e.start){s=[];e.state.rowNum++;e.state.colNum=1}else{if(void 0===e.onParseEntry)a.push(s);else{var t=e.onParseEntry(s,e.state);t!==!1&&a.push(t)}s=[];e.end&&e.state.rowNum>=e.end&&(c=!0);e.state.rowNum++;e.state.colNum=1}}function r(){if(void 0===e.onParseValue)s.push(l);else{var t=e.onParseValue(l,e.state);t!==!1&&s.push(t)}l="";u=0;e.state.colNum++}var i=e.separator,o=e.delimiter;e.state.rowNum||(e.state.rowNum=1);e.state.colNum||(e.state.colNum=1);var a=[],s=[],u=0,l="",c=!1,f=RegExp.escape(i),h=RegExp.escape(o),p=/(D|S|\n|\r|[^DS\r\n]+)/,d=p.source;d=d.replace(/S/g,f);d=d.replace(/D/g,h);p=RegExp(d,"gm");t.replace(p,function(t){if(!c)switch(u){case 0:if(t===i){l+="";r();break}if(t===o){u=1;break}if("\n"===t){r();n();break}if(/^\r$/.test(t))break;l+=t;u=3;break;case 1:if(t===o){u=2;break}l+=t;u=1;break;case 2:if(t===o){l+=t;u=1;break}if(t===i){r();break}if("\n"===t){r();n();break}if(/^\r$/.test(t))break;throw new Error("CSVDataError: Illegal State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");case 3:if(t===i){r();break}if("\n"===t){r();n();break}if(/^\r$/.test(t))break;if(t===o)throw new Error("CSVDataError: Illegal Quote [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]")}});if(0!==s.length){r();n()}return a},splitLines:function(t,e){function n(){a=0;if(e.start&&e.state.rowNum<e.start){s="";e.state.rowNum++}else{if(void 0===e.onParseEntry)o.push(s);else{var t=e.onParseEntry(s,e.state);t!==!1&&o.push(t)}s="";e.end&&e.state.rowNum>=e.end&&(u=!0);e.state.rowNum++}}var r=e.separator,i=e.delimiter;e.state.rowNum||(e.state.rowNum=1);var o=[],a=0,s="",u=!1,l=RegExp.escape(r),c=RegExp.escape(i),f=/(D|S|\n|\r|[^DS\r\n]+)/,h=f.source;h=h.replace(/S/g,l);h=h.replace(/D/g,c);f=RegExp(h,"gm");t.replace(f,function(t){if(!u)switch(a){case 0:if(t===r){s+=t;a=0;break}if(t===i){s+=t;a=1;break}if("\n"===t){n();break}if(/^\r$/.test(t))break;s+=t;a=3;break;case 1:if(t===i){s+=t;a=2;break}s+=t;a=1;break;case 2:var o=s.substr(s.length-1);if(t===i&&o===i){s+=t;a=1;break}if(t===r){s+=t;a=0;break}if("\n"===t){n();break}if("\r"===t)break;throw new Error("CSVDataError: Illegal state [Row:"+e.state.rowNum+"]");case 3:if(t===r){s+=t;a=0;break}if("\n"===t){n();break}if("\r"===t)break;if(t===i)throw new Error("CSVDataError: Illegal quote [Row:"+e.state.rowNum+"]");throw new Error("CSVDataError: Illegal state [Row:"+e.state.rowNum+"]");default:throw new Error("CSVDataError: Unknown state [Row:"+e.state.rowNum+"]")}});""!==s&&n();return o},parseEntry:function(t,e){function n(){if(void 0===e.onParseValue)o.push(s);else{var t=e.onParseValue(s,e.state);t!==!1&&o.push(t)}s="";a=0;e.state.colNum++}var r=e.separator,i=e.delimiter;e.state.rowNum||(e.state.rowNum=1);e.state.colNum||(e.state.colNum=1);var o=[],a=0,s="";if(!e.match){var u=RegExp.escape(r),l=RegExp.escape(i),c=/(D|S|\n|\r|[^DS\r\n]+)/,f=c.source;f=f.replace(/S/g,u);f=f.replace(/D/g,l);e.match=RegExp(f,"gm")}t.replace(e.match,function(t){switch(a){case 0:if(t===r){s+="";n();break}if(t===i){a=1;break}if("\n"===t||"\r"===t)break;s+=t;a=3;break;case 1:if(t===i){a=2;break}s+=t;a=1;break;case 2:if(t===i){s+=t;a=1;break}if(t===r){n();break}if("\n"===t||"\r"===t)break;throw new Error("CSVDataError: Illegal State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");case 3:if(t===r){n();break}if("\n"===t||"\r"===t)break;if(t===i)throw new Error("CSVDataError: Illegal Quote [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]")}});n();return o}},toArray:function(e,n,r){var n=void 0!==n?n:{},i={};i.callback=void 0!==r&&"function"==typeof r?r:!1;i.separator="separator"in n?n.separator:t.csv.defaults.separator;i.delimiter="delimiter"in n?n.delimiter:t.csv.defaults.delimiter;var o=void 0!==n.state?n.state:{},n={delimiter:i.delimiter,separator:i.separator,onParseEntry:n.onParseEntry,onParseValue:n.onParseValue,state:o},a=t.csv.parsers.parseEntry(e,n);if(!i.callback)return a;i.callback("",a);return void 0},toArrays:function(e,n,r){var n=void 0!==n?n:{},i={};i.callback=void 0!==r&&"function"==typeof r?r:!1;i.separator="separator"in n?n.separator:t.csv.defaults.separator;i.delimiter="delimiter"in n?n.delimiter:t.csv.defaults.delimiter;var o=[],n={delimiter:i.delimiter,separator:i.separator,onParseEntry:n.onParseEntry,onParseValue:n.onParseValue,start:n.start,end:n.end,state:{rowNum:1,colNum:1}};o=t.csv.parsers.parse(e,n);if(!i.callback)return o;i.callback("",o);return void 0},toObjects:function(e,n,r){var n=void 0!==n?n:{},i={};i.callback=void 0!==r&&"function"==typeof r?r:!1;i.separator="separator"in n?n.separator:t.csv.defaults.separator;i.delimiter="delimiter"in n?n.delimiter:t.csv.defaults.delimiter;i.headers="headers"in n?n.headers:t.csv.defaults.headers;n.start="start"in n?n.start:1;i.headers&&n.start++;n.end&&i.headers&&n.end++;var o=[],a=[],n={delimiter:i.delimiter,separator:i.separator,onParseEntry:n.onParseEntry,onParseValue:n.onParseValue,start:n.start,end:n.end,state:{rowNum:1,colNum:1},match:!1},s={delimiter:i.delimiter,separator:i.separator,start:1,end:1,state:{rowNum:1,colNum:1}},u=t.csv.parsers.splitLines(e,s),l=t.csv.toArray(u[0],n),o=t.csv.parsers.splitLines(e,n);n.state.colNum=1;n.state.rowNum=l?2:1;for(var c=0,f=o.length;f>c;c++){var h=t.csv.toArray(o[c],n),p={};for(var d in l)p[l[d]]=h[d];a.push(p);n.state.rowNum++}if(!i.callback)return a;i.callback("",a);return void 0},fromArrays:function(e,n,r){var n=void 0!==n?n:{},o={};o.callback=void 0!==r&&"function"==typeof r?r:!1;o.separator="separator"in n?n.separator:t.csv.defaults.separator;o.delimiter="delimiter"in n?n.delimiter:t.csv.defaults.delimiter;o.escaper="escaper"in n?n.escaper:t.csv.defaults.escaper;o.experimental="experimental"in n?n.experimental:!1;if(!o.experimental)throw new Error("not implemented");var a=[];for(i in e)a.push(e[i]);if(!o.callback)return a;o.callback("",a);return void 0},fromObjects2CSV:function(e,n,r){var n=void 0!==n?n:{},o={};o.callback=void 0!==r&&"function"==typeof r?r:!1;o.separator="separator"in n?n.separator:t.csv.defaults.separator;o.delimiter="delimiter"in n?n.delimiter:t.csv.defaults.delimiter;o.experimental="experimental"in n?n.experimental:!1;if(!o.experimental)throw new Error("not implemented");var a=[];for(i in e)a.push(arrays[i]);if(!o.callback)return a;o.callback("",a);return void 0}};t.csvEntry2Array=t.csv.toArray;t.csv2Array=t.csv.toArrays;t.csv2Dictionary=t.csv.toObjects})(jQuery)},{}],3:[function(e,n,r){(function(i){"object"==typeof r&&"object"==typeof n?i(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof t&&t.amd?t(["../../lib/codemirror"],i):i(CodeMirror)})(function(t){function e(t,e,r,i){var o=t.getLineHandle(e.line),u=e.ch-1,l=u>=0&&s[o.text.charAt(u)]||s[o.text.charAt(++u)];if(!l)return null;var c=">"==l.charAt(1)?1:-1;if(r&&c>0!=(u==e.ch))return null;var f=t.getTokenTypeAt(a(e.line,u+1)),h=n(t,a(e.line,u+(c>0?1:0)),c,f||null,i);return null==h?null:{from:a(e.line,u),to:h&&h.pos,match:h&&h.ch==l.charAt(0),forward:c>0}}function n(t,e,n,r,i){for(var o=i&&i.maxScanLineLength||1e4,u=i&&i.maxScanLines||1e3,l=[],c=i&&i.bracketRegex?i.bracketRegex:/[(){}[\]]/,f=n>0?Math.min(e.line+u,t.lastLine()+1):Math.max(t.firstLine()-1,e.line-u),h=e.line;h!=f;h+=n){var p=t.getLine(h);if(p){var d=n>0?0:p.length-1,g=n>0?p.length:-1;if(!(p.length>o)){h==e.line&&(d=e.ch-(0>n?1:0));for(;d!=g;d+=n){var m=p.charAt(d);if(c.test(m)&&(void 0===r||t.getTokenTypeAt(a(h,d+1))==r)){var v=s[m];if(">"==v.charAt(1)==n>0)l.push(m);else{if(!l.length)return{pos:a(h,d),ch:m};l.pop()}}}}}}return h-n==(n>0?t.lastLine():t.firstLine())?!1:null}function r(t,n,r){for(var i=t.state.matchBrackets.maxHighlightLineLength||1e3,s=[],u=t.listSelections(),l=0;l<u.length;l++){var c=u[l].empty()&&e(t,u[l].head,!1,r);if(c&&t.getLine(c.from.line).length<=i){var f=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(t.markText(c.from,a(c.from.line,c.from.ch+1),{className:f}));c.to&&t.getLine(c.to.line).length<=i&&s.push(t.markText(c.to,a(c.to.line,c.to.ch+1),{className:f}))}}if(s.length){o&&t.state.focused&&t.display.input.focus();var h=function(){t.operation(function(){for(var t=0;t<s.length;t++)s[t].clear()})};if(!n)return h;setTimeout(h,800)}}function i(t){t.operation(function(){if(u){u();u=null}u=r(t,!1,t.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),a=t.Pos,s={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},u=null;t.defineOption("matchBrackets",!1,function(e,n,r){r&&r!=t.Init&&e.off("cursorActivity",i);if(n){e.state.matchBrackets="object"==typeof n?n:{};e.on("cursorActivity",i)}});t.defineExtension("matchBrackets",function(){r(this,!0)});t.defineExtension("findMatchingBracket",function(t,n,r){return e(this,t,n,r)});t.defineExtension("scanForBracket",function(t,e,r,i){return n(this,t,e,r,i)})})},{codemirror:void 0}],4:[function(e,n,r){(function(i){"object"==typeof r&&"object"==typeof n?i(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof t&&t.amd?t(["../../lib/codemirror"],i):i(CodeMirror)})(function(t){"use strict";t.registerHelper("fold","brace",function(e,n){function r(r){for(var i=n.ch,u=0;;){var l=0>=i?-1:s.lastIndexOf(r,i-1);if(-1!=l){if(1==u&&l<n.ch)break;o=e.getTokenTypeAt(t.Pos(a,l+1));if(!/^(comment|string)/.test(o))return l+1;i=l-1}else{if(1==u)break;u=1;i=s.length}}}var i,o,a=n.line,s=e.getLine(a),u="{",l="}",i=r("{");if(null==i){u="[",l="]";i=r("[")}if(null!=i){var c,f,h=1,p=e.lastLine();t:for(var d=a;p>=d;++d)for(var g=e.getLine(d),m=d==a?i:0;;){var v=g.indexOf(u,m),y=g.indexOf(l,m);0>v&&(v=g.length);0>y&&(y=g.length);m=Math.min(v,y);if(m==g.length)break;if(e.getTokenTypeAt(t.Pos(d,m+1))==o)if(m==v)++h;else if(!--h){c=d;f=m;break t}++m}if(null!=c&&(a!=c||f!=i))return{from:t.Pos(a,i),to:t.Pos(c,f)}}});t.registerHelper("fold","import",function(e,n){function r(n){if(n<e.firstLine()||n>e.lastLine())return null;var r=e.getTokenAt(t.Pos(n,1));/\S/.test(r.string)||(r=e.getTokenAt(t.Pos(n,r.end+1)));if("keyword"!=r.type||"import"!=r.string)return null;for(var i=n,o=Math.min(e.lastLine(),n+10);o>=i;++i){var a=e.getLine(i),s=a.indexOf(";");if(-1!=s)return{startCh:r.end,end:t.Pos(i,s)}}}var i,n=n.line,o=r(n);if(!o||r(n-1)||(i=r(n-2))&&i.end.line==n-1)return null;for(var a=o.end;;){var s=r(a.line+1);if(null==s)break;a=s.end}return{from:e.clipPos(t.Pos(n,o.startCh+1)),to:a}});t.registerHelper("fold","include",function(e,n){function r(n){if(n<e.firstLine()||n>e.lastLine())return null;var r=e.getTokenAt(t.Pos(n,1));/\S/.test(r.string)||(r=e.getTokenAt(t.Pos(n,r.end+1)));return"meta"==r.type&&"#include"==r.string.slice(0,8)?r.start+8:void 0}var n=n.line,i=r(n);if(null==i||null!=r(n-1))return null;for(var o=n;;){var a=r(o+1);if(null==a)break;++o}return{from:t.Pos(n,i+1),to:e.clipPos(t.Pos(o))}})})},{codemirror:void 0}],5:[function(e,n,r){(function(i){"object"==typeof r&&"object"==typeof n?i(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof t&&t.amd?t(["../../lib/codemirror"],i):i(CodeMirror)})(function(t){"use strict";function e(e,i,o,a){function s(t){var n=u(e,i);if(!n||n.to.line-n.from.line<l)return null;for(var r=e.findMarksAt(n.from),o=0;o<r.length;++o)if(r[o].__isFold&&"fold"!==a){if(!t)return null;n.cleared=!0;r[o].clear()}return n}if(o&&o.call){var u=o;o=null}else var u=r(e,o,"rangeFinder");"number"==typeof i&&(i=t.Pos(i,0));var l=r(e,o,"minFoldSize"),c=s(!0);if(r(e,o,"scanUp"))for(;!c&&i.line>e.firstLine();){i=t.Pos(i.line-1,0);c=s(!1)}if(c&&!c.cleared&&"unfold"!==a){var f=n(e,o);t.on(f,"mousedown",function(e){h.clear();t.e_preventDefault(e)});var h=e.markText(c.from,c.to,{replacedWith:f,clearOnEnter:!0,__isFold:!0});h.on("clear",function(n,r){t.signal(e,"unfold",e,n,r)});t.signal(e,"fold",e,c.from,c.to)}}function n(t,e){var n=r(t,e,"widget");if("string"==typeof n){var i=document.createTextNode(n);n=document.createElement("span");n.appendChild(i);n.className="CodeMirror-foldmarker"}return n}function r(t,e,n){if(e&&void 0!==e[n])return e[n];var r=t.options.foldOptions;return r&&void 0!==r[n]?r[n]:i[n]}t.newFoldFunction=function(t,n){return function(r,i){e(r,i,{rangeFinder:t,widget:n})}};t.defineExtension("foldCode",function(t,n,r){e(this,t,n,r)});t.defineExtension("isFolded",function(t){for(var e=this.findMarksAt(t),n=0;n<e.length;++n)if(e[n].__isFold)return!0});t.commands.toggleFold=function(t){t.foldCode(t.getCursor())};t.commands.fold=function(t){t.foldCode(t.getCursor(),null,"fold")};t.commands.unfold=function(t){t.foldCode(t.getCursor(),null,"unfold")};t.commands.foldAll=function(e){e.operation(function(){for(var n=e.firstLine(),r=e.lastLine();r>=n;n++)e.foldCode(t.Pos(n,0),null,"fold")})};t.commands.unfoldAll=function(e){e.operation(function(){for(var n=e.firstLine(),r=e.lastLine();r>=n;n++)e.foldCode(t.Pos(n,0),null,"unfold")})};t.registerHelper("fold","combine",function(){var t=Array.prototype.slice.call(arguments,0);return function(e,n){for(var r=0;r<t.length;++r){var i=t[r](e,n);if(i)return i}}});t.registerHelper("fold","auto",function(t,e){for(var n=t.getHelpers(e,"fold"),r=0;r<n.length;r++){var i=n[r](t,e);if(i)return i}});var i={rangeFinder:t.fold.auto,widget:"â†”",minFoldSize:0,scanUp:!1};t.defineOption("foldOptions",null)})},{codemirror:void 0}],6:[function(e,n,r){(function(i){"object"==typeof r&&"object"==typeof n?i(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}(),e("./foldcode")):"function"==typeof t&&t.amd?t(["../../lib/codemirror","./foldcode"],i):i(CodeMirror)})(function(t){"use strict";function e(t){this.options=t;this.from=this.to=0}function n(t){t===!0&&(t={});null==t.gutter&&(t.gutter="CodeMirror-foldgutter");null==t.indicatorOpen&&(t.indicatorOpen="CodeMirror-foldgutter-open");null==t.indicatorFolded&&(t.indicatorFolded="CodeMirror-foldgutter-folded");return t}function r(t,e){for(var n=t.findMarksAt(f(e)),r=0;r<n.length;++r)if(n[r].__isFold&&n[r].find().from.line==e)return!0}function i(t){if("string"==typeof t){var e=document.createElement("div");e.className=t+" CodeMirror-guttermarker-subtle";return e}return t.cloneNode(!0)}function o(e,n,o){var a=e.state.foldGutter.options,s=n;e.eachLine(n,o,function(n){var o=null;if(r(e,s))o=i(a.indicatorFolded);else{var u=f(s,0),l=a.rangeFinder||t.fold.auto,c=l&&l(e,u);c&&c.from.line+1<c.to.line&&(o=i(a.indicatorOpen))}e.setGutterMarker(n,a.gutter,o);++s})}function a(t){var e=t.getViewport(),n=t.state.foldGutter;if(n){t.operation(function(){o(t,e.from,e.to)});n.from=e.from;n.to=e.to}}function s(t,e,n){var r=t.state.foldGutter.options;n==r.gutter&&t.foldCode(f(e,0),r.rangeFinder)}function u(t){var e=t.state.foldGutter,n=t.state.foldGutter.options;e.from=e.to=0;clearTimeout(e.changeUpdate);e.changeUpdate=setTimeout(function(){a(t)},n.foldOnChangeTimeSpan||600)}function l(t){var e=t.state.foldGutter,n=t.state.foldGutter.options;clearTimeout(e.changeUpdate);e.changeUpdate=setTimeout(function(){var n=t.getViewport();e.from==e.to||n.from-e.to>20||e.from-n.to>20?a(t):t.operation(function(){if(n.from<e.from){o(t,n.from,e.from);e.from=n.from}if(n.to>e.to){o(t,e.to,n.to);e.to=n.to}})},n.updateViewportTimeSpan||400)}function c(t,e){var n=t.state.foldGutter,r=e.line;r>=n.from&&r<n.to&&o(t,r,r+1)}t.defineOption("foldGutter",!1,function(r,i,o){if(o&&o!=t.Init){r.clearGutter(r.state.foldGutter.options.gutter);r.state.foldGutter=null;r.off("gutterClick",s);r.off("change",u);r.off("viewportChange",l);r.off("fold",c);r.off("unfold",c);r.off("swapDoc",a)}if(i){r.state.foldGutter=new e(n(i));a(r);r.on("gutterClick",s);r.on("change",u);r.on("viewportChange",l);r.on("fold",c);r.on("unfold",c);r.on("swapDoc",a)}});var f=t.Pos})},{"./foldcode":5,codemirror:void 0}],7:[function(e,n,r){(function(i){"object"==typeof r&&"object"==typeof n?i(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof t&&t.amd?t(["../../lib/codemirror"],i):i(CodeMirror)})(function(t){"use strict";function e(t,e){return t.line-e.line||t.ch-e.ch}function n(t,e,n,r){this.line=e;this.ch=n;this.cm=t;this.text=t.getLine(e);this.min=r?r.from:t.firstLine();this.max=r?r.to-1:t.lastLine()}function r(t,e){var n=t.cm.getTokenTypeAt(h(t.line,e));return n&&/\btag\b/.test(n)}function i(t){if(!(t.line>=t.max)){t.ch=0;t.text=t.cm.getLine(++t.line);return!0}}function o(t){if(!(t.line<=t.min)){t.text=t.cm.getLine(--t.line);t.ch=t.text.length;return!0}}function a(t){for(;;){var e=t.text.indexOf(">",t.ch);if(-1==e){if(i(t))continue;return}if(r(t,e+1)){var n=t.text.lastIndexOf("/",e),o=n>-1&&!/\S/.test(t.text.slice(n+1,e));t.ch=e+1;return o?"selfClose":"regular"}t.ch=e+1}}function s(t){for(;;){var e=t.ch?t.text.lastIndexOf("<",t.ch-1):-1;if(-1==e){if(o(t))continue;return}if(r(t,e+1)){g.lastIndex=e;t.ch=e;var n=g.exec(t.text);if(n&&n.index==e)return n}else t.ch=e}}function u(t){for(;;){g.lastIndex=t.ch;var e=g.exec(t.text);if(!e){if(i(t))continue;return}if(r(t,e.index+1)){t.ch=e.index+e[0].length;return e}t.ch=e.index+1}}function l(t){for(;;){var e=t.ch?t.text.lastIndexOf(">",t.ch-1):-1;if(-1==e){if(o(t))continue;return}if(r(t,e+1)){var n=t.text.lastIndexOf("/",e),i=n>-1&&!/\S/.test(t.text.slice(n+1,e));t.ch=e+1;return i?"selfClose":"regular"}t.ch=e}}function c(t,e){for(var n=[];;){var r,i=u(t),o=t.line,s=t.ch-(i?i[0].length:0);if(!i||!(r=a(t)))return;if("selfClose"!=r)if(i[1]){for(var l=n.length-1;l>=0;--l)if(n[l]==i[2]){n.length=l;break}if(0>l&&(!e||e==i[2]))return{tag:i[2],from:h(o,s),to:h(t.line,t.ch)}}else n.push(i[2])}}function f(t,e){for(var n=[];;){var r=l(t);if(!r)return;if("selfClose"!=r){var i=t.line,o=t.ch,a=s(t);if(!a)return;if(a[1])n.push(a[2]);else{for(var u=n.length-1;u>=0;--u)if(n[u]==a[2]){n.length=u;break}if(0>u&&(!e||e==a[2]))return{tag:a[2],from:h(t.line,t.ch),to:h(i,o)}}}else s(t)}}var h=t.Pos,p="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",d=p+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",g=new RegExp("<(/?)(["+p+"]["+d+"]*)","g");t.registerHelper("fold","xml",function(t,e){for(var r=new n(t,e.line,0);;){var i,o=u(r);if(!o||r.line!=e.line||!(i=a(r)))return;if(!o[1]&&"selfClose"!=i){var e=h(r.line,r.ch),s=c(r,o[2]);return s&&{from:e,to:s.from}}}});t.findMatchingTag=function(t,r,i){var o=new n(t,r.line,r.ch,i);if(-1!=o.text.indexOf(">")||-1!=o.text.indexOf("<")){var u=a(o),l=u&&h(o.line,o.ch),p=u&&s(o);if(u&&p&&!(e(o,r)>0)){var d={from:h(o.line,o.ch),to:l,tag:p[2]};if("selfClose"==u)return{open:d,close:null,at:"open"};if(p[1])return{open:f(o,p[2]),close:d,at:"close"};o=new n(t,l.line,l.ch,i);return{open:d,close:c(o,p[2]),at:"open"}}}};t.findEnclosingTag=function(t,e,r){for(var i=new n(t,e.line,e.ch,r);;){var o=f(i);if(!o)break;var a=new n(t,e.line,e.ch,r),s=c(a,o.tag);if(s)return{open:o,close:s}}};t.scanForClosingTag=function(t,e,r,i){var o=new n(t,e.line,e.ch,i?{from:0,to:i}:null);return c(o,r)}})},{codemirror:void 0}],8:[function(e,n,r){(function(i){"object"==typeof r&&"object"==typeof n?i(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof t&&t.amd?t(["../../lib/codemirror"],i):i(CodeMirror)})(function(t){"use strict";t.defineMode("javascript",function(e,n){function r(t){for(var e,n=!1,r=!1;null!=(e=t.next());){if(!n){if("/"==e&&!r)return;"["==e?r=!0:r&&"]"==e&&(r=!1)}n=!n&&"\\"==e}}function i(t,e,n){de=t;ge=n;return e}function o(t,e){var n=t.next();if('"'==n||"'"==n){e.tokenize=a(n);return e.tokenize(t,e)}if("."==n&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==n&&t.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&t.eat(">"))return i("=>","operator");if("0"==n&&t.eat(/x/i)){t.eatWhile(/[\da-f]/i);return i("number","number")}if(/\d/.test(n)){t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return i("number","number")}if("/"==n){if(t.eat("*")){e.tokenize=s;return s(t,e)}if(t.eat("/")){t.skipToEnd();return i("comment","comment")}if("operator"==e.lastType||"keyword c"==e.lastType||"sof"==e.lastType||/^[\[{}\(,;:]$/.test(e.lastType)){r(t);t.eatWhile(/[gimy]/);return i("regexp","string-2")}t.eatWhile(Me);return i("operator","operator",t.current())}if("`"==n){e.tokenize=u;return u(t,e)}if("#"==n){t.skipToEnd();return i("error","error")}if(Me.test(n)){t.eatWhile(Me);return i("operator","operator",t.current())}if(be.test(n)){t.eatWhile(be);var o=t.current(),l=_e.propertyIsEnumerable(o)&&_e[o];return l&&"."!=e.lastType?i(l.type,l.style,o):i("variable","variable",o)}}function a(t){return function(e,n){var r,a=!1;if(ye&&"@"==e.peek()&&e.match(ke)){n.tokenize=o;return i("jsonld-keyword","meta")}for(;null!=(r=e.next())&&(r!=t||a);)a=!a&&"\\"==r;a||(n.tokenize=o);return i("string","string")}}function s(t,e){for(var n,r=!1;n=t.next();){if("/"==n&&r){e.tokenize=o;break}r="*"==n}return i("comment","comment")}function u(t,e){for(var n,r=!1;null!=(n=t.next());){if(!r&&("`"==n||"$"==n&&t.eat("{"))){e.tokenize=o;break}r=!r&&"\\"==n}return i("quasi","string-2",t.current())}function l(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var n=t.string.indexOf("=>",t.start);if(!(0>n)){for(var r=0,i=!1,o=n-1;o>=0;--o){var a=t.string.charAt(o),s=Ce.indexOf(a);if(s>=0&&3>s){if(!r){++o;break}if(0==--r)break}else if(s>=3&&6>s)++r;else if(be.test(a))i=!0;else if(i&&!r){++o;break}}i&&!r&&(e.fatArrowAt=o)}}function c(t,e,n,r,i,o){this.indented=t;this.column=e;this.type=n;this.prev=i;this.info=o;null!=r&&(this.align=r)}function f(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0;for(var r=t.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==e)return!0}function h(t,e,n,r,i){var o=t.cc;Ae.state=t;Ae.stream=i;Ae.marked=null,Ae.cc=o;Ae.style=e;t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);for(;;){var a=o.length?o.pop():xe?_:b;if(a(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Ae.marked?Ae.marked:"variable"==n&&f(t,r)?"variable-2":e}}}function p(){for(var t=arguments.length-1;t>=0;t--)Ae.cc.push(arguments[t])}function d(){p.apply(null,arguments);return!0}function g(t){function e(e){for(var n=e;n;n=n.next)if(n.name==t)return!0;return!1}var r=Ae.state;if(r.context){Ae.marked="def";if(e(r.localVars))return;r.localVars={name:t,next:r.localVars}}else{if(e(r.globalVars))return;n.globalVars&&(r.globalVars={name:t,next:r.globalVars})}}function m(){Ae.state.context={prev:Ae.state.context,vars:Ae.state.localVars};Ae.state.localVars=Ne}function v(){Ae.state.localVars=Ae.state.context.vars;Ae.state.context=Ae.state.context.prev}function y(t,e){var n=function(){var n=Ae.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new c(r,Ae.stream.column(),t,null,n.lexical,e)};n.lex=!0;return n}function x(){var t=Ae.state;if(t.lexical.prev){")"==t.lexical.type&&(t.indented=t.lexical.indented);t.lexical=t.lexical.prev}}function w(t){function e(n){return n==t?d():";"==t?p():d(e)}return e}function b(t,e){if("var"==t)return d(y("vardef",e.length),V,w(";"),x);if("keyword a"==t)return d(y("form"),_,b,x);if("keyword b"==t)return d(y("form"),b,x);if("{"==t)return d(y("}"),F,x);if(";"==t)return d();if("if"==t){"else"==Ae.state.lexical.info&&Ae.state.cc[Ae.state.cc.length-1]==x&&Ae.state.cc.pop()();return d(y("form"),_,b,x,X)}return"function"==t?d(te):"for"==t?d(y("form"),Q,b,x):"variable"==t?d(y("stat"),L):"switch"==t?d(y("form"),_,y("}","switch"),w("{"),F,x,x):"case"==t?d(_,w(":")):"default"==t?d(w(":")):"catch"==t?d(y("form"),m,w("("),ee,w(")"),b,x,v):"module"==t?d(y("form"),m,ae,v,x):"class"==t?d(y("form"),ne,x):"export"==t?d(y("form"),se,x):"import"==t?d(y("form"),ue,x):p(y("stat"),_,w(";"),x)}function _(t){return k(t,!1)}function M(t){return k(t,!0)}function k(t,e){if(Ae.state.fatArrowAt==Ae.stream.start){var n=e?P:j;if("("==t)return d(m,y(")"),q(W,")"),x,w("=>"),n,v);if("variable"==t)return p(m,W,w("=>"),n,v)}var r=e?N:A;return Se.hasOwnProperty(t)?d(r):"function"==t?d(te,r):"keyword c"==t?d(e?S:C):"("==t?d(y(")"),C,pe,w(")"),x,r):"operator"==t||"spread"==t?d(e?M:_):"["==t?d(y("]"),fe,x,r):"{"==t?R(I,"}",null,r):"quasi"==t?p(E,r):d()}function C(t){return t.match(/[;\}\)\],]/)?p():p(_)}function S(t){return t.match(/[;\}\)\],]/)?p():p(M)}function A(t,e){return","==t?d(_):N(t,e,!1)}function N(t,e,n){var r=0==n?A:N,i=0==n?_:M;return"=>"==t?d(m,n?P:j,v):"operator"==t?/\+\+|--/.test(e)?d(r):"?"==e?d(_,w(":"),i):d(i):"quasi"==t?p(E,r):";"!=t?"("==t?R(M,")","call",r):"."==t?d(D,r):"["==t?d(y("]"),C,w("]"),x,r):void 0:void 0}function E(t,e){return"quasi"!=t?p():"${"!=e.slice(e.length-2)?d(E):d(_,T)}function T(t){if("}"==t){Ae.marked="string-2";Ae.state.tokenize=u;return d(E)}}function j(t){l(Ae.stream,Ae.state);return p("{"==t?b:_)}function P(t){l(Ae.stream,Ae.state);return p("{"==t?b:M)}function L(t){return":"==t?d(x,b):p(A,w(";"),x)}function D(t){if("variable"==t){Ae.marked="property";return d()}}function I(t,e){if("variable"==t||"keyword"==Ae.style){Ae.marked="property";return d("get"==e||"set"==e?z:O)}if("number"==t||"string"==t){Ae.marked=ye?"property":Ae.style+" property";return d(O)}return"jsonld-keyword"==t?d(O):"["==t?d(_,w("]"),O):void 0}function z(t){if("variable"!=t)return p(O);Ae.marked="property";return d(te)}function O(t){return":"==t?d(M):"("==t?p(te):void 0}function q(t,e){function n(r){if(","==r){var i=Ae.state.lexical;"call"==i.info&&(i.pos=(i.pos||0)+1);return d(t,n)}return r==e?d():d(w(e))}return function(r){return r==e?d():p(t,n)}}function R(t,e,n){for(var r=3;r<arguments.length;r++)Ae.cc.push(arguments[r]);return d(y(e,n),q(t,e),x)}function F(t){return"}"==t?d():p(b,F)}function U(t){return we&&":"==t?d(H):void 0}function H(t){if("variable"==t){Ae.marked="variable-3";return d()}}function V(){return p(W,U,B,G)}function W(t,e){if("variable"==t){g(e);return d()}return"["==t?R(W,"]"):"{"==t?R(Y,"}"):void 0}function Y(t,e){if("variable"==t&&!Ae.stream.match(/^\s*:/,!1)){g(e);return d(B)}"variable"==t&&(Ae.marked="property");return d(w(":"),W,B)}function B(t,e){return"="==e?d(M):void 0}function G(t){return","==t?d(V):void 0}function X(t,e){return"keyword b"==t&&"else"==e?d(y("form","else"),b,x):void 0}function Q(t){return"("==t?d(y(")"),$,w(")"),x):void 0}function $(t){return"var"==t?d(V,w(";"),K):";"==t?d(K):"variable"==t?d(Z):p(_,w(";"),K)}function Z(t,e){if("in"==e||"of"==e){Ae.marked="keyword";return d(_)}return d(A,K)}function K(t,e){if(";"==t)return d(J);if("in"==e||"of"==e){Ae.marked="keyword";return d(_)}return p(_,w(";"),J)}function J(t){")"!=t&&d(_)}function te(t,e){if("*"==e){Ae.marked="keyword";return d(te)}if("variable"==t){g(e);return d(te)}return"("==t?d(m,y(")"),q(ee,")"),x,b,v):void 0}function ee(t){return"spread"==t?d(ee):p(W,U)}function ne(t,e){if("variable"==t){g(e);return d(re)}}function re(t,e){return"extends"==e?d(_,re):"{"==t?d(y("}"),ie,x):void 0}function ie(t,e){if("variable"==t||"keyword"==Ae.style){Ae.marked="property";return"get"==e||"set"==e?d(oe,te,ie):d(te,ie)}if("*"==e){Ae.marked="keyword";return d(ie)}return";"==t?d(ie):"}"==t?d():void 0}function oe(t){if("variable"!=t)return p();Ae.marked="property";return d()}function ae(t,e){if("string"==t)return d(b);if("variable"==t){g(e);return d(ce)}}function se(t,e){if("*"==e){Ae.marked="keyword";return d(ce,w(";"))}if("default"==e){Ae.marked="keyword";return d(_,w(";"))}return p(b)}function ue(t){return"string"==t?d():p(le,ce)}function le(t,e){if("{"==t)return R(le,"}");"variable"==t&&g(e);return d()}function ce(t,e){if("from"==e){Ae.marked="keyword";return d(_)}}function fe(t){return"]"==t?d():p(M,he)}function he(t){return"for"==t?p(pe,w("]")):","==t?d(q(S,"]")):p(q(M,"]"))}function pe(t){return"for"==t?d(Q,pe):"if"==t?d(_,pe):void 0}var de,ge,me=e.indentUnit,ve=n.statementIndent,ye=n.jsonld,xe=n.json||ye,we=n.typescript,be=n.wordCharacters||/[\w$\xa1-\uffff]/,_e=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),r=t("keyword c"),i=t("operator"),o={type:"atom",style:"atom"},a={"if":t("if"),"while":e,"with":e,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"debugger":r,"var":t("var"),"const":t("var"),let:t("var"),"function":t("function"),"catch":t("catch"),"for":t("for"),"switch":t("switch"),"case":t("case"),"default":t("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":t("this"),module:t("module"),"class":t("class"),"super":t("atom"),"yield":r,"export":t("export"),"import":t("import"),"extends":r};if(we){var s={type:"variable",style:"variable-3"},u={"interface":t("interface"),"extends":t("extends"),constructor:t("constructor"),"public":t("public"),"private":t("private"),"protected":t("protected"),"static":t("static"),string:s,number:s,bool:s,any:s};for(var l in u)a[l]=u[l]}return a}(),Me=/[+\-*&%=<>!?|~^]/,ke=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ce="([{}])",Se={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Ae={state:null,column:null,marked:null,cc:null},Ne={name:"this",next:{name:"arguments"}};x.lex=!0;return{startState:function(t){var e={tokenize:o,lastType:"sof",cc:[],lexical:new c((t||0)-me,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:0};n.globalVars&&"object"==typeof n.globalVars&&(e.globalVars=n.globalVars);return e},token:function(t,e){if(t.sol()){e.lexical.hasOwnProperty("align")||(e.lexical.align=!1);e.indented=t.indentation();l(t,e)}if(e.tokenize!=s&&t.eatSpace())return null;var n=e.tokenize(t,e);if("comment"==de)return n;e.lastType="operator"!=de||"++"!=ge&&"--"!=ge?de:"incdec";return h(e,n,de,ge,t)},indent:function(e,r){if(e.tokenize==s)return t.Pass;if(e.tokenize!=o)return 0;var i=r&&r.charAt(0),a=e.lexical;if(!/^\s*else\b/.test(r))for(var u=e.cc.length-1;u>=0;--u){var l=e.cc[u];if(l==x)a=a.prev;else if(l!=X)break}"stat"==a.type&&"}"==i&&(a=a.prev);ve&&")"==a.type&&"stat"==a.prev.type&&(a=a.prev);var c=a.type,f=i==c;return"vardef"==c?a.indented+("operator"==e.lastType||","==e.lastType?a.info+1:0):"form"==c&&"{"==i?a.indented:"form"==c?a.indented+me:"stat"==c?a.indented+("operator"==e.lastType||","==e.lastType?ve||me:0):"switch"!=a.info||f||0==n.doubleIndentSwitch?a.align?a.column+(f?0:1):a.indented+(f?0:me):a.indented+(/^(?:case|default)\b/.test(r)?me:2*me)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:xe?null:"/*",blockCommentEnd:xe?null:"*/",lineComment:xe?null:"//",fold:"brace",helperType:xe?"json":"javascript",jsonldMode:ye,jsonMode:xe}
});t.registerHelper("wordChars","javascript",/[\w$]/);t.defineMIME("text/javascript","javascript");t.defineMIME("text/ecmascript","javascript");t.defineMIME("application/javascript","javascript");t.defineMIME("application/x-javascript","javascript");t.defineMIME("application/ecmascript","javascript");t.defineMIME("application/json",{name:"javascript",json:!0});t.defineMIME("application/x-json",{name:"javascript",json:!0});t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});t.defineMIME("text/typescript",{name:"javascript",typescript:!0});t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},{codemirror:void 0}],9:[function(e,n,r){(function(i){"object"==typeof r&&"object"==typeof n?i(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof t&&t.amd?t(["../../lib/codemirror"],i):i(CodeMirror)})(function(t){"use strict";t.defineMode("xml",function(e,n){function r(t,e){function n(n){e.tokenize=n;return n(t,e)}var r=t.next();if("<"==r){if(t.eat("!")){if(t.eat("["))return t.match("CDATA[")?n(a("atom","]]>")):null;if(t.match("--"))return n(a("comment","-->"));if(t.match("DOCTYPE",!0,!0)){t.eatWhile(/[\w\._\-]/);return n(s(1))}return null}if(t.eat("?")){t.eatWhile(/[\w\._\-]/);e.tokenize=a("meta","?>");return"meta"}M=t.eat("/")?"closeTag":"openTag";e.tokenize=i;return"tag bracket"}if("&"==r){var o;o=t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";");return o?"atom":"error"}t.eatWhile(/[^&<]/);return null}function i(t,e){var n=t.next();if(">"==n||"/"==n&&t.eat(">")){e.tokenize=r;M=">"==n?"endTag":"selfcloseTag";return"tag bracket"}if("="==n){M="equals";return null}if("<"==n){e.tokenize=r;e.state=f;e.tagName=e.tagStart=null;var i=e.tokenize(t,e);return i?i+" tag error":"tag error"}if(/[\'\"]/.test(n)){e.tokenize=o(n);e.stringStartCol=t.column();return e.tokenize(t,e)}t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}function o(t){var e=function(e,n){for(;!e.eol();)if(e.next()==t){n.tokenize=i;break}return"string"};e.isInAttribute=!0;return e}function a(t,e){return function(n,i){for(;!n.eol();){if(n.match(e)){i.tokenize=r;break}n.next()}return t}}function s(t){return function(e,n){for(var i;null!=(i=e.next());){if("<"==i){n.tokenize=s(t+1);return n.tokenize(e,n)}if(">"==i){if(1==t){n.tokenize=r;break}n.tokenize=s(t-1);return n.tokenize(e,n)}}return"meta"}}function u(t,e,n){this.prev=t.context;this.tagName=e;this.indent=t.indented;this.startOfLine=n;(C.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function l(t){t.context&&(t.context=t.context.prev)}function c(t,e){for(var n;;){if(!t.context)return;n=t.context.tagName;if(!C.contextGrabbers.hasOwnProperty(n)||!C.contextGrabbers[n].hasOwnProperty(e))return;l(t)}}function f(t,e,n){if("openTag"==t){n.tagStart=e.column();return h}return"closeTag"==t?p:f}function h(t,e,n){if("word"==t){n.tagName=e.current();k="tag";return m}k="error";return h}function p(t,e,n){if("word"==t){var r=e.current();n.context&&n.context.tagName!=r&&C.implicitlyClosed.hasOwnProperty(n.context.tagName)&&l(n);if(n.context&&n.context.tagName==r){k="tag";return d}k="tag error";return g}k="error";return g}function d(t,e,n){if("endTag"!=t){k="error";return d}l(n);return f}function g(t,e,n){k="error";return d(t,e,n)}function m(t,e,n){if("word"==t){k="attribute";return v}if("endTag"==t||"selfcloseTag"==t){var r=n.tagName,i=n.tagStart;n.tagName=n.tagStart=null;if("selfcloseTag"==t||C.autoSelfClosers.hasOwnProperty(r))c(n,r);else{c(n,r);n.context=new u(n,r,i==n.indented)}return f}k="error";return m}function v(t,e,n){if("equals"==t)return y;C.allowMissing||(k="error");return m(t,e,n)}function y(t,e,n){if("string"==t)return x;if("word"==t&&C.allowUnquoted){k="string";return m}k="error";return m(t,e,n)}function x(t,e,n){return"string"==t?x:m(t,e,n)}var w=e.indentUnit,b=n.multilineTagIndentFactor||1,_=n.multilineTagIndentPastTag;null==_&&(_=!0);var M,k,C=n.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},S=n.alignCDATA;return{startState:function(){return{tokenize:r,state:f,indented:0,tagName:null,tagStart:null,context:null}},token:function(t,e){!e.tagName&&t.sol()&&(e.indented=t.indentation());if(t.eatSpace())return null;M=null;var n=e.tokenize(t,e);if((n||M)&&"comment"!=n){k=null;e.state=e.state(M||n,t,e);k&&(n="error"==k?n+" error":k)}return n},indent:function(e,n,o){var a=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+w;if(a&&a.noIndent)return t.Pass;if(e.tokenize!=i&&e.tokenize!=r)return o?o.match(/^(\s*)/)[0].length:0;if(e.tagName)return _?e.tagStart+e.tagName.length+2:e.tagStart+w*b;if(S&&/<!\[CDATA\[/.test(n))return 0;var s=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(s&&s[1])for(;a;){if(a.tagName==s[2]){a=a.prev;break}if(!C.implicitlyClosed.hasOwnProperty(a.tagName))break;a=a.prev}else if(s)for(;a;){var u=C.contextGrabbers[a.tagName];if(!u||!u.hasOwnProperty(s[2]))break;a=a.prev}for(;a&&!a.startOfLine;)a=a.prev;return a?a.indent+w:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:n.htmlMode?"html":"xml",helperType:n.htmlMode?"html":"xml"}});t.defineMIME("text/xml","xml");t.defineMIME("application/xml","xml");t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{codemirror:void 0}],10:[function(e,n){!function(){function e(t,e){return e>t?-1:t>e?1:t>=e?0:0/0}function r(t){return null===t?0/0:+t}function i(t){return!isNaN(t)}function o(t){return{left:function(e,n,r,i){arguments.length<3&&(r=0);arguments.length<4&&(i=e.length);for(;i>r;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){arguments.length<3&&(r=0);arguments.length<4&&(i=e.length);for(;i>r;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function a(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function u(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function l(){this._=Object.create(null)}function c(t){return(t+="")===hs||t[0]===ps?ps+t:t}function f(t){return(t+="")[0]===ps?t.slice(1):t}function h(t){return c(t)in this._}function p(t){return(t=c(t))in this._&&delete this._[t]}function d(){var t=[];for(var e in this._)t.push(f(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function x(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=ds.length;r>n;++n){var i=ds[n]+e;if(i in t)return i}}function w(){}function b(){}function _(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new l;e.on=function(e,i){var o,a=r.get(e);if(arguments.length<2)return a&&a.on;if(a){a.on=null;n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1));r.remove(e)}i&&n.push(r.set(e,{on:i}));return t};return e}function M(){Za.event.preventDefault()}function k(){for(var t,e=Za.event;t=e.sourceEvent;)e=t;return e}function C(t){for(var e=new b,n=0,r=arguments.length;++n<r;)e[arguments[n]]=_(e);e.of=function(n,r){return function(i){try{var o=i.sourceEvent=Za.event;i.target=t;Za.event=i;e[i.type].apply(n,r)}finally{Za.event=o}}};return e}function S(t){ms(t,bs);return t}function A(t){return"function"==typeof t?t:function(){return vs(t,this)}}function N(t){return"function"==typeof t?t:function(){return ys(t,this)}}function E(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}t=Za.ns.qualify(t);return null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function T(t){return t.trim().replace(/\s+/g," ")}function j(t){return new RegExp("(?:^|\\s+)"+Za.requote(t)+"(?:\\s+|$)","g")}function P(t){return(t+"").trim().split(/^|\s+/)}function L(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=P(t).map(D);var i=t.length;return"function"==typeof e?r:n}function D(t){var e=j(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";if(r){e.lastIndex=0;e.test(i)||n.setAttribute("class",T(i+" "+t))}else n.setAttribute("class",T(i.replace(e," ")))}}function I(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function z(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function O(t){return"function"==typeof t?t:(t=Za.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function q(t){return{__data__:t}}function R(t){return function(){return ws(this,t)}}function F(t){arguments.length||(t=e);return function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function U(t,e){for(var n=0,r=t.length;r>n;n++)for(var i,o=t[n],a=0,s=o.length;s>a;a++)(i=o[a])&&e(i,a,n);return t}function H(t){ms(t,Ms);return t}function V(t){var e,n;return function(r,i,o){var a,s=t[o].update,u=s.length;o!=n&&(n=o,e=0);i>=e&&(e=i+1);for(;!(a=s[e])&&++e<u;);return a}}function W(){var t=this.__transition__;t&&++t.active}function Y(t,e,n){function r(){var e=this[a];if(e){this.removeEventListener(t,e,e.$);delete this[a]}}function i(){var i=u(e,Ja(arguments));r.call(this);this.addEventListener(t,this[a]=i,i.$=n);i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+Za.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$);delete this[r]}}var a="__on"+t,s=t.indexOf("."),u=B;s>0&&(t=t.slice(0,s));var l=Cs.get(t);l&&(t=l,u=G);return s?e?i:r:e?w:o}function B(t,e){return function(n){var r=Za.event;Za.event=n;e[0]=this.__data__;try{t.apply(this,e)}finally{Za.event=r}}}function G(t,e){var n=B(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function X(){var t=".dragsuppress-"+ ++As,e="click"+t,n=Za.select(ns).on("touchmove"+t,M).on("dragstart"+t,M).on("selectstart"+t,M);if(Ss){var r=es.style,i=r[Ss];r[Ss]="none"}return function(o){function a(){n.on(e,null)}n.on(t,null);Ss&&(r[Ss]=i);if(o){n.on(e,function(){M();a()},!0);setTimeout(a,0)}}}function Q(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>Ns&&(ns.scrollX||ns.scrollY)){n=Za.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();Ns=!(i.f||i.e);n.remove()}Ns?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY);r=r.matrixTransform(t.getScreenCTM().inverse());return[r.x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function $(){return Za.event.changedTouches[0].identifier}function Z(){return Za.event.target}function K(){return ns}function J(t){return t>0?1:0>t?-1:0}function te(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function ee(t){return t>1?0:-1>t?Es:Math.acos(t)}function ne(t){return t>1?js:-1>t?-js:Math.asin(t)}function re(t){return((t=Math.exp(t))-1/t)/2}function ie(t){return((t=Math.exp(t))+1/t)/2}function oe(t){return((t=Math.exp(2*t))-1)/(t+1)}function ae(t){return(t=Math.sin(t/2))*t}function se(){}function ue(t,e,n){return this instanceof ue?void(this.h=+t,this.s=+e,this.l=+n):arguments.length<2?t instanceof ue?new ue(t.h,t.s,t.l):_e(""+t,Me,ue):new ue(t,e,n)}function le(t,e,n){function r(t){t>360?t-=360:0>t&&(t+=360);return 60>t?o+(a-o)*t/60:180>t?a:240>t?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;t=isNaN(t)?0:(t%=360)<0?t+360:t;e=isNaN(e)?0:0>e?0:e>1?1:e;n=0>n?0:n>1?1:n;a=.5>=n?n*(1+e):n+e-n*e;o=2*n-a;return new ye(i(t+120),i(t),i(t-120))}function ce(t,e,n){return this instanceof ce?void(this.h=+t,this.c=+e,this.l=+n):arguments.length<2?t instanceof ce?new ce(t.h,t.c,t.l):t instanceof he?de(t.l,t.a,t.b):de((t=ke((t=Za.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ce(t,e,n)}function fe(t,e,n){isNaN(t)&&(t=0);isNaN(e)&&(e=0);return new he(n,Math.cos(t*=Ds)*e,Math.sin(t)*e)}function he(t,e,n){return this instanceof he?void(this.l=+t,this.a=+e,this.b=+n):arguments.length<2?t instanceof he?new he(t.l,t.a,t.b):t instanceof ce?fe(t.h,t.c,t.l):ke((t=ye(t)).r,t.g,t.b):new he(t,e,n)}function pe(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;i=ge(i)*Ys;r=ge(r)*Bs;o=ge(o)*Gs;return new ye(ve(3.2404542*i-1.5371385*r-.4985314*o),ve(-.969266*i+1.8760108*r+.041556*o),ve(.0556434*i-.2040259*r+1.0572252*o))}function de(t,e,n){return t>0?new ce(Math.atan2(n,e)*Is,Math.sqrt(e*e+n*n),t):new ce(0/0,0/0,t)}function ge(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function me(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ve(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ye(t,e,n){return this instanceof ye?void(this.r=~~t,this.g=~~e,this.b=~~n):arguments.length<2?t instanceof ye?new ye(t.r,t.g,t.b):_e(""+t,ye,le):new ye(t,e,n)}function xe(t){return new ye(t>>16,t>>8&255,255&t)}function we(t){return xe(t)+""}function be(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function _e(t,e,n){var r,i,o,a=0,s=0,u=0;r=/([a-z]+)\((.*)\)/i.exec(t);if(r){i=r[2].split(",");switch(r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(Se(i[0]),Se(i[1]),Se(i[2]))}}if(o=$s.get(t))return e(o.r,o.g,o.b);if(null!=t&&"#"===t.charAt(0)&&!isNaN(o=parseInt(t.slice(1),16)))if(4===t.length){a=(3840&o)>>4;a=a>>4|a;s=240&o;s=s>>4|s;u=15&o;u=u<<4|u}else if(7===t.length){a=(16711680&o)>>16;s=(65280&o)>>8;u=255&o}return e(a,s,u)}function Me(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;if(s){i=.5>u?s/(a+o):s/(2-a-o);r=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4;r*=60}else{r=0/0;i=u>0&&1>u?0:r}return new ue(r,i,u)}function ke(t,e,n){t=Ce(t);e=Ce(e);n=Ce(n);var r=me((.4124564*t+.3575761*e+.1804375*n)/Ys),i=me((.2126729*t+.7151522*e+.072175*n)/Bs),o=me((.0193339*t+.119192*e+.9503041*n)/Gs);return he(116*i-16,500*(r-i),200*(i-o))}function Ce(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Se(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Ae(t){return"function"==typeof t?t:function(){return t}}function Ne(t){return t}function Ee(t){return function(e,n,r){2===arguments.length&&"function"==typeof n&&(r=n,n=null);return Te(e,n,t,r)}}function Te(t,e,n,r){function i(){var t,e=u.status;if(!e&&Pe(u)||e>=200&&300>e||304===e){try{t=n.call(o,u)}catch(r){a.error.call(o,r);return}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=Za.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;!ns.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest);"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()};u.onprogress=function(t){var e=Za.event;Za.event=t;try{a.progress.call(o,u)}finally{Za.event=e}};o.header=function(t,e){t=(t+"").toLowerCase();if(arguments.length<2)return s[t];null==e?delete s[t]:s[t]=e+"";return o};o.mimeType=function(t){if(!arguments.length)return e;e=null==t?null:t+"";return o};o.responseType=function(t){if(!arguments.length)return l;l=t;return o};o.response=function(t){n=t;return o};["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(Ja(arguments)))}});o.send=function(n,r,i){2===arguments.length&&"function"==typeof r&&(i=r,r=null);u.open(n,t,!0);null==e||"accept"in s||(s.accept=e+",*/*");if(u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);null!=e&&u.overrideMimeType&&u.overrideMimeType(e);null!=l&&(u.responseType=l);null!=i&&o.on("error",i).on("load",function(t){i(null,t)});a.beforesend.call(o,u);u.send(null==r?null:r);return o};o.abort=function(){u.abort();return o};Za.rebind(o,a,"on");return null==r?o:o.get(je(r))}function je(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Pe(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Le(){var t=De(),e=Ie()-t;if(e>24){if(isFinite(e)){clearTimeout(tu);tu=setTimeout(Le,e)}Js=0}else{Js=1;nu(Le)}}function De(){var t=Date.now();eu=Zs;for(;eu;){t>=eu.t&&(eu.f=eu.c(t-eu.t));eu=eu.n}return t}function Ie(){for(var t,e=Zs,n=1/0;e;)if(e.f)e=t?t.n=e.n:Zs=e.n;else{e.t<n&&(n=e.t);e=(t=e).n}Ks=t;return n}function ze(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Oe(t,e){var n=Math.pow(10,3*fs(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function qe(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,o=[],a=0,s=r[0],u=0;i>0&&s>0;){u+s+1>e&&(s=Math.max(1,e-u));o.push(t.substring(i-=s,i+s));if((u+=s+1)>e)break;s=r[a=(a+1)%r.length]}return o.reverse().join(n)}:Ne;return function(t){var n=iu.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],f=n[7],h=n[8],p=n[9],d=1,g="",m="",v=!1,y=!0;h&&(h=+h.substring(1));if(l||"0"===r&&"="===a){l=r="0";a="="}switch(p){case"n":f=!0;p="g";break;case"%":d=100;m="%";p="f";break;case"p":d=100;m="%";p="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+p.toLowerCase());case"c":y=!1;case"d":v=!0;h=0;break;case"s":d=-1;p="r"}"$"===u&&(g=i[0],m=i[1]);"r"!=p||h||(p="g");null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):("e"==p||"f"==p)&&(h=Math.max(0,Math.min(20,h))));p=ou.get(p)||Re;var x=l&&f;return function(t){var n=m;if(v&&t%1)return"";var i=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>d){var u=Za.formatPrefix(t,h);t=u.scale(t);n=u.symbol+m}else t*=d;t=p(t,h);var w,b,_=t.lastIndexOf(".");if(0>_){var M=y?t.lastIndexOf("e"):-1;0>M?(w=t,b=""):(w=t.substring(0,M),b=t.substring(M))}else{w=t.substring(0,_);b=e+t.substring(_+1)}!l&&f&&(w=o(w,1/0));var k=g.length+w.length+b.length+(x?0:i.length),C=c>k?new Array(k=c-k+1).join(r):"";x&&(w=o(C+w,C.length?c-b.length:1/0));i+=g;t=w+b;return("<"===a?i+t+C:">"===a?C+i+t:"^"===a?C.substring(0,k>>=1)+i+t+C.substring(k):i+(x?t:C+t))+n}}}function Re(t){return t+""}function Fe(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ue(t,e,n){function r(e){var n=t(e),r=o(n,1);return r-e>e-n?n:r}function i(n){e(n=t(new su(n-1)),1);return n}function o(t,n){e(t=new su(+t),n);return t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;r>a;){n(a)%o||s.push(new Date(+a));e(a,1)}else for(;r>a;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{su=Fe;var r=new Fe;r._=t;return a(r,e,n)}finally{su=Date}}t.floor=t;t.round=r;t.ceil=i;t.offset=o;t.range=a;var u=t.utc=He(t);u.floor=u;u.round=He(r);u.ceil=He(i);u.offset=He(o);u.range=s;return t}function He(t){return function(e,n){try{su=Fe;var r=new Fe;r._=e;return t(r,n)._}finally{su=Date}}}function Ve(t){function e(t){function e(e){for(var n,i,o,a=[],s=-1,u=0;++s<r;)if(37===t.charCodeAt(s)){a.push(t.slice(u,s));null!=(i=lu[n=t.charAt(++s)])&&(n=t.charAt(++s));(o=N[n])&&(n=o(e,null==i?"e"===n?" ":"0":i));a.push(n);u=s+1}a.push(t.slice(u,s));return a.join("")}var r=t.length;e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,t,e,0);if(i!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&su!==Fe,a=new(o?Fe:su);if("j"in r)a.setFullYear(r.y,0,r.j);else if("w"in r&&("W"in r||"U"in r)){a.setFullYear(r.y,0,1);a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)}else a.setFullYear(r.y,r.m,r.d);a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L);return o?a._:a};e.toString=function(){return t};return e}function n(t,e,n,r){for(var i,o,a,s=0,u=e.length,l=n.length;u>s;){if(r>=l)return-1;i=e.charCodeAt(s++);if(37===i){a=e.charAt(s++);o=E[a in lu?e.charAt(s++):a];if(!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.w=M.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){w.lastIndex=0;var r=w.exec(e.slice(n));return r?(t.w=b.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){S.lastIndex=0;var r=S.exec(e.slice(n));return r?(t.m=A.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){k.lastIndex=0;var r=k.exec(e.slice(n));return r?(t.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,N.c.toString(),e,r)}function u(t,e,r){return n(t,N.x.toString(),e,r)}function l(t,e,r){return n(t,N.X.toString(),e,r)}function c(t,e,n){var r=x.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var f=t.dateTime,h=t.date,p=t.time,d=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{su=Fe;var e=new su;e._=t;return r(e)}finally{su=Date}}var r=e(t);n.parse=function(t){try{su=Fe;var e=r.parse(t);return e&&e._}finally{su=Date}};n.toString=r.toString;return n};e.multi=e.utc.multi=cn;var x=Za.map(),w=Ye(g),b=Be(g),_=Ye(m),M=Be(m),k=Ye(v),C=Be(v),S=Ye(y),A=Be(y);d.forEach(function(t,e){x.set(t.toLowerCase(),e)});var N={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(f),d:function(t,e){return We(t.getDate(),e,2)},e:function(t,e){return We(t.getDate(),e,2)},H:function(t,e){return We(t.getHours(),e,2)},I:function(t,e){return We(t.getHours()%12||12,e,2)},j:function(t,e){return We(1+au.dayOfYear(t),e,3)},L:function(t,e){return We(t.getMilliseconds(),e,3)},m:function(t,e){return We(t.getMonth()+1,e,2)},M:function(t,e){return We(t.getMinutes(),e,2)},p:function(t){return d[+(t.getHours()>=12)]},S:function(t,e){return We(t.getSeconds(),e,2)},U:function(t,e){return We(au.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return We(au.mondayOfYear(t),e,2)},x:e(h),X:e(p),y:function(t,e){return We(t.getFullYear()%100,e,2)},Y:function(t,e){return We(t.getFullYear()%1e4,e,4)},Z:un,"%":function(){return"%"}},E={a:r,A:i,b:o,B:a,c:s,d:en,e:en,H:rn,I:rn,j:nn,L:sn,m:tn,M:on,p:c,S:an,U:Xe,w:Ge,W:Qe,x:u,X:l,y:Ze,Y:$e,Z:Ke,"%":ln};return e}function We(t,e,n){var r=0>t?"-":"",i=(r?-t:t)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(e)+i:i)}function Ye(t){return new RegExp("^(?:"+t.map(Za.requote).join("|")+")","i")}function Be(t){for(var e=new l,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ge(t,e,n){cu.lastIndex=0;var r=cu.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Xe(t,e,n){cu.lastIndex=0;var r=cu.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Qe(t,e,n){cu.lastIndex=0;var r=cu.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function $e(t,e,n){cu.lastIndex=0;var r=cu.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ze(t,e,n){cu.lastIndex=0;var r=cu.exec(e.slice(n,n+2));return r?(t.y=Je(+r[0]),n+r[0].length):-1}function Ke(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Je(t){return t+(t>68?1900:2e3)}function tn(t,e,n){cu.lastIndex=0;var r=cu.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function en(t,e,n){cu.lastIndex=0;var r=cu.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function nn(t,e,n){cu.lastIndex=0;var r=cu.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function rn(t,e,n){cu.lastIndex=0;var r=cu.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function on(t,e,n){cu.lastIndex=0;var r=cu.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function an(t,e,n){cu.lastIndex=0;var r=cu.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function sn(t,e,n){cu.lastIndex=0;var r=cu.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function un(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=fs(e)/60|0,i=fs(e)%60;return n+We(r,"0",2)+We(i,"0",2)}function ln(t,e,n){fu.lastIndex=0;var r=fu.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function fn(){}function hn(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function pn(t,e){t&&gu.hasOwnProperty(t.type)&&gu[t.type](t,e)}function dn(t,e,n){var r,i=-1,o=t.length-n;e.lineStart();for(;++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function gn(t,e){var n=-1,r=t.length;e.polygonStart();for(;++n<r;)dn(t[n],e,1);e.polygonEnd()}function mn(){function t(t,e){t*=Ds;e=e*Ds/2+Es/4;var n=t-r,a=n>=0?1:-1,s=a*n,u=Math.cos(e),l=Math.sin(e),c=o*l,f=i*u+c*Math.cos(s),h=c*a*Math.sin(s);vu.add(Math.atan2(h,f));r=t,i=u,o=l}var e,n,r,i,o;yu.point=function(a,s){yu.point=t;r=(e=a)*Ds,i=Math.cos(s=(n=s)*Ds/2+Es/4),o=Math.sin(s)};yu.lineEnd=function(){t(e,n)}}function vn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function yn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function xn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function wn(t,e){t[0]+=e[0];t[1]+=e[1];t[2]+=e[2]}function bn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function _n(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e;t[1]/=e;t[2]/=e}function Mn(t){return[Math.atan2(t[1],t[0]),ne(t[2])]}function kn(t,e){return fs(t[0]-e[0])<Ps&&fs(t[1]-e[1])<Ps}function Cn(t,e){t*=Ds;var n=Math.cos(e*=Ds);Sn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Sn(t,e,n){++xu;bu+=(t-bu)/xu;_u+=(e-_u)/xu;Mu+=(n-Mu)/xu}function An(){function t(t,i){t*=Ds;var o=Math.cos(i*=Ds),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-e*u)*l+(l=e*s-n*a)*l),e*a+n*s+r*u);wu+=l;ku+=l*(e+(e=a));Cu+=l*(n+(n=s));Su+=l*(r+(r=u));Sn(e,n,r)}var e,n,r;Tu.point=function(i,o){i*=Ds;var a=Math.cos(o*=Ds);e=a*Math.cos(i);n=a*Math.sin(i);r=Math.sin(o);Tu.point=t;Sn(e,n,r)}}function Nn(){Tu.point=Cn}function En(){function t(t,e){t*=Ds;var n=Math.cos(e*=Ds),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),l=i*u-o*s,c=o*a-r*u,f=r*s-i*a,h=Math.sqrt(l*l+c*c+f*f),p=r*a+i*s+o*u,d=h&&-ee(p)/h,g=Math.atan2(h,p);Au+=d*l;Nu+=d*c;Eu+=d*f;wu+=g;ku+=g*(r+(r=a));Cu+=g*(i+(i=s));Su+=g*(o+(o=u));Sn(r,i,o)}var e,n,r,i,o;Tu.point=function(a,s){e=a,n=s;Tu.point=t;a*=Ds;var u=Math.cos(s*=Ds);r=u*Math.cos(a);i=u*Math.sin(a);o=Math.sin(s);Sn(r,i,o)};Tu.lineEnd=function(){t(e,n);Tu.lineEnd=Nn;Tu.point=Cn}}function Tn(){return!0}function jn(t,e,n,r,i){var o=[],a=[];t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(kn(n,r)){i.lineStart();for(var s=0;e>s;++s)i.point((n=t[s])[0],n[1]);i.lineEnd()}else{var u=new Ln(n,t,null,!0),l=new Ln(n,null,u,!1);u.o=l;o.push(u);a.push(l);u=new Ln(r,t,null,!1);l=new Ln(r,null,u,!0);u.o=l;o.push(u);a.push(l)}}});a.sort(e);Pn(o);Pn(a);if(o.length){for(var s=0,u=n,l=a.length;l>s;++s)a[s].e=u=!u;for(var c,f,h=o[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;c=p.z;i.lineStart();do{p.v=p.o.v=!0;if(p.e){if(d)for(var s=0,l=c.length;l>s;++s)i.point((f=c[s])[0],f[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d){c=p.p.z;for(var s=c.length-1;s>=0;--s)i.point((f=c[s])[0],f[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o;c=p.z;d=!d}while(!p.v);i.lineEnd()}}}function Pn(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;){i.n=n=t[r];n.p=i;i=n}i.n=n=t[0];n.p=i}}function Ln(t,e,n,r){this.x=t;this.z=e;this.o=n;this.e=r;this.v=!1;this.n=this.p=null}function Dn(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);m.point(n[0],n[1])}function u(){y.point=s;m.lineStart()}function l(){y.point=a;m.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);w.point(n[0],n[1])}function f(){w.lineStart();g=[]}function h(){c(g[0][0],g[0][1]);w.lineEnd();var t,e=w.clean(),n=x.buffer(),r=n.length;g.pop();d.push(g);g=null;if(r)if(1&e){t=n[0];var i,r=t.length-1,a=-1;if(r>0){b||(o.polygonStart(),b=!0);o.lineStart();for(;++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else{r>1&&2&e&&n.push(n.pop().concat(n.shift()));p.push(n.filter(In))}}var p,d,g,m=e(o),v=i.invert(r[0],r[1]),y={point:a,lineStart:u,lineEnd:l,polygonStart:function(){y.point=c;y.lineStart=f;y.lineEnd=h;p=[];d=[]},polygonEnd:function(){y.point=a;y.lineStart=u;y.lineEnd=l;p=Za.merge(p);var t=Un(v,d);if(p.length){b||(o.polygonStart(),b=!0);jn(p,On,t,n,o)}else if(t){b||(o.polygonStart(),b=!0);o.lineStart();n(null,null,1,o);o.lineEnd()}b&&(o.polygonEnd(),b=!1);p=d=null},sphere:function(){o.polygonStart();o.lineStart();n(null,null,1,o);o.lineEnd();o.polygonEnd()}},x=zn(),w=e(x),b=!1;return y}}function In(t){return t.length>1}function zn(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:w,buffer:function(){var n=e;e=[];t=null;return n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function On(t,e){return((t=t.x)[0]<0?t[1]-js-Ps:js-t[1])-((e=e.x)[0]<0?e[1]-js-Ps:js-e[1])}function qn(t){var e,n=0/0,r=0/0,i=0/0;return{lineStart:function(){t.lineStart();e=1},point:function(o,a){var s=o>0?Es:-Es,u=fs(o-n);if(fs(u-Es)<Ps){t.point(n,r=(r+a)/2>0?js:-js);t.point(i,r);t.lineEnd();t.lineStart();t.point(s,r);t.point(o,r);e=0}else if(i!==s&&u>=Es){fs(n-i)<Ps&&(n-=i*Ps);fs(o-s)<Ps&&(o-=s*Ps);r=Rn(n,r,o,a);t.point(i,r);t.lineEnd();t.lineStart();t.point(s,r);e=0}t.point(n=o,r=a);i=s},lineEnd:function(){t.lineEnd();n=r=0/0},clean:function(){return 2-e}}}function Rn(t,e,n,r){var i,o,a=Math.sin(t-n);return fs(a)>Ps?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function Fn(t,e,n,r){var i;if(null==t){i=n*js;r.point(-Es,i);r.point(0,i);r.point(Es,i);r.point(Es,0);r.point(Es,-i);r.point(0,-i);r.point(-Es,-i);r.point(-Es,0);r.point(-Es,i)}else if(fs(t[0]-e[0])>Ps){var o=t[0]<e[0]?Es:-Es;i=n*o/2;r.point(-o,i);r.point(0,i);r.point(o,i)}else r.point(e[0],e[1])}function Un(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;vu.reset();for(var s=0,u=e.length;u>s;++s){var l=e[s],c=l.length;if(c)for(var f=l[0],h=f[0],p=f[1]/2+Es/4,d=Math.sin(p),g=Math.cos(p),m=1;;){m===c&&(m=0);t=l[m];var v=t[0],y=t[1]/2+Es/4,x=Math.sin(y),w=Math.cos(y),b=v-h,_=b>=0?1:-1,M=_*b,k=M>Es,C=d*x;vu.add(Math.atan2(C*_*Math.sin(M),g*w+C*Math.cos(M)));o+=k?b+_*Ts:b;if(k^h>=n^v>=n){var S=xn(vn(f),vn(t));_n(S);var A=xn(i,S);_n(A);var N=(k^b>=0?-1:1)*ne(A[2]);(r>N||r===N&&(S[0]||S[1]))&&(a+=k^b>=0?1:-1)}if(!m++)break;h=v,d=x,g=w,f=t}}return(-Ps>o||Ps>o&&0>vu)^1&a}function Hn(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,l,c;return{lineStart:function(){l=u=!1;c=1},point:function(f,h){var p,d=[f,h],g=e(f,h),m=a?g?0:i(f,h):g?i(f+(0>f?Es:-Es),h):0;
!n&&(l=u=g)&&t.lineStart();if(g!==u){p=r(n,d);if(kn(n,p)||kn(d,p)){d[0]+=Ps;d[1]+=Ps;g=e(d[0],d[1])}}if(g!==u){c=0;if(g){t.lineStart();p=r(d,n);t.point(p[0],p[1])}else{p=r(n,d);t.point(p[0],p[1]);t.lineEnd()}n=p}else if(s&&n&&a^g){var v;if(!(m&o)&&(v=r(d,n,!0))){c=0;if(a){t.lineStart();t.point(v[0][0],v[0][1]);t.point(v[1][0],v[1][1]);t.lineEnd()}else{t.point(v[1][0],v[1][1]);t.lineEnd();t.lineStart();t.point(v[0][0],v[0][1])}}}!g||n&&kn(n,d)||t.point(d[0],d[1]);n=d,u=g,o=m},lineEnd:function(){u&&t.lineEnd();n=null},clean:function(){return c|(l&&u)<<1}}}function r(t,e,n){var r=vn(t),i=vn(e),a=[1,0,0],s=xn(r,i),u=yn(s,s),l=s[0],c=u-l*l;if(!c)return!n&&t;var f=o*u/c,h=-o*l/c,p=xn(a,s),d=bn(a,f),g=bn(s,h);wn(d,g);var m=p,v=yn(d,m),y=yn(m,m),x=v*v-y*(yn(d,d)-1);if(!(0>x)){var w=Math.sqrt(x),b=bn(m,(-v-w)/y);wn(b,d);b=Mn(b);if(!n)return b;var _,M=t[0],k=e[0],C=t[1],S=e[1];M>k&&(_=M,M=k,k=_);var A=k-M,N=fs(A-Es)<Ps,E=N||Ps>A;!N&&C>S&&(_=C,C=S,S=_);if(E?N?C+S>0^b[1]<(fs(b[0]-M)<Ps?C:S):C<=b[1]&&b[1]<=S:A>Es^(M<=b[0]&&b[0]<=k)){var T=bn(m,(-v+w)/y);wn(T,d);return[b,Mn(T)]}}}function i(e,n){var r=a?t:Es-t,i=0;-r>e?i|=1:e>r&&(i|=2);-r>n?i|=4:n>r&&(i|=8);return i}var o=Math.cos(t),a=o>0,s=fs(o)>Ps,u=mr(t,6*Ds);return Dn(e,n,u,a?[0,-t]:[-Es,t-Es])}function Vn(t,e,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,l=a.y,c=s.x,f=s.y,h=0,p=1,d=c-u,g=f-l;o=t-u;if(d||!(o>0)){o/=d;if(0>d){if(h>o)return;p>o&&(p=o)}else if(d>0){if(o>p)return;o>h&&(h=o)}o=n-u;if(d||!(0>o)){o/=d;if(0>d){if(o>p)return;o>h&&(h=o)}else if(d>0){if(h>o)return;p>o&&(p=o)}o=e-l;if(g||!(o>0)){o/=g;if(0>g){if(h>o)return;p>o&&(p=o)}else if(g>0){if(o>p)return;o>h&&(h=o)}o=r-l;if(g||!(0>o)){o/=g;if(0>g){if(o>p)return;o>h&&(h=o)}else if(g>0){if(h>o)return;p>o&&(p=o)}h>0&&(i.a={x:u+h*d,y:l+h*g});1>p&&(i.b={x:u+p*d,y:l+p*g});return i}}}}}}function Wn(t,e,n,r){function i(r,i){return fs(r[0]-t)<Ps?i>0?0:3:fs(r[0]-n)<Ps?i>0?2:1:fs(r[1]-e)<Ps?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=m.length,r=t[1],i=0;n>i;++i)for(var o,a=1,s=m[i],u=s.length,l=s[0];u>a;++a){o=s[a];l[1]<=r?o[1]>r&&te(l,o,t)>0&&++e:o[1]<=r&&te(l,o,t)<0&&--e;l=o}return 0!==e}function l(o,s,u,l){var c=0,f=0;if(null==o||(c=i(o,u))!==(f=i(s,u))||a(o,s)<0^u>0){do l.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+u+4)%4)!==f)}else l.point(s[0],s[1])}function c(i,o){return i>=t&&n>=i&&o>=e&&r>=o}function f(t,e){c(t,e)&&s.point(t,e)}function h(){E.point=d;m&&m.push(v=[]);k=!0;M=!1;b=_=0/0}function p(){if(g){d(y,x);w&&M&&A.rejoin();g.push(A.buffer())}E.point=f;M&&s.lineEnd()}function d(t,e){t=Math.max(-Pu,Math.min(Pu,t));e=Math.max(-Pu,Math.min(Pu,e));var n=c(t,e);m&&v.push([t,e]);if(k){y=t,x=e,w=n;k=!1;if(n){s.lineStart();s.point(t,e)}}else if(n&&M)s.point(t,e);else{var r={a:{x:b,y:_},b:{x:t,y:e}};if(N(r)){if(!M){s.lineStart();s.point(r.a.x,r.a.y)}s.point(r.b.x,r.b.y);n||s.lineEnd();C=!1}else if(n){s.lineStart();s.point(t,e);C=!1}}b=t,_=e,M=n}var g,m,v,y,x,w,b,_,M,k,C,S=s,A=zn(),N=Vn(t,e,n,r),E={point:f,lineStart:h,lineEnd:p,polygonStart:function(){s=A;g=[];m=[];C=!0},polygonEnd:function(){s=S;g=Za.merge(g);var e=u([t,r]),n=C&&e,i=g.length;if(n||i){s.polygonStart();if(n){s.lineStart();l(null,null,1,s);s.lineEnd()}i&&jn(g,o,e,l,s);s.polygonEnd()}g=m=v=null}};return E}}function Yn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])});return n}function Bn(t){var e=0,n=Es/3,r=ur(t),i=r(e,n);i.parallels=function(t){return arguments.length?r(e=t[0]*Es/180,n=t[1]*Es/180):[e/Es*180,n/Es*180]};return i}function Gn(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,ne((o-(t*t+n*n)*i*i)/(2*i))]};return n}function Xn(){function t(t,e){Du+=i*t-r*e;r=t,i=e}var e,n,r,i;Ru.point=function(o,a){Ru.point=t;e=r=o,n=i=a};Ru.lineEnd=function(){t(e,n)}}function Qn(t,e){Iu>t&&(Iu=t);t>Ou&&(Ou=t);zu>e&&(zu=e);e>qu&&(qu=e)}function $n(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e);s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=Zn(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r;s.point=t},pointRadius:function(t){o=Zn(t);return s},result:function(){if(a.length){var t=a.join("");a=[];return t}}};return s}function Zn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Kn(t,e){bu+=t;_u+=e;++Mu}function Jn(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);ku+=a*(e+t)/2;Cu+=a*(n+r)/2;Su+=a;Kn(e=t,n=r)}var e,n;Uu.point=function(r,i){Uu.point=t;Kn(e=r,n=i)}}function tr(){Uu.point=Kn}function er(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);ku+=a*(r+t)/2;Cu+=a*(i+e)/2;Su+=a;a=i*t-r*e;Au+=a*(r+t);Nu+=a*(i+e);Eu+=3*a;Kn(r=t,i=e)}var e,n,r,i;Uu.point=function(o,a){Uu.point=t;Kn(e=r=o,n=i=a)};Uu.lineEnd=function(){t(e,n)}}function nr(t){function e(e,n){t.moveTo(e,n);t.arc(e,n,a,0,Ts)}function n(e,n){t.moveTo(e,n);s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i;s.point=e},pointRadius:function(t){a=t;return s},result:w};return s}function rr(t){function e(t){return(s?r:n)(t)}function n(e){return ar(e,function(n,r){n=t(n,r);e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r);e.point(n[0],n[1])}function r(){x=0/0;k.point=o;e.lineStart()}function o(n,r){var o=vn([n,r]),a=t(n,r);i(x,w,y,b,_,M,x=a[0],w=a[1],y=n,b=o[0],_=o[1],M=o[2],s,e);e.point(x,w)}function a(){k.point=n;e.lineEnd()}function u(){r();k.point=l;k.lineEnd=c}function l(t,e){o(f=t,h=e),p=x,d=w,g=b,m=_,v=M;k.point=o}function c(){i(x,w,y,b,_,M,p,d,f,g,m,v,s,e);k.lineEnd=a;a()}var f,h,p,d,g,m,v,y,x,w,b,_,M,k={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart();k.lineStart=u},polygonEnd:function(){e.polygonEnd();k.lineStart=r}};return k}function i(e,n,r,s,u,l,c,f,h,p,d,g,m,v){var y=c-e,x=f-n,w=y*y+x*x;if(w>4*o&&m--){var b=s+p,_=u+d,M=l+g,k=Math.sqrt(b*b+_*_+M*M),C=Math.asin(M/=k),S=fs(fs(M)-1)<Ps||fs(r-h)<Ps?(r+h)/2:Math.atan2(_,b),A=t(S,C),N=A[0],E=A[1],T=N-e,j=E-n,P=x*T-y*j;if(P*P/w>o||fs((y*T+x*j)/w-.5)>.3||a>s*p+u*d+l*g){i(e,n,r,s,u,l,N,E,S,b/=k,_/=k,M,m,v);v.point(N,E);i(N,E,S,b,_,M,c,f,h,p,d,g,m,v)}}}var o=.5,a=Math.cos(30*Ds),s=16;e.precision=function(t){if(!arguments.length)return Math.sqrt(o);s=(o=t*t)>0&&16;return e};return e}function ir(t){var e=rr(function(e,n){return t([e*Is,n*Is])});return function(t){return lr(e(t))}}function or(t){this.stream=t}function ar(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function sr(t){return ur(function(){return t})()}function ur(t){function e(t){t=s(t[0]*Ds,t[1]*Ds);return[t[0]*h+u,l-t[1]*h]}function n(t){t=s.invert((t[0]-u)/h,(l-t[1])/h);return t&&[t[0]*Is,t[1]*Is]}function r(){s=Yn(a=hr(v,y,x),o);var t=o(g,m);u=p-t[0]*h;l=d+t[1]*h;return i()}function i(){c&&(c.valid=!1,c=null);return e}var o,a,s,u,l,c,f=rr(function(t,e){t=o(t,e);return[t[0]*h+u,l-t[1]*h]}),h=150,p=480,d=250,g=0,m=0,v=0,y=0,x=0,w=ju,b=Ne,_=null,M=null;e.stream=function(t){c&&(c.valid=!1);c=lr(w(a,f(b(t))));c.valid=!0;return c};e.clipAngle=function(t){if(!arguments.length)return _;w=null==t?(_=t,ju):Hn((_=+t)*Ds);return i()};e.clipExtent=function(t){if(!arguments.length)return M;M=t;b=t?Wn(t[0][0],t[0][1],t[1][0],t[1][1]):Ne;return i()};e.scale=function(t){if(!arguments.length)return h;h=+t;return r()};e.translate=function(t){if(!arguments.length)return[p,d];p=+t[0];d=+t[1];return r()};e.center=function(t){if(!arguments.length)return[g*Is,m*Is];g=t[0]%360*Ds;m=t[1]%360*Ds;return r()};e.rotate=function(t){if(!arguments.length)return[v*Is,y*Is,x*Is];v=t[0]%360*Ds;y=t[1]%360*Ds;x=t.length>2?t[2]%360*Ds:0;return r()};Za.rebind(e,f,"precision");return function(){o=t.apply(this,arguments);e.invert=o.invert&&n;return r()}}function lr(t){return ar(t,function(e,n){t.point(e*Ds,n*Ds)})}function cr(t,e){return[t,e]}function fr(t,e){return[t>Es?t-Ts:-Es>t?t+Ts:t,e]}function hr(t,e,n){return t?e||n?Yn(dr(t),gr(e,n)):dr(t):e||n?gr(e,n):fr}function pr(t){return function(e,n){return e+=t,[e>Es?e-Ts:-Es>e?e+Ts:e,n]}}function dr(t){var e=pr(t);e.invert=pr(-t);return e}function gr(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*r+s*i;return[Math.atan2(u*o-c*a,s*r-l*i),ne(c*o+u*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*r+c*i),ne(c*r-s*i)]};return n}function mr(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var u=a*e;if(null!=i){i=vr(n,i);o=vr(n,o);(a>0?o>i:i>o)&&(i+=a*Ts)}else{i=t+a*Ts;o=t-.5*u}for(var l,c=i;a>0?c>o:o>c;c-=u)s.point((l=Mn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function vr(t,e){var n=vn(e);n[0]-=t;_n(n);var r=ee(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ps)%(2*Math.PI)}function yr(t,e,n){var r=Za.range(t,e-Ps,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function xr(t,e,n){var r=Za.range(t,e-Ps,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function wr(t){return t.source}function br(t){return t.target}function _r(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),l=i*Math.sin(t),c=a*Math.cos(n),f=a*Math.sin(n),h=2*Math.asin(Math.sqrt(ae(r-e)+i*a*ae(n-t))),p=1/Math.sin(h),d=h?function(t){var e=Math.sin(t*=h)*p,n=Math.sin(h-t)*p,r=n*u+e*c,i=n*l+e*f,a=n*o+e*s;return[Math.atan2(i,r)*Is,Math.atan2(a,Math.sqrt(r*r+i*i))*Is]}:function(){return[t*Is,e*Is]};d.distance=h;return d}function Mr(){function t(t,i){var o=Math.sin(i*=Ds),a=Math.cos(i),s=fs((t*=Ds)-e),u=Math.cos(s);Hu+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u);e=t,n=o,r=a}var e,n,r;Vu.point=function(i,o){e=i*Ds,n=Math.sin(o*=Ds),r=Math.cos(o);Vu.point=t};Vu.lineEnd=function(){Vu.point=Vu.lineEnd=w}}function kr(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]};return n}function Cr(t,e){function n(t,e){a>0?-js+Ps>e&&(e=-js+Ps):e>js-Ps&&(e=js-Ps);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Es/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;if(!o)return Ar;n.invert=function(t,e){var n=a-e,r=J(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-js]};return n}function Sr(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;if(fs(i)<Ps)return cr;n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-J(i)*Math.sqrt(t*t+n*n)]};return n}function Ar(t,e){return[t,Math.log(Math.tan(Es/4+e/2))]}function Nr(t){var e,n=sr(t),r=n.scale,i=n.translate,o=n.clipExtent;n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t};n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t};n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Es*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a};return n.clipExtent(null)}function Er(t,e){return[Math.log(Math.tan(Es/4+e/2)),-t]}function Tr(t){return t[0]}function jr(t){return t[1]}function Pr(t){for(var e=t.length,n=[0,1],r=2,i=2;e>i;i++){for(;r>1&&te(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Lr(t,e){return t[0]-e[0]||t[1]-e[1]}function Dr(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Ir(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],l=n[1],c=e[1]-u,f=r[1]-l,h=(s*(u-l)-f*(i-o))/(f*a-s*c);return[i+h*a,u+h*c]}function zr(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Or(){ii(this);this.edge=this.site=this.circle=null}function qr(t){var e=el.pop()||new Or;e.site=t;return e}function Rr(t){Qr(t);Ku.remove(t);el.push(t);ii(t)}function Fr(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Rr(t);for(var u=o;u.circle&&fs(n-u.circle.x)<Ps&&fs(r-u.circle.cy)<Ps;){o=u.P;s.unshift(u);Rr(u);u=o}s.unshift(u);Qr(u);for(var l=a;l.circle&&fs(n-l.circle.x)<Ps&&fs(r-l.circle.cy)<Ps;){a=l.N;s.push(l);Rr(l);l=a}s.push(l);Qr(l);var c,f=s.length;for(c=1;f>c;++c){l=s[c];u=s[c-1];ei(l.edge,u.site,l.site,i)}u=s[0];l=s[f-1];l.edge=Jr(u.site,l.site,null,i);Xr(u);Xr(l)}function Ur(t){for(var e,n,r,i,o=t.x,a=t.y,s=Ku._;s;){r=Hr(s,a)-o;if(r>Ps)s=s.L;else{i=o-Vr(s,a);if(!(i>Ps)){if(r>-Ps){e=s.P;n=s}else if(i>-Ps){e=s;n=s.N}else e=n=s;break}if(!s.R){e=s;break}s=s.R}}var u=qr(t);Ku.insert(e,u);if(e||n)if(e!==n)if(n){Qr(e);Qr(n);var l=e.site,c=l.x,f=l.y,h=t.x-c,p=t.y-f,d=n.site,g=d.x-c,m=d.y-f,v=2*(h*m-p*g),y=h*h+p*p,x=g*g+m*m,w={x:(m*y-p*x)/v+c,y:(h*x-g*y)/v+f};ei(n.edge,l,d,w);u.edge=Jr(l,t,null,w);n.edge=Jr(t,d,null,w);Xr(e);Xr(n)}else u.edge=Jr(e.site,u.site);else{Qr(e);n=qr(e.site);Ku.insert(u,n);u.edge=n.edge=Jr(e.site,u.site);Xr(e);Xr(n)}}function Hr(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;n=a.site;var s=n.x,u=n.y,l=u-e;if(!l)return s;var c=s-r,f=1/o-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+i-o/2)))/f+r:(r+s)/2}function Vr(t,e){var n=t.N;if(n)return Hr(n,e);var r=t.site;return r.y===e?r.x:1/0}function Wr(t){this.site=t;this.edges=[]}function Yr(t){for(var e,n,r,i,o,a,s,u,l,c,f=t[0][0],h=t[1][0],p=t[0][1],d=t[1][1],g=Zu,m=g.length;m--;){o=g[m];if(o&&o.prepare()){s=o.edges;u=s.length;a=0;for(;u>a;){c=s[a].end(),r=c.x,i=c.y;l=s[++a%u].start(),e=l.x,n=l.y;if(fs(r-e)>Ps||fs(i-n)>Ps){s.splice(a,0,new ni(ti(o.site,c,fs(r-f)<Ps&&d-i>Ps?{x:f,y:fs(e-f)<Ps?n:d}:fs(i-d)<Ps&&h-r>Ps?{x:fs(n-d)<Ps?e:h,y:d}:fs(r-h)<Ps&&i-p>Ps?{x:h,y:fs(e-h)<Ps?n:p}:fs(i-p)<Ps&&r-f>Ps?{x:fs(n-p)<Ps?e:f,y:p}:null),o.site,null));++u}}}}}function Br(t,e){return e.angle-t.angle}function Gr(){ii(this);this.x=this.y=this.arc=this.site=this.cy=null}function Xr(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,f=o.y-s,h=2*(u*f-l*c);if(!(h>=-Ls)){var p=u*u+l*l,d=c*c+f*f,g=(f*p-l*d)/h,m=(u*d-c*p)/h,f=m+s,v=nl.pop()||new Gr;v.arc=t;v.site=i;v.x=g+a;v.y=f+Math.sqrt(g*g+m*m);v.cy=f;t.circle=v;for(var y=null,x=tl._;x;)if(v.y<x.y||v.y===x.y&&v.x<=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}tl.insert(y,v);y||(Ju=v)}}}}function Qr(t){var e=t.circle;if(e){e.P||(Ju=e.N);tl.remove(e);nl.push(e);ii(e);t.circle=null}}function $r(t){for(var e,n=$u,r=Vn(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;){e=n[i];if(!Zr(e,t)||!r(e)||fs(e.a.x-e.b.x)<Ps&&fs(e.a.y-e.b.y)<Ps){e.a=e.b=null;n.splice(i,1)}}}function Zr(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,f=t.r,h=c.x,p=c.y,d=f.x,g=f.y,m=(h+d)/2,v=(p+g)/2;if(g===p){if(a>m||m>=s)return;if(h>d){if(o){if(o.y>=l)return}else o={x:m,y:u};n={x:m,y:l}}else{if(o){if(o.y<u)return}else o={x:m,y:l};n={x:m,y:u}}}else{r=(h-d)/(g-p);i=v-r*m;if(-1>r||r>1)if(h>d){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(g>p){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}}t.a=o;t.b=n;return!0}function Kr(t,e){this.l=t;this.r=e;this.a=this.b=null}function Jr(t,e,n,r){var i=new Kr(t,e);$u.push(i);n&&ei(i,t,e,n);r&&ei(i,e,t,r);Zu[t.i].edges.push(new ni(i,t,e));Zu[e.i].edges.push(new ni(i,e,t));return i}function ti(t,e,n){var r=new Kr(t,null);r.a=e;r.b=n;$u.push(r);return r}function ei(t,e,n,r){if(t.a||t.b)t.l===n?t.b=r:t.a=r;else{t.a=r;t.l=e;t.r=n}}function ni(t,e,n){var r=t.a,i=t.b;this.edge=t;this.site=e;this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function ri(){this._=null}function ii(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function oi(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r;r.U=i;n.U=r;n.R=r.L;n.R&&(n.R.U=n);r.L=n}function ai(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r;r.U=i;n.U=r;n.L=r.R;n.L&&(n.L.U=n);r.R=n}function si(t){for(;t.L;)t=t.L;return t}function ui(t,e){var n,r,i,o=t.sort(li).pop();$u=[];Zu=new Array(t.length);Ku=new ri;tl=new ri;for(;;){i=Ju;if(o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x)){if(o.x!==n||o.y!==r){Zu[o.i]=new Wr(o);Ur(o);n=o.x,r=o.y}o=t.pop()}else{if(!i)break;Fr(i.arc)}}e&&($r(e),Yr(e));var a={cells:Zu,edges:$u};Ku=tl=$u=Zu=null;return a}function li(t,e){return e.y-t.y||e.x-t.x}function ci(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function fi(t){return t.x}function hi(t){return t.y}function pi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function di(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=e.nodes;u[0]&&di(t,u[0],n,r,a,s);u[1]&&di(t,u[1],a,r,i,s);u[2]&&di(t,u[2],n,s,a,o);u[3]&&di(t,u[3],a,s,i,o)}}function gi(t,e){t=Za.rgb(t);e=Za.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+be(Math.round(n+o*t))+be(Math.round(r+a*t))+be(Math.round(i+s*t))}}function mi(t,e){var n,r={},i={};for(n in t)n in e?r[n]=xi(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function vi(t,e){t=+t,e=+e;return function(n){return t*(1-n)+e*n}}function yi(t,e){var n,r,i,o=il.lastIndex=ol.lastIndex=0,a=-1,s=[],u=[];t+="",e+="";for(;(n=il.exec(t))&&(r=ol.exec(e));){if((i=r.index)>o){i=e.slice(o,i);s[a]?s[a]+=i:s[++a]=i}if((n=n[0])===(r=r[0]))s[a]?s[a]+=r:s[++a]=r;else{s[++a]=null;u.push({i:a,x:vi(n,r)})}o=ol.lastIndex}if(o<e.length){i=e.slice(o);s[a]?s[a]+=i:s[++a]=i}return s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,r=0;e>r;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function xi(t,e){for(var n,r=Za.interpolators.length;--r>=0&&!(n=Za.interpolators[r](t,e)););return n}function wi(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)r.push(xi(t[n],e[n]));for(;o>n;++n)i[n]=t[n];for(;a>n;++n)i[n]=e[n];return function(t){for(n=0;s>n;++n)i[n]=r[n](t);return i}}function bi(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function _i(t){return function(e){return 1-t(1-e)}}function Mi(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function ki(t){return t*t}function Ci(t){return t*t*t}function Si(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Ai(t){return function(e){return Math.pow(e,t)}}function Ni(t){return 1-Math.cos(t*js)}function Ei(t){return Math.pow(2,10*(t-1))}function Ti(t){return 1-Math.sqrt(1-t*t)}function ji(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/Ts*Math.asin(1/t):(t=1,n=e/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Ts/e)}}function Pi(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}}function Li(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Di(t,e){t=Za.hcl(t);e=Za.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;isNaN(a)&&(a=0,r=isNaN(r)?e.c:r);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360);return function(t){return fe(n+o*t,r+a*t,i+s*t)+""}}function Ii(t,e){t=Za.hsl(t);e=Za.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;isNaN(a)&&(a=0,r=isNaN(r)?e.s:r);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360);return function(t){return le(n+o*t,r+a*t,i+s*t)+""}}function zi(t,e){t=Za.lab(t);e=Za.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return pe(n+o*t,r+a*t,i+s*t)+""}}function Oi(t,e){e-=t;return function(n){return Math.round(t+e*n)}}function qi(t){var e=[t.a,t.b],n=[t.c,t.d],r=Fi(e),i=Ri(e,n),o=Fi(Ui(n,e,-i))||0;if(e[0]*n[1]<n[0]*e[1]){e[0]*=-1;e[1]*=-1;r*=-1;i*=-1}this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Is;this.translate=[t.e,t.f];this.scale=[r,o];this.skew=o?Math.atan2(i,o)*Is:0}function Ri(t,e){return t[0]*e[0]+t[1]*e[1]}function Fi(t){var e=Math.sqrt(Ri(t,t));if(e){t[0]/=e;t[1]/=e}return e}function Ui(t,e,n){t[0]+=n*e[0];t[1]+=n*e[1];return t}function Hi(t,e){var n,r=[],i=[],o=Za.transform(t),a=Za.transform(e),s=o.translate,u=a.translate,l=o.rotate,c=a.rotate,f=o.skew,h=a.skew,p=o.scale,d=a.scale;if(s[0]!=u[0]||s[1]!=u[1]){r.push("translate(",null,",",null,")");i.push({i:1,x:vi(s[0],u[0])},{i:3,x:vi(s[1],u[1])})}else r.push(u[0]||u[1]?"translate("+u+")":"");if(l!=c){l-c>180?c+=360:c-l>180&&(l+=360);i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:vi(l,c)})}else c&&r.push(r.pop()+"rotate("+c+")");f!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:vi(f,h)}):h&&r.push(r.pop()+"skewX("+h+")");if(p[0]!=d[0]||p[1]!=d[1]){n=r.push(r.pop()+"scale(",null,",",null,")");i.push({i:n-4,x:vi(p[0],d[0])},{i:n-2,x:vi(p[1],d[1])})}else(1!=d[0]||1!=d[1])&&r.push(r.pop()+"scale("+d+")");n=i.length;return function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function Vi(t,e){e=(e-=t=+t)||1/e;return function(n){return(n-t)/e}}function Wi(t,e){e=(e-=t=+t)||1/e;return function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Yi(t){for(var e=t.source,n=t.target,r=Gi(e,n),i=[e];e!==r;){e=e.parent;i.push(e)}for(var o=i.length;n!==r;){i.splice(o,0,n);n=n.parent}return i}function Bi(t){for(var e=[],n=t.parent;null!=n;){e.push(t);t=n;n=n.parent}e.push(t);return e}function Gi(t,e){if(t===e)return t;for(var n=Bi(t),r=Bi(e),i=n.pop(),o=r.pop(),a=null;i===o;){a=i;i=n.pop();o=r.pop()}return a}function Xi(t){t.fixed|=2}function Qi(t){t.fixed&=-7}function $i(t){t.fixed|=4;t.px=t.x,t.py=t.y}function Zi(t){t.fixed&=-5}function Ki(t,e,n){var r=0,i=0;t.charge=0;if(!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;){o=a[u];if(null!=o){Ki(o,e,n);t.charge+=o.charge;r+=o.charge*o.cx;i+=o.charge*o.cy}}if(t.point){if(!t.leaf){t.point.x+=Math.random()-.5;t.point.y+=Math.random()-.5}var l=e*n[t.point.index];t.charge+=t.pointCharge=l;r+=l*t.point.x;i+=l*t.point.y}t.cx=r/t.charge;t.cy=i/t.charge}function Ji(t,e){Za.rebind(t,e,"sort","children","value");t.nodes=t;t.links=oo;return t}function to(t,e){for(var n=[t];null!=(t=n.pop());){e(t);if((i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}}function eo(t,e){for(var n=[t],r=[];null!=(t=n.pop());){r.push(t);if((o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a])}for(;null!=(t=r.pop());)e(t)}function no(t){return t.children}function ro(t){return t.value}function io(t,e){return e.value-t.value}function oo(t){return Za.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ao(t){return t.x}function so(t){return t.y}function uo(t,e,n){t.y0=e;t.y=n}function lo(t){return Za.range(t.length)}function co(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function fo(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;o>n;++n)if((e=t[n][1])>i){r=n;i=e}return r}function ho(t){return t.reduce(po,0)}function po(t,e){return t+e[1]}function go(t,e){return mo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function mo(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function vo(t){return[Za.min(t),Za.max(t)]}function yo(t,e){return t.value-e.value}function xo(t,e){var n=t._pack_next;t._pack_next=e;e._pack_prev=t;e._pack_next=n;n._pack_prev=e}function wo(t,e){t._pack_next=e;e._pack_prev=t}function bo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function _o(t){function e(t){c=Math.min(t.x-t.r,c);f=Math.max(t.x+t.r,f);h=Math.min(t.y-t.r,h);p=Math.max(t.y+t.r,p)}if((n=t.children)&&(l=n.length)){var n,r,i,o,a,s,u,l,c=1/0,f=-1/0,h=1/0,p=-1/0;n.forEach(Mo);r=n[0];r.x=-r.r;r.y=0;e(r);if(l>1){i=n[1];i.x=i.r;i.y=0;e(i);if(l>2){o=n[2];So(r,i,o);e(o);xo(r,o);r._pack_prev=o;xo(o,i);i=r._pack_next;for(a=3;l>a;a++){So(r,i,o=n[a]);var d=0,g=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(bo(s,o)){d=1;break}if(1==d)for(u=r._pack_prev;u!==s._pack_prev&&!bo(u,o);u=u._pack_prev,m++);if(d){m>g||g==m&&i.r<r.r?wo(r,i=s):wo(r=u,i);a--}else{xo(r,o);i=o;e(o)}}}}var v=(c+f)/2,y=(h+p)/2,x=0;for(a=0;l>a;a++){o=n[a];o.x-=v;o.y-=y;x=Math.max(x,o.r+Math.sqrt(o.x*o.x+o.y*o.y))}t.r=x;n.forEach(ko)}}function Mo(t){t._pack_next=t._pack_prev=t}function ko(t){delete t._pack_next;delete t._pack_prev}function Co(t,e,n,r){var i=t.children;t.x=e+=r*t.x;t.y=n+=r*t.y;t.r*=r;if(i)for(var o=-1,a=i.length;++o<a;)Co(i[o],e,n,r)}function So(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o;a*=a;r*=r;var u=.5+(r-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+l*o;n.y=t.y+u*o-l*i}else{n.x=t.x+r;n.y=t.y}}function Ao(t,e){return t.parent==e.parent?1:2}function No(t){var e=t.children;return e.length?e[0]:t.t}function Eo(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function To(t,e,n){var r=n/(e.i-t.i);e.c-=r;e.s+=n;t.c+=r;e.z+=n;e.m+=n}function jo(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;){e=i[o];e.z+=n;e.m+=n;n+=e.s+(r+=e.c)}}function Po(t,e,n){return t.a.parent===e.parent?t.a:n}function Lo(t){return 1+Za.max(t,function(t){return t.y})}function Do(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Io(t){var e=t.children;return e&&e.length?Io(e[0]):t}function zo(t){var e,n=t.children;return n&&(e=n.length)?zo(n[e-1]):t}function Oo(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function qo(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];if(0>i){n+=i/2;i=0}if(0>o){r+=o/2;o=0}return{x:n,y:r,dx:i,dy:o}}function Ro(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Fo(t){return t.rangeExtent?t.rangeExtent():Ro(t.range())}function Uo(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Ho(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];if(o>a){n=r,r=i,i=n;n=o,o=a,a=n}t[r]=e.floor(o);t[i]=e.ceil(a);return t}function Vo(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:ml}function Wo(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;if(t[s]<t[0]){t=t.slice().reverse();e=e.slice().reverse()}for(;++a<=s;){i.push(n(t[a-1],t[a]));o.push(r(e[a-1],e[a]))}return function(e){var n=Za.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function Yo(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?Wo:Uo,u=r?Wi:Vi;a=i(t,e,u,n);s=i(e,t,u,xi);return o}function o(t){return a(t)}var a,s;o.invert=function(t){return s(t)};o.domain=function(e){if(!arguments.length)return t;t=e.map(Number);return i()};o.range=function(t){if(!arguments.length)return e;e=t;return i()};o.rangeRound=function(t){return o.range(t).interpolate(Oi)};o.clamp=function(t){if(!arguments.length)return r;r=t;return i()};o.interpolate=function(t){if(!arguments.length)return n;n=t;return i()};o.ticks=function(e){return Qo(t,e)};o.tickFormat=function(e,n){return $o(t,e,n)};o.nice=function(e){Go(t,e);return i()};o.copy=function(){return Yo(t,e,n,r)};return i()}function Bo(t,e){return Za.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Go(t,e){return Ho(t,Vo(Xo(t,e)[2]))}function Xo(t,e){null==e&&(e=10);var n=Ro(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2);n[0]=Math.ceil(n[0]/i)*i;n[1]=Math.floor(n[1]/i)*i+.5*i;n[2]=i;return n}function Qo(t,e){return Za.range.apply(Za,Xo(t,e))}function $o(t,e,n){var r=Xo(t,e);if(n){var i=iu.exec(n);i.shift();if("s"===i[8]){var o=Za.formatPrefix(Math.max(fs(r[0]),fs(r[1])));i[7]||(i[7]="."+Zo(o.scale(r[2])));i[8]="f";n=Za.format(i.join(""));return function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+Ko(i[8],r));n=i.join("")}else n=",."+Zo(r[2])+"f";return Za.format(n)}function Zo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Ko(t,e){var n=Zo(e[2]);return t in vl?Math.abs(n-Zo(Math.max(fs(e[0]),fs(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Jo(t,e,n,r){function i(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}a.invert=function(e){return o(t.invert(e))};a.domain=function(e){if(!arguments.length)return r;n=e[0]>=0;t.domain((r=e.map(Number)).map(i));return a};a.base=function(n){if(!arguments.length)return e;e=+n;t.domain(r.map(i));return a};a.nice=function(){var e=Ho(r.map(i),n?Math:xl);t.domain(e);r=e.map(o);return a};a.ticks=function(){var t=Ro(r),a=[],s=t[0],u=t[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),f=e%1?2:e;if(isFinite(c-l)){if(n){for(;c>l;l++)for(var h=1;f>h;h++)a.push(o(l)*h);a.push(o(l))}else{a.push(o(l));for(;l++<c;)for(var h=f-1;h>0;h--)a.push(o(l)*h)}for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a};a.tickFormat=function(t,e){if(!arguments.length)return yl;arguments.length<2?e=yl:"function"!=typeof e&&(e=Za.format(e));var r,s=Math.max(.1,t/a.ticks().length),u=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(u(i(t)+r))<=s?e(t):""}};a.copy=function(){return Jo(t.copy(),e,n,r)};return Bo(a,t)}function ta(t,e,n){function r(e){return t(i(e))}var i=ea(e),o=ea(1/e);r.invert=function(e){return o(t.invert(e))};r.domain=function(e){if(!arguments.length)return n;t.domain((n=e.map(Number)).map(i));return r};r.ticks=function(t){return Qo(n,t)};r.tickFormat=function(t,e){return $o(n,t,e)};r.nice=function(t){return r.domain(Go(n,t))};r.exponent=function(a){if(!arguments.length)return e;i=ea(e=a);o=ea(1/e);t.domain(n.map(i));return r};r.copy=function(){return ta(t.copy(),e,n)};return Bo(r,t)}function ea(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function na(t,e){function n(n){return o[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):0/0))-1)%o.length]}function r(e,n){return Za.range(t.length).map(function(t){return e+n*t})}var i,o,a;n.domain=function(r){if(!arguments.length)return t;t=[];i=new l;for(var o,a=-1,s=r.length;++a<s;)i.has(o=r[a])||i.set(o,t.push(o));return n[e.t].apply(n,e.a)};n.range=function(t){if(!arguments.length)return o;o=t;a=0;e={t:"range",a:arguments};return n};n.rangePoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=(l-u)/(Math.max(1,t.length-1)+s);o=r(t.length<2?(u+l)/2:u+c*s/2,c);a=0;e={t:"rangePoints",a:arguments};return n};n.rangeBands=function(i,s,u){arguments.length<2&&(s=0);arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],f=i[1-l],h=(f-c)/(t.length-s+2*u);o=r(c+h*u,h);l&&o.reverse();a=h*(1-s);e={t:"rangeBands",a:arguments};return n};n.rangeRoundBands=function(i,s,u){arguments.length<2&&(s=0);arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],f=i[1-l],h=Math.floor((f-c)/(t.length-s+2*u)),p=f-c-(t.length-s)*h;o=r(c+Math.round(p/2),h);l&&o.reverse();a=Math.round(h*(1-s));e={t:"rangeRoundBands",a:arguments};return n};n.rangeBand=function(){return a};n.rangeExtent=function(){return Ro(e.a[0])};n.copy=function(){return na(t,e)};return n.domain(t)}function ra(t,n){function o(){var e=0,r=n.length;s=[];for(;++e<r;)s[e-1]=Za.quantile(t,e/r);return a}function a(t){return isNaN(t=+t)?void 0:n[Za.bisect(s,t)]}var s;a.domain=function(n){if(!arguments.length)return t;t=n.map(r).filter(i).sort(e);return o()};a.range=function(t){if(!arguments.length)return n;n=t;return o()};a.quantiles=function(){return s};a.invertExtent=function(e){e=n.indexOf(e);return 0>e?[0/0,0/0]:[e>0?s[e-1]:t[0],e<s.length?s[e]:t[t.length-1]]};a.copy=function(){return ra(t,n)};return o()}function ia(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]
}function i(){o=n.length/(e-t);a=n.length-1;return r}var o,a;r.domain=function(n){if(!arguments.length)return[t,e];t=+n[0];e=+n[n.length-1];return i()};r.range=function(t){if(!arguments.length)return n;n=t;return i()};r.invertExtent=function(e){e=n.indexOf(e);e=0>e?0/0:e/o+t;return[e,e+1/o]};r.copy=function(){return ia(t,e,n)};return i()}function oa(t,e){function n(n){return n>=n?e[Za.bisect(t,n)]:void 0}n.domain=function(e){if(!arguments.length)return t;t=e;return n};n.range=function(t){if(!arguments.length)return e;e=t;return n};n.invertExtent=function(n){n=e.indexOf(n);return[t[n-1],t[n]]};n.copy=function(){return oa(t,e)};return n}function aa(t){function e(t){return+t}e.invert=e;e.domain=e.range=function(n){if(!arguments.length)return t;t=n.map(e);return e};e.ticks=function(e){return Qo(t,e)};e.tickFormat=function(e,n){return $o(t,e,n)};e.copy=function(){return aa(t)};return e}function sa(t){return t.innerRadius}function ua(t){return t.outerRadius}function la(t){return t.startAngle}function ca(t){return t.endAngle}function fa(t){function e(e){function a(){l.push("M",o(t(c),s))}for(var u,l=[],c=[],f=-1,h=e.length,p=Ae(n),d=Ae(r);++f<h;)if(i.call(this,u=e[f],f))c.push([+p.call(this,u,f),+d.call(this,u,f)]);else if(c.length){a();c=[]}c.length&&a();return l.length?l.join(""):null}var n=Tr,r=jr,i=Tn,o=ha,a=o.key,s=.7;e.x=function(t){if(!arguments.length)return n;n=t;return e};e.y=function(t){if(!arguments.length)return r;r=t;return e};e.defined=function(t){if(!arguments.length)return i;i=t;return e};e.interpolate=function(t){if(!arguments.length)return a;a="function"==typeof t?o=t:(o=Sl.get(t)||ha).key;return e};e.tension=function(t){if(!arguments.length)return s;s=t;return e};return e}function ha(t){return t.join("L")}function pa(t){return ha(t)+"Z"}function da(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);n>1&&i.push("H",r[0]);return i.join("")}function ga(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function ma(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function va(t,e){return t.length<4?ha(t):t[1]+wa(t.slice(1,t.length-1),ba(t,e))}function ya(t,e){return t.length<3?ha(t):t[0]+wa((t.push(t[0]),t),ba([t[t.length-2]].concat(t,[t[1]]),e))}function xa(t,e){return t.length<3?ha(t):t[0]+wa(t,ba(t,e))}function wa(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ha(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n){r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1];i=t[1];u=2}if(e.length>1){s=e[1];o=t[u];u++;r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++){o=t[u];s=e[l];r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}}if(n){var c=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function ba(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;){n=o;o=a;a=t[s];r.push([i*(a[0]-n[0]),i*(a[1]-n[1])])}return r}function _a(t){if(t.length<3)return ha(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",Sa(El,a),",",Sa(El,s)];t.push(t[n-1]);for(;++e<=n;){r=t[e];a.shift();a.push(r[0]);s.shift();s.push(r[1]);Aa(u,a,s)}t.pop();u.push("L",r);return u.join("")}function Ma(t){if(t.length<4)return ha(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;){e=t[r];o.push(e[0]);a.push(e[1])}n.push(Sa(El,o)+","+Sa(El,a));--r;for(;++r<i;){e=t[r];o.shift();o.push(e[0]);a.shift();a.push(e[1]);Aa(n,o,a)}return n.join("")}function ka(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;){n=t[r%i];a.push(n[0]);s.push(n[1])}e=[Sa(El,a),",",Sa(El,s)];--r;for(;++r<o;){n=t[r%i];a.shift();a.push(n[0]);s.shift();s.push(n[1]);Aa(e,a,s)}return e.join("")}function Ca(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;){r=t[l];i=l/n;r[0]=e*r[0]+(1-e)*(o+i*s);r[1]=e*r[1]+(1-e)*(a+i*u)}return _a(t)}function Sa(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Aa(t,e,n){t.push("C",Sa(Al,e),",",Sa(Al,n),",",Sa(Nl,e),",",Sa(Nl,n),",",Sa(El,e),",",Sa(El,n))}function Na(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ea(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Na(i,o);++e<n;)r[e]=(a+(a=Na(i=o,o=t[e+1])))/2;r[e]=a;return r}function Ta(t){for(var e,n,r,i,o=[],a=Ea(t),s=-1,u=t.length-1;++s<u;){e=Na(t[s],t[s+1]);if(fs(e)<Ps)a[s]=a[s+1]=0;else{n=a[s]/e;r=a[s+1]/e;i=n*n+r*r;if(i>9){i=3*e/Math.sqrt(i);a[s]=i*n;a[s+1]=i*r}}}s=-1;for(;++s<=u;){i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s]));o.push([i||0,a[s]*i||0])}return o}function ja(t){return t.length<3?ha(t):t[0]+wa(t,Ta(t))}function Pa(t){for(var e,n,r,i=-1,o=t.length;++i<o;){e=t[i];n=e[0];r=e[1]+kl;e[0]=n*Math.cos(r);e[1]=n*Math.sin(r)}return t}function La(t){function e(e){function u(){g.push("M",s(t(v),f),c,l(t(m.reverse()),f),"Z")}for(var h,p,d,g=[],m=[],v=[],y=-1,x=e.length,w=Ae(n),b=Ae(i),_=n===r?function(){return p}:Ae(r),M=i===o?function(){return d}:Ae(o);++y<x;)if(a.call(this,h=e[y],y)){m.push([p=+w.call(this,h,y),d=+b.call(this,h,y)]);v.push([+_.call(this,h,y),+M.call(this,h,y)])}else if(m.length){u();m=[];v=[]}m.length&&u();return g.length?g.join(""):null}var n=Tr,r=Tr,i=0,o=jr,a=Tn,s=ha,u=s.key,l=s,c="L",f=.7;e.x=function(t){if(!arguments.length)return r;n=r=t;return e};e.x0=function(t){if(!arguments.length)return n;n=t;return e};e.x1=function(t){if(!arguments.length)return r;r=t;return e};e.y=function(t){if(!arguments.length)return o;i=o=t;return e};e.y0=function(t){if(!arguments.length)return i;i=t;return e};e.y1=function(t){if(!arguments.length)return o;o=t;return e};e.defined=function(t){if(!arguments.length)return a;a=t;return e};e.interpolate=function(t){if(!arguments.length)return u;u="function"==typeof t?s=t:(s=Sl.get(t)||ha).key;l=s.reverse||s;c=s.closed?"M":"L";return e};e.tension=function(t){if(!arguments.length)return f;f=t;return e};return e}function Da(t){return t.radius}function Ia(t){return[t.x,t.y]}function za(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]+kl;return[n*Math.cos(r),n*Math.sin(r)]}}function Oa(){return 64}function qa(){return"circle"}function Ra(t){var e=Math.sqrt(t/Es);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Fa(t,e){ms(t,Il);t.id=e;return t}function Ua(t,e,n,r){var i=t.id;return U(t,"function"==typeof n?function(t,o,a){t.__transition__[i].tween.set(e,r(n.call(t,t.__data__,o,a)))}:(n=r(n),function(t){t.__transition__[i].tween.set(e,n)}))}function Ha(t){null==t&&(t="");return function(){this.textContent=t}}function Va(t,e,n,r){var i=t.__transition__||(t.__transition__={active:0,count:0}),o=i[n];if(!o){var a=r.time;o=i[n]={tween:new l,time:a,ease:r.ease,delay:r.delay,duration:r.duration};++i.count;Za.timer(function(r){function s(r){if(i.active>n)return l();i.active=n;o.event&&o.event.start.call(t,c,e);o.tween.forEach(function(n,r){(r=r.call(t,c,e))&&g.push(r)});Za.timer(function(){d.c=u(r||1)?Tn:u;return 1},0,a)}function u(r){if(i.active!==n)return l();for(var a=r/p,s=f(a),u=g.length;u>0;)g[--u].call(t,s);if(a>=1){o.event&&o.event.end.call(t,c,e);return l()}}function l(){--i.count?delete i[n]:delete t.__transition__;return 1}var c=t.__data__,f=o.ease,h=o.delay,p=o.duration,d=eu,g=[];d.t=h+a;if(r>=h)return s(r-h);d.c=s;return void 0},0,a)}}function Wa(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function Ya(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function Ba(t){return t.toISOString()}function Ga(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,o=Za.bisect(Wl,i);return o==Wl.length?[e.year,Xo(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/Wl[o-1]<Wl[o]/i?o-1:o]:[Gl,Xo(t,n)[2]]}r.invert=function(e){return Xa(t.invert(e))};r.domain=function(e){if(!arguments.length)return t.domain().map(Xa);t.domain(e);return r};r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Xa(+n+1),e).length}var o=r.domain(),a=Ro(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);s&&(t=s[0],e=s[1]);return r.domain(Ho(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Xa(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Xa(+e+1);return e}}:t))};r.ticks=function(t,e){var n=Ro(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];o&&(t=o[0],e=o[1]);return t.range(n[0],Xa(+n[1]+1),1>e?1:e)};r.tickFormat=function(){return n};r.copy=function(){return Ga(t.copy(),e,n)};return Bo(r,t)}function Xa(t){return new Date(t)}function Qa(t){return JSON.parse(t.responseText)}function $a(t){var e=ts.createRange();e.selectNode(ts.body);return e.createContextualFragment(t.responseText)}var Za={version:"3.4.13"};Date.now||(Date.now=function(){return+new Date});var Ka=[].slice,Ja=function(t){return Ka.call(t)},ts=document,es=ts.documentElement,ns=window;try{Ja(es.childNodes)[0].nodeType}catch(rs){Ja=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{ts.createElement("div").style.setProperty("opacity",0,"")}catch(is){var os=ns.Element.prototype,as=os.setAttribute,ss=os.setAttributeNS,us=ns.CSSStyleDeclaration.prototype,ls=us.setProperty;os.setAttribute=function(t,e){as.call(this,t,e+"")};os.setAttributeNS=function(t,e,n){ss.call(this,t,e,n+"")};us.setProperty=function(t,e,n){ls.call(this,t,e+"",n)}}Za.ascending=e;Za.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0};Za.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=t[i])&&n>=n);)n=void 0;for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o&&!(null!=(n=e.call(t,t[i],i))&&n>=n);)n=void 0;for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n};Za.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=t[i])&&n>=n);)n=void 0;for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o&&!(null!=(n=e.call(t,t[i],i))&&n>=n);)n=void 0;for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n};Za.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a&&!(null!=(n=i=t[o])&&n>=n);)n=i=void 0;for(;++o<a;)if(null!=(r=t[o])){n>r&&(n=r);r>i&&(i=r)}}else{for(;++o<a&&!(null!=(n=i=e.call(t,t[o],o))&&n>=n);)n=void 0;for(;++o<a;)if(null!=(r=e.call(t,t[o],o))){n>r&&(n=r);r>i&&(i=r)}}return[n,i]};Za.sum=function(t,e){var n,r=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)i(n=+t[a])&&(r+=n);else for(;++a<o;)i(n=+e.call(t,t[a],a))&&(r+=n);return r};Za.mean=function(t,e){var n,o=0,a=t.length,s=-1,u=a;if(1===arguments.length)for(;++s<a;)i(n=r(t[s]))?o+=n:--u;else for(;++s<a;)i(n=r(e.call(t,t[s],s)))?o+=n:--u;return u?o/u:void 0};Za.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i};Za.median=function(t,n){var o,a=[],s=t.length,u=-1;if(1===arguments.length)for(;++u<s;)i(o=r(t[u]))&&a.push(o);else for(;++u<s;)i(o=r(n.call(t,t[u],u)))&&a.push(o);return a.length?Za.quantile(a.sort(e),.5):void 0};var cs=o(e);Za.bisectLeft=cs.left;Za.bisect=Za.bisectRight=cs.right;Za.bisector=function(t){return o(1===t.length?function(n,r){return e(t(n),r)}:t)};Za.shuffle=function(t){for(var e,n,r=t.length;r;){n=Math.random()*r--|0;e=t[r],t[r]=t[n],t[n]=e}return t};Za.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r};Za.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],o=new Array(0>r?0:r);r>n;)o[n]=[e=i,i=t[++n]];return o};Za.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=Za.min(arguments,a),n=new Array(e);++t<e;)for(var r,i=-1,o=n[t]=new Array(r);++i<r;)o[i]=arguments[i][t];return n};Za.transpose=function(t){return Za.zip.apply(Za,t)};Za.keys=function(t){var e=[];for(var n in t)e.push(n);return e};Za.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e};Za.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e};Za.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;n=new Array(a);for(;--i>=0;){r=t[i];e=r.length;for(;--e>=0;)n[--a]=r[e]}return n};var fs=Math.abs;Za.range=function(t,e,n){if(arguments.length<3){n=1;if(arguments.length<2){e=t;t=0}}if((e-t)/n===1/0)throw new Error("infinite range");var r,i=[],o=s(fs(n)),a=-1;t*=o,e*=o,n*=o;if(0>n)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i};Za.map=function(t){var e=new l;if(t instanceof l)t.forEach(function(t,n){e.set(t,n)});else for(var n in t)e.set(n,t[n]);return e};var hs="__proto__",ps="\x00";u(l,{has:h,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:p,keys:d,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:f(e),value:this._[e]});return t},size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,f(e),this._[e])}});Za.nest=function(){function t(e,a,s){if(s>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var u,c,f,h,p=-1,d=a.length,g=o[s++],m=new l;++p<d;)(h=m.get(u=g(c=a[p])))?h.push(c):m.set(u,[c]);if(e){c=e();f=function(n,r){c.set(n,t(e,r,s))}}else{c={};f=function(n,r){c[n]=t(e,r,s)}}m.forEach(f);return c}function e(t,n){if(n>=o.length)return t;var r=[],i=a[n++];t.forEach(function(t,i){r.push({key:t,values:e(i,n)})});return i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},o=[],a=[];i.map=function(e,n){return t(n,e,0)};i.entries=function(n){return e(t(Za.map,n,0),0)};i.key=function(t){o.push(t);return i};i.sortKeys=function(t){a[o.length-1]=t;return i};i.sortValues=function(t){n=t;return i};i.rollup=function(t){r=t;return i};return i};Za.set=function(t){var e=new v;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e};u(v,{has:h,add:function(t){this._[c(t+="")]=!0;return t},remove:p,values:d,size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,f(e))}});Za.behavior={};Za.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=y(t,e,e[n]);return t};var ds=["webkit","ms","moz","Moz","o","O"];Za.dispatch=function(){for(var t=new b,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=_(t);return t};b.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0){r=t.slice(n+1);t=t.slice(0,n)}if(t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}};Za.event=null;Za.requote=function(t){return t.replace(gs,"\\$&")};var gs=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ms={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},vs=function(t,e){return e.querySelector(t)},ys=function(t,e){return e.querySelectorAll(t)},xs=es.matches||es[x(es,"matchesSelector")],ws=function(t,e){return xs.call(t,e)};if("function"==typeof Sizzle){vs=function(t,e){return Sizzle(t,e)[0]||null};ys=Sizzle;ws=Sizzle.matchesSelector}Za.selection=function(){return ks};var bs=Za.selection.prototype=[];bs.select=function(t){var e,n,r,i,o=[];t=A(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]);e.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)if(i=r[u]){e.push(n=t.call(i,i.__data__,u,a));n&&"__data__"in i&&(n.__data__=i.__data__)}else e.push(null)}return S(o)};bs.selectAll=function(t){var e,n,r=[];t=N(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)if(n=a[s]){r.push(e=Ja(t.call(n,n.__data__,s,i)));e.parentNode=n}return S(r)};var _s={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Za.ns={prefix:_s,qualify:function(t){var e=t.indexOf(":"),n=t;if(e>=0){n=t.slice(0,e);t=t.slice(e+1)}return _s.hasOwnProperty(n)?{space:_s[n],local:t}:t}};bs.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();t=Za.ns.qualify(t);return t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(E(e,t[e]));return this}return this.each(E(t,e))};bs.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=P(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else{e=n.getAttribute("class");for(;++i<r;)if(!j(t[i]).test(e))return!1}return!0}for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))};bs.style=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e="");for(n in t)this.each(I(n,t[n],e));return this}if(2>r)return ns.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(I(t,e,n))};bs.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(z(e,t[e]));return this}return this.each(z(t,e))};bs.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent};bs.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML};bs.append=function(t){t=O(t);return this.select(function(){return this.appendChild(t.apply(this,arguments))})};bs.insert=function(t,e){t=O(t);e=A(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})};bs.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})};bs.data=function(t,e){function n(t,n){var r,i,o,a=t.length,f=n.length,h=Math.min(a,f),p=new Array(f),d=new Array(f),g=new Array(a);if(e){var m,v=new l,y=new Array(a);for(r=-1;++r<a;){v.has(m=e.call(i=t[r],i.__data__,r))?g[r]=i:v.set(m,i);y[r]=m}for(r=-1;++r<f;){if(i=v.get(m=e.call(n,o=n[r],r))){if(i!==!0){p[r]=i;i.__data__=o}}else d[r]=q(o);v.set(m,!0)}for(r=-1;++r<a;)v.get(y[r])!==!0&&(g[r]=t[r])}else{for(r=-1;++r<h;){i=t[r];o=n[r];if(i){i.__data__=o;p[r]=i}else d[r]=q(o)}for(;f>r;++r)d[r]=q(n[r]);for(;a>r;++r)g[r]=t[r]}d.update=p;d.parentNode=p.parentNode=g.parentNode=t.parentNode;s.push(d);u.push(p);c.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){t=new Array(a=(r=this[0]).length);for(;++o<a;)(i=r[o])&&(t[o]=i.__data__);return t}var s=H([]),u=S([]),c=S([]);if("function"==typeof t)for(;++o<a;)n(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],t);u.enter=function(){return s};u.exit=function(){return c};return u};bs.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")};bs.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=R(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]);e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;u>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return S(i)};bs.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)if(n=r[i]){o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o);o=n}return this};bs.sort=function(t){t=F.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()};bs.each=function(t){return U(this,function(e,n,r){t.call(e,e.__data__,n,r)})};bs.call=function(t){var e=Ja(arguments);t.apply(e[0]=this,e);return this};bs.empty=function(){return!this.node()};bs.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null};bs.size=function(){var t=0;U(this,function(){++t});return t};var Ms=[];Za.selection.enter=H;Za.selection.enter.prototype=Ms;Ms.append=bs.append;Ms.empty=bs.empty;Ms.node=bs.node;Ms.call=bs.call;Ms.size=bs.size;Ms.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update;a.push(e=[]);e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)if(o=i[l]){e.push(r[l]=n=t.call(i.parentNode,o.__data__,l,s));n.__data__=o.__data__}else e.push(null)}return S(a)};Ms.insert=function(t,e){arguments.length<2&&(e=V(this));return bs.insert.call(this,t,e)};bs.transition=function(){for(var t,e,n=jl||++zl,r=[],i=Pl||{time:Date.now(),ease:Si,delay:0,duration:250},o=-1,a=this.length;++o<a;){r.push(t=[]);for(var s=this[o],u=-1,l=s.length;++u<l;){(e=s[u])&&Va(e,u,n,i);t.push(e)}}return Fa(r,n)};bs.interrupt=function(){return this.each(W)};Za.select=function(t){var e=["string"==typeof t?vs(t,ts):t];e.parentNode=es;return S([e])};Za.selectAll=function(t){var e=Ja("string"==typeof t?ys(t,ts):t);e.parentNode=es;return S([e])};var ks=Za.select(es);bs.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e=!1);for(n in t)this.each(Y(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(Y(t,e,n))};var Cs=Za.map({mouseenter:"mouseover",mouseleave:"mouseout"});Cs.forEach(function(t){"on"+t in ts&&Cs.remove(t)});var Ss="onselectstart"in ts?null:x(es.style,"userSelect"),As=0;Za.mouse=function(t){return Q(t,k())};var Ns=/WebKit/.test(ns.navigator.userAgent)?-1:0;Za.touch=function(t,e,n){arguments.length<3&&(n=e,e=k().changedTouches);if(e)for(var r,i=0,o=e.length;o>i;++i)if((r=e[i]).identifier===n)return Q(t,r)};Za.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(t,e,i,o,a){return function(){function s(){var t,n,r=e(h,g);if(r){t=r[0]-x[0];n=r[1]-x[1];d|=t|n;x=r;p({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:t,dy:n})}}function u(){if(e(h,g)){v.on(o+m,null).on(a+m,null);y(d&&Za.event.target===f);p({type:"dragend"})}}var l,c=this,f=Za.event.target,h=c.parentNode,p=n.of(c,arguments),d=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=Za.select(i()).on(o+m,s).on(a+m,u),y=X(),x=e(h,g);if(r){l=r.apply(c,arguments);l=[l.x-x[0],l.y-x[1]]}else l=[0,0];p({type:"dragstart"})}}var n=C(t,"drag","dragstart","dragend"),r=null,i=e(w,Za.mouse,K,"mousemove","mouseup"),o=e($,Za.touch,Z,"touchmove","touchend");t.origin=function(e){if(!arguments.length)return r;r=e;return t};return Za.rebind(t,n,"on")};Za.touches=function(t,e){arguments.length<2&&(e=k().touches);return e?Ja(e).map(function(e){var n=Q(t,e);n.identifier=e.identifier;return n}):[]};var Es=Math.PI,Ts=2*Es,js=Es/2,Ps=1e-6,Ls=Ps*Ps,Ds=Es/180,Is=180/Es,zs=Math.SQRT2,Os=2,qs=4;Za.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=ie(g),a=o/(Os*h)*(n*oe(zs*e+g)-re(g));return[r+a*l,i+a*c,o*n/ie(zs*e+g)]}return[r+t*l,i+t*c,o*Math.exp(zs*e)]}var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2],l=a-r,c=s-i,f=l*l+c*c,h=Math.sqrt(f),p=(u*u-o*o+qs*f)/(2*o*Os*h),d=(u*u-o*o-qs*f)/(2*u*Os*h),g=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(d*d+1)-d),v=m-g,y=(v||Math.log(u/o))/zs;n.duration=1e3*y;return n};Za.behavior.zoom=function(){function t(t){t.on(A,l).on(Us+".zoom",f).on("dblclick.zoom",h).on(T,c)}function e(t){return[(t[0]-_.x)/_.k,(t[1]-_.y)/_.k]}function n(t){return[t[0]*_.k+_.x,t[1]*_.k+_.y]}function r(t){_.k=Math.max(S[0],Math.min(S[1],t))}function i(t,e){e=n(e);_.x+=t[0]-e[0];_.y+=t[1]-e[1]}function o(){x&&x.domain(y.range().map(function(t){return(t-_.x)/_.k}).map(y.invert));b&&b.domain(w.range().map(function(t){return(t-_.y)/_.k}).map(w.invert))}function a(t){t({type:"zoomstart"})}function s(t){o();t({type:"zoom",scale:_.k,translate:[_.x,_.y]})}function u(t){t({type:"zoomend"})}function l(){function t(){c=1;i(Za.mouse(r),h);s(l)}function n(){f.on(N,null).on(E,null);p(c&&Za.event.target===o);u(l)}var r=this,o=Za.event.target,l=j.of(r,arguments),c=0,f=Za.select(ns).on(N,t).on(E,n),h=e(Za.mouse(r)),p=X();W.call(r);a(l)}function c(){function t(){var t=Za.touches(p);h=_.k;t.forEach(function(t){t.identifier in g&&(g[t.identifier]=e(t))});return t}function n(){var e=Za.event.target;Za.select(e).on(x,o).on(w,f);b.push(e);for(var n=Za.event.changedTouches,a=0,u=n.length;u>a;++a)g[n[a].identifier]=null;var l=t(),c=Date.now();if(1===l.length){if(500>c-v){var h=l[0],p=g[h.identifier];r(2*_.k);i(h,p);M();s(d)}v=c}else if(l.length>1){var h=l[0],y=l[1],k=h[0]-y[0],C=h[1]-y[1];m=k*k+C*C}}function o(){for(var t,e,n,o,a=Za.touches(p),u=0,l=a.length;l>u;++u,o=null){n=a[u];if(o=g[n.identifier]){if(e)break;t=n,e=o}}if(o){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,f=m&&Math.sqrt(c/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2];e=[(e[0]+o[0])/2,(e[1]+o[1])/2];r(f*h)}v=null;i(t,e);s(d)}function f(){if(Za.event.touches.length){for(var e=Za.event.changedTouches,n=0,r=e.length;r>n;++n)delete g[e[n].identifier];for(var i in g)return void t()}Za.selectAll(b).on(y,null);k.on(A,l).on(T,c);C();u(d)}var h,p=this,d=j.of(p,arguments),g={},m=0,y=".zoom-"+Za.event.changedTouches[0].identifier,x="touchmove"+y,w="touchend"+y,b=[],k=Za.select(p),C=X();W.call(p);n();a(d);k.on(A,null).on(T,n)}function f(){var t=j.of(this,arguments);m?clearTimeout(m):(p=e(d=g||Za.mouse(this)),W.call(this),a(t));m=setTimeout(function(){m=null;u(t)},50);M();r(Math.pow(2,.002*Rs())*_.k);i(d,p);s(t)}function h(){var t=j.of(this,arguments),n=Za.mouse(this),o=e(n),l=Math.log(_.k)/Math.LN2;a(t);r(Math.pow(2,Za.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1));i(n,o);s(t);u(t)}var p,d,g,m,v,y,x,w,b,_={x:0,y:0,k:1},k=[960,500],S=Fs,A="mousedown.zoom",N="mousemove.zoom",E="mouseup.zoom",T="touchstart.zoom",j=C(t,"zoomstart","zoom","zoomend");t.event=function(t){t.each(function(){var t=j.of(this,arguments),e=_;if(jl)Za.select(this).transition().each("start.zoom",function(){_=this.__chart__||{x:0,y:0,k:1};a(t)}).tween("zoom:zoom",function(){var n=k[0],r=k[1],i=n/2,o=r/2,a=Za.interpolateZoom([(i-_.x)/_.k,(o-_.y)/_.k,n/_.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),u=n/r[2];this.__chart__=_={x:i-r[0]*u,y:o-r[1]*u,k:u};s(t)}}).each("end.zoom",function(){u(t)});else{this.__chart__=_;a(t);s(t);u(t)}})};t.translate=function(e){if(!arguments.length)return[_.x,_.y];_={x:+e[0],y:+e[1],k:_.k};o();return t};t.scale=function(e){if(!arguments.length)return _.k;_={x:_.x,y:_.y,k:+e};o();return t};t.scaleExtent=function(e){if(!arguments.length)return S;S=null==e?Fs:[+e[0],+e[1]];return t};t.center=function(e){if(!arguments.length)return g;g=e&&[+e[0],+e[1]];return t};t.size=function(e){if(!arguments.length)return k;k=e&&[+e[0],+e[1]];return t};t.x=function(e){if(!arguments.length)return x;x=e;y=e.copy();_={x:0,y:0,k:1};return t};t.y=function(e){if(!arguments.length)return b;b=e;w=e.copy();_={x:0,y:0,k:1};return t};return Za.rebind(t,j,"on")};var Rs,Fs=[0,1/0],Us="onwheel"in ts?(Rs=function(){return-Za.event.deltaY*(Za.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ts?(Rs=function(){return Za.event.wheelDelta},"mousewheel"):(Rs=function(){return-Za.event.detail},"MozMousePixelScroll");Za.color=se;se.prototype.toString=function(){return this.rgb()+""};Za.hsl=ue;var Hs=ue.prototype=new se;Hs.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);return new ue(this.h,this.s,this.l/t)};Hs.darker=function(t){t=Math.pow(.7,arguments.length?t:1);return new ue(this.h,this.s,t*this.l)};Hs.rgb=function(){return le(this.h,this.s,this.l)};Za.hcl=ce;var Vs=ce.prototype=new se;Vs.brighter=function(t){return new ce(this.h,this.c,Math.min(100,this.l+Ws*(arguments.length?t:1)))};Vs.darker=function(t){return new ce(this.h,this.c,Math.max(0,this.l-Ws*(arguments.length?t:1)))};Vs.rgb=function(){return fe(this.h,this.c,this.l).rgb()};Za.lab=he;var Ws=18,Ys=.95047,Bs=1,Gs=1.08883,Xs=he.prototype=new se;Xs.brighter=function(t){return new he(Math.min(100,this.l+Ws*(arguments.length?t:1)),this.a,this.b)};Xs.darker=function(t){return new he(Math.max(0,this.l-Ws*(arguments.length?t:1)),this.a,this.b)};Xs.rgb=function(){return pe(this.l,this.a,this.b)};Za.rgb=ye;var Qs=ye.prototype=new se;Qs.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;if(!e&&!n&&!r)return new ye(i,i,i);e&&i>e&&(e=i);n&&i>n&&(n=i);r&&i>r&&(r=i);return new ye(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))};Qs.darker=function(t){t=Math.pow(.7,arguments.length?t:1);return new ye(t*this.r,t*this.g,t*this.b)};Qs.hsl=function(){return Me(this.r,this.g,this.b)};Qs.toString=function(){return"#"+be(this.r)+be(this.g)+be(this.b)};var $s=Za.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});$s.forEach(function(t,e){$s.set(t,xe(e))});Za.functor=Ae;Za.xhr=Ee(Ne);Za.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=Te(t,e,null==n?r:i(n),o);a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n};return a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})};n.parseRows=function(t,e){function n(){if(c>=l)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);if(13===r){i=!0;10===t.charCodeAt(n+2)&&++c}else 10===r&&(i=!0);return t.slice(e+1,n).replace(/""/g,'"')}for(;l>c;){var r=t.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r){i=!0;10===t.charCodeAt(c)&&(++c,++s)}else if(r!==u)continue;
return t.slice(e,c-s)}return t.slice(e)}for(var r,i,o={},a={},s=[],l=t.length,c=0,f=0;(r=n())!==a;){for(var h=[];r!==o&&r!==a;){h.push(r);r=n()}e&&null==(h=e(h,f++))||s.push(h)}return s};n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new v,i=[];e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))});return[i.map(a).join(t)].concat(e.map(function(e){return i.map(function(t){return a(e[t])}).join(t)})).join("\n")};n.formatRows=function(t){return t.map(o).join("\n")};return n};Za.csv=Za.dsv(",","text/csv");Za.tsv=Za.dsv("	","text/tab-separated-values");var Zs,Ks,Js,tu,eu,nu=ns[x(ns,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Za.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0);3>r&&(n=Date.now());var i=n+e,o={c:t,t:i,f:!1,n:null};Ks?Ks.n=o:Zs=o;Ks=o;if(!Js){tu=clearTimeout(tu);Js=1;nu(Le)}};Za.timer.flush=function(){De();Ie()};Za.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ru=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"].map(Oe);Za.formatPrefix=function(t,e){var n=0;if(t){0>t&&(t*=-1);e&&(t=Za.round(t,ze(t,e)));n=1+Math.floor(1e-12+Math.log(t)/Math.LN10);n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))}return ru[8+n/3]};var iu=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ou=Za.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=Za.round(t,ze(t,e))).toFixed(Math.max(0,Math.min(20,ze(t*(1+1e-15),e))))}}),au=Za.time={},su=Date;Fe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){uu.setUTCDate.apply(this._,arguments)},setDay:function(){uu.setUTCDay.apply(this._,arguments)},setFullYear:function(){uu.setUTCFullYear.apply(this._,arguments)},setHours:function(){uu.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){uu.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){uu.setUTCMinutes.apply(this._,arguments)},setMonth:function(){uu.setUTCMonth.apply(this._,arguments)},setSeconds:function(){uu.setUTCSeconds.apply(this._,arguments)},setTime:function(){uu.setTime.apply(this._,arguments)}};var uu=Date.prototype;au.year=Ue(function(t){t=au.day(t);t.setMonth(0,1);return t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()});au.years=au.year.range;au.years.utc=au.year.utc.range;au.day=Ue(function(t){var e=new su(2e3,0);e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate());return e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1});au.days=au.day.range;au.days.utc=au.day.utc.range;au.dayOfYear=function(t){var e=au.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=au[t]=Ue(function(t){(t=au.day(t)).setDate(t.getDate()-(t.getDay()+e)%7);return t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=au.year(t).getDay();return Math.floor((au.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});au[t+"s"]=n.range;au[t+"s"].utc=n.utc.range;au[t+"OfYear"]=function(t){var n=au.year(t).getDay();return Math.floor((au.dayOfYear(t)+(n+e)%7)/7)}});au.week=au.sunday;au.weeks=au.sunday.range;au.weeks.utc=au.sunday.utc.range;au.weekOfYear=au.sundayOfYear;var lu={"-":"",_:" ",0:"0"},cu=/^\s*\d+/,fu=/^%/;Za.locale=function(t){return{numberFormat:qe(t),timeFormat:Ve(t)}};var hu=Za.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Za.format=hu.numberFormat;Za.geo={};fn.prototype={s:0,t:0,add:function(t){hn(t,this.t,pu);hn(pu.s,this.s,this);this.s?this.t+=pu.t:this.s=pu.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var pu=new fn;Za.geo.stream=function(t,e){t&&du.hasOwnProperty(t.type)?du[t.type](t,e):pn(t,e)};var du={Feature:function(t,e){pn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)pn(n[r].geometry,e)}},gu={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates;e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){dn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)dn(n[r],e,0)},Polygon:function(t,e){gn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)gn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)pn(n[r],e)}};Za.geo.area=function(t){mu=0;Za.geo.stream(t,yu);return mu};var mu,vu=new fn,yu={sphere:function(){mu+=4*Es},point:w,lineStart:w,lineEnd:w,polygonStart:function(){vu.reset();yu.lineStart=mn},polygonEnd:function(){var t=2*vu;mu+=0>t?4*Es+t:t;yu.lineStart=yu.lineEnd=yu.point=w}};Za.geo.bounds=function(){function t(t,e){x.push(w=[c=t,h=t]);f>e&&(f=e);e>p&&(p=e)}function e(e,n){var r=vn([e*Ds,n*Ds]);if(v){var i=xn(v,r),o=[i[1],-i[0],0],a=xn(o,i);_n(a);a=Mn(a);var u=e-d,l=u>0?1:-1,g=a[0]*Is*l,m=fs(u)>180;if(m^(g>l*d&&l*e>g)){var y=a[1]*Is;y>p&&(p=y)}else if(g=(g+360)%360-180,m^(g>l*d&&l*e>g)){var y=-a[1]*Is;f>y&&(f=y)}else{f>n&&(f=n);n>p&&(p=n)}if(m)d>e?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e);else if(h>=c){c>e&&(c=e);e>h&&(h=e)}else e>d?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e)}else t(e,n);v=r,d=e}function n(){b.point=e}function r(){w[0]=c,w[1]=h;b.point=t;v=null}function i(t,n){if(v){var r=t-d;y+=fs(r)>180?r+(r>0?360:-360):r}else g=t,m=n;yu.point(t,n);e(t,n)}function o(){yu.lineStart()}function a(){i(g,m);yu.lineEnd();fs(y)>Ps&&(c=-(h=180));w[0]=c,w[1]=h;v=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,f,h,p,d,g,m,v,y,x,w,b={point:t,lineStart:n,lineEnd:r,polygonStart:function(){b.point=i;b.lineStart=o;b.lineEnd=a;y=0;yu.polygonStart()},polygonEnd:function(){yu.polygonEnd();b.point=t;b.lineStart=n;b.lineEnd=r;0>vu?(c=-(h=180),f=-(p=90)):y>Ps?p=90:-Ps>y&&(f=-90);w[0]=c,w[1]=h}};return function(t){p=h=-(c=f=1/0);x=[];Za.geo.stream(t,b);var e=x.length;if(e){x.sort(u);for(var n,r=1,i=x[0],o=[i];e>r;++r){n=x[r];if(l(n[0],i)||l(n[1],i)){s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]);s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])}else o.push(i=n)}for(var a,n,d=-1/0,e=o.length-1,r=0,i=o[e];e>=r;i=n,++r){n=o[r];(a=s(i[1],n[0]))>d&&(d=a,c=n[0],h=i[1])}}x=w=null;return 1/0===c||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[c,f],[h,p]]}}();Za.geo.centroid=function(t){xu=wu=bu=_u=Mu=ku=Cu=Su=Au=Nu=Eu=0;Za.geo.stream(t,Tu);var e=Au,n=Nu,r=Eu,i=e*e+n*n+r*r;if(Ls>i){e=ku,n=Cu,r=Su;Ps>wu&&(e=bu,n=_u,r=Mu);i=e*e+n*n+r*r;if(Ls>i)return[0/0,0/0]}return[Math.atan2(n,e)*Is,ne(r/Math.sqrt(i))*Is]};var xu,wu,bu,_u,Mu,ku,Cu,Su,Au,Nu,Eu,Tu={sphere:w,point:Cn,lineStart:An,lineEnd:Nn,polygonStart:function(){Tu.lineStart=En},polygonEnd:function(){Tu.lineStart=An}},ju=Dn(Tn,qn,Fn,[-Es,-Es/2]),Pu=1e9;Za.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){i&&(i.valid=!1);i=o(t);i.valid=!0;return i},extent:function(s){if(!arguments.length)return[[t,e],[n,r]];o=Wn(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]);i&&(i.valid=!1,i=null);return a}};return a.extent([[0,0],[960,500]])};(Za.geo.conicEqualArea=function(){return Bn(Gn)}).raw=Gn;Za.geo.albers=function(){return Za.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};Za.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];e=null;(n(o,a),e)||(r(o,a),e)||i(o,a);return e}var e,n,r,i,o=Za.geo.albers(),a=Za.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Za.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(t)};t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i);n.point(t,i);r.point(t,i)},sphere:function(){e.sphere();n.sphere();r.sphere()},lineStart:function(){e.lineStart();n.lineStart();r.lineStart()},lineEnd:function(){e.lineEnd();n.lineEnd();r.lineEnd()},polygonStart:function(){e.polygonStart();n.polygonStart();r.polygonStart()},polygonEnd:function(){e.polygonEnd();n.polygonEnd();r.polygonEnd()}}};t.precision=function(e){if(!arguments.length)return o.precision();o.precision(e);a.precision(e);s.precision(e);return t};t.scale=function(e){if(!arguments.length)return o.scale();o.scale(e);a.scale(.35*e);s.scale(e);return t.translate(o.translate())};t.translate=function(e){if(!arguments.length)return o.translate();var l=o.scale(),c=+e[0],f=+e[1];n=o.translate(e).clipExtent([[c-.455*l,f-.238*l],[c+.455*l,f+.238*l]]).stream(u).point;r=a.translate([c-.307*l,f+.201*l]).clipExtent([[c-.425*l+Ps,f+.12*l+Ps],[c-.214*l-Ps,f+.234*l-Ps]]).stream(u).point;i=s.translate([c-.205*l,f+.212*l]).clipExtent([[c-.214*l+Ps,f+.166*l+Ps],[c-.115*l-Ps,f+.234*l-Ps]]).stream(u).point;return t};return t.scale(1070)};var Lu,Du,Iu,zu,Ou,qu,Ru={point:w,lineStart:w,lineEnd:w,polygonStart:function(){Du=0;Ru.lineStart=Xn},polygonEnd:function(){Ru.lineStart=Ru.lineEnd=Ru.point=w;Lu+=fs(Du/2)}},Fu={point:Qn,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Uu={point:Kn,lineStart:Jn,lineEnd:tr,polygonStart:function(){Uu.lineStart=er},polygonEnd:function(){Uu.point=Kn;Uu.lineStart=Jn;Uu.lineEnd=tr}};Za.geo.path=function(){function t(t){if(t){"function"==typeof s&&o.pointRadius(+s.apply(this,arguments));a&&a.valid||(a=i(o));Za.geo.stream(t,a)}return o.result()}function e(){a=null;return t}var n,r,i,o,a,s=4.5;t.area=function(t){Lu=0;Za.geo.stream(t,i(Ru));return Lu};t.centroid=function(t){bu=_u=Mu=ku=Cu=Su=Au=Nu=Eu=0;Za.geo.stream(t,i(Uu));return Eu?[Au/Eu,Nu/Eu]:Su?[ku/Su,Cu/Su]:Mu?[bu/Mu,_u/Mu]:[0/0,0/0]};t.bounds=function(t){Ou=qu=-(Iu=zu=1/0);Za.geo.stream(t,i(Fu));return[[Iu,zu],[Ou,qu]]};t.projection=function(t){if(!arguments.length)return n;i=(n=t)?t.stream||ir(t):Ne;return e()};t.context=function(t){if(!arguments.length)return r;o=null==(r=t)?new $n:new nr(t);"function"!=typeof s&&o.pointRadius(s);return e()};t.pointRadius=function(e){if(!arguments.length)return s;s="function"==typeof e?e:(o.pointRadius(+e),+e);return t};return t.projection(Za.geo.albersUsa()).context(null)};Za.geo.transform=function(t){return{stream:function(e){var n=new or(e);for(var r in t)n[r]=t[r];return n}}};or.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};Za.geo.projection=sr;Za.geo.projectionMutator=ur;(Za.geo.equirectangular=function(){return sr(cr)}).raw=cr.invert=cr;Za.geo.rotation=function(t){function e(e){e=t(e[0]*Ds,e[1]*Ds);return e[0]*=Is,e[1]*=Is,e}t=hr(t[0]%360*Ds,t[1]*Ds,t.length>2?t[2]*Ds:0);e.invert=function(e){e=t.invert(e[0]*Ds,e[1]*Ds);return e[0]*=Is,e[1]*=Is,e};return e};fr.invert=cr;Za.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=hr(-t[0]*Ds,-t[1]*Ds,0).invert,i=[];n(null,null,1,{point:function(t,n){i.push(t=e(t,n));t[0]*=Is,t[1]*=Is}});return{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;t.origin=function(e){if(!arguments.length)return r;r=e;return t};t.angle=function(r){if(!arguments.length)return e;n=mr((e=+r)*Ds,i*Ds);return t};t.precision=function(r){if(!arguments.length)return i;n=mr(e*Ds,(i=+r)*Ds);return t};return t.angle(90)};Za.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Ds,i=t[1]*Ds,o=e[1]*Ds,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=l*c-u*f*s)*n),u*c+l*f*s)};Za.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Za.range(Math.ceil(o/m)*m,i,m).map(h).concat(Za.range(Math.ceil(l/v)*v,u,v).map(p)).concat(Za.range(Math.ceil(r/d)*d,n,d).filter(function(t){return fs(t%m)>Ps}).map(c)).concat(Za.range(Math.ceil(s/g)*g,a,g).filter(function(t){return fs(t%v)>Ps}).map(f))}var n,r,i,o,a,s,u,l,c,f,h,p,d=10,g=d,m=90,v=360,y=2.5;t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})};t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(p(u).slice(1),h(i).reverse().slice(1),p(l).reverse().slice(1))]}};t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()};t.majorExtent=function(e){if(!arguments.length)return[[o,l],[i,u]];o=+e[0][0],i=+e[1][0];l=+e[0][1],u=+e[1][1];o>i&&(e=o,o=i,i=e);l>u&&(e=l,l=u,u=e);return t.precision(y)};t.minorExtent=function(e){if(!arguments.length)return[[r,s],[n,a]];r=+e[0][0],n=+e[1][0];s=+e[0][1],a=+e[1][1];r>n&&(e=r,r=n,n=e);s>a&&(e=s,s=a,a=e);return t.precision(y)};t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()};t.majorStep=function(e){if(!arguments.length)return[m,v];m=+e[0],v=+e[1];return t};t.minorStep=function(e){if(!arguments.length)return[d,g];d=+e[0],g=+e[1];return t};t.precision=function(e){if(!arguments.length)return y;y=+e;c=yr(s,a,90);f=xr(r,n,y);h=yr(l,u,90);p=xr(o,i,y);return t};return t.majorExtent([[-180,-90+Ps],[180,90-Ps]]).minorExtent([[-180,-80-Ps],[180,80+Ps]])};Za.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=wr,i=br;t.distance=function(){return Za.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))};t.source=function(n){if(!arguments.length)return r;r=n,e="function"==typeof n?null:n;return t};t.target=function(e){if(!arguments.length)return i;i=e,n="function"==typeof e?null:e;return t};t.precision=function(){return arguments.length?t:0};return t};Za.geo.interpolate=function(t,e){return _r(t[0]*Ds,t[1]*Ds,e[0]*Ds,e[1]*Ds)};Za.geo.length=function(t){Hu=0;Za.geo.stream(t,Vu);return Hu};var Hu,Vu={sphere:w,point:w,lineStart:Mr,lineEnd:w,polygonStart:w,polygonEnd:w},Wu=kr(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Za.geo.azimuthalEqualArea=function(){return sr(Wu)}).raw=Wu;var Yu=kr(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},Ne);(Za.geo.azimuthalEquidistant=function(){return sr(Yu)}).raw=Yu;(Za.geo.conicConformal=function(){return Bn(Cr)}).raw=Cr;(Za.geo.conicEquidistant=function(){return Bn(Sr)}).raw=Sr;var Bu=kr(function(t){return 1/t},Math.atan);(Za.geo.gnomonic=function(){return sr(Bu)}).raw=Bu;Ar.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-js]};(Za.geo.mercator=function(){return Nr(Ar)}).raw=Ar;var Gu=kr(function(){return 1},Math.asin);(Za.geo.orthographic=function(){return sr(Gu)}).raw=Gu;var Xu=kr(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Za.geo.stereographic=function(){return sr(Xu)}).raw=Xu;Er.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-js]};(Za.geo.transverseMercator=function(){var t=Nr(Er),e=t.center,n=t.rotate;t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])};t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])};return n([0,0,90])}).raw=Er;Za.geom={};Za.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=Ae(n),o=Ae(r),a=t.length,s=[],u=[];for(e=0;a>e;e++)s.push([+i.call(this,t[e],e),+o.call(this,t[e],e),e]);s.sort(Lr);for(e=0;a>e;e++)u.push([s[e][0],-s[e][1]]);var l=Pr(s),c=Pr(u),f=c[0]===l[0],h=c[c.length-1]===l[l.length-1],p=[];for(e=l.length-1;e>=0;--e)p.push(t[s[l[e]][2]]);for(e=+f;e<c.length-h;++e)p.push(t[s[c[e]][2]]);return p}var n=Tr,r=jr;if(arguments.length)return e(t);e.x=function(t){return arguments.length?(n=t,e):n};e.y=function(t){return arguments.length?(r=t,e):r};return e};Za.geom.polygon=function(t){ms(t,Qu);return t};var Qu=Za.geom.polygon.prototype=[];Qu.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;){t=r;r=this[e];i+=t[1]*r[0]-t[0]*r[1]}return.5*i};Qu.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];arguments.length||(t=-1/(6*this.area()));for(;++r<i;){e=s;s=this[r];n=e[0]*s[1]-s[0]*e[1];o+=(e[0]+s[0])*n;a+=(e[1]+s[1])*n}return[o*t,a*t]};Qu.clip=function(t){for(var e,n,r,i,o,a,s=zr(t),u=-1,l=this.length-zr(this),c=this[l-1];++u<l;){e=t.slice();t.length=0;i=this[u];o=e[(r=e.length-s)-1];n=-1;for(;++n<r;){a=e[n];if(Dr(a,c,i)){Dr(o,c,i)||t.push(Ir(o,a,c,i));t.push(a)}else Dr(o,c,i)&&t.push(Ir(o,a,c,i));o=a}s&&t.push(t[0]);c=i}return t};var $u,Zu,Ku,Ju,tl,el=[],nl=[];Wr.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;){t=e[n].edge;t.b&&t.a||e.splice(n,1)}e.sort(Br);return e.length};ni.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};ri.prototype={insert:function(t,e){var n,r,i;if(t){e.P=t;e.N=t.N;t.N&&(t.N.P=e);t.N=e;if(t.R){t=t.R;for(;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else if(this._){t=si(this._);e.P=null;e.N=t;t.P=t.L=e;n=t}else{e.P=e.N=null;this._=e;n=null}e.L=e.R=null;e.U=n;e.C=!0;t=e;for(;n&&n.C;){r=n.U;if(n===r.L){i=r.R;if(i&&i.C){n.C=i.C=!1;r.C=!0;t=r}else{if(t===n.R){oi(this,n);t=n;n=t.U}n.C=!1;r.C=!0;ai(this,r)}}else{i=r.L;if(i&&i.C){n.C=i.C=!1;r.C=!0;t=r}else{if(t===n.L){ai(this,n);t=n;n=t.U}n.C=!1;r.C=!0;oi(this,r)}}n=t.U}this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P);t.P&&(t.P.N=t.N);t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;n=o?a?si(a):o:a;i?i.L===t?i.L=n:i.R=n:this._=n;if(o&&a){r=n.C;n.C=t.C;n.L=o;o.U=n;if(n!==a){i=n.U;n.U=t.U;t=n.R;i.L=t;n.R=a;a.U=n}else{n.U=i;i=n;t=n.R}}else{r=t.C;t=n}t&&(t.U=i);if(!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){e=i.R;if(e.C){e.C=!1;i.C=!0;oi(this,i);e=i.R}if(e.L&&e.L.C||e.R&&e.R.C){if(!e.R||!e.R.C){e.L.C=!1;e.C=!0;ai(this,e);e=i.R}e.C=i.C;i.C=e.R.C=!1;oi(this,i);t=this._;break}}else{e=i.L;if(e.C){e.C=!1;i.C=!0;ai(this,i);e=i.L}if(e.L&&e.L.C||e.R&&e.R.C){if(!e.L||!e.L.C){e.R.C=!1;e.C=!0;oi(this,e);e=i.L}e.C=i.C;i.C=e.L.C=!1;ai(this,i);t=this._;break}}e.C=!0;t=i;i=i.U}while(!t.C);t&&(t.C=!1)}}};Za.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];ui(n(t),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=r&&l.x<=o&&l.y>=i&&l.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];c.point=t[s]});return e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Ps)*Ps,y:Math.round(a(t,e)/Ps)*Ps,i:e}})}var r=Tr,i=jr,o=r,a=i,s=rl;if(t)return e(t);e.links=function(t){return ui(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})};e.triangles=function(t){var e=[];ui(n(t)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(Br),u=-1,l=s.length,c=s[l-1].edge,f=c.l===a?c.r:c.l;++u<l;){i=c;o=f;c=s[u].edge;f=c.l===a?c.r:c.l;r<o.i&&r<f.i&&ci(a,o,f)<0&&e.push([t[r],t[o.i],t[f.i]])}});return e};e.x=function(t){return arguments.length?(o=Ae(r=t),e):r};e.y=function(t){return arguments.length?(a=Ae(i=t),e):i};e.clipExtent=function(t){if(!arguments.length)return s===rl?null:s;s=null==t?rl:t;return e};e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===rl?null:s&&s[1]};return e};var rl=[[-1e6,-1e6],[1e6,1e6]];Za.geom.delaunay=function(t){return Za.geom.voronoi().triangles(t)};Za.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(fs(u-n)+fs(c-r)<.01)l(t,e,n,r,i,o,a,s);else{var f=t.point;t.x=t.y=t.point=null;l(t,f,u,c,i,o,a,s);l(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else l(t,e,n,r,i,o,a,s)}function l(t,e,n,r,i,a,s,u){var l=.5*(i+s),c=.5*(a+u),f=n>=l,h=r>=c,p=(h<<1)+f;t.leaf=!1;t=t.nodes[p]||(t.nodes[p]=pi());f?i=l:s=l;h?a=c:u=c;o(t,e,n,r,i,a,s,u)}var c,f,h,p,d,g,m,v,y,x=Ae(s),w=Ae(u);if(null!=e)g=e,m=n,v=r,y=i;else{v=y=-(g=m=1/0);f=[],h=[];d=t.length;if(a)for(p=0;d>p;++p){c=t[p];c.x<g&&(g=c.x);c.y<m&&(m=c.y);c.x>v&&(v=c.x);c.y>y&&(y=c.y);f.push(c.x);h.push(c.y)}else for(p=0;d>p;++p){var b=+x(c=t[p],p),_=+w(c,p);g>b&&(g=b);m>_&&(m=_);b>v&&(v=b);_>y&&(y=_);f.push(b);h.push(_)}}var M=v-g,k=y-m;M>k?y=m+M:v=g+k;var C=pi();C.add=function(t){o(C,t,+x(t,++p),+w(t,p),g,m,v,y)};C.visit=function(t){di(t,C,g,m,v,y)};p=-1;if(null==e){for(;++p<d;)o(C,t[p],f[p],h[p],g,m,v,y);--p}else t.forEach(C.add);f=h=t=c=null;return C}var a,s=Tr,u=jr;if(a=arguments.length){s=fi;u=hi;if(3===a){i=n;r=e;n=e=0}return o(t)}o.x=function(t){return arguments.length?(s=t,o):s};o.y=function(t){return arguments.length?(u=t,o):u};o.extent=function(t){if(!arguments.length)return null==e?null:[[e,n],[r,i]];null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]);return o};o.size=function(t){if(!arguments.length)return null==e?null:[r-e,i-n];null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]);return o};return o};Za.interpolateRgb=gi;Za.interpolateObject=mi;Za.interpolateNumber=vi;Za.interpolateString=yi;var il=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ol=new RegExp(il.source,"g");Za.interpolate=xi;Za.interpolators=[function(t,e){var n=typeof e;return("string"===n?$s.has(e)||/^(#|rgb\(|hsl\()/.test(e)?gi:yi:e instanceof se?gi:Array.isArray(e)?wi:"object"===n&&isNaN(e)?mi:vi)(t,e)}];Za.interpolateArray=wi;var al=function(){return Ne},sl=Za.map({linear:al,poly:Ai,quad:function(){return ki},cubic:function(){return Ci},sin:function(){return Ni},exp:function(){return Ei},circle:function(){return Ti},elastic:ji,back:Pi,bounce:function(){return Li}}),ul=Za.map({"in":Ne,out:_i,"in-out":Mi,"out-in":function(t){return Mi(_i(t))}});Za.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";n=sl.get(n)||al;r=ul.get(r)||Ne;return bi(r(n.apply(null,Ka.call(arguments,1))))};Za.interpolateHcl=Di;Za.interpolateHsl=Ii;Za.interpolateLab=zi;Za.interpolateRound=Oi;Za.transform=function(t){var e=ts.createElementNS(Za.ns.prefix.svg,"g");return(Za.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new qi(n?n.matrix:ll)})(t)};qi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ll={a:1,b:0,c:0,d:1,e:0,f:0};Za.interpolateTransform=Hi;Za.layout={};Za.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Yi(t[n]));return e}};Za.layout.chord=function(){function t(){var t,l,f,h,p,d={},g=[],m=Za.range(o),v=[];n=[];r=[];t=0,h=-1;for(;++h<o;){l=0,p=-1;for(;++p<o;)l+=i[h][p];g.push(l);v.push(Za.range(o));t+=l}a&&m.sort(function(t,e){return a(g[t],g[e])});s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})});t=(Ts-c*o)/t;l=0,h=-1;for(;++h<o;){f=l,p=-1;for(;++p<o;){var y=m[h],x=v[y][p],w=i[y][x],b=l,_=l+=w*t;d[y+"-"+x]={index:y,subindex:x,startAngle:b,endAngle:_,value:w}}r[y]={index:y,startAngle:f,endAngle:l,value:(l-f)/t};l+=c}h=-1;for(;++h<o;){p=h-1;for(;++p<o;){var M=d[h+"-"+p],k=d[p+"-"+h];(M.value||k.value)&&n.push(M.value<k.value?{source:k,target:M}:{source:M,target:k})}}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,u,l={},c=0;l.matrix=function(t){if(!arguments.length)return i;o=(i=t)&&i.length;n=r=null;return l};l.padding=function(t){if(!arguments.length)return c;c=t;n=r=null;return l};l.sortGroups=function(t){if(!arguments.length)return a;a=t;n=r=null;return l};l.sortSubgroups=function(t){if(!arguments.length)return s;s=t;n=null;return l};l.sortChords=function(t){if(!arguments.length)return u;u=t;n&&e();return l};l.chords=function(){n||t();return n};l.groups=function(){r||t();return r};return l};Za.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,u=o*o+a*a;if(u>s*s/m){if(d>u){var l=e.charge/u;t.px-=o*l;t.py-=a*l}return!0}if(e.point&&u&&d>u){var l=e.pointCharge/u;t.px-=o*l;t.py-=a*l}}return!e.charge}}function e(t){t.px=Za.event.x,t.py=Za.event.y;s.resume()}var n,r,i,o,a,s={},u=Za.dispatch("start","tick","end"),l=[1,1],c=.9,f=cl,h=fl,p=-30,d=hl,g=.1,m=.64,v=[],y=[];s.tick=function(){if((r*=.99)<.005){u.end({type:"end",alpha:r=0});return!0}var e,n,s,f,h,d,m,x,w,b=v.length,_=y.length;for(n=0;_>n;++n){s=y[n];f=s.source;h=s.target;x=h.x-f.x;w=h.y-f.y;if(d=x*x+w*w){d=r*o[n]*((d=Math.sqrt(d))-i[n])/d;x*=d;w*=d;h.x-=x*(m=f.weight/(h.weight+f.weight));h.y-=w*m;f.x+=x*(m=1-m);f.y+=w*m}}if(m=r*g){x=l[0]/2;w=l[1]/2;n=-1;if(m)for(;++n<b;){s=v[n];s.x+=(x-s.x)*m;s.y+=(w-s.y)*m}}if(p){Ki(e=Za.geom.quadtree(v),r,a);n=-1;for(;++n<b;)(s=v[n]).fixed||e.visit(t(s))}n=-1;for(;++n<b;){s=v[n];if(s.fixed){s.x=s.px;s.y=s.py}else{s.x-=(s.px-(s.px=s.x))*c;s.y-=(s.py-(s.py=s.y))*c}}u.tick({type:"tick",alpha:r})};s.nodes=function(t){if(!arguments.length)return v;v=t;return s};s.links=function(t){if(!arguments.length)return y;y=t;return s};s.size=function(t){if(!arguments.length)return l;l=t;return s};s.linkDistance=function(t){if(!arguments.length)return f;f="function"==typeof t?t:+t;return s};s.distance=s.linkDistance;s.linkStrength=function(t){if(!arguments.length)return h;h="function"==typeof t?t:+t;return s};s.friction=function(t){if(!arguments.length)return c;c=+t;return s};s.charge=function(t){if(!arguments.length)return p;p="function"==typeof t?t:+t;return s};s.chargeDistance=function(t){if(!arguments.length)return Math.sqrt(d);d=t*t;return s};s.gravity=function(t){if(!arguments.length)return g;g=+t;return s};s.theta=function(t){if(!arguments.length)return Math.sqrt(m);m=t*t;return s};s.alpha=function(t){if(!arguments.length)return r;t=+t;if(r)r=t>0?t:0;else if(t>0){u.start({type:"start",alpha:r=t});Za.timer(s.tick)}return s};s.start=function(){function t(t,r){if(!n){n=new Array(u);for(s=0;u>s;++s)n[s]=[];for(s=0;l>s;++s){var i=y[s];n[i.source.index].push(i.target);n[i.target.index].push(i.source)}}for(var o,a=n[e],s=-1,l=a.length;++s<l;)if(!isNaN(o=a[s][t]))return o;return Math.random()*r}var e,n,r,u=v.length,c=y.length,d=l[0],g=l[1];for(e=0;u>e;++e){(r=v[e]).index=e;r.weight=0}for(e=0;c>e;++e){r=y[e];"number"==typeof r.source&&(r.source=v[r.source]);"number"==typeof r.target&&(r.target=v[r.target]);++r.source.weight;++r.target.weight}for(e=0;u>e;++e){r=v[e];isNaN(r.x)&&(r.x=t("x",d));isNaN(r.y)&&(r.y=t("y",g));isNaN(r.px)&&(r.px=r.x);isNaN(r.py)&&(r.py=r.y)}i=[];if("function"==typeof f)for(e=0;c>e;++e)i[e]=+f.call(this,y[e],e);else for(e=0;c>e;++e)i[e]=f;o=[];if("function"==typeof h)for(e=0;c>e;++e)o[e]=+h.call(this,y[e],e);else for(e=0;c>e;++e)o[e]=h;a=[];if("function"==typeof p)for(e=0;u>e;++e)a[e]=+p.call(this,v[e],e);else for(e=0;u>e;++e)a[e]=p;return s.resume()};s.resume=function(){return s.alpha(.1)};s.stop=function(){return s.alpha(0)};s.drag=function(){n||(n=Za.behavior.drag().origin(Ne).on("dragstart.force",Xi).on("drag.force",e).on("dragend.force",Qi));if(!arguments.length)return n;this.on("mouseover.force",$i).on("mouseout.force",Zi).call(n);return void 0};return Za.rebind(s,u,"on")};var cl=20,fl=1,hl=1/0;Za.layout.hierarchy=function(){function t(i){var o,a=[i],s=[];i.depth=0;for(;null!=(o=a.pop());){s.push(o);if((l=n.call(t,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;){a.push(c=l[u]);c.parent=o;c.depth=o.depth+1}r&&(o.value=0);o.children=l}else{r&&(o.value=+r.call(t,o,o.depth)||0);delete o.children}}eo(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e);r&&(i=t.parent)&&(i.value+=t.value)});return s}var e=io,n=no,r=ro;t.sort=function(n){if(!arguments.length)return e;e=n;return t};t.children=function(e){if(!arguments.length)return n;n=e;return t};t.value=function(e){if(!arguments.length)return r;r=e;return t};t.revalue=function(e){if(r){to(e,function(t){t.children&&(t.value=0)});eo(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0);(n=e.parent)&&(n.value+=e.value)})}return e};return t};Za.layout.partition=function(){function t(e,n,r,i){var o=e.children;e.x=n;e.y=e.depth*i;e.dx=r;e.dy=i;if(o&&(a=o.length)){var a,s,u,l=-1;r=e.value?r/e.value:0;for(;++l<a;){t(s=o[l],n,u=s.value*r,i);n+=u}}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);t(a[0],0,i[0],i[1]/e(a[0]));return a}var r=Za.layout.hierarchy(),i=[1,1];n.size=function(t){if(!arguments.length)return i;i=t;return n};return Ji(n,r)};Za.layout.pie=function(){function t(o){var a=o.map(function(n,r){return+e.call(t,n,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),u=(("function"==typeof i?i.apply(this,arguments):i)-s)/Za.sum(a),l=Za.range(o.length);null!=n&&l.sort(n===pl?function(t,e){return a[e]-a[t]}:function(t,e){return n(o[t],o[e])});var c=[];l.forEach(function(t){var e;c[t]={data:o[t],value:e=a[t],startAngle:s,endAngle:s+=e*u}});return c}var e=Number,n=pl,r=0,i=Ts;t.value=function(n){if(!arguments.length)return e;e=n;return t};t.sort=function(e){if(!arguments.length)return n;n=e;return t};t.startAngle=function(e){if(!arguments.length)return r;r=e;return t};t.endAngle=function(e){if(!arguments.length)return i;i=e;return t};return t};var pl={};Za.layout.stack=function(){function t(s,u){if(!(h=s.length))return s;var l=s.map(function(n,r){return e.call(t,n,r)}),c=l.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),f=n.call(t,c,u);l=Za.permute(l,f);c=Za.permute(c,f);var h,p,d,g,m=r.call(t,c,u),v=l[0].length;for(d=0;v>d;++d){i.call(t,l[0][d],g=m[d],c[0][d][1]);for(p=1;h>p;++p)i.call(t,l[p][d],g+=c[p-1][d][1],c[p][d][1])}return s}var e=Ne,n=lo,r=co,i=uo,o=ao,a=so;t.values=function(n){if(!arguments.length)return e;e=n;return t};t.order=function(e){if(!arguments.length)return n;n="function"==typeof e?e:dl.get(e)||lo;return t};t.offset=function(e){if(!arguments.length)return r;r="function"==typeof e?e:gl.get(e)||co;return t};t.x=function(e){if(!arguments.length)return o;o=e;return t};t.y=function(e){if(!arguments.length)return a;a=e;return t};t.out=function(e){if(!arguments.length)return i;i=e;return t};return t};var dl=Za.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(fo),o=t.map(ho),a=Za.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,u=0,l=[],c=[];for(e=0;r>e;++e){n=a[e];if(u>s){s+=o[n];l.push(n)}else{u+=o[n];c.push(n)}}return c.reverse().concat(l)},reverse:function(t){return Za.range(t.length).reverse()},"default":lo}),gl=Za.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];r>s&&(s=r);a.push(r)}for(n=0;o>n;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,l,c=t.length,f=t[0],h=f.length,p=[];p[0]=u=l=0;for(n=1;h>n;++n){for(e=0,i=0;c>e;++e)i+=t[e][n][1];for(e=0,o=0,s=f[n][0]-f[n-1][0];c>e;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>r;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}p[n]=u-=i?o/i*s:0;
l>u&&(l=u)}for(n=0;h>n;++n)p[n]-=l;return p},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];if(r)for(e=0;i>e;e++)t[e][n][1]/=r;else for(e=0;i>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:co});Za.layout.histogram=function(){function t(t,o){for(var a,s,u=[],l=t.map(n,this),c=r.call(this,l,o),f=i.call(this,c,l,o),o=-1,h=l.length,p=f.length-1,d=e?1:1/h;++o<p;){a=u[o]=[];a.dx=f[o+1]-(a.x=f[o]);a.y=0}if(p>0){o=-1;for(;++o<h;){s=l[o];if(s>=c[0]&&s<=c[1]){a=u[Za.bisect(f,s,1,p)-1];a.y+=d;a.push(t[o])}}}return u}var e=!0,n=Number,r=vo,i=go;t.value=function(e){if(!arguments.length)return n;n=e;return t};t.range=function(e){if(!arguments.length)return r;r=Ae(e);return t};t.bins=function(e){if(!arguments.length)return i;i="number"==typeof e?function(t){return mo(t,e)}:Ae(e);return t};t.frequency=function(n){if(!arguments.length)return e;e=!!n;return t};return t};Za.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=i[0],l=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};s.x=s.y=0;eo(s,function(t){t.r=+c(t.value)});eo(s,_o);if(r){var f=r*(e?1:Math.max(2*s.r/u,2*s.r/l))/2;eo(s,function(t){t.r+=f});eo(s,_o);eo(s,function(t){t.r-=f})}Co(s,u/2,l/2,e?1:1/Math.max(2*s.r/u,2*s.r/l));return a}var e,n=Za.layout.hierarchy().sort(yo),r=0,i=[1,1];t.size=function(e){if(!arguments.length)return i;i=e;return t};t.radius=function(n){if(!arguments.length)return e;e=null==n||"function"==typeof n?n:+n;return t};t.padding=function(e){if(!arguments.length)return r;r=+e;return t};return Ji(t,n)};Za.layout.tree=function(){function t(t,i){var c=a.call(this,t,i),f=c[0],h=e(f);eo(h,n),h.parent.m=-h.z;to(h,r);if(l)to(f,o);else{var p=f,d=f,g=f;to(f,function(t){t.x<p.x&&(p=t);t.x>d.x&&(d=t);t.depth>g.depth&&(g=t)});var m=s(p,d)/2-p.x,v=u[0]/(d.x+s(d,p)/2+m),y=u[1]/(g.depth||1);to(f,function(t){t.x=(t.x+m)*v;t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;s>a;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){jo(t);var o=(e[0].z+e[e.length-1].z)/2;if(r){t.z=r.z+s(t._,r._);t.m=t.z-o}else t.z=o}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m;t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,o=t,a=e,u=i.parent.children[0],l=i.m,c=o.m,f=a.m,h=u.m;a=Eo(a),i=No(i),a&&i;){u=No(u);o=Eo(o);o.a=t;r=a.z+f-i.z-l+s(a._,i._);if(r>0){To(Po(a,t,n),t,r);l+=r;c+=r}f+=a.m;l+=i.m;h+=u.m;c+=o.m}if(a&&!Eo(o)){o.t=a;o.m+=f-c}if(i&&!No(u)){u.t=i;u.m+=l-h;n=t}}return n}function o(t){t.x*=u[0];t.y=t.depth*u[1]}var a=Za.layout.hierarchy().sort(null).value(null),s=Ao,u=[1,1],l=null;t.separation=function(e){if(!arguments.length)return s;s=e;return t};t.size=function(e){if(!arguments.length)return l?null:u;l=null==(u=e)?o:null;return t};t.nodeSize=function(e){if(!arguments.length)return l?u:null;l=null==(u=e)?null:o;return t};return Ji(t,a)};Za.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],l=0;eo(u,function(t){var e=t.children;if(e&&e.length){t.x=Do(e);t.y=Lo(e)}else{t.x=a?l+=n(t,a):0;t.y=0;a=t}});var c=Io(u),f=zo(u),h=c.x-n(c,f)/2,p=f.x+n(f,c)/2;eo(u,i?function(t){t.x=(t.x-u.x)*r[0];t.y=(u.y-t.y)*r[1]}:function(t){t.x=(t.x-h)/(p-h)*r[0];t.y=(1-(u.y?t.y/u.y:1))*r[1]});return s}var e=Za.layout.hierarchy().sort(null).value(null),n=Ao,r=[1,1],i=!1;t.separation=function(e){if(!arguments.length)return n;n=e;return t};t.size=function(e){if(!arguments.length)return i?null:r;i=null==(r=e);return t};t.nodeSize=function(e){if(!arguments.length)return i?r:null;i=null!=(r=e);return t};return Ji(t,e)};Za.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;){r=(n=t[i]).value*(0>e?0:e);n.area=isNaN(r)||0>=r?0:r}}function e(n){var o=n.children;if(o&&o.length){var a,s,u,l=f(n),c=[],h=o.slice(),d=1/0,g="slice"===p?l.dx:"dice"===p?l.dy:"slice-dice"===p?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);t(h,l.dx*l.dy/n.value);c.area=0;for(;(u=h.length)>0;){c.push(a=h[u-1]);c.area+=a.area;if("squarify"!==p||(s=r(c,g))<=d){h.pop();d=s}else{c.area-=c.pop().area;i(c,g,l,!1);g=Math.min(l.dx,l.dy);c.length=c.area=0;d=1/0}}if(c.length){i(c,g,l,!0);c.length=c.area=0}o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,a=f(e),s=r.slice(),u=[];t(s,a.dx*a.dy/e.value);u.area=0;for(;o=s.pop();){u.push(o);u.area+=o.area;if(null!=o.z){i(u,o.z?a.dx:a.dy,a,!s.length);u.length=u.area=0}}r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)if(n=t[a].area){o>n&&(o=n);n>i&&(i=n)}r*=r;e*=e;return r?Math.max(e*i*d/r,r/(e*o*d)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,l=n.y,c=e?u(t.area/e):0;if(e==n.dx){(r||c>n.dy)&&(c=n.dy);for(;++o<a;){i=t[o];i.x=s;i.y=l;i.dy=c;s+=i.dx=Math.min(n.x+n.dx-s,c?u(i.area/c):0)}i.z=!0;i.dx+=n.x+n.dx-s;n.y+=c;n.dy-=c}else{(r||c>n.dx)&&(c=n.dx);for(;++o<a;){i=t[o];i.x=s;i.y=l;i.dx=c;l+=i.dy=Math.min(n.y+n.dy-l,c?u(i.area/c):0)}i.z=!1;i.dy+=n.y+n.dy-l;n.x+=c;n.dx-=c}}function o(r){var i=a||s(r),o=i[0];o.x=0;o.y=0;o.dx=l[0];o.dy=l[1];a&&s.revalue(o);t([o],o.dx*o.dy/o.value);(a?n:e)(o);h&&(a=i);return i}var a,s=Za.layout.hierarchy(),u=Math.round,l=[1,1],c=null,f=Oo,h=!1,p="squarify",d=.5*(1+Math.sqrt(5));o.size=function(t){if(!arguments.length)return l;l=t;return o};o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Oo(e):qo(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return qo(e,t)}if(!arguments.length)return c;var r;f=null==(c=t)?Oo:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n;return o};o.round=function(t){if(!arguments.length)return u!=Number;u=t?Math.round:Number;return o};o.sticky=function(t){if(!arguments.length)return h;h=t;a=null;return o};o.ratio=function(t){if(!arguments.length)return d;d=t;return o};o.mode=function(t){if(!arguments.length)return p;p=t+"";return o};return Ji(o,s)};Za.random={normal:function(t,e){var n=arguments.length;2>n&&(e=1);1>n&&(t=0);return function(){var n,r,i;do{n=2*Math.random()-1;r=2*Math.random()-1;i=n*n+r*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=Za.random.normal.apply(Za,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=Za.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}};Za.scale={};var ml={floor:Ne,ceil:Ne};Za.scale.linear=function(){return Yo([0,1],[0,1],xi,!1)};var vl={s:1,g:1,p:1,r:1,e:1};Za.scale.log=function(){return Jo(Za.scale.linear().domain([0,1]),10,!0,[1,10])};var yl=Za.format(".0e"),xl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Za.scale.pow=function(){return ta(Za.scale.linear(),1,[0,1])};Za.scale.sqrt=function(){return Za.scale.pow().exponent(.5)};Za.scale.ordinal=function(){return na([],{t:"range",a:[[]]})};Za.scale.category10=function(){return Za.scale.ordinal().range(wl)};Za.scale.category20=function(){return Za.scale.ordinal().range(bl)};Za.scale.category20b=function(){return Za.scale.ordinal().range(_l)};Za.scale.category20c=function(){return Za.scale.ordinal().range(Ml)};var wl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(we),bl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(we),_l=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(we),Ml=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(we);Za.scale.quantile=function(){return ra([],[])};Za.scale.quantize=function(){return ia(0,1,[0,1])};Za.scale.threshold=function(){return oa([.5],[0,1])};Za.scale.identity=function(){return aa([0,1])};Za.svg={};Za.svg.arc=function(){function t(){var t=e.apply(this,arguments),o=n.apply(this,arguments),a=r.apply(this,arguments)+kl,s=i.apply(this,arguments)+kl,u=(a>s&&(u=a,a=s,s=u),s-a),l=Es>u?"0":"1",c=Math.cos(a),f=Math.sin(a),h=Math.cos(s),p=Math.sin(s);return u>=Cl?t?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":t?"M"+o*c+","+o*f+"A"+o+","+o+" 0 "+l+",1 "+o*h+","+o*p+"L"+t*h+","+t*p+"A"+t+","+t+" 0 "+l+",0 "+t*c+","+t*f+"Z":"M"+o*c+","+o*f+"A"+o+","+o+" 0 "+l+",1 "+o*h+","+o*p+"L0,0Z"}var e=sa,n=ua,r=la,i=ca;t.innerRadius=function(n){if(!arguments.length)return e;e=Ae(n);return t};t.outerRadius=function(e){if(!arguments.length)return n;n=Ae(e);return t};t.startAngle=function(e){if(!arguments.length)return r;r=Ae(e);return t};t.endAngle=function(e){if(!arguments.length)return i;i=Ae(e);return t};t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,o=(r.apply(this,arguments)+i.apply(this,arguments))/2+kl;return[Math.cos(o)*t,Math.sin(o)*t]};return t};var kl=-js,Cl=Ts-Ps;Za.svg.line=function(){return fa(Ne)};var Sl=Za.map({linear:ha,"linear-closed":pa,step:da,"step-before":ga,"step-after":ma,basis:_a,"basis-open":Ma,"basis-closed":ka,bundle:Ca,cardinal:xa,"cardinal-open":va,"cardinal-closed":ya,monotone:ja});Sl.forEach(function(t,e){e.key=t;e.closed=/-closed$/.test(t)});var Al=[0,2/3,1/3,0],Nl=[0,1/3,2/3,0],El=[0,1/6,2/3,1/6];Za.svg.line.radial=function(){var t=fa(Pa);t.radius=t.x,delete t.x;t.angle=t.y,delete t.y;return t};ga.reverse=ma;ma.reverse=ga;Za.svg.area=function(){return La(Ne)};Za.svg.area.radial=function(){var t=La(Pa);t.radius=t.x,delete t.x;t.innerRadius=t.x0,delete t.x0;t.outerRadius=t.x1,delete t.x1;t.angle=t.y,delete t.y;t.startAngle=t.y0,delete t.y0;t.endAngle=t.y1,delete t.y1;return t};Za.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),l=e(this,a,t,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,u.r,u.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=u.call(t,i,r)+kl,c=l.call(t,i,r)+kl;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Es)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=wr,a=br,s=Da,u=la,l=ca;t.radius=function(e){if(!arguments.length)return s;s=Ae(e);return t};t.source=function(e){if(!arguments.length)return o;o=Ae(e);return t};t.target=function(e){if(!arguments.length)return a;a=Ae(e);return t};t.startAngle=function(e){if(!arguments.length)return u;u=Ae(e);return t};t.endAngle=function(e){if(!arguments.length)return l;l=Ae(e);return t};return t};Za.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];u=u.map(r);return"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=wr,n=br,r=Ia;t.source=function(n){if(!arguments.length)return e;e=Ae(n);return t};t.target=function(e){if(!arguments.length)return n;n=Ae(e);return t};t.projection=function(e){if(!arguments.length)return r;r=e;return t};return t};Za.svg.diagonal.radial=function(){var t=Za.svg.diagonal(),e=Ia,n=t.projection;t.projection=function(t){return arguments.length?n(za(e=t)):e};return t};Za.svg.symbol=function(){function t(t,r){return(Tl.get(e.call(this,t,r))||Ra)(n.call(this,t,r))}var e=qa,n=Oa;t.type=function(n){if(!arguments.length)return e;e=Ae(n);return t};t.size=function(e){if(!arguments.length)return n;n=Ae(e);return t};return t};var Tl=Za.map({circle:Ra,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Dl)),n=e*Dl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Ll),n=e*Ll/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Ll),n=e*Ll/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});Za.svg.symbolTypes=Tl.keys();var jl,Pl,Ll=Math.sqrt(3),Dl=Math.tan(30*Ds),Il=[],zl=0;Il.call=bs.call;Il.empty=bs.empty;Il.node=bs.node;Il.size=bs.size;Za.transition=function(t){return arguments.length?jl?t.transition():t:ks.transition()};Za.transition.prototype=Il;Il.select=function(t){var e,n,r,i=this.id,o=[];t=A(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]);for(var u=this[a],l=-1,c=u.length;++l<c;)if((r=u[l])&&(n=t.call(r,r.__data__,l,a))){"__data__"in r&&(n.__data__=r.__data__);Va(n,l,i,r.__transition__[i]);e.push(n)}else e.push(null)}return Fa(o,i)};Il.selectAll=function(t){var e,n,r,i,o,a=this.id,s=[];t=N(t);for(var u=-1,l=this.length;++u<l;)for(var c=this[u],f=-1,h=c.length;++f<h;)if(r=c[f]){o=r.__transition__[a];n=t.call(r,r.__data__,f,u);s.push(e=[]);for(var p=-1,d=n.length;++p<d;){(i=n[p])&&Va(i,p,a,o);e.push(i)}}return Fa(s,a)};Il.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=R(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]);for(var n=this[o],s=0,u=n.length;u>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return Fa(i,this.id)};Il.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):U(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(r){r.__transition__[n].tween.set(t,e)})};Il.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Hi:xi,s=Za.ns.qualify(t);return Ua(this,"attr."+t,e,s.local?o:i)};Il.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=Za.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)};Il.style=function(t,e,n){function r(){this.style.removeProperty(t)}function i(e){return null==e?r:(e+="",function(){var r,i=ns.getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=xi(i,e),function(e){this.style.setProperty(t,r(e),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return Ua(this,"style."+t,e,i)};Il.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,ns.getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}arguments.length<3&&(n="");return this.tween("style."+t,r)};Il.text=function(t){return Ua(this,"text",t,Ha)};Il.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})};Il.ease=function(t){var e=this.id;if(arguments.length<1)return this.node().__transition__[e].ease;"function"!=typeof t&&(t=Za.ease.apply(Za,arguments));return U(this,function(n){n.__transition__[e].ease=t})};Il.delay=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].delay:U(this,"function"==typeof t?function(n,r,i){n.__transition__[e].delay=+t.call(n,n.__data__,r,i)}:(t=+t,function(n){n.__transition__[e].delay=t}))};Il.duration=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].duration:U(this,"function"==typeof t?function(n,r,i){n.__transition__[e].duration=Math.max(1,t.call(n,n.__data__,r,i))}:(t=Math.max(1,t),function(n){n.__transition__[e].duration=t}))};Il.each=function(t,e){var n=this.id;if(arguments.length<2){var r=Pl,i=jl;jl=n;U(this,function(e,r,i){Pl=e.__transition__[n];t.call(e,e.__data__,r,i)});Pl=r;jl=i}else U(this,function(r){var i=r.__transition__[n];(i.event||(i.event=Za.dispatch("start","end"))).on(t,e)});return this};Il.transition=function(){for(var t,e,n,r,i=this.id,o=++zl,a=[],s=0,u=this.length;u>s;s++){a.push(t=[]);for(var e=this[s],l=0,c=e.length;c>l;l++){if(n=e[l]){r=Object.create(n.__transition__[i]);r.delay+=r.duration;Va(n,l,o,r)}t.push(n)}}return Fa(a,o)};Za.svg.axis=function(){function t(t){t.each(function(){var t,l=Za.select(this),c=this.__chart__||n,f=this.__chart__=n.copy(),h=null==u?f.ticks?f.ticks.apply(f,s):f.domain():u,p=null==e?f.tickFormat?f.tickFormat.apply(f,s):Ne:e,d=l.selectAll(".tick").data(h,f),g=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Ps),m=Za.transition(d.exit()).style("opacity",Ps).remove(),v=Za.transition(d.order()).style("opacity",1),y=Math.max(i,0)+a,x=Fo(f),w=l.selectAll(".domain").data([0]),b=(w.enter().append("path").attr("class","domain"),Za.transition(w));g.append("line");g.append("text");var _,M,k,C,S=g.select("line"),A=v.select("line"),N=d.select("text").text(p),E=g.select("text"),T=v.select("text"),j="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r){t=Wa,_="x",k="y",M="x2",C="y2";N.attr("dy",0>j?"0em":".71em").style("text-anchor","middle");b.attr("d","M"+x[0]+","+j*o+"V0H"+x[1]+"V"+j*o)}else{t=Ya,_="y",k="x",M="y2",C="x2";N.attr("dy",".32em").style("text-anchor",0>j?"end":"start");b.attr("d","M"+j*o+","+x[0]+"H0V"+x[1]+"H"+j*o)}S.attr(C,j*i);E.attr(k,j*y);A.attr(M,0).attr(C,j*i);T.attr(_,0).attr(k,j*y);if(f.rangeBand){var P=f,L=P.rangeBand()/2;c=f=function(t){return P(t)+L}}else c.rangeBand?c=f:m.call(t,f,c);g.call(t,c,f);v.call(t,f,f)})}var e,n=Za.scale.linear(),r=Ol,i=6,o=6,a=3,s=[10],u=null;t.scale=function(e){if(!arguments.length)return n;n=e;return t};t.orient=function(e){if(!arguments.length)return r;r=e in ql?e+"":Ol;return t};t.ticks=function(){if(!arguments.length)return s;s=arguments;return t};t.tickValues=function(e){if(!arguments.length)return u;u=e;return t};t.tickFormat=function(n){if(!arguments.length)return e;e=n;return t};t.tickSize=function(e){var n=arguments.length;if(!n)return i;i=+e;o=+arguments[n-1];return t};t.innerTickSize=function(e){if(!arguments.length)return i;i=+e;return t};t.outerTickSize=function(e){if(!arguments.length)return o;o=+e;return t};t.tickPadding=function(e){if(!arguments.length)return a;a=+e;return t};t.tickSubdivide=function(){return arguments.length&&t};return t};var Ol="bottom",ql={top:1,right:1,bottom:1,left:1};Za.svg.brush=function(){function t(o){o.each(function(){var o=Za.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(d,Ne);s.exit().remove();s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Rl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");s.style("display",t.empty()?"none":null);var c,f=Za.transition(o),h=Za.transition(a);if(u){c=Fo(u);h.attr("x",c[0]).attr("width",c[1]-c[0]);n(f)}if(l){c=Fo(l);h.attr("y",c[0]).attr("height",c[1]-c[0]);r(f)}e(f)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+c[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",c[0]);t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function r(t){t.select(".extent").attr("y",f[0]);t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function i(){function i(){if(32==Za.event.keyCode){if(!N){y=null;T[0]-=c[1];T[1]-=f[1];N=2}M()}}function d(){if(32==Za.event.keyCode&&2==N){T[0]+=c[1];T[1]+=f[1];N=0;M()}}function g(){var t=Za.mouse(w),i=!1;if(x){t[0]+=x[0];t[1]+=x[1]}if(!N)if(Za.event.altKey){y||(y=[(c[0]+c[1])/2,(f[0]+f[1])/2]);T[0]=c[+(t[0]<y[0])];T[1]=f[+(t[1]<y[1])]}else y=null;if(S&&m(t,u,0)){n(k);i=!0}if(A&&m(t,l,1)){r(k);i=!0}if(i){e(k);_({type:"brush",mode:N?"move":"resize"})}}function m(t,e,n){var r,i,s=Fo(e),u=s[0],l=s[1],d=T[n],g=n?f:c,m=g[1]-g[0];if(N){u-=d;l-=m+d}r=(n?p:h)?Math.max(u,Math.min(l,t[n])):t[n];if(N)i=(r+=d)+m;else{y&&(d=Math.max(u,Math.min(l,2*y[n]-r)));if(r>d){i=r;r=d}else i=d}if(g[0]!=r||g[1]!=i){n?a=null:o=null;g[0]=r;g[1]=i;return!0}}function v(){g();k.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null);Za.select("body").style("cursor",null);j.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);E();_({type:"brushend"})}var y,x,w=this,b=Za.select(Za.event.target),_=s.of(w,arguments),k=Za.select(w),C=b.datum(),S=!/^(n|s)$/.test(C)&&u,A=!/^(e|w)$/.test(C)&&l,N=b.classed("extent"),E=X(),T=Za.mouse(w),j=Za.select(ns).on("keydown.brush",i).on("keyup.brush",d);Za.event.changedTouches?j.on("touchmove.brush",g).on("touchend.brush",v):j.on("mousemove.brush",g).on("mouseup.brush",v);k.interrupt().selectAll("*").interrupt();if(N){T[0]=c[0]-T[0];T[1]=f[0]-T[1]}else if(C){var P=+/w$/.test(C),L=+/^n/.test(C);x=[c[1-P]-T[0],f[1-L]-T[1]];T[0]=c[P];T[1]=f[L]}else Za.event.altKey&&(y=T.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null);Za.select("body").style("cursor",b.style("cursor"));_({type:"brushstart"});g()}var o,a,s=C(t,"brushstart","brush","brushend"),u=null,l=null,c=[0,0],f=[0,0],h=!0,p=!0,d=Fl[0];t.event=function(t){t.each(function(){var t=s.of(this,arguments),e={x:c,y:f,i:o,j:a},n=this.__chart__||e;this.__chart__=e;if(jl)Za.select(this).transition().each("start.brush",function(){o=n.i;a=n.j;c=n.x;f=n.y;t({type:"brushstart"})}).tween("brush:brush",function(){var n=wi(c,e.x),r=wi(f,e.y);o=a=null;return function(i){c=e.x=n(i);f=e.y=r(i);t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i;a=e.j;t({type:"brush",mode:"resize"});t({type:"brushend"})});else{t({type:"brushstart"});t({type:"brush",mode:"resize"});t({type:"brushend"})}})};t.x=function(e){if(!arguments.length)return u;u=e;d=Fl[!u<<1|!l];return t};t.y=function(e){if(!arguments.length)return l;l=e;d=Fl[!u<<1|!l];return t};t.clamp=function(e){if(!arguments.length)return u&&l?[h,p]:u?h:l?p:null;u&&l?(h=!!e[0],p=!!e[1]):u?h=!!e:l&&(p=!!e);return t};t.extent=function(e){var n,r,i,s,h;if(!arguments.length){if(u)if(o)n=o[0],r=o[1];else{n=c[0],r=c[1];u.invert&&(n=u.invert(n),r=u.invert(r));n>r&&(h=n,n=r,r=h)}if(l)if(a)i=a[0],s=a[1];else{i=f[0],s=f[1];l.invert&&(i=l.invert(i),s=l.invert(s));i>s&&(h=i,i=s,s=h)}return u&&l?[[n,i],[r,s]]:u?[n,r]:l&&[i,s]}if(u){n=e[0],r=e[1];l&&(n=n[0],r=r[0]);o=[n,r];u.invert&&(n=u(n),r=u(r));n>r&&(h=n,n=r,r=h);(n!=c[0]||r!=c[1])&&(c=[n,r])}if(l){i=e[0],s=e[1];u&&(i=i[1],s=s[1]);a=[i,s];l.invert&&(i=l(i),s=l(s));i>s&&(h=i,i=s,s=h);(i!=f[0]||s!=f[1])&&(f=[i,s])}return t};t.clear=function(){if(!t.empty()){c=[0,0],f=[0,0];o=a=null}return t};t.empty=function(){return!!u&&c[0]==c[1]||!!l&&f[0]==f[1]};return Za.rebind(t,s,"on")};var Rl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Fl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ul=au.format=hu.timeFormat,Hl=Ul.utc,Vl=Hl("%Y-%m-%dT%H:%M:%S.%LZ");Ul.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ba:Vl;Ba.parse=function(t){var e=new Date(t);return isNaN(e)?null:e};Ba.toString=Vl.toString;au.second=Ue(function(t){return new su(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()});au.seconds=au.second.range;au.seconds.utc=au.second.utc.range;au.minute=Ue(function(t){return new su(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()});au.minutes=au.minute.range;au.minutes.utc=au.minute.utc.range;au.hour=Ue(function(t){var e=t.getTimezoneOffset()/60;return new su(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()});au.hours=au.hour.range;au.hours.utc=au.hour.utc.range;au.month=Ue(function(t){t=au.day(t);t.setDate(1);return t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()});au.months=au.month.range;au.months.utc=au.month.utc.range;var Wl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Yl=[[au.second,1],[au.second,5],[au.second,15],[au.second,30],[au.minute,1],[au.minute,5],[au.minute,15],[au.minute,30],[au.hour,1],[au.hour,3],[au.hour,6],[au.hour,12],[au.day,1],[au.day,2],[au.week,1],[au.month,1],[au.month,3],[au.year,1]],Bl=Ul.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Tn]]),Gl={range:function(t,e,n){return Za.range(Math.ceil(t/n)*n,+e,n).map(Xa)},floor:Ne,ceil:Ne};Yl.year=au.year;au.scale=function(){return Ga(Za.scale.linear(),Yl,Bl)};var Xl=Yl.map(function(t){return[t[0].utc,t[1]]}),Ql=Hl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Tn]]);Xl.year=au.year.utc;au.scale.utc=function(){return Ga(Za.scale.linear(),Xl,Ql)};Za.text=Ee(function(t){return t.responseText});Za.json=function(t,e){return Te(t,"application/json",Qa,e)};Za.html=function(t,e){return Te(t,"text/html",$a,e)};Za.xml=Ee(function(t){return t.responseXML});"function"==typeof t&&t.amd?t(Za):"object"==typeof n&&n.exports&&(n.exports=Za);this.d3=Za}()},{}],11:[function(t){var e=function(){try{return t("jquery")}catch(e){return window.jQuery}}();(function(t,e){function n(e,n){var i,o,a,s=e.nodeName.toLowerCase();if("area"===s){i=e.parentNode;o=i.name;if(!e.href||!o||"map"!==i.nodeName.toLowerCase())return!1;a=t("img[usemap=#"+o+"]")[0];return!!a&&r(a)}return(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"===s?e.href||n:n)&&r(e)}function r(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var i=0,o=/^ui-id-\d+$/;t.ui=t.ui||{};t.extend(t.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});t.fn.extend({focus:function(e){return function(n,r){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus();r&&r.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var r,i,o=t(this[0]);o.length&&o[0]!==document;){r=o.css("position");if("absolute"===r||"relative"===r||"fixed"===r){i=parseInt(o.css("zIndex"),10);if(!isNaN(i)&&0!==i)return i}o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}});t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,r){return!!t.data(e,r[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var r=t.attr(e,"tabindex"),i=isNaN(r);return(i||r>=0)&&n(e,!i)}});t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,r){function i(e,n,r,i){t.each(o,function(){n-=parseFloat(t.css(e,"padding"+this))||0;r&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0);i&&(n-=parseFloat(t.css(e,"margin"+this))||0)});return n}var o="Width"===r?["Left","Right"]:["Top","Bottom"],a=r.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+r]=function(n){return n===e?s["inner"+r].call(this):this.each(function(){t(this).css(a,i(this,n)+"px")})};t.fn["outer"+r]=function(e,n){return"number"!=typeof e?s["outer"+r].call(this,e):this.each(function(){t(this).css(a,i(this,e,!0,n)+"px")})}});t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))});t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData));t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());t.support.selectstart="onselectstart"in document.createElement("div");t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});t.extend(t.ui,{plugin:{add:function(e,n,r){var i,o=t.ui[e].prototype;for(i in r){o.plugins[i]=o.plugins[i]||[];o.plugins[i].push([n,r[i]])}},call:function(t,e,n){var r,i=t.plugins[e];if(i&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(r=0;r<i.length;r++)t.options[i[r][0]]&&i[r][1].apply(t.element,n)}},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;if(e[r]>0)return!0;e[r]=1;i=e[r]>0;e[r]=0;return i}})})(e)},{jquery:void 0}],12:[function(t){var e=function(){try{return t("jquery")}catch(e){return window.jQuery}}();t("./widget");(function(t){var e=!1;t(document).mouseup(function(){e=!1});t.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent")){t.removeData(n.target,e.widgetName+".preventClickEvent");n.stopImmediatePropagation();return!1}});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseStarted&&this._mouseUp(n);this._mouseDownEvent=n;var r=this,i=1===n.which,o="string"==typeof this.options.cancel&&n.target.nodeName?t(n.target).closest(this.options.cancel).length:!1;if(!i||o||!this._mouseCapture(n))return!0;
this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(n)&&this._mouseDelayMet(n)){this._mouseStarted=this._mouseStart(n)!==!1;if(!this._mouseStarted){n.preventDefault();return!0}}!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(t){return r._mouseMove(t)};this._mouseUpDelegate=function(t){return r._mouseUp(t)};t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);n.preventDefault();e=!0;return!0}},_mouseMove:function(e){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(this._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1;this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)}return!this._mouseStarted},_mouseUp:function(e){t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=!1;e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0);this._mouseStop(e)}return!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(e)},{"./widget":14,jquery:void 0}],13:[function(t){var e=function(){try{return t("jquery")}catch(e){return window.jQuery}}();t("./core");t("./mouse");t("./widget");(function(t){function e(t,e,n){return t>e&&e+n>t}function n(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===t.axis||n(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,n){if("disabled"===e){this.options[e]=n;this.widget().toggleClass("ui-sortable-disabled",!!n)}else t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,n){var r=null,i=!1,o=this;if(this.reverting)return!1;if(this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(e);t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o){r=t(this);return!1}});t.data(e.target,o.widgetName+"-item")===o&&(r=t(e.target));if(!r)return!1;if(this.options.handle&&!n){t(this.options.handle,r).find("*").addBack().each(function(){this===e.target&&(i=!0)});if(!i)return!1}this.currentItem=r;this._removeCurrentsFromItems();return!0},_mouseStart:function(e,n,r){var i,o,a=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(e);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();a.containment&&this._setContainment();if(a.cursor&&"auto"!==a.cursor){o=this.document.find("body");this.storedCursor=o.css("cursor");o.css("cursor",a.cursor);this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)}if(a.opacity){this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity"));this.helper.css("opacity",a.opacity)}if(a.zIndex){this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex"));this.helper.css("zIndex",a.zIndex)}this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",e,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",e,this._uiHash(this));t.ui.ddmanager&&(t.ui.ddmanager.current=this);t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(e);return!0},_mouseDrag:function(e){var n,r,i,o,a=this.options,s=!1;this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){if(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName){this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed);this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)}else{e.pageY-t(document).scrollTop()<a.scrollSensitivity?s=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(s=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed));e.pageX-t(document).scrollLeft()<a.scrollSensitivity?s=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(s=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))}s!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)}this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(n=this.items.length-1;n>=0;n--){r=this.items[n];i=r.item[0];o=this._intersectsWithPointer(r);if(o&&r.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==i&&!t.contains(this.placeholder[0],i)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],i):!0)){this.direction=1===o?"down":"up";if("pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(e,r);this._trigger("change",e,this._uiHash());break}}this._contactContainers(e);t.ui.ddmanager&&t.ui.ddmanager.drag(this,e);this._trigger("sort",e,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(e,n){if(e){t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e);if(this.options.revert){var r=this,i=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));o&&"y"!==o||(a.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){r._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,this._uiHash(this));if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",null,this._uiHash(this));this.containers[e].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove();t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null});this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),r=[];e=e||{};t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&r.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))});!r.length&&e.key&&r.push(e.key+"=");return r.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),r=[];e=e||{};n.each(function(){r.push(t(e.item||this).attr(e.attribute||"id")||"")});return r},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,o=t.left,a=o+t.width,s=t.top,u=s+t.height,l=this.offset.click.top,c=this.offset.click.left,f="x"===this.options.axis||r+l>s&&u>r+l,h="y"===this.options.axis||e+c>o&&a>e+c,p=f&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<u},_intersectsWithPointer:function(t){var n="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=n&&r,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return i?this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var n=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),r=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&r||"left"===o&&!r:i&&("down"===i&&n||"up"===i&&!n)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){this._refreshItems(t);this.refreshPositions();return this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){s.push(this)}var r,i,o,a,s=[],u=[],l=this._connectWith();if(l&&e)for(r=l.length-1;r>=0;r--){o=t(l[r]);for(i=o.length-1;i>=0;i--){a=t.data(o[i],this.widgetFullName);a&&a!==this&&!a.options.disabled&&u.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a])}}u.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(r=u.length-1;r>=0;r--)u[r][0].each(n);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[];this.containers=[this];var n,r,i,o,a,s,u,l,c=this.items,f=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--){i=t(h[n]);for(r=i.length-1;r>=0;r--){o=t.data(i[r],this.widgetFullName);if(o&&o!==this&&!o.options.disabled){f.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]);this.containers.push(o)}}}for(n=f.length-1;n>=0;n--){a=f[n][1];s=f[n][0];for(r=0,l=s.length;l>r;r++){u=t(s[r]);u.data(this.widgetName+"-item",a);c.push({item:u,instance:a,width:0,height:0,left:0,top:0})}}},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,r,i,o;for(n=this.items.length-1;n>=0;n--){r=this.items[n];if(r.instance===this.currentContainer||!this.currentContainer||r.item[0]===this.currentItem[0]){i=this.options.toleranceElement?t(this.options.toleranceElement,r.item):r.item;if(!e){r.width=i.outerWidth();r.height=i.outerHeight()}o=i.offset();r.left=o.left;r.top=o.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--){o=this.containers[n].element.offset();this.containers[n].containerCache.left=o.left;this.containers[n].containerCache.top=o.top;this.containers[n].containerCache.width=this.containers[n].element.outerWidth();this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(e){e=e||this;var n,r=e.options;if(!r.placeholder||r.placeholder.constructor===String){n=r.placeholder;r.placeholder={element:function(){var r=e.currentItem[0].nodeName.toLowerCase(),i=t("<"+r+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");"tr"===r?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)}):"img"===r&&i.attr("src",e.currentItem.attr("src"));n||i.css("visibility","hidden");return i},update:function(t,i){if(!n||r.forcePlaceholderSize){i.height()||i.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10));i.width()||i.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}}}}e.placeholder=t(r.placeholder.element.call(e.element,e.currentItem));e.currentItem.after(e.placeholder);r.placeholder.update(e,e.placeholder)},_contactContainers:function(r){var i,o,a,s,u,l,c,f,h,p,d=null,g=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i];g=i}else if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",r,this._uiHash(this));this.containers[i].containerCache.over=0}if(d)if(1===this.containers.length){if(!this.containers[g].containerCache.over){this.containers[g]._trigger("over",r,this._uiHash(this));this.containers[g].containerCache.over=1}}else{a=1e4;s=null;p=d.floating||n(this.currentItem);u=p?"left":"top";l=p?"width":"height";c=this.positionAbs[u]+this.offset.click[u];for(o=this.items.length-1;o>=0;o--)if(t.contains(this.containers[g].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))){f=this.items[o].item.offset()[u];h=!1;if(Math.abs(f-c)>Math.abs(f+this.items[o][l]-c)){h=!0;f+=this.items[o][l]}if(Math.abs(f-c)<a){a=Math.abs(f-c);s=this.items[o];this.direction=h?"up":"down"}}if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;s?this._rearrange(r,s,null,!0):this._rearrange(r,null,this.containers[g].element,!0);this._trigger("change",r,this._uiHash());this.containers[g]._trigger("change",r,this._uiHash(this));this.currentContainer=this.containers[g];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[g]._trigger("over",r,this._uiHash(this));this.containers[g].containerCache.over=1}},_createHelper:function(e){var n=this.options,r=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;r.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]);r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width());(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height());return r},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" "));t.isArray(e)&&(e={left:+e[0],top:+e[1]||0});"left"in e&&(this.offset.click.left=e.left+this.margins.left);"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left);"top"in e&&(this.offset.click.top=e.top+this.margins.top);"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();if("absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0});return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode);("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);if(!/^(document|window|parent)$/.test(i.containment)){e=t(i.containment)[0];n=t(i.containment).offset();r="hidden"!==t(e).css("overflow");this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(e,n){n||(n=this.position);var r="absolute"===e?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*r}},_generatePosition:function(e){var n,r,i=this.options,o=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,u=/(html|body)/i.test(s[0].tagName);"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());if(this.originalPosition){if(this.containment){e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left);e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top);e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left);e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)}if(i.grid){n=this.originalPageY+Math.round((a-this.originalPageY)/i.grid[1])*i.grid[1];a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n;r=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0];o=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r}}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():u?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():u?0:s.scrollLeft())}},_rearrange:function(t,e,n,r){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(t,e){function n(t,e,n){return function(r){n._trigger(t,r,e._uiHash(e))}}this.reverting=!1;var r,i=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)("auto"===this._storedCSS[r]||"static"===this._storedCSS[r])&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!e&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push(function(t){this._trigger("update",t,this._uiHash())});if(this!==this.currentContainer&&!e){i.push(function(t){this._trigger("remove",t,this._uiHash())});i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer));i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer))}for(r=this.containers.length-1;r>=0;r--){e||i.push(n("deactivate",this,this.containers[r]));if(this.containers[r].containerCache.over){i.push(n("out",this,this.containers[r]));this.containers[r].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",t,this._uiHash());for(r=0;r<i.length;r++)i[r].call(this,t);this._trigger("stop",t,this._uiHash())}this.fromOutside=!1;return!1}e||this._trigger("beforeStop",t,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!e){for(r=0;r<i.length;r++)i[r].call(this,t);this._trigger("stop",t,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})})(e)},{"./core":11,"./mouse":12,"./widget":14,jquery:void 0}],14:[function(t){var e=function(){try{return t("jquery")}catch(e){return window.jQuery}}();(function(t,e){var n=0,r=Array.prototype.slice,i=t.cleanData;t.cleanData=function(e){for(var n,r=0;null!=(n=e[r]);r++)try{t(n).triggerHandler("remove")}catch(o){}i(e)};t.widget=function(e,n,r){var i,o,a,s,u={},l=e.split(".")[0];e=e.split(".")[1];i=l+"-"+e;if(!r){r=n;n=t.Widget}t.expr[":"][i.toLowerCase()]=function(e){return!!t.data(e,i)};t[l]=t[l]||{};o=t[l][e];a=t[l][e]=function(t,e){if(!this._createWidget)return new a(t,e);arguments.length&&this._createWidget(t,e);return void 0};t.extend(a,o,{version:r.version,_proto:t.extend({},r),_childConstructors:[]});s=new n;s.options=t.widget.extend({},s.options);t.each(r,function(e,r){u[e]=t.isFunction(r)?function(){var t=function(){return n.prototype[e].apply(this,arguments)},i=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;this._super=t;this._superApply=i;e=r.apply(this,arguments);this._super=n;this._superApply=o;return e}}():r});a.prototype=t.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||e:e},u,{constructor:a,namespace:l,widgetName:e,widgetFullName:i});if(o){t.each(o._childConstructors,function(e,n){var r=n.prototype;t.widget(r.namespace+"."+r.widgetName,a,n._proto)});delete o._childConstructors}else n._childConstructors.push(a);t.widget.bridge(e,a)};t.widget.extend=function(n){for(var i,o,a=r.call(arguments,1),s=0,u=a.length;u>s;s++)for(i in a[s]){o=a[s][i];a[s].hasOwnProperty(i)&&o!==e&&(n[i]=t.isPlainObject(o)?t.isPlainObject(n[i])?t.widget.extend({},n[i],o):t.widget.extend({},o):o)}return n};t.widget.bridge=function(n,i){var o=i.prototype.widgetFullName||n;t.fn[n]=function(a){var s="string"==typeof a,u=r.call(arguments,1),l=this;a=!s&&u.length?t.widget.extend.apply(null,[a].concat(u)):a;this.each(s?function(){var r,i=t.data(this,o);if(!i)return t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'");if(!t.isFunction(i[a])||"_"===a.charAt(0))return t.error("no such method '"+a+"' for "+n+" widget instance");r=i[a].apply(i,u);if(r!==i&&r!==e){l=r&&r.jquery?l.pushStack(r.get()):r;return!1}}:function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new i(a,this))});return l}};t.Widget=function(){};t.Widget._childConstructors=[];t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,r){r=t(r||this.defaultElement||this)[0];this.element=t(r);this.uuid=n++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=t.widget.extend({},this.options,this._getCreateOptions(),e);this.bindings=t();this.hoverable=t();this.focusable=t();if(r!==this){t.data(r,this.widgetFullName,this);this._on(!0,this.element,{remove:function(t){t.target===r&&this.destroy()}});this.document=t(r.style?r.ownerDocument:r.document||r);this.window=t(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,r){var i,o,a,s=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n){s={};i=n.split(".");n=i.shift();if(i.length){o=s[n]=t.widget.extend({},this.options[n]);for(a=0;a<i.length-1;a++){o[i[a]]=o[i[a]]||{};o=o[i[a]]}n=i.pop();if(1===arguments.length)return o[n]===e?null:o[n];o[n]=r}else{if(1===arguments.length)return this.options[n]===e?null:this.options[n];s[n]=r}}this._setOptions(s);return this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){this.options[t]=e;if("disabled"===t){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,n,r){var i,o=this;if("boolean"!=typeof e){r=n;n=e;e=!1}if(r){n=i=t(n);this.bindings=this.bindings.add(n)}else{r=n;n=this.element;i=this.widget()}t.each(r,function(r,a){function s(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var u=r.match(/^(\w+)\s*(.*)$/),l=u[1]+o.eventNamespace,c=u[2];c?i.delegate(c,l,s):n.bind(l,s)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?r[t]:t).apply(r,arguments)}var r=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e);this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e);this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,r){var i,o,a=this.options[e];r=r||{};n=t.Event(n);n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();n.target=this.element[0];o=n.originalEvent;if(o)for(i in o)i in n||(n[i]=o[i]);this.element.trigger(n,r);return!(t.isFunction(a)&&a.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())
}};t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(r,i,o){"string"==typeof i&&(i={effect:i});var a,s=i?i===!0||"number"==typeof i?n:i.effect||n:e;i=i||{};"number"==typeof i&&(i={duration:i});a=!t.isEmptyObject(i);i.complete=o;i.delay&&r.delay(i.delay);a&&t.effects&&t.effects.effect[s]?r[e](i):s!==e&&r[s]?r[s](i.duration,i.easing,o):r.queue(function(n){t(this)[e]();o&&o.call(r[0]);n()})}})})(e)},{jquery:void 0}],15:[function(e,n,r){(function(){(function(i){if("object"==typeof r&&"object"==typeof n)return i(function(){try{return e("jquery")}catch(t){return window.jQuery}}());if("function"==typeof t&&t.amd)return t(["jquery"],i);i(jQuery);return void 0})(function(t){var e;e=t;return e.pivotUtilities.d3_renderers={Treemap:function(t,n){var r,i,o,a,s,u,l,c,f,h,p,d,g,m;o={localeStrings:{}};n=e.extend(o,n);u=e("<div style='width: 100%; height: 100%;'>");c={name:"All",children:[]};r=function(t,e,n){var i,o,a,s,u,l,c;if(0!==e.length){null==(l=t.children)&&(t.children=[]);a=e.shift();c=t.children;for(s=0,u=c.length;u>s;s++){i=c[s];if(i.name===a){r(i,e,n);return}}o={name:a};r(o,e,n);return t.children.push(o)}t.value=n};m=t.getRowKeys();for(d=0,g=m.length;g>d;d++){l=m[d];h=t.getAggregator(l,[]).value();null!=h&&r(c,l,h)}i=d3.scale.category10();p=e(window).width()/1.4;a=e(window).height()/1.4;s=10;f=d3.layout.treemap().size([p,a]).sticky(!0).value(function(t){return t.size});d3.select(u[0]).append("div").style("position","relative").style("width",p+2*s+"px").style("height",a+2*s+"px").style("left",s+"px").style("top",s+"px").datum(c).selectAll(".node").data(f.padding([15,0,0,0]).value(function(t){return t.value}).nodes).enter().append("div").attr("class","node").style("background",function(t){return null!=t.children?"lightgrey":i(t.name)}).text(function(t){return t.name}).call(function(){this.style("left",function(t){return t.x+"px"}).style("top",function(t){return t.y+"px"}).style("width",function(t){return Math.max(0,t.dx-1)+"px"}).style("height",function(t){return Math.max(0,t.dy-1)+"px"})});return u}}})}).call(this)},{jquery:void 0}],16:[function(e,n,r){(function(){(function(i){if("object"==typeof r&&"object"==typeof n)return i(function(){try{return e("jquery")}catch(t){return window.jQuery}}());if("function"==typeof t&&t.amd)return t(["jquery"],i);i(jQuery);return void 0})(function(t){var e,n;e=t;n=function(t,n){return function(r,i){var o,a,s,u,l,c,f,h,p,d,g,m,v,y,x,w,b,_,M,k,C,S,A,N,E;c={localeStrings:{vs:"vs",by:"by"}};i=e.extend(c,i);b=r.getRowKeys();0===b.length&&b.push([]);s=r.getColKeys();0===s.length&&s.push([]);d=function(){var t,e,n;n=[];for(t=0,e=b.length;e>t;t++){h=b[t];n.push(h.join("-"))}return n}();d.unshift("");m=0;u=[d];for(S=0,N=s.length;N>S;S++){a=s[S];x=[a.join("-")];m+=x[0].length;for(A=0,E=b.length;E>A;A++){w=b[A];o=r.getAggregator(w,a);x.push(null!=o.value()?o.value():null)}u.push(x)}_=k=r.aggregatorName+(r.valAttrs.length?"("+r.valAttrs.join(", ")+")":"");p=r.colAttrs.join("-");""!==p&&(_+=" "+i.localeStrings.vs+" "+p);f=r.rowAttrs.join("-");""!==f&&(_+=" "+i.localeStrings.by+" "+f);v={width:e(window).width()/1.4,height:e(window).height()/1.4,title:_,hAxis:{title:p,slantedText:m>50},vAxis:{title:k}};2===u[0].length&&""===u[0][1]&&(v.legend={position:"none"});for(g in n){M=n[g];v[g]=M}l=google.visualization.arrayToDataTable(u);y=e("<div style='width: 100%; height: 100%;'>");C=new google.visualization.ChartWrapper({dataTable:l,chartType:t,options:v});C.draw(y[0]);y.bind("dblclick",function(){var t;t=new google.visualization.ChartEditor;google.visualization.events.addListener(t,"ok",function(){return t.getChartWrapper().draw(y[0])});return t.openDialog(C)});return y}};return e.pivotUtilities.gchart_renderers={"Line Chart":n("LineChart"),"Bar Chart":n("ColumnChart"),"Stacked Bar Chart":n("ColumnChart",{isStacked:!0}),"Area Chart":n("AreaChart",{isStacked:!0})}})}).call(this)},{jquery:void 0}],17:[function(e,n,r){(function(){var i=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},o=[].slice,a=function(t,e){return function(){return t.apply(e,arguments)}},s={}.hasOwnProperty;(function(i){if("object"==typeof r&&"object"==typeof n)return i(function(){try{return e("jquery")}catch(t){return window.jQuery}}());if("function"==typeof t&&t.amd)return t(["jquery"],i);i(jQuery);return void 0})(function(t){var e,n,r,u,l,c,f,h,p,d,g,m,v,y,x,w,b;e=t;r=function(t,e,n){var r,i,o,a;t+="";i=t.split(".");o=i[0];a=i.length>1?n+i[1]:"";r=/(\d+)(\d{3})/;for(;r.test(o);)o=o.replace(r,"$1"+e+"$2");return o+a};g=function(t){var n;n={digitsAfterDecimal:2,scaler:1,thousandsSep:",",decimalSep:".",prefix:"",suffix:"",showZero:!1};t=e.extend(n,t);return function(e){var n;if(isNaN(e)||!isFinite(e))return"";if(0===e&&!t.showZero)return"";n=r((t.scaler*e).toFixed(t.digitsAfterDecimal),t.thousandsSep,t.decimalSep);return""+t.prefix+n+t.suffix}};y=g();x=g({digitsAfterDecimal:0});w=g({digitsAfterDecimal:1,scaler:100,suffix:"%"});u={count:function(t){null==t&&(t=x);return function(){return function(){return{count:0,push:function(){return this.count++},value:function(){return this.count},format:t}}}},countUnique:function(t){null==t&&(t=x);return function(e){var n;n=e[0];return function(){return{uniq:[],push:function(t){var e;return e=t[n],i.call(this.uniq,e)<0?this.uniq.push(t[n]):void 0},value:function(){return this.uniq.length},format:t,numInputs:null!=n?0:1}}}},listUnique:function(t){return function(e){var n;n=e[0];return function(){return{uniq:[],push:function(t){var e;return e=t[n],i.call(this.uniq,e)<0?this.uniq.push(t[n]):void 0},value:function(){return this.uniq.join(t)},format:function(t){return t},numInputs:null!=n?0:1}}}},sum:function(t){null==t&&(t=y);return function(e){var n;n=e[0];return function(){return{sum:0,push:function(t){return isNaN(parseFloat(t[n]))?void 0:this.sum+=parseFloat(t[n])},value:function(){return this.sum},format:t,numInputs:null!=n?0:1}}}},average:function(t){null==t&&(t=y);return function(e){var n;n=e[0];return function(){return{sum:0,len:0,push:function(t){if(!isNaN(parseFloat(t[n]))){this.sum+=parseFloat(t[n]);return this.len++}},value:function(){return this.sum/this.len},format:t,numInputs:null!=n?0:1}}}},sumOverSum:function(t){null==t&&(t=y);return function(e){var n,r;r=e[0],n=e[1];return function(){return{sumNum:0,sumDenom:0,push:function(t){isNaN(parseFloat(t[r]))||(this.sumNum+=parseFloat(t[r]));return isNaN(parseFloat(t[n]))?void 0:this.sumDenom+=parseFloat(t[n])},value:function(){return this.sumNum/this.sumDenom},format:t,numInputs:null!=r&&null!=n?0:2}}}},sumOverSumBound80:function(t,e){null==t&&(t=!0);null==e&&(e=y);return function(n){var r,i;i=n[0],r=n[1];return function(){return{sumNum:0,sumDenom:0,push:function(t){isNaN(parseFloat(t[i]))||(this.sumNum+=parseFloat(t[i]));return isNaN(parseFloat(t[r]))?void 0:this.sumDenom+=parseFloat(t[r])},value:function(){var e;e=t?1:-1;return(.821187207574908/this.sumDenom+this.sumNum/this.sumDenom+1.2815515655446004*e*Math.sqrt(.410593603787454/(this.sumDenom*this.sumDenom)+this.sumNum*(1-this.sumNum/this.sumDenom)/(this.sumDenom*this.sumDenom)))/(1+1.642374415149816/this.sumDenom)},format:e,numInputs:null!=i&&null!=r?0:2}}}},fractionOf:function(t,e,n){null==e&&(e="total");null==n&&(n=w);return function(){var r;r=1<=arguments.length?o.call(arguments,0):[];return function(i,o,a){return{selector:{total:[[],[]],row:[o,[]],col:[[],a]}[e],inner:t.apply(null,r)(i,o,a),push:function(t){return this.inner.push(t)},format:n,value:function(){return this.inner.value()/i.getAggregator.apply(i,this.selector).inner.value()},numInputs:t.apply(null,r)().numInputs}}}}};l=function(t){return{Count:t.count(x),"Count Unique Values":t.countUnique(x),"List Unique Values":t.listUnique(", "),Sum:t.sum(y),"Integer Sum":t.sum(x),Average:t.average(y),"Sum over Sum":t.sumOverSum(y),"80% Upper Bound":t.sumOverSumBound80(!0,y),"80% Lower Bound":t.sumOverSumBound80(!1,y),"Sum as Fraction of Total":t.fractionOf(t.sum(),"total",w),"Sum as Fraction of Rows":t.fractionOf(t.sum(),"row",w),"Sum as Fraction of Columns":t.fractionOf(t.sum(),"col",w),"Count as Fraction of Total":t.fractionOf(t.count(),"total",w),"Count as Fraction of Rows":t.fractionOf(t.count(),"row",w),"Count as Fraction of Columns":t.fractionOf(t.count(),"col",w)}}(u);v={Table:function(t,e){return m(t,e)},"Table Barchart":function(t,n){return e(m(t,n)).barchart()},Heatmap:function(t,n){return e(m(t,n)).heatmap()},"Row Heatmap":function(t,n){return e(m(t,n)).heatmap("rowheatmap")},"Col Heatmap":function(t,n){return e(m(t,n)).heatmap("colheatmap")}};h={en:{aggregators:l,renderers:v,localeStrings:{renderError:"An error occurred rendering the PivotTable results.",computeError:"An error occurred computing the PivotTable results.",uiRenderError:"An error occurred rendering the PivotTable UI.",selectAll:"Select All",selectNone:"Select None",tooMany:"(too many to list)",filterResults:"Filter results",totals:"Totals",vs:"vs",by:"by"}}};p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];b=function(t){return("0"+t).substr(-2,2)};f={bin:function(t,e){return function(n){return n[t]-n[t]%e}},dateFormat:function(t,e,n,r){null==n&&(n=p);null==r&&(r=c);return function(i){var o;o=new Date(Date.parse(i[t]));return isNaN(o)?"":e.replace(/%(.)/g,function(t,e){switch(e){case"y":return o.getFullYear();case"m":return b(o.getMonth()+1);case"n":return n[o.getMonth()];case"d":return b(o.getDate());case"w":return r[o.getDay()];case"x":return o.getDay();case"H":return b(o.getHours());case"M":return b(o.getMinutes());case"S":return b(o.getSeconds());default:return"%"+e}})}}};d=function(t,e){var n,r,i,o,a,s,u;s=/(\d+)|(\D+)/g;a=/\d/;u=/^0/;if("number"==typeof t||"number"==typeof e)return isNaN(t)?1:isNaN(e)?-1:t-e;n=String(t).toLowerCase();i=String(e).toLowerCase();if(n===i)return 0;if(!a.test(n)||!a.test(i))return n>i?1:-1;n=n.match(s);i=i.match(s);for(;n.length&&i.length;){r=n.shift();o=i.shift();if(r!==o)return a.test(r)&&a.test(o)?r.replace(u,".0")-o.replace(u,".0"):r>o?1:-1}return n.length-i.length};e.pivotUtilities={aggregatorTemplates:u,aggregators:l,renderers:v,derivers:f,locales:h,naturalSort:d,numberFormat:g};n=function(){function n(t,e){this.getAggregator=a(this.getAggregator,this);this.getRowKeys=a(this.getRowKeys,this);this.getColKeys=a(this.getColKeys,this);this.sortKeys=a(this.sortKeys,this);this.arrSort=a(this.arrSort,this);this.natSort=a(this.natSort,this);var r=this;this.aggregator=e.aggregator;this.aggregatorName=e.aggregatorName;this.colAttrs=e.cols;this.rowAttrs=e.rows;this.valAttrs=e.vals;this.tree={};this.rowKeys=[];this.colKeys=[];this.rowTotals={};this.colTotals={};this.allTotal=this.aggregator(this,[],[]);this.sorted=!1;n.forEachRecord(t,e.derivedAttributes,function(t){return e.filter(t)?r.processRecord(t):void 0})}n.forEachRecord=function(n,r,i){var o,a,u,l,c,f,h,p,d,g,m,v;o=e.isEmptyObject(r)?i:function(t){var e,n,o;for(e in r){n=r[e];t[e]=null!=(o=n(t))?o:t[e]}return i(t)};if(e.isFunction(n))return n(o);if(e.isArray(n)){if(e.isArray(n[0])){m=[];for(u in n)if(s.call(n,u)){a=n[u];if(u>0){f={};g=n[0];for(l in g)if(s.call(g,l)){c=g[l];f[c]=a[l]}m.push(o(f))}}return m}v=[];for(p=0,d=n.length;d>p;p++){f=n[p];v.push(o(f))}return v}if(n instanceof t){h=[];e("thead > tr > th",n).each(function(){return h.push(e(this).text())});return e("tbody > tr",n).each(function(){f={};e("td",this).each(function(t){return f[h[t]]=e(this).text()});return o(f)})}throw new Error("unknown input format")};n.convertToArray=function(t){var e;e=[];n.forEachRecord(t,{},function(t){return e.push(t)});return e};n.prototype.natSort=function(t,e){return d(t,e)};n.prototype.arrSort=function(t,e){return this.natSort(t.join(),e.join())};n.prototype.sortKeys=function(){if(!this.sorted){this.rowKeys.sort(this.arrSort);this.colKeys.sort(this.arrSort)}return this.sorted=!0};n.prototype.getColKeys=function(){this.sortKeys();return this.colKeys};n.prototype.getRowKeys=function(){this.sortKeys();return this.rowKeys};n.prototype.processRecord=function(t){var e,n,r,i,o,a,s,u,l,c,f,h,p;e=[];i=[];c=this.colAttrs;for(a=0,u=c.length;u>a;a++){o=c[a];e.push(null!=(f=t[o])?f:"null")}h=this.rowAttrs;for(s=0,l=h.length;l>s;s++){o=h[s];i.push(null!=(p=t[o])?p:"null")}r=i.join(String.fromCharCode(0));n=e.join(String.fromCharCode(0));this.allTotal.push(t);if(0!==i.length){if(!this.rowTotals[r]){this.rowKeys.push(i);this.rowTotals[r]=this.aggregator(this,i,[])}this.rowTotals[r].push(t)}if(0!==e.length){if(!this.colTotals[n]){this.colKeys.push(e);this.colTotals[n]=this.aggregator(this,[],e)}this.colTotals[n].push(t)}if(0!==e.length&&0!==i.length){this.tree[r]||(this.tree[r]={});this.tree[r][n]||(this.tree[r][n]=this.aggregator(this,i,e));return this.tree[r][n].push(t)}};n.prototype.getAggregator=function(t,e){var n,r,i;i=t.join(String.fromCharCode(0));r=e.join(String.fromCharCode(0));n=0===t.length&&0===e.length?this.allTotal:0===t.length?this.colTotals[r]:0===e.length?this.rowTotals[i]:this.tree[i][r];return null!=n?n:{value:function(){return null},format:function(){return""}}};return n}();m=function(t,n){var r,i,o,a,u,l,c,f,h,p,d,g,m,v,y,x,w,b,_,M,k;l={localeStrings:{totals:"Totals"}};n=e.extend(l,n);o=t.colAttrs;d=t.rowAttrs;m=t.getRowKeys();u=t.getColKeys();p=document.createElement("table");p.className="pvtTable";v=function(t,e,n){var r,i,o,a,s,u;if(0!==e){i=!0;for(a=s=0;n>=0?n>=s:s>=n;a=n>=0?++s:--s)t[e-1][a]!==t[e][a]&&(i=!1);if(i)return-1}r=0;for(;e+r<t.length;){o=!1;for(a=u=0;n>=0?n>=u:u>=n;a=n>=0?++u:--u)t[e][a]!==t[e+r][a]&&(o=!0);if(o)break;r++}return r};for(f in o)if(s.call(o,f)){i=o[f];b=document.createElement("tr");if(0===parseInt(f)&&0!==d.length){x=document.createElement("th");x.setAttribute("colspan",d.length);x.setAttribute("rowspan",o.length);b.appendChild(x)}x=document.createElement("th");x.className="pvtAxisLabel";x.textContent=i;b.appendChild(x);for(c in u)if(s.call(u,c)){a=u[c];k=v(u,parseInt(c),parseInt(f));if(-1!==k){x=document.createElement("th");x.className="pvtColLabel";x.textContent=a[f];x.setAttribute("colspan",k);parseInt(f)===o.length-1&&0!==d.length&&x.setAttribute("rowspan",2);b.appendChild(x)}}if(0===parseInt(f)){x=document.createElement("th");x.className="pvtTotalLabel";x.innerHTML=n.localeStrings.totals;x.setAttribute("rowspan",o.length+(0===d.length?0:1));b.appendChild(x)}p.appendChild(b)}if(0!==d.length){b=document.createElement("tr");for(c in d)if(s.call(d,c)){h=d[c];x=document.createElement("th");x.className="pvtAxisLabel";x.textContent=h;b.appendChild(x)}x=document.createElement("th");if(0===o.length){x.className="pvtTotalLabel";x.innerHTML=n.localeStrings.totals}b.appendChild(x);p.appendChild(b)}for(c in m)if(s.call(m,c)){g=m[c];b=document.createElement("tr");for(f in g)if(s.call(g,f)){_=g[f];k=v(m,parseInt(c),parseInt(f));if(-1!==k){x=document.createElement("th");x.className="pvtRowLabel";x.textContent=_;x.setAttribute("rowspan",k);parseInt(f)===d.length-1&&0!==o.length&&x.setAttribute("colspan",2);b.appendChild(x)}}for(f in u)if(s.call(u,f)){a=u[f];r=t.getAggregator(g,a);M=r.value();y=document.createElement("td");y.className="pvtVal row"+c+" col"+f;y.innerHTML=r.format(M);y.setAttribute("data-value",M);b.appendChild(y)}w=t.getAggregator(g,[]);M=w.value();y=document.createElement("td");y.className="pvtTotal rowTotal";y.innerHTML=w.format(M);y.setAttribute("data-value",M);y.setAttribute("data-for","row"+c);b.appendChild(y);p.appendChild(b)}b=document.createElement("tr");x=document.createElement("th");x.className="pvtTotalLabel";x.innerHTML=n.localeStrings.totals;x.setAttribute("colspan",d.length+(0===o.length?0:1));b.appendChild(x);for(f in u)if(s.call(u,f)){a=u[f];w=t.getAggregator([],a);M=w.value();y=document.createElement("td");y.className="pvtTotal colTotal";y.innerHTML=w.format(M);y.setAttribute("data-value",M);y.setAttribute("data-for","col"+f);b.appendChild(y)}w=t.getAggregator([],[]);M=w.value();y=document.createElement("td");y.className="pvtGrandTotal";y.innerHTML=w.format(M);y.setAttribute("data-value",M);b.appendChild(y);p.appendChild(b);p.setAttribute("data-numrows",m.length);p.setAttribute("data-numcols",u.length);return p};e.fn.pivot=function(t,r){var i,o,a,s;i={cols:[],rows:[],filter:function(){return!0},aggregator:u.count()(),aggregatorName:"Count",derivedAttributes:{},renderer:m,rendererOptions:null,localeStrings:h.en.localeStrings};r=e.extend(i,r);a=null;try{o=new n(t,r);try{a=r.renderer(o,r.rendererOptions)}catch(l){"undefined"!=typeof console&&null!==console&&console.error(l.stack);a=e("<span>").html(r.localeStrings.renderError)}}catch(l){"undefined"!=typeof console&&null!==console&&console.error(l.stack);a=e("<span>").html(r.localeStrings.computeError)}s=this[0];for(;s.hasChildNodes();)s.removeChild(s.lastChild);return this.append(a)};e.fn.pivotUI=function(t,r,o,a){var u,l,c,f,p,g,m,v,y,x,w,b,_,M,k,C,S,A,N,E,T,j,P,L,D,I,z,O,q,R,F,U,H,V,W,Y,B,G,X=this;null==o&&(o=!1);null==a&&(a="en");m={derivedAttributes:{},aggregators:h[a].aggregators,renderers:h[a].renderers,hiddenAttributes:[],menuLimit:200,cols:[],rows:[],vals:[],exclusions:{},unusedAttrsVertical:"auto",autoSortUnusedAttrs:!1,rendererOptions:{localeStrings:h[a].localeStrings},onRefresh:null,filter:function(){return!0},localeStrings:h[a].localeStrings};v=this.data("pivotUIOptions");b=null==v||o?e.extend(m,r):v;try{t=n.convertToArray(t);N=function(){var e,n;e=t[0];n=[];for(w in e)s.call(e,w)&&n.push(w);return n}();V=b.derivedAttributes;for(p in V)s.call(V,p)&&i.call(N,p)<0&&N.push(p);f={};for(I=0,R=N.length;R>I;I++){L=N[I];f[L]={}}n.forEachRecord(t,b.derivedAttributes,function(t){var e,n,r,i;i=[];for(w in t)if(s.call(t,w)){e=t[w];if(b.filter(t)){null==e&&(e="null");null==(r=(n=f[w])[e])&&(n[e]=0);i.push(f[w][e]++)}}return i});j=e("<table cellpadding='5'>");S=e("<td>");C=e("<select class='pvtRenderer'>").appendTo(S).bind("change",function(){return M()});W=b.renderers;for(L in W)s.call(W,L)&&e("<option>").val(L).html(L).appendTo(C);g=e("<td class='pvtAxisContainer pvtUnused'>");A=function(){var t,e,n;n=[];for(t=0,e=N.length;e>t;t++){p=N[t];i.call(b.hiddenAttributes,p)<0&&n.push(p)}return n}();P=!1;if("auto"===b.unusedAttrsVertical){c=0;for(z=0,F=A.length;F>z;z++){u=A[z];c+=u.length}P=c>120}g.addClass(b.unusedAttrsVertical===!0||P?"pvtVertList":"pvtHorizList");D=function(t){var n,r,o,a,s,u,l,c,h,p,m,v,x,_,k;l=function(){var e;e=[];for(w in f[t])e.push(w);return e}();u=!1;v=e("<div>").addClass("pvtFilterBox").hide();v.append(e("<h4>").text(""+t+" ("+l.length+")"));if(l.length>b.menuLimit)v.append(e("<p>").html(b.localeStrings.tooMany));else{r=e("<p>").appendTo(v);r.append(e("<button>").html(b.localeStrings.selectAll).bind("click",function(){return v.find("input:visible").prop("checked",!0)}));r.append(e("<button>").html(b.localeStrings.selectNone).bind("click",function(){return v.find("input:visible").prop("checked",!1)}));r.append(e("<input>").addClass("pvtSearch").attr("placeholder",b.localeStrings.filterResults).bind("keyup",function(){var t;t=e(this).val().toLowerCase();return e(this).parents(".pvtFilterBox").find("label span").each(function(){var n;n=e(this).text().toLowerCase().indexOf(t);return-1!==n?e(this).parent().show():e(this).parent().hide()})}));o=e("<div>").addClass("pvtCheckContainer").appendTo(v);k=l.sort(d);for(x=0,_=k.length;_>x;x++){w=k[x];m=f[t][w];a=e("<label>");s=b.exclusions[t]?i.call(b.exclusions[t],w)>=0:!1;u||(u=s);e("<input type='checkbox' class='pvtFilter'>").attr("checked",!s).data("filter",[t,w]).appendTo(a);a.append(e("<span>").text(""+w+" ("+m+")"));o.append(e("<p>").append(a))}}p=function(){var t;t=e(v).find("[type='checkbox']").length-e(v).find("[type='checkbox']:checked").length;t>0?n.addClass("pvtFilteredAttribute"):n.removeClass("pvtFilteredAttribute");return l.length>b.menuLimit?v.toggle():v.toggle(0,M)};e("<p>").appendTo(v).append(e("<button>").text("OK").bind("click",p));c=function(t){v.css({left:t.pageX,top:t.pageY}).toggle();e(".pvtSearch").val("");return e("label").show()};h=e("<span class='pvtTriangle'>").html(" &#x25BE;").bind("click",c);n=e("<li class='axis_"+y+"'>").append(e("<span class='pvtAttr'>").text(t).data("attrName",t).append(h));u&&n.addClass("pvtFilteredAttribute");g.append(n).append(v);return n.bind("dblclick",c)};for(y in A){p=A[y];D(p)}E=e("<tr>").appendTo(j);l=e("<select class='pvtAggregator'>").bind("change",function(){return M()});Y=b.aggregators;for(L in Y)s.call(Y,L)&&l.append(e("<option>").val(L).html(L));e("<td class='pvtVals'>").appendTo(E).append(l).append(e("<br>"));e("<td class='pvtAxisContainer pvtHorizList pvtCols'>").appendTo(E);T=e("<tr>").appendTo(j);T.append(e("<td valign='top' class='pvtAxisContainer pvtRows'>"));_=e("<td valign='top' class='pvtRendererArea'>").appendTo(T);if(b.unusedAttrsVertical===!0||P){j.find("tr:nth-child(1)").prepend(S);j.find("tr:nth-child(2)").prepend(g)}else j.prepend(e("<tr>").append(S).append(g));this.html(j);B=b.cols;for(O=0,U=B.length;U>O;O++){L=B[O];this.find(".pvtCols").append(this.find(".axis_"+A.indexOf(L)))}G=b.rows;for(q=0,H=G.length;H>q;q++){L=G[q];this.find(".pvtRows").append(this.find(".axis_"+A.indexOf(L)))}null!=b.aggregatorName&&this.find(".pvtAggregator").val(b.aggregatorName);null!=b.rendererName&&this.find(".pvtRenderer").val(b.rendererName);x=!0;k=function(){var n,r,o,a,s,u,c,f,h,p,d,g,m,v;f={derivedAttributes:b.derivedAttributes,localeStrings:b.localeStrings,rendererOptions:b.rendererOptions,cols:[],rows:[]};s=null!=(v=b.aggregators[l.val()]([])().numInputs)?v:0;p=[];X.find(".pvtRows li span.pvtAttr").each(function(){return f.rows.push(e(this).data("attrName"))});X.find(".pvtCols li span.pvtAttr").each(function(){return f.cols.push(e(this).data("attrName"))});X.find(".pvtVals select.pvtAttrDropdown").each(function(){if(0===s)return e(this).remove();s--;return""!==e(this).val()?p.push(e(this).val()):void 0});if(0!==s){c=X.find(".pvtVals");for(L=g=0;s>=0?s>g:g>s;L=s>=0?++g:--g){a=e("<select class='pvtAttrDropdown'>").append(e("<option>")).bind("change",function(){return M()});for(m=0,d=A.length;d>m;m++){n=A[m];a.append(e("<option>").val(n).text(n))}c.append(a)}}if(x){p=b.vals;y=0;X.find(".pvtVals select.pvtAttrDropdown").each(function(){e(this).val(p[y]);return y++});x=!1}f.aggregatorName=l.val();f.vals=p;f.aggregator=b.aggregators[l.val()](p);f.renderer=b.renderers[C.val()];r={};X.find("input.pvtFilter").not(":checked").each(function(){var t;t=e(this).data("filter");return null!=r[t[0]]?r[t[0]].push(t[1]):r[t[0]]=[t[1]]});f.filter=function(t){var e,n;if(!b.filter(t))return!1;for(w in r){e=r[w];if(n=""+t[w],i.call(e,n)>=0)return!1}return!0};_.pivot(t,f);u=e.extend(b,{cols:f.cols,rows:f.rows,vals:p,exclusions:r,aggregatorName:l.val(),rendererName:C.val()});X.data("pivotUIOptions",u);if(b.autoSortUnusedAttrs){o=e.pivotUtilities.naturalSort;h=X.find("td.pvtUnused.pvtAxisContainer");e(h).children("li").sort(function(t,n){return o(e(t).text(),e(n).text())}).appendTo(h)}_.css("opacity",1);return null!=b.onRefresh?b.onRefresh(u):void 0};M=function(){_.css("opacity",.5);return setTimeout(k,10)};M();this.find(".pvtAxisContainer").sortable({update:function(t,e){return null==e.sender?M():void 0},connectWith:this.find(".pvtAxisContainer"),items:"li",placeholder:"pvtPlaceholder"})}catch(Q){"undefined"!=typeof console&&null!==console&&console.error(Q.stack);this.html(b.localeStrings.uiRenderError)}return this};e.fn.heatmap=function(t){var n,r,i,o,a,s,u,l,c=this;null==t&&(t="heatmap");s=this.data("numrows");a=this.data("numcols");n=function(t,e,n){var r;r=function(){switch(t){case"red":return function(t){return"ff"+t+t};case"green":return function(t){return""+t+"ff"+t};case"blue":return function(t){return""+t+t+"ff"}}}();return function(t){var i,o;o=255-Math.round(255*(t-e)/(n-e));i=o.toString(16).split(".")[0];1===i.length&&(i=0+i);return r(i)}};r=function(t,r){var i,o,a;o=function(n){return c.find(t).each(function(){var t;t=e(this).data("value");return null!=t&&isFinite(t)?n(t,e(this)):void 0})};a=[];o(function(t){return a.push(t)});i=n(r,Math.min.apply(Math,a),Math.max.apply(Math,a));return o(function(t,e){return e.css("background-color","#"+i(t))})};switch(t){case"heatmap":r(".pvtVal","red");break;case"rowheatmap":for(i=u=0;s>=0?s>u:u>s;i=s>=0?++u:--u)r(".pvtVal.row"+i,"red");break;case"colheatmap":for(o=l=0;a>=0?a>l:l>a;o=a>=0?++l:--l)r(".pvtVal.col"+o,"red")}r(".pvtTotal.rowTotal","red");r(".pvtTotal.colTotal","red");return this};return e.fn.barchart=function(){var t,n,r,i,o,a=this;i=this.data("numrows");r=this.data("numcols");t=function(t){var n,r,i,o;n=function(n){return a.find(t).each(function(){var t;t=e(this).data("value");return null!=t&&isFinite(t)?n(t,e(this)):void 0})};o=[];n(function(t){return o.push(t)});r=Math.max.apply(Math,o);i=function(t){return 100*t/(1.4*r)};return n(function(t,n){var r,o;r=n.text();o=e("<div>").css({position:"relative",height:"55px"});o.append(e("<div>").css({position:"absolute",bottom:0,left:0,right:0,height:i(t)+"%","background-color":"gray"}));o.append(e("<div>").text(r).css({position:"relative","padding-left":"5px","padding-right":"5px"}));return n.css({padding:0,"padding-top":"5px","text-align":"center"}).html(o)})};for(n=o=0;i>=0?i>o:o>i;n=i>=0?++o:--o)t(".pvtVal.row"+n);t(".pvtTotal.colTotal");return this}})}).call(this)},{jquery:void 0}],18:[function(e,n){(function(e){function r(){try{return u in e&&e[u]}catch(t){return!1}}function i(t){return t.replace(/^d/,"___$&").replace(d,"___")}var o,a={},s=e.document,u="localStorage",l="script";a.disabled=!1;a.version="1.3.17";a.set=function(){};a.get=function(){};a.has=function(t){return void 0!==a.get(t)};a.remove=function(){};a.clear=function(){};a.transact=function(t,e,n){if(null==n){n=e;e=null}null==e&&(e={});var r=a.get(t,e);n(r);a.set(t,r)};a.getAll=function(){};a.forEach=function(){};a.serialize=function(t){return JSON.stringify(t)};a.deserialize=function(t){if("string"!=typeof t)return void 0;try{return JSON.parse(t)}catch(e){return t||void 0}};if(r()){o=e[u];a.set=function(t,e){if(void 0===e)return a.remove(t);o.setItem(t,a.serialize(e));return e};a.get=function(t,e){var n=a.deserialize(o.getItem(t));return void 0===n?e:n};a.remove=function(t){o.removeItem(t)};a.clear=function(){o.clear()};a.getAll=function(){var t={};a.forEach(function(e,n){t[e]=n});return t};a.forEach=function(t){for(var e=0;e<o.length;e++){var n=o.key(e);t(n,a.get(n))}}}else if(s.documentElement.addBehavior){var c,f;try{f=new ActiveXObject("htmlfile");f.open();f.write("<"+l+">document.w=window</"+l+'><iframe src="/favicon.ico"></iframe>');f.close();c=f.w.frames[0].document;o=c.createElement("div")}catch(h){o=s.createElement("div");c=s.body}var p=function(t){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(o);c.appendChild(o);o.addBehavior("#default#userData");o.load(u);var n=t.apply(a,e);c.removeChild(o);return n}},d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");a.set=p(function(t,e,n){e=i(e);if(void 0===n)return a.remove(e);t.setAttribute(e,a.serialize(n));t.save(u);return n});a.get=p(function(t,e,n){e=i(e);var r=a.deserialize(t.getAttribute(e));return void 0===r?n:r});a.remove=p(function(t,e){e=i(e);t.removeAttribute(e);t.save(u)});a.clear=p(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(u);for(var n,r=0;n=e[r];r++)t.removeAttribute(n.name);t.save(u)});a.getAll=function(){var t={};a.forEach(function(e,n){t[e]=n});return t};a.forEach=p(function(t,e){for(var n,r=t.XMLDocument.documentElement.attributes,i=0;n=r[i];++i)e(n.name,a.deserialize(t.getAttribute(n.name)))})}try{var g="__storejs__";a.set(g,g);a.get(g)!=g&&(a.disabled=!0);a.remove(g)}catch(h){a.disabled=!0}a.enabled=!a.disabled;"undefined"!=typeof n&&n.exports&&this.module!==n?n.exports=a:"function"==typeof t&&t.amd?t(a):e.store=a})(Function("return this")())},{}],19:[function(t,e){e.exports={name:"yasgui-utils",version:"1.4.2",description:"Utils for YASGUI libs",main:"src/main.js",repository:{type:"git",url:"git://github.com/YASGUI/Utils.git"},licenses:[{type:"MIT",url:"http://yasgui.github.io/license.txt"}],author:"Laurens Rietveld",maintainers:[{name:"Laurens Rietveld",email:"laurens.rietveld@gmail.com",web:"http://laurensrietveld.nl"}],bugs:{url:"https://github.com/YASGUI/Utils/issues"},homepage:"https://github.com/YASGUI/Utils",dependencies:{store:"^1.3.14"}}},{}],20:[function(t,e){window.console=window.console||{log:function(){}};e.exports={storage:t("./storage.js"),svg:t("./svg.js"),version:{"yasgui-utils":t("../package.json").version}}},{"../package.json":19,"./storage.js":21,"./svg.js":22}],21:[function(t,e){{var n=t("store"),r={day:function(){return 864e5},month:function(){30*r.day()},year:function(){12*r.month()}};e.exports={set:function(t,e,i){if(e){"string"==typeof i&&(i=r[i]());e.documentElement&&(e=(new XMLSerializer).serializeToString(e.documentElement));n.set(t,{val:e,exp:i,time:(new Date).getTime()})}},remove:function(t){n.remove(t)},get:function(t){var e=n.get(t);return e?e.exp&&(new Date).getTime()-e.time>e.exp?null:e.val:null}}}},{store:18}],22:[function(t,e){e.exports={draw:function(t,n,r){if(t){var i=e.exports.getElement(n,r);i&&(t.append?t.append(i):t.appendChild(i))}},getElement:function(t,e){e||(e={});if(t&&0==t.indexOf("<svg")){e.width||(e.width="100%");e.height||(e.height="100%");var n=new DOMParser,r=n.parseFromString(t,"text/xml"),i=r.documentElement,o=document.createElement("div");o.style.display="inline-block";o.style.width=e.width;o.style.height=e.height;o.appendChild(i);return o}return!1}}},{}],23:[function(t,e){e.exports={name:"yasgui-yasr",description:"Yet Another SPARQL Resultset GUI",version:"2.3.1",main:"src/main.js",licenses:[{type:"MIT",url:"http://yasr.yasgui.org/license.txt"}],author:"Laurens Rietveld",homepage:"http://yasr.yasgui.org",devDependencies:{browserify:"^6.1.0",gulp:"~3.6.0","gulp-bump":"^0.1.11","gulp-concat":"^2.4.1","gulp-connect":"^2.0.5","gulp-embedlr":"^0.5.2","gulp-filter":"^1.0.2","gulp-git":"^0.5.2","gulp-jsvalidate":"^0.2.0","gulp-livereload":"^1.3.1","gulp-minify-css":"^0.3.11","gulp-notify":"^2.0.1","gulp-rename":"^1.2.0","gulp-streamify":"0.0.5","gulp-tag-version":"^1.1.0","gulp-uglify":"^1.0.1","require-dir":"^0.1.0","run-sequence":"^1.0.1","vinyl-buffer":"^1.0.0","vinyl-source-stream":"~0.1.1",watchify:"^0.6.4","gulp-sourcemaps":"^1.2.8",exorcist:"^0.1.6","vinyl-transform":"0.0.1","gulp-sass":"^1.2.2","bootstrap-sass":"^3.3.1","browserify-transform-tools":"^1.2.1","gulp-cssimport":"^1.3.1","gulp-html-replace":"^1.4.1","browserify-shim":"^3.8.1"},bugs:"https://github.com/YASGUI/YASR/issues/",keywords:["JavaScript","SPARQL","Editor","Semantic Web","Linked Data"],maintainers:[{name:"Laurens Rietveld",email:"laurens.rietveld@gmail.com",web:"http://laurensrietveld.nl"}],repository:{type:"git",url:"https://github.com/YASGUI/YASR.git"},dependencies:{jquery:"~ 1.11.0",codemirror:"^4.7.0","yasgui-utils":"^1.4.1",pivottable:"^1.2.2","jquery-ui":"^1.10.5",d3:"^3.4.13"},"browserify-shim":{google:"global:google"},browserify:{transform:["browserify-shim"]},optionalShim:{codemirror:{require:"codemirror",global:"CodeMirror"},jquery:{require:"jquery",global:"jQuery"},"../../lib/codemirror":{require:"codemirror",global:"CodeMirror"},"../lib/DataTables/media/js/jquery.dataTables.js":{require:"datatables",global:"jQuery"}}}},{}],24:[function(t,e){"use strict";e.exports=function(t){var e='"',n=",",r="\n",i=t.head.vars,o=t.results.bindings,a=function(){for(var t=0;t<i.length;t++)l(i[t]);f+=r},s=function(){for(var t=0;t<o.length;t++){u(o[t]);f+=r}},u=function(t){for(var e=0;e<i.length;e++){var n=i[e];l(t.hasOwnProperty(n)?t[n].value:"")}},l=function(t){t.replace(e,e+e);c(t)&&(t=e+t+e);f+=" "+t+" "+n},c=function(t){var r=!1;t.match("[\\w|"+n+"|"+e+"]")&&(r=!0);return r},f="";a();s();return f}},{}],25:[function(t,e){"use strict";var n=function(){try{return t("jquery")}catch(e){return window.jQuery}}(),r=e.exports=function(e){var r=n("<div class='booleanResult'></div>"),i=function(){r.empty().appendTo(e.resultsContainer);var i=e.results.getBoolean(),o=null,a=null;
if(i===!0){o="check";a="True"}else if(i===!1){o="cross";a="False"}else{r.width("140");a="Could not find boolean value in response"}o&&t("yasgui-utils").svg.draw(r,t("./imgs.js")[o],{width:25,height:25});n("<span></span>").text(a).appendTo(r)},o=function(){return e.results.getBoolean&&(e.results.getBoolean()===!0||0==e.results.getBoolean())};return{name:null,draw:i,hideFromSelection:!0,getPriority:10,canHandleResults:o}};r.version={"YASR-boolean":t("../package.json").version,jquery:n.fn.jquery}},{"../package.json":23,"./imgs.js":28,jquery:void 0,"yasgui-utils":20}],26:[function(t,e){"use strict";var n=function(){try{return t("jquery")}catch(e){return window.jQuery}}();e.exports={output:"table",outputPlugins:["table","error","boolean","rawResponse"],drawOutputSelector:!0,drawDownloadIcon:!0,getUsedPrefixes:null,persistency:{outputSelector:function(t){return"selector_"+n(t.container).closest("[id]").attr("id")},results:{id:function(t){return"results_"+n(t.container).closest("[id]").attr("id")},maxSize:1e5}}}},{jquery:void 0}],27:[function(t,e){"use strict";var n=function(){try{return t("jquery")}catch(e){return window.jQuery}}(),r=e.exports=function(t){var e=n("<div class='errorResult'></div>"),i=(n.extend(!0,{},r.defaults),function(){var r=t.results.getException();e.empty().appendTo(t.resultsContainer);var i="Error";r.statusText&&r.statusText.length<100&&(i=r.statusText);r.status&&(i+=" (#"+r.status+")");e.append(n("<span>",{"class":"exception"}).text(i));var o=null;r.responseText?o=r.responseText:"string"==typeof r&&(o=r);o&&e.append(n("<pre>").text(o))}),o=function(t){return t.results.getException()||!1};return{name:null,draw:i,getPriority:20,hideFromSelection:!0,canHandleResults:o}};r.defaults={}},{jquery:void 0}],28:[function(t,e){"use strict";e.exports={cross:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="30px" height="30px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g>	<path d="M83.288,88.13c-2.114,2.112-5.575,2.112-7.689,0L53.659,66.188c-2.114-2.112-5.573-2.112-7.687,0L24.251,87.907   c-2.113,2.114-5.571,2.114-7.686,0l-4.693-4.691c-2.114-2.114-2.114-5.573,0-7.688l21.719-21.721c2.113-2.114,2.113-5.573,0-7.686   L11.872,24.4c-2.114-2.113-2.114-5.571,0-7.686l4.842-4.842c2.113-2.114,5.571-2.114,7.686,0L46.12,33.591   c2.114,2.114,5.572,2.114,7.688,0l21.721-21.719c2.114-2.114,5.573-2.114,7.687,0l4.695,4.695c2.111,2.113,2.111,5.571-0.003,7.686   L66.188,45.973c-2.112,2.114-2.112,5.573,0,7.686L88.13,75.602c2.112,2.111,2.112,5.572,0,7.687L83.288,88.13z"/></g></svg>',check:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="30px" height="30px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path fill="#000000" d="M14.301,49.982l22.606,17.047L84.361,4.903c2.614-3.733,7.76-4.64,11.493-2.026l0.627,0.462  c3.732,2.614,4.64,7.758,2.025,11.492l-51.783,79.77c-1.955,2.791-3.896,3.762-7.301,3.988c-3.405,0.225-5.464-1.039-7.508-3.084  L2.447,61.814c-3.263-3.262-3.263-8.553,0-11.814l0.041-0.019C5.75,46.718,11.039,46.718,14.301,49.982z"/></svg>',unsorted:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="0 0 54.552711 113.78478"   enable-background="new 0 0 100 100"   xml:space="preserve"><g     id="g5"     transform="matrix(-0.70522156,-0.70898699,-0.70898699,0.70522156,97.988199,55.081205)"><path       style="fill:#000000"       inkscape:connector-curvature="0"       id="path7"       d="M 57.911,66.915 45.808,55.063 42.904,52.238 31.661,41.25 31.435,41.083 31.131,40.775 30.794,40.523 30.486,40.3 30.069,40.05 29.815,39.911 29.285,39.659 29.089,39.576 28.474,39.326 28.363,39.297 H 28.336 L 27.665,39.128 27.526,39.1 26.94,38.99 26.714,38.961 26.212,38.934 h -0.31 -0.444 l -0.339,0.027 c -1.45,0.139 -2.876,0.671 -4.11,1.564 l -0.223,0.141 -0.279,0.25 -0.335,0.308 -0.054,0.029 -0.171,0.194 -0.334,0.364 -0.224,0.279 -0.25,0.336 -0.225,0.362 -0.192,0.308 -0.197,0.421 -0.142,0.279 -0.193,0.477 -0.084,0.222 -12.441,38.414 c -0.814,2.458 -0.313,5.029 1.115,6.988 v 0.026 l 0.418,0.532 0.17,0.165 0.251,0.281 0.084,0.079 0.283,0.281 0.25,0.194 0.474,0.367 0.083,0.053 c 2.015,1.371 4.641,1.874 7.131,1.094 L 55.228,80.776 c 4.303,-1.342 6.679,-5.814 5.308,-10.006 -0.387,-1.259 -1.086,-2.35 -1.979,-3.215 l -0.368,-0.337 -0.278,-0.303 z m -6.318,5.896 0.079,0.114 -37.369,11.57 11.854,-36.538 10.565,10.317 2.876,2.825 11.995,11.712 z" /></g><path     style="fill:#000000"     inkscape:connector-curvature="0"     id="path7-9"     d="m 8.8748339,52.571766 16.9382111,-0.222584 4.050851,-0.06665 15.719154,-0.222166 0.27778,-0.04246 0.43276,0.0017 0.41632,-0.06121 0.37532,-0.0611 0.47132,-0.119342 0.27767,-0.08206 0.55244,-0.198047 0.19707,-0.08043 0.61095,-0.259721 0.0988,-0.05825 0.019,-0.01914 0.59303,-0.356548 0.11787,-0.0788 0.49125,-0.337892 0.17994,-0.139779 0.37317,-0.336871 0.21862,-0.219786 0.31311,-0.31479 0.21993,-0.259387 c 0.92402,-1.126057 1.55249,-2.512251 1.78961,-4.016904 l 0.0573,-0.25754 0.0195,-0.374113 0.0179,-0.454719 0.0175,-0.05874 -0.0169,-0.258049 -0.0225,-0.493503 -0.0398,-0.355569 -0.0619,-0.414201 -0.098,-0.414812 -0.083,-0.353334 L 53.23955,41.1484 53.14185,40.850967 52.93977,40.377742 52.84157,40.161628 34.38021,4.2507375 C 33.211567,1.9401875 31.035446,0.48226552 28.639484,0.11316952 l -0.01843,-0.01834 -0.671963,-0.07882 -0.236871,0.0042 L 27.335984,-4.7826577e-7 27.220736,0.00379952 l -0.398804,0.0025 -0.313848,0.04043 -0.594474,0.07724 -0.09611,0.02147 C 23.424549,0.60716252 21.216017,2.1142355 20.013025,4.4296865 L 0.93967491,40.894479 c -2.08310801,3.997178 -0.588125,8.835482 3.35080799,10.819749 1.165535,0.613495 2.43199,0.88731 3.675026,0.864202 l 0.49845,-0.02325 0.410875,0.01658 z M 9.1502369,43.934401 9.0136999,43.910011 27.164145,9.2564625 44.70942,43.42818 l -14.765289,0.214677 -4.031106,0.0468 -16.7627881,0.244744 z" /></svg>',sortDesc:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="0 0 54.552711 113.78478"   enable-background="new 0 0 100 100"   xml:space="preserve"><g     id="g5"     transform="matrix(-0.70522156,-0.70898699,-0.70898699,0.70522156,97.988199,55.081205)"><path       style="fill:#000000"       inkscape:connector-curvature="0"       id="path7"       d="M 57.911,66.915 45.808,55.063 42.904,52.238 31.661,41.25 31.435,41.083 31.131,40.775 30.794,40.523 30.486,40.3 30.069,40.05 29.815,39.911 29.285,39.659 29.089,39.576 28.474,39.326 28.363,39.297 H 28.336 L 27.665,39.128 27.526,39.1 26.94,38.99 26.714,38.961 26.212,38.934 h -0.31 -0.444 l -0.339,0.027 c -1.45,0.139 -2.876,0.671 -4.11,1.564 l -0.223,0.141 -0.279,0.25 -0.335,0.308 -0.054,0.029 -0.171,0.194 -0.334,0.364 -0.224,0.279 -0.25,0.336 -0.225,0.362 -0.192,0.308 -0.197,0.421 -0.142,0.279 -0.193,0.477 -0.084,0.222 -12.441,38.414 c -0.814,2.458 -0.313,5.029 1.115,6.988 v 0.026 l 0.418,0.532 0.17,0.165 0.251,0.281 0.084,0.079 0.283,0.281 0.25,0.194 0.474,0.367 0.083,0.053 c 2.015,1.371 4.641,1.874 7.131,1.094 L 55.228,80.776 c 4.303,-1.342 6.679,-5.814 5.308,-10.006 -0.387,-1.259 -1.086,-2.35 -1.979,-3.215 l -0.368,-0.337 -0.278,-0.303 z m -6.318,5.896 0.079,0.114 -37.369,11.57 11.854,-36.538 10.565,10.317 2.876,2.825 11.995,11.712 z" /></g><path     style="fill:#000000"     inkscape:connector-curvature="0"     id="path9"     d="m 27.813273,0.12823506 0.09753,0.02006 c 2.39093,0.458209 4.599455,1.96811104 5.80244,4.28639004 L 52.785897,40.894525 c 2.088044,4.002139 0.590949,8.836902 -3.348692,10.821875 -1.329078,0.688721 -2.766603,0.943695 -4.133174,0.841768 l -0.454018,0.02 L 27.910392,52.354171 23.855313,52.281851 8.14393,52.061827 7.862608,52.021477 7.429856,52.021738 7.014241,51.959818 6.638216,51.900838 6.164776,51.779369 5.889216,51.699439 5.338907,51.500691 5.139719,51.419551 4.545064,51.145023 4.430618,51.105123 4.410168,51.084563 3.817138,50.730843 3.693615,50.647783 3.207314,50.310611 3.028071,50.174369 2.652795,49.833957 2.433471,49.613462 2.140099,49.318523 1.901127,49.041407 C 0.97781,47.916059 0.347935,46.528448 0.11153,45.021676 L 0.05352,44.766255 0.05172,44.371683 0.01894,43.936017 0,43.877277 0.01836,43.62206 0.03666,43.122889 0.0765,42.765905 0.13912,42.352413 0.23568,41.940425 0.32288,41.588517 0.481021,41.151945 0.579391,40.853806 0.77369,40.381268 0.876097,40.162336 19.338869,4.2542801 c 1.172169,-2.308419 3.34759,-3.76846504 5.740829,-4.17716604 l 0.01975,0.01985 0.69605,-0.09573 0.218437,0.0225 0.490791,-0.02132 0.39809,0.0046 0.315972,0.03973 0.594462,0.08149 z" /></svg>',sortAsc:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="0 0 54.552711 113.78478"   enable-background="new 0 0 100 100"   xml:space="preserve"><g     id="g5"     transform="matrix(-0.70522156,0.70898699,-0.70898699,-0.70522156,97.988199,58.704807)"><path       style="fill:#000000"       inkscape:connector-curvature="0"       id="path7"       d="M 57.911,66.915 45.808,55.063 42.904,52.238 31.661,41.25 31.435,41.083 31.131,40.775 30.794,40.523 30.486,40.3 30.069,40.05 29.815,39.911 29.285,39.659 29.089,39.576 28.474,39.326 28.363,39.297 H 28.336 L 27.665,39.128 27.526,39.1 26.94,38.99 26.714,38.961 26.212,38.934 h -0.31 -0.444 l -0.339,0.027 c -1.45,0.139 -2.876,0.671 -4.11,1.564 l -0.223,0.141 -0.279,0.25 -0.335,0.308 -0.054,0.029 -0.171,0.194 -0.334,0.364 -0.224,0.279 -0.25,0.336 -0.225,0.362 -0.192,0.308 -0.197,0.421 -0.142,0.279 -0.193,0.477 -0.084,0.222 -12.441,38.414 c -0.814,2.458 -0.313,5.029 1.115,6.988 v 0.026 l 0.418,0.532 0.17,0.165 0.251,0.281 0.084,0.079 0.283,0.281 0.25,0.194 0.474,0.367 0.083,0.053 c 2.015,1.371 4.641,1.874 7.131,1.094 L 55.228,80.776 c 4.303,-1.342 6.679,-5.814 5.308,-10.006 -0.387,-1.259 -1.086,-2.35 -1.979,-3.215 l -0.368,-0.337 -0.278,-0.303 z m -6.318,5.896 0.079,0.114 -37.369,11.57 11.854,-36.538 10.565,10.317 2.876,2.825 11.995,11.712 z" /></g><path     style="fill:#000000"     inkscape:connector-curvature="0"     id="path9"     d="m 27.813273,113.65778 0.09753,-0.0201 c 2.39093,-0.45821 4.599455,-1.96811 5.80244,-4.28639 L 52.785897,72.891487 c 2.088044,-4.002139 0.590949,-8.836902 -3.348692,-10.821875 -1.329078,-0.688721 -2.766603,-0.943695 -4.133174,-0.841768 l -0.454018,-0.02 -16.939621,0.223997 -4.055079,0.07232 -15.711383,0.220024 -0.281322,0.04035 -0.432752,-2.61e-4 -0.415615,0.06192 -0.376025,0.05898 -0.47344,0.121469 -0.27556,0.07993 -0.550309,0.198748 -0.199188,0.08114 -0.594655,0.274528 -0.114446,0.0399 -0.02045,0.02056 -0.59303,0.35372 -0.123523,0.08306 -0.486301,0.337172 -0.179243,0.136242 -0.375276,0.340412 -0.219324,0.220495 -0.293372,0.294939 -0.238972,0.277116 C 0.97781,65.869953 0.347935,67.257564 0.11153,68.764336 L 0.05352,69.019757 0.05172,69.414329 0.01894,69.849995 0,69.908735 l 0.01836,0.255217 0.0183,0.499171 0.03984,0.356984 0.06262,0.413492 0.09656,0.411988 0.0872,0.351908 0.158141,0.436572 0.09837,0.298139 0.194299,0.472538 0.102407,0.218932 18.462772,35.908054 c 1.172169,2.30842 3.34759,3.76847 5.740829,4.17717 l 0.01975,-0.0199 0.69605,0.0957 0.218437,-0.0225 0.490791,0.0213 0.39809,-0.005 0.315972,-0.0397 0.594462,-0.0815 z" /></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" baseProfile="tiny" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 100 100" xml:space="preserve"><g id="Captions"></g><g id="Your_Icon">	<path fill-rule="evenodd" fill="#000000" d="M88,84v-2c0-2.961-0.859-4-4-4H16c-2.961,0-4,0.98-4,4v2c0,3.102,1.039,4,4,4h68   C87.02,88,88,87.039,88,84z M58,12H42c-5,0-6,0.941-6,6v22H16l34,34l34-34H64V18C64,12.941,62.939,12,58,12z"/></g></svg>',move:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="5 -10 74.074074 100"   enable-background="new 0 0 100 100"   xml:space="preserve"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_11656_cc.svg"><metadata     ><rdf:RDF><cc:Work         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs      /><sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="753"     inkscape:window-height="480"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="44.101509"     inkscape:cy="31.481481"     inkscape:window-x="287"     inkscape:window-y="249"     inkscape:window-maximized="0"     inkscape:current-layer="Layer_1" /><polygon     points="33,83 50,100 67,83 54,83 54,17 67,17 50,0 33,17 46,17 46,83 "          transform="translate(-7.962963,-10)" /><polygon     points="83,67 100,50 83,33 83,46 17,46 17,33 0,50 17,67 17,54 83,54 "          transform="translate(-7.962963,-10)" /></svg>',fullscreen:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"      x="0px"   y="0px"   width="100%"   height="100%"   viewBox="5 -10 74.074074 100"   enable-background="new 0 0 100 100"   xml:space="preserve"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_2186_cc.svg"><metadata     ><rdf:RDF><cc:Work         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs      /><sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="640"     inkscape:window-height="480"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="44.101509"     inkscape:cy="31.481481"     inkscape:window-x="65"     inkscape:window-y="24"     inkscape:window-maximized="0"     inkscape:current-layer="Layer_1" /><path     d="m -7.962963,-10 v 38.889 l 16.667,-16.667 16.667,16.667 5.555,-5.555 -16.667,-16.667 16.667,-16.667 h -38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 92.037037,-10 v 38.889 l -16.667,-16.667 -16.666,16.667 -5.556,-5.555 16.666,-16.667 -16.666,-16.667 h 38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="M -7.962963,90 V 51.111 l 16.667,16.666 16.667,-16.666 5.555,5.556 -16.667,16.666 16.667,16.667 h -38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="M 92.037037,90 V 51.111 l -16.667,16.666 -16.666,-16.666 -5.556,5.556 16.666,16.666 -16.666,16.667 h 38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /></svg>',smallscreen:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"      x="0px"   y="0px"   width="100%"   height="100%"   viewBox="5 -10 74.074074 100"   enable-background="new 0 0 100 100"   xml:space="preserve"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_2186_cc.svg"><metadata     ><rdf:RDF><cc:Work         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs      /><sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="1855"     inkscape:window-height="1056"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="44.101509"     inkscape:cy="31.481481"     inkscape:window-x="65"     inkscape:window-y="24"     inkscape:window-maximized="1"     inkscape:current-layer="Layer_1" /><path     d="m 30.926037,28.889 0,-38.889 -16.667,16.667 -16.667,-16.667 -5.555,5.555 16.667,16.667 -16.667,16.667 38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 53.148037,28.889 0,-38.889 16.667,16.667 16.666,-16.667 5.556,5.555 -16.666,16.667 16.666,16.667 -38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 30.926037,51.111 0,38.889 -16.667,-16.666 -16.667,16.666 -5.555,-5.556 16.667,-16.666 -16.667,-16.667 38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 53.148037,51.111 0,38.889 16.667,-16.666 16.666,16.666 5.556,-5.556 -16.666,-16.666 16.666,-16.667 -38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /></svg>'}},{}],29:[function(t,e){"use strict";var n=function(){try{return t("jquery")}catch(e){return window.jQuery}}(),r=t("yasgui-utils");console=console||{log:function(){}};var i=e.exports=function(e,s,u){var l={};l.options=n.extend(!0,{},i.defaults,s);l.container=n("<div class='yasr'></div>").appendTo(e);l.header=n("<div class='yasr_header'></div>").appendTo(l.container);l.resultsContainer=n("<div class='yasr_results'></div>").appendTo(l.container);l.plugins={};for(var c in i.plugins)l.plugins[c]=new i.plugins[c](l);l.draw=function(t){if(!l.results)return!1;t||(t=l.options.output);var e=null,r=-1,i=[];for(var o in l.plugins)if(l.plugins[o].canHandleResults(l)){var a=l.plugins[o].getPriority;"function"==typeof a&&(a=a(l));if(null!=a&&void 0!=a&&a>r){r=a;e=o}}else i.push(o);f(i);if(t in l.plugins&&l.plugins[t].canHandleResults(l)){n(l.resultsContainer).empty();l.plugins[t].draw();return!0}if(e){n(l.resultsContainer).empty();l.plugins[e].draw();return!0}return!1};var f=function(t){l.header.find(".yasr_btnGroup .yasr_btn").removeClass("disabled");t.forEach(function(t){l.header.find(".yasr_btnGroup .select_"+t).addClass("disabled")})};l.somethingDrawn=function(){return!l.resultsContainer.is(":empty")};l.setResponse=function(e,n,i){try{l.results=t("./parsers/wrapper.js")(e,n,i)}catch(o){l.results={getException:function(){return o}}}l.draw();if(l.options.persistency&&l.options.persistency.results){var a="string"==typeof l.options.persistency.results.id?l.options.persistency.results.id:l.options.persistency.results.id(l);l.results.getOriginalResponseAsString&&l.results.getOriginalResponseAsString().length<l.options.persistency.results.maxSize?r.storage.set(a,l.results.getAsStoreObject(),"month"):r.storage.remove(a)}};if(l.options.persistency&&l.options.persistency.outputSelector){var h="string"==typeof l.options.persistency.outputSelector?l.options.persistency.outputSelector:l.options.persistency.outputSelector(l);if(h){var p=r.storage.get(h);p&&(l.options.output=p)}}a(l);if(!u&&l.options.persistency&&l.options.persistency.results){var h="string"==typeof l.options.persistency.results.id?l.options.persistency.results.id:l.options.persistency.results.id(l),d=r.storage.get(h);d&&(n.isArray(d)?l.setResponse.apply(this,d):l.setResponse(d))}u&&l.setResponse(u);o(l);return l},o=function(t){var e=t.header.find(".yasr_downloadIcon");e.removeAttr("title");var n=t.plugins[t.options.output];if(n){var r=n.getDownloadInfo?n.getDownloadInfo():null;if(r){r.buttonTitle&&e.attr(r.buttonTitle);e.prop("disabled",!1);e.find("path").each(function(){this.style.fill="black"})}else{e.prop("disabled",!0).prop("title","Download not supported for this result representation");e.find("path").each(function(){this.style.fill="gray"})}}},a=function(e){var i=function(){var t=n('<div class="yasr_btnGroup"></div>');n.each(e.plugins,function(i,a){if(!a.hideFromSelection){var s=a.name||i,u=n("<button class='yasr_btn'></button>").text(s).addClass("select_"+i).click(function(){t.find("button.selected").removeClass("selected");n(this).addClass("selected");e.options.output=i;if(e.options.persistency&&e.options.persistency.outputSelector){var a="string"==typeof e.options.persistency.outputSelector?e.options.persistency.outputSelector:e.options.persistency.outputSelector(e);r.storage.set(a,e.options.output,"month")}e.draw();o(e)}).appendTo(t);e.options.output==i&&u.addClass("selected")}});t.children().length>1&&e.header.append(t)},a=function(){var r=function(t,e){var n=null,r=window.URL||window.webkitURL||window.mozURL||window.msURL;if(r&&Blob){var i=new Blob([t],{type:e});n=r.createObjectURL(i)}return n},i=n("<button class='yasr_btn yasr_downloadIcon btn_icon'></button>").append(t("yasgui-utils").svg.getElement(t("./imgs.js").download,{width:"15px",height:"15px"})).click(function(){var t=e.plugins[e.options.output];if(t&&t.getDownloadInfo){var i=t.getDownloadInfo(),o=r(i.getContent(),i.contentType?i.contentType:"text/plain"),a=n("<a></a>");a.attr("href",o);a.attr("download",i.filename);a.get(0).click()}});e.header.append(i)},s=function(){var r=n("<button class='yasr_btn btn_fullscreen btn_icon'></button>").append(t("yasgui-utils").svg.getElement(t("./imgs.js").fullscreen,{width:"15px",height:"15px"})).click(function(){e.container.addClass("yasr_fullscreen")});e.header.append(r)},u=function(){var r=n("<button class='yasr_btn btn_smallscreen btn_icon'></button>").append(t("yasgui-utils").svg.getElement(t("./imgs.js").smallscreen,{width:"15px",height:"15px"})).click(function(){e.container.removeClass("yasr_fullscreen")});e.header.append(r)};s();u();e.options.drawOutputSelector&&i();e.options.drawDownloadIcon&&a()};i.plugins={};i.registerOutput=function(t,e){i.plugins[t]=e};i.registerOutput("boolean",t("./boolean.js"));i.registerOutput("rawResponse",t("./rawResponse.js"));i.registerOutput("table",t("./table.js"));i.registerOutput("error",t("./error.js"));i.registerOutput("pivot",t("./pivot.js"));i.defaults=t("./defaults.js");i.version={YASR:t("../package.json").version,jquery:n.fn.jquery,"yasgui-utils":t("yasgui-utils").version};i.$=n},{"../package.json":23,"./boolean.js":25,"./defaults.js":26,"./error.js":27,"./imgs.js":28,"./parsers/wrapper.js":34,"./pivot.js":36,"./rawResponse.js":37,"./table.js":38,jquery:void 0,"yasgui-utils":20}],30:[function(t,e){"use strict";(function(){try{return t("jquery")}catch(e){return window.jQuery}})(),e.exports=function(e){return t("./dlv.js")(e,",")}},{"./dlv.js":31,jquery:void 0}],31:[function(t,e){"use strict";var n=jQuery=function(){try{return t("jquery")}catch(e){return window.jQuery}}();t("../../lib/jquery.csv-0.71.js");e.exports=function(t,e){var r={},i=n.csv.toArrays(t,{separator:e}),o=function(t){return 0==t.indexOf("http")?"uri":null},a=function(){if(2==i.length&&1==i[0].length&&1==i[1].length&&"boolean"==i[0][0]&&("1"==i[1][0]||"0"==i[1][0])){r.boolean="1"==i[1][0]?!0:!1;return!0}return!1},s=function(){if(i.length>0&&i[0].length>0){r.head={vars:i[0]};return!0}return!1},u=function(){if(i.length>1){r.results={bindings:[]};for(var t=1;t<i.length;t++){for(var e={},n=0;n<i[t].length;n++){var a=r.head.vars[n];if(a){var s=i[t][n],u=o(s);e[a]={value:s};u&&(e[a].type=u)}}r.results.bindings.push(e)}r.head={vars:i[0]};return!0}return!1},l=a();if(!l){var c=s();c&&u()}return r}},{"../../lib/jquery.csv-0.71.js":2,jquery:void 0}],32:[function(t,e){"use strict";(function(){try{return t("jquery")}catch(e){return window.jQuery}})(),e.exports=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return!1}return"object"==typeof t&&t.constructor==={}.constructor?t:!1}},{jquery:void 0}],33:[function(t,e){"use strict";(function(){try{return t("jquery")}catch(e){return window.jQuery}})(),e.exports=function(e){return t("./dlv.js")(e,"	")}},{"./dlv.js":31,jquery:void 0}],34:[function(t,e){"use strict";(function(){try{return t("jquery")}catch(e){return window.jQuery}})(),e.exports=function(e,n,r){var i={xml:t("./xml.js"),json:t("./json.js"),tsv:t("./tsv.js"),csv:t("./csv.js")},o=null,a=null,s=null,u=null,l=null,c=function(){if("object"==typeof e){if(e.exception)l=e.exception;else if(e.status&&e.status>=300){l={status:e.status};"string"==typeof r&&(l.errorString=r);e.responseText&&(l.responseText=e.responseText);e.statusText&&(l.statusText=e.statusText)}if(e.contentType)o=e.contentType.toLowerCase();else if(e.getResponseHeader&&e.getResponseHeader("content-type")){var t=e.getResponseHeader("content-type").trim().toLowerCase();t.length>0&&(o=t)}e.response?a=e.response:n||r||(a=e)}l||a||(a=e.responseText?e.responseText:e)},f=function(){if(s)return s;if(s===!1||l)return!1;var t=function(){if(o)if(o.indexOf("json")>-1){try{s=i.json(a)}catch(t){l=t}u="json"}else if(o.indexOf("xml")>-1){try{s=i.xml(a)}catch(t){l=t}u="xml"}else if(o.indexOf("csv")>-1){try{s=i.csv(a)}catch(t){l=t}u="csv"}else if(o.indexOf("tab-separated")>-1){try{s=i.tsv(a)}catch(t){l=t}u="tsv"}},e=function(){s=i.json(a);if(s)u="json";else try{s=i.xml(a);s&&(u="xml")}catch(t){}};t();s||e();s||(s=!1);return s},h=function(){var t=f();return t&&"head"in t?t.head.vars:null},p=function(){var t=f();return t&&"results"in t?t.results.bindings:null},d=function(){var t=f();return t&&"boolean"in t?t.boolean:null},g=function(){return a},m=function(){var t="";"string"==typeof a?t=a:"json"==u?t=JSON.stringify(a,void 0,2):"xml"==u&&(t=(new XMLSerializer).serializeToString(a));return t},v=function(){return l},y=function(){null==u&&f();return u},x=function(){var t={};if(e.status){t.status=e.status;t.responseText=e.responseText;t.statusText=e.statusText;t.contentType=o}else t=e;var i=n,a=void 0;"string"==typeof r&&(a=r);return[t,i,a]};c();s=f();return{getAsStoreObject:x,getAsJson:f,getOriginalResponse:g,getOriginalResponseAsString:m,getOriginalContentType:function(){return o},getVariables:h,getBindings:p,getBoolean:d,getType:y,getException:v}}},{"./csv.js":30,"./json.js":32,"./tsv.js":33,"./xml.js":35,jquery:void 0}],35:[function(t,e){"use strict";{var n=function(){try{return t("jquery")}catch(e){return window.jQuery}}();e.exports=function(t){var e=function(t){a.head={};for(var e=0;e<t.childNodes.length;e++){var n=t.childNodes[e];if("variable"==n.nodeName){a.head.vars||(a.head.vars=[]);var r=n.getAttribute("name");r&&a.head.vars.push(r)}}},r=function(t){a.results={};a.results.bindings=[];for(var e=0;e<t.childNodes.length;e++){for(var n=t.childNodes[e],r=null,i=0;i<n.childNodes.length;i++){var o=n.childNodes[i];if("binding"==o.nodeName){var s=o.getAttribute("name");if(s){r=r||{};r[s]={};for(var u=0;u<o.childNodes.length;u++){var l=o.childNodes[u],c=l.nodeName;if("#text"!=c){r[s].type=c;r[s].value=l.innerHTML;var f=l.getAttribute("datatype");f&&(r[s].datatype=f)}}}}}r&&a.results.bindings.push(r)}},i=function(t){a.boolean="true"==t.innerHTML?!0:!1},o=null;"string"==typeof t?o=n.parseXML(t):n.isXMLDoc(t)&&(o=t);var t=null;if(!(o.childNodes.length>0))return null;t=o.childNodes[0];for(var a={},s=0;s<t.childNodes.length;s++){var u=t.childNodes[s];"head"==u.nodeName&&e(u);"results"==u.nodeName&&r(u);"boolean"==u.nodeName&&i(u)}return a}}},{jquery:void 0}],36:[function(t,e){(function(n){"use strict";var r=function(){try{return t("jquery")}catch(e){return window.jQuery}}(),i=t("./utils.js"),o=t("yasgui-utils"),a=t("./imgs.js");t("jquery-ui/sortable");t("pivottable");var s=e.exports=function(e){var u=!1,l=!1,c=r.pivotUtilities.renderers,f=r.extend(!0,{},s.defaults);if(f.useD3Chart){try{{t("d3")}t("../node_modules/pivottable/dist/d3_renderers.js")}catch(h){}r.pivotUtilities.d3_renderers&&r.extend(!0,c,r.pivotUtilities.d3_renderers)}var p=function(){var e=function(){try{t("../node_modules/pivottable/dist/gchart_renderers.js");r.extend(!0,c,r.pivotUtilities.gchart_renderers)}catch(e){}l=!1;u&&w();u=!1};r.ajax({cache:!0,dataType:"script",url:"//google.com/jsapi"}).done(function(){var t="undefined"!=typeof window?window.google:"undefined"!=typeof n?n.google:null;t.load("visualization","1",{packages:["corechart","charteditor"],callback:e})}).fail(e)};if(f.useGChart&&!r.pivotUtilities.gchart_renderers){l=!0;p()}var d,g=function(t){var n=e.results.getVariables(),r=null;e.options.getUsedPrefixes&&(r="function"==typeof e.options.getUsedPrefixes?e.options.getUsedPrefixes(e):e.options.getUsedPrefixes);e.results.getBindings().forEach(function(e){var o={};n.forEach(function(t){if(t in e){var n=e[t].value;"uri"==e.type&&(n=i.uriToPrefixed(r,n));o[t]=n}else o[t]=null});t(o)})},m=null,v=function(){null===m&&(m="string"==typeof f.persistency?f.persistency:"function"==typeof f.persistency?f.persistency(e):!1);return m},y=function(t){if(v()){var e={cols:t.cols,rows:t.rows,rendererName:t.rendererName};o.storage.set(v(),e,"month")}},x=function(){var t=o.storage.get(v());if(t){var n=e.results.getVariables(),r=!0;t.cols.forEach(function(t){n.indexOf(t)<0&&(r=!1)});r&&t.rows.forEach(function(t){n.indexOf(t)<0&&(r=!1)});if(!r){t.cols=[];t.rows=[]}c[t.rendererName]||delete t.rendererName}else t={};return t},w=function(){if(l)u=!0;else{d=r("<div>",{"class":"pivotTable"}).appendTo(r(e.resultsContainer));var t=(r.pivotUtilities.renderers,r.extend(!0,{},x(),s.defaults.pivotTable));t.onRefresh=function(){var e=t.onRefresh;return function(t){y(t);e&&e(t)}}();window.pivot=d.pivotUI(g,t);var n=r(o.svg.getElement(a.move,{width:"14px",height:"14px"}));d.find(".pvtTriangle").replaceWith(n);r(".pvtCols").prepend(r("<div>",{"class":"containerHeader"}).text("Columns"));r(".pvtRows").prepend(r("<div>",{"class":"containerHeader"}).text("Rows"));r(".pvtUnused").prepend(r("<div>",{"class":"containerHeader"}).text("Available Variables"));r(".pvtVals").prepend(r("<div>",{"class":"containerHeader"}).text("Cells"))}},b=function(){return e.results&&e.results.getVariables&&e.results.getVariables()&&e.results.getVariables().length>0};return{draw:w,name:"Pivot Table",canHandleResults:b,getPriority:4}};s.defaults={useGChart:!0,useD3Chart:!0,persistency:function(t){return"yasr_pivot_"+r(t.container).closest("[id]").attr("id")},pivotTable:{}};s.version={"YASR-rawResponse":t("../package.json").version,jquery:r.fn.jquery}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})
},{"../node_modules/pivottable/dist/d3_renderers.js":15,"../node_modules/pivottable/dist/gchart_renderers.js":16,"../package.json":23,"./imgs.js":28,"./utils.js":39,d3:10,jquery:void 0,"jquery-ui/sortable":13,pivottable:17,"yasgui-utils":20}],37:[function(t,e){"use strict";var n=function(){try{return t("jquery")}catch(e){return window.jQuery}}(),r=function(){try{return t("codemirror")}catch(e){return window.CodeMirror}}();t("codemirror/addon/fold/foldcode.js");t("codemirror/addon/fold/foldgutter.js");t("codemirror/addon/fold/xml-fold.js");t("codemirror/addon/fold/brace-fold.js");t("codemirror/addon/edit/matchbrackets.js");t("codemirror/mode/xml/xml.js");t("codemirror/mode/javascript/javascript.js");var i=e.exports=function(t){var e=n.extend(!0,{},i.defaults),o=null,a=function(){var n=e.CodeMirror;n.value=t.results.getOriginalResponseAsString();var i=t.results.getType();if(i){"json"==i&&(i={name:"javascript",json:!0});n.mode=i}o=r(t.resultsContainer.get()[0],n);o.on("fold",function(){o.refresh()});o.on("unfold",function(){o.refresh()})},s=function(){if(!t.results)return!1;if(!t.results.getOriginalResponseAsString)return!1;var e=t.results.getOriginalResponseAsString();return e&&0!=e.length||!t.results.getException()?!0:!1},u=function(){if(!t.results)return null;var e=t.results.getOriginalContentType(),n=t.results.getType();return{getContent:function(){return t.results.getOriginalResponse()},filename:"queryResults"+(n?"."+n:""),contentType:e?e:"text/plain",buttonTitle:"Download raw response"}};return{draw:a,name:"Raw Response",canHandleResults:s,getPriority:2,getDownloadInfo:u}};i.defaults={CodeMirror:{readOnly:!0,lineNumbers:!0,lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}};i.version={"YASR-rawResponse":t("../package.json").version,jquery:n.fn.jquery,CodeMirror:r.version}},{"../package.json":23,codemirror:void 0,"codemirror/addon/edit/matchbrackets.js":3,"codemirror/addon/fold/brace-fold.js":4,"codemirror/addon/fold/foldcode.js":5,"codemirror/addon/fold/foldgutter.js":6,"codemirror/addon/fold/xml-fold.js":7,"codemirror/mode/javascript/javascript.js":8,"codemirror/mode/xml/xml.js":9,jquery:void 0}],38:[function(t,e){"use strict";var n=function(){try{return t("jquery")}catch(e){return window.jQuery}}(),r=t("yasgui-utils"),i=t("./imgs.js");(function(){try{return t("datatables")}catch(e){return window.jQuery}})();var o=e.exports=function(e){var a=null,s={name:"Table",getPriority:10},l=s.options=n.extend(!0,{},o.defaults),c=function(){var t=[],n=e.results.getBindings(),r=e.results.getVariables(),i=null;e.options.getUsedPrefixes&&(i="function"==typeof e.options.getUsedPrefixes?e.options.getUsedPrefixes(e):e.options.getUsedPrefixes);for(var o=0;o<n.length;o++){var a=[];a.push("");for(var u=n[o],c=0;c<r.length;c++){var f=r[c];a.push(f in u?l.getCellContent?l.getCellContent(e,s,u,f,{rowId:o,colId:c,usedPrefixes:i}):"":"")}t.push(a)}return t},f=function(){a.on("order.dt",function(){h()});l.persistency&&l.persistency.tableLength&&a.on("length.dt",function(t,n,i){var o="string"==typeof l.persistency.tableLength?l.persistency.tableLength:l.persistency.tableLength(e);r.storage.set(o,i,"month")});n.extend(!0,l.callbacks,l.handlers);a.delegate("td","click",function(t){if(l.callbacks&&l.callbacks.onCellClick){var e=l.callbacks.onCellClick(this,t);if(e===!1)return!1}}).delegate("td","mouseenter",function(t){l.callbacks&&l.callbacks.onCellMouseEnter&&l.callbacks.onCellMouseEnter(this,t);var e=n(this);l.fetchTitlesFromPreflabel&&void 0===e.attr("title")&&0==e.text().trim().indexOf("http")&&u(e)}).delegate("td","mouseleave",function(t){l.callbacks&&l.callbacks.onCellMouseLeave&&l.callbacks.onCellMouseLeave(this,t)})};s.draw=function(){a=n('<table cellpadding="0" cellspacing="0" border="0" class="resultsTable"></table>');n(e.resultsContainer).html(a);var t=l.datatable;t.data=c();t.columns=l.getColumns(e,s);if(l.persistency&&l.persistency.tableLength){var i="string"==typeof l.persistency.tableLength?l.persistency.tableLength:l.persistency.tableLength(e),o=r.storage.get(i);o&&(t.pageLength=o)}a.DataTable(n.extend(!0,{},t));h();f();var u=e.header.outerHeight()-5;u>0&&e.resultsContainer.find(".dataTables_wrapper").css("position","relative").css("top","-"+u+"px").css("margin-bottom","-"+u+"px")};var h=function(){var t={sorting:"unsorted",sorting_asc:"sortAsc",sorting_desc:"sortDesc"};a.find(".sortIcons").remove();var e=8,o=13;for(var s in t){var u=n("<div class='sortIcons'></div>").css("float","right").css("margin-right","-12px").width(e).height(o);r.svg.draw(u,i[t[s]],{width:e+2,height:o+1});a.find("th."+s).append(u)}};s.canHandleResults=function(){return e.results&&e.results.getVariables&&e.results.getVariables()&&e.results.getVariables().length>0};s.getDownloadInfo=function(){return e.results?{getContent:function(){return t("./bindingsToCsv.js")(e.results.getAsJson())},filename:"queryResults.csv",contentType:"text/csv",buttonTitle:"Download as CSV"}:null};return s},a=function(t,e,n){var r=n.value;if(n["xml:lang"])r='"'+n.value+'"@'+n["xml:lang"];else if(n.datatype){var i="http://www.w3.org/2001/XMLSchema#",o=n.datatype;o=0==o.indexOf(i)?"xsd:"+o.substring(i.length):"<"+o+">";r='"'+r+'"^^'+o}return r},s=function(t,e,n,r,i){var o=n[r],s=null;if("uri"==o.type){var u=null,l=o.value,c=l;if(i.usedPrefixes)for(var f in i.usedPrefixes)if(0==c.indexOf(i.usedPrefixes[f])){c=f+":"+l.substring(i.usedPrefixes[f].length);break}if(e.options.mergeLabelsWithUris){var h="string"==typeof e.options.mergeLabelsWithUris?e.options.mergeLabelsWithUris:"Label";if(n[r+h]){c=a(t,e,n[r+h]);u=l}}s="<a "+(u?"title='"+l+"' ":"")+"class='uri' target='_blank' href='"+l+"'>"+c+"</a>"}else s="<span class='nonUri'>"+a(t,e,o)+"</span>";return s},u=function(t){var e=function(){t.attr("title","")};n.get("http://preflabel.org/api/v1/label/"+encodeURIComponent(t.text())+"?silent=true").success(function(n){"object"==typeof n&&n.label?t.attr("title",n.label):"string"==typeof n&&n.length>0?t.attr("title",n):e()}).fail(e)};o.defaults={getCellContent:s,persistency:{tableLength:function(t){return"tableLength_"+n(t.container).closest("[id]").attr("id")}},getColumns:function(t,e){var n=function(n){if(!e.options.mergeLabelsWithUris)return!0;var r="string"==typeof e.options.mergeLabelsWithUris?e.options.mergeLabelsWithUris:"Label";return-1!==n.indexOf(r,n.length-r.length)&&t.results.getVariables().indexOf(n.substring(0,n.length-r.length))>=0?!1:!0},r=[];r.push({title:""});t.results.getVariables().forEach(function(t){r.push({title:t,visible:n(t)})});return r},fetchTitlesFromPreflabel:!0,mergeLabelsWithUris:!1,callbacks:{onCellMouseEnter:null,onCellMouseLeave:null,onCellClick:null},datatable:{order:[],pageLength:50,lengthMenu:[[10,50,100,1e3,-1],[10,50,100,1e3,"All"]],lengthChange:!0,pagingType:"full_numbers",drawCallback:function(t){for(var e=0;e<t.aiDisplay.length;e++)n("td:eq(0)",t.aoData[t.aiDisplay[e]].nTr).html(e+1);var r=!1;n(t.nTableWrapper).find(".paginate_button").each(function(){-1==n(this).attr("class").indexOf("current")&&-1==n(this).attr("class").indexOf("disabled")&&(r=!0)});r?n(t.nTableWrapper).find(".dataTables_paginate").show():n(t.nTableWrapper).find(".dataTables_paginate").hide()},columnDefs:[{width:"12px",orderable:!1,targets:0}]}};o.version={"YASR-table":t("../package.json").version,jquery:n.fn.jquery,"jquery-datatables":n.fn.DataTable.version}},{"../package.json":23,"./bindingsToCsv.js":24,"./imgs.js":28,datatables:void 0,jquery:void 0,"yasgui-utils":20}],39:[function(t,e){"use strict";(function(){try{return t("jquery")}catch(e){return window.jQuery}})();e.exports={uriToPrefixed:function(t,e){if(t)for(var n in t)if(0==e.indexOf(t[n])){e=n+":"+e.substring(t[n].length);break}}}},{jquery:void 0}]},{},[1])(1)});
//# sourceMappingURL=yasr.min.js.map