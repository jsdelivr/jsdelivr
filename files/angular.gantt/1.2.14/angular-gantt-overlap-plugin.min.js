/*
Project: angular-gantt v1.2.14 - Gantt chart component for AngularJS
Authors: Marco Schweighauser, RÃ©mi Alvergnat
License: MIT
Homepage: https://www.angular-gantt.com
Github: https://github.com/angular-gantt/angular-gantt.git
*/

!function(){"use strict";angular.module("gantt.overlap",["gantt","gantt.overlap.templates"]).directive("ganttOverlap",["moment","$timeout",function(a,b){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",global:"=?"},link:function(c,d,e,f){function g(a){var b,c;return a.model.from.isBefore(a.model.to)?(b=a.model.from,c=a.model.to):(b=a.model.to,c=a.model.from),[b,c]}function h(b){var c=g(b);return a().range(c[0],c[1])}function i(a,b){b.model.id in a||!b.$element||(b.$element.addClass("gantt-task-overlaps"),a[b.model.id]=b)}function j(a,b){for(var c=0,d=b.length;c<d;c++){var e=b[c];e.model.id in a||!e.$element||e.$element.removeClass("gantt-task-overlaps")}}function k(a){var b={};if(a.length>1)for(var c=a[0],d=h(c),e=1,f=a.length;e<f;e++){var g=a[e],k=h(g);k.overlaps(d)&&(i(b,g),i(b,c)),c.left+c.width<g.left+g.width&&(c=g,d=k)}j(b,a)}function l(a,b){return a.sort(function(a,c){return b(a)<b(c)?-1:b(a)>b(c)?1:0})}function m(a){for(var b=[],c=0;c<a.length;c++)b.push.apply(b,a[c].tasks);b=l(b,function(a){return a.model.from}),k(b)}var n=f.gantt.api;void 0===c.enabled&&(c.enabled=!0),void 0===c.global&&(c.global=!1),c.enabled&&(n.data.on.change(c,function(){b(function(){var a=n.gantt.rowsManager.rows;if(c.global)m(a);else for(var b=0;b<a.length;b++)k(a[b].tasks)})}),n.tasks.on.change(c,function(a){if(c.global){var b=a.row.rowsManager.rows;m(b)}else k(a.row.tasks)}),n.tasks.on.rowChange(c,function(a,b){if(c.global){var d=b.rowsManager.rows;m(d)}else k(b.tasks)}),n.tasks.on.add(c,function(a){b(function(){if(c.global){var b=a.row.rowsManager.rows;m(b)}else k(a.row.tasks)})}))}}}])}(),angular.module("gantt.overlap.templates",[]).run(["$templateCache",function(a){}]);
//# sourceMappingURL=angular-gantt-overlap-plugin.min.js.map