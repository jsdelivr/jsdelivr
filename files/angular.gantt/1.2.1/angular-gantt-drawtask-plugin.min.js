/*
Project: angular-gantt v1.2.1 - Gantt chart component for AngularJS
Authors: Marco Schweighauser, RÃ©mi Alvergnat
License: MIT
Homepage: http://www.angular-gantt.com
Github: https://github.com/angular-gantt/angular-gantt.git
*/

!function(){"use strict";angular.module("gantt.drawtask",["gantt"]).directive("ganttDrawTask",["$document","ganttMouseOffset","moment",function(a,b,c){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",moveThreshold:"=?",taskModelFactory:"=taskFactory"},link:function(d,e,f,g){var h=g.gantt.api;void 0===d.enabled&&(d.enabled=!0),void 0===d.moveThreshold&&(d.moveThreshold=0),h.directives.on["new"](d,function(e,f,g){if("ganttRow"===e){var i=function(a){var b=h.core.getDateByPosition(a,!0),e=c(b),g=d.taskModelFactory();g.from=b,g.to=e;var i=f.row.addTask(g);i.isResizing=!0,i.updatePosAndSize(),f.row.updateVisibleTasks(),f.row.$scope.$digest()},j=function(c){var e=function(a){var f=b.getOffset(a).x;Math.abs(c-f)>=d.moveThreshold&&(g.off("mousemove",e),i(c))};g.on("mousemove",e),a.one("mouseup",function(){g.off("mousemove",e)})},k=function(a){var c=a.target?a.target:a.srcElement,e=angular.isFunction(d.enabled)?d.enabled(a):d.enabled;if(e&&c.className.indexOf("gantt-row")>-1){var f=b.getOffset(a).x;0===d.moveThreshold?i(f,f):j(f)}};g.on("mousedown",k),f.drawTaskHandler=k}}),h.directives.on.destroy(d,function(a,b,c){"ganttRow"===a&&(c.off("mousedown",b.drawTaskHandler),delete b.drawTaskHandler)})}}}])}();
//# sourceMappingURL=angular-gantt-drawtask-plugin.min.js.map