/*
Project: angular-gantt v1.0.1 - Gantt chart component for AngularJS
Authors: Marco Schweighauser, RÃ©mi Alvergnat
License: MIT
Homepage: http://www.angular-gantt.com
Github: https://github.com/angular-gantt/angular-gantt.git
*/

!function(){"use strict";angular.module("gantt.tooltips",["gantt","gantt.tooltips.templates"]).directive("ganttTooltips",["$compile","$document",function(a,b){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",dateFormat:"=?"},link:function(c,d,e,f){var g=f.gantt.api;if(c.options&&"object"==typeof c.options.tooltips)for(var h in c.options.tooltips)c[h]=c.options[h];void 0===c.enabled&&(c.enabled=!0),void 0===c.dateFormat&&(c.dateFormat="MMM DD, HH:mm"),c.api=g,g.directives.on["new"](c,function(d,f,g){if("ganttTask"===d){var h=f.$new();h.pluginScope=c;var i=b[0].createElement("div");angular.element(i).attr("data-ng-if","pluginScope.enabled");var j=b[0].createElement("gantt-tooltip");void 0!==e.templateUrl&&angular.element(j).attr("data-template-url",e.templateUrl),void 0!==e.template&&angular.element(j).attr("data-template",e.template),angular.element(i).append(j),g.append(a(i)(h))}})}}}])}(),function(){"use strict";angular.module("gantt.tooltips").directive("ganttTooltip",["$timeout","$compile","$document","$templateCache","ganttDebounce","ganttSmartEvent",function(a,b,c,d,e,f){return{restrict:"E",templateUrl:function(a,b){var c;return c=void 0===b.templateUrl?"plugins/tooltips/tooltip.tmpl.html":b.templateUrl,void 0!==b.template&&d.put(c,b.template),c},scope:!0,replace:!0,controller:["$scope","$element","ganttUtils",function(b,d,g){var h,i,j=angular.element(c[0].body),k=b.task.$element,l=!1;b.getFromLabel=function(){var a=b.task.model.tooltips,c=b.task.row.model.tooltips;"boolean"==typeof a&&(a={enabled:a}),"boolean"==typeof c&&(c={enabled:c});var d=g.firstProperty([a,c],"dateFormat",b.pluginScope.dateFormat);return b.task.model.from.format(d)},b.getToLabel=function(){var a=b.task.model.tooltips,c=b.task.row.model.tooltips;"boolean"==typeof a&&(a={enabled:a}),"boolean"==typeof c&&(c={enabled:c});var d=g.firstProperty([a,c],"dateFormat",b.pluginScope.dateFormat);return b.task.model.to.format(d)};var m=f(b,j,"mousemove",e(function(a){l?q(a.clientX):(i=a.clientX,n(!0,!1))},5,!1));b.task.getForegroundElement().bind("mousemove",function(a){i=a.clientX}),b.task.getForegroundElement().bind("mouseenter",function(a){i=a.clientX,n(!0,!0)}),b.task.getForegroundElement().bind("mouseleave",function(){n(!1)}),b.pluginScope.api.tasks.on.moveBegin&&(b.pluginScope.api.tasks.on.moveBegin(b,function(a){a===b.task&&n(!0)}),b.pluginScope.api.tasks.on.moveEnd(b,function(a){a===b.task&&n(!1)}),b.pluginScope.api.tasks.on.resizeBegin(b,function(a){a===b.task&&n(!0)}),b.pluginScope.api.tasks.on.resizeEnd(b,function(a){a===b.task&&n(!1)}));var n=function(c,d){h&&a.cancel(h);var e=b.task.model.tooltips,f=b.task.row.model.tooltips;"boolean"==typeof e&&(e={enabled:e}),"boolean"==typeof f&&(f={enabled:f});var j=g.firstProperty([e,f],"enabled",b.pluginScope.enabled);j&&!l&&c?d?h=a(function(){o(i)},500,!1):o(i):c||b.task.active||r()},o=function(a){l=!0,m.bind(),b.displayed=!0,b.$evalAsync(function(){var c;d.hasClass("ng-hide")&&(d.removeClass("ng-hide"),c=!0),b.elementHeight=d[0].offsetHeight,c&&d.addClass("ng-hide"),b.taskRect=k[0].getBoundingClientRect(),q(a)})},p=function(){var a=c[0];return a.documentElement.clientWidth||a.documentElement.getElementById("body")[0].clientWidth},q=function(a){a+d[0].offsetWidth>p()?(d.css("left",a+20-d[0].offsetWidth+"px"),b.isRightAligned=!0):(d.css("left",a-20+"px"),b.isRightAligned=!1)},r=function(){l=!1,m.unbind(),b.$evalAsync(function(){b.displayed=!1})};b.task.isMoving&&n(!0,!1),b.gantt.api.directives.raise["new"]("ganttTooltip",b,d),b.$on("$destroy",function(){b.gantt.api.directives.raise.destroy("ganttTooltip",b,d)})}]}}])}();
//# sourceMappingURL=angular-gantt-tooltips-plugin.min.js.map