/*!
* Qoopido.js library v3.5.9, 2014-10-27
* https://github.com/dlueth/qoopido.js
* (c) 2014 Dirk Lueth
* Dual licensed under MIT and GPL
*/
!function(t){window.qoopido.register("widget/adapt",t,["../dom/element","../dom/element/emerge","../component/sense"])}(function(t,e,i,n,a,o,r){"use strict";function l(t){return this.setStyle("paddingBottom",100*t+"%")}function c(t,e){var i=this;t.mql=h.create(e).on("matched dematched",function(){d.call(i)})}function d(){for(var t,e,i,n,o,c,d=this,s=0;(t=d._candidates[s])!==r;s++)if(!t.mql||t.mql.matches&&t.mql.matches()===!0){l.call(d,t.ratio),d._visible===!0&&(e=d._image||(d._image=A.create("<img />",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",alt:d._caption},{position:"absolute",display:"block",width:"100%",height:"100%",top:"0",left:"0",margin:"0",padding:"0"}).appendTo(d)),i=e.element.getBoundingClientRect(),n=Math.round(i.width),o=Math.round(i.width*t.ratio),c=t.url.replace(g,"$1."+n+"x"+o+"@"+(a.devicePixelRatio||1)+".$2"),e.setAttribute("src",c));break}}function s(){for(var t,e=0;(t=f[e])!==r;e++)d.call(t)}function m(){a.clearTimeout(p),p=a.setTimeout(s,200)}var u,p,g=new RegExp("(.+?).(jpg|jpeg|png|gif|webp)$"),A=t["dom/element"],h=t["component/sense"],f=[];return u=t["dom/element/emerge"].extend({_visible:!1,_candidates:null,_image:null,_caption:null,_constructor:function(t,e){var i,n,a,o,s=this,m=0;for(u._parent._constructor.call(s,t,e),s.setStyles({position:"relative",display:"block",width:"100%",height:0,padding:0}),i=parseFloat(s.getAttribute("data-ratio")||1),n=s.find('[itemprop="source"],[itemprop="contentUrl"]'),s._candidates=[],s._caption=(o=s.find('[itemprop="caption"]')[0])?o.getAttribute("content"):null,l.call(s,i);(a=n[m])!==r;m++){var p=parseFloat(a.getAttribute("data-ratio")||i),g=a.getAttribute("data-media")||null;s._candidates.push({ratio:p,url:a.getAttribute("content"),mql:g}),g&&c.call(s,s._candidates[s._candidates.length-1],g)}s.on("emerged demerged",function(t){s._visible="emerged"===t.type?!0:!1,d.call(s)}),f.push(s)}}),A.create(a).on("resize orientationchange",m),u});