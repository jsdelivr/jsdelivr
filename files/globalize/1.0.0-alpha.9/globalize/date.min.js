/*!
 * Globalize v1.0.0-alpha.9 2014-10-10T13:35Z Released under the MIT license
 * http://git.io/TrdQbw
 */
!function(a,b){"function"==typeof define&&define.amd?define(["cldr","../globalize","cldr/event","cldr/supplemental"],b):"object"==typeof exports?module.exports=b(require("cldrjs"),require("globalize")):b(a.Cldr,a.Globalize)}(this,function(a,b){function c(a,b){g(a,b,{skip:[/dates\/calendars\/gregorian\/days\/.*\/short/,/supplemental\/timeData\/(?!001)/,/supplemental\/weekData\/(?!001)/]})}var d=b._createError,e=b._formatMessage,f=b._isPlainObject,g=b._validateCldr,h=b._validateDefaultLocale,i=b._validateParameterPresence,j=b._validateParameterType,k=function(a,b){j(a,b,void 0===a||a instanceof Date,"Date")},l=function(a,b){j(a,b,void 0===a||"string"==typeof a||f(a),"String or plain Object")},m=function(a,b){j(a,b,void 0===a||"string"==typeof a,"a string")},n=function(a,b){return d("E_INVALID_PAR_VALUE","Invalid `{name}` value ({value}).",{name:a,value:b})},o=function(a,b){var c;switch("string"==typeof a&&(a={skeleton:a}),!0){case"skeleton"in a:c=b.main(["dates/calendars/gregorian/dateTimeFormats/availableFormats",a.skeleton]);break;case"date"in a:case"time"in a:c=b.main(["dates/calendars/gregorian","date"in a?"dateFormats":"timeFormats",a.date||a.time]);break;case"datetime"in a:c=b.main(["dates/calendars/gregorian/dateTimeFormats",a.datetime]),c&&(c=e(c,[b.main(["dates/calendars/gregorian/timeFormats",a.datetime]),b.main(["dates/calendars/gregorian/dateFormats",a.datetime])]));break;case"pattern"in a:c=a.pattern;break;default:throw n({name:"pattern",value:a})}return c},p=function(a,b){return(a.getDay()-b+7)%7},q=function(a,b){var c=864e5;return(b.getTime()-a.getTime())/c},r=function(a,b){switch(a=new Date(a.getTime()),b){case"year":a.setMonth(0);case"month":a.setDate(1);case"day":a.setHours(0);case"hour":a.setMinutes(0);case"minute":a.setSeconds(0);case"second":a.setMilliseconds(0)}return a},s=function(a){return Math.floor(q(r(a,"year"),a))},t=["sun","mon","tue","wed","thu","fri","sat"],u=function(a){return t.indexOf(a.supplemental.weekData.firstDay())},v=function(a){return a-r(a,"day")},w=/([a-z])\1*|'[^']+'|''|./gi,x=function(a,b,c){var d;for("string"!=typeof a&&(a=String(a)),d=a.length;b>d;d+=1)a=c?a+"0":"0"+a;return a},y=function(a,b){var c=a.getTimezoneOffset();return b=b.split(";")[c>0?1:0],b=b.replace(/HH?/,function(a){return x(Math.floor(Math.abs(c)/60),a.length)}),b.replace(/mm/,x(Math.abs(c)%60,2))},z=function(a,b){return b.pattern.replace(w,function(c){var d,e,f=c.charAt(0),g=c.length;switch("j"===f&&(f=b.preferredTime),"Z"===f&&(4>g?(f="x",g=4):5>g?(f="O",g=4):(f="X",g=5)),f){case"G":e=b.eras[a.getFullYear()<0?0:1];break;case"y":e=String(a.getFullYear()),d=!0,2===g&&(e=e.substr(e.length-2));break;case"Y":e=new Date(a.getTime()),e.setDate(e.getDate()+7-p(a,b.firstDay)-b.firstDay-b.minDays),e=String(e.getFullYear()),d=!0,2===g&&(e=e.substr(e.length-2));break;case"Q":case"q":e=Math.ceil((a.getMonth()+1)/3),2>=g?d=!0:e=b.quarters[f][g][e];break;case"M":case"L":e=a.getMonth()+1,2>=g?d=!0:e=b.months[f][g][e];break;case"w":e=p(r(a,"year"),b.firstDay),e=Math.ceil((s(a)+e)/7)-(7-e>=b.minDays?0:1),d=!0;break;case"W":e=p(r(a,"month"),b.firstDay),e=Math.ceil((a.getDate()+e)/7)-(7-e>=b.minDays?0:1);break;case"d":e=a.getDate(),d=!0;break;case"D":e=s(a)+1,d=!0;break;case"F":e=Math.floor(a.getDate()/7)+1;break;case"e":case"c":if(2>=g){e=p(a,b.firstDay)+1,d=!0;break}case"E":e=t[a.getDay()],e=b.days[f][g][e];break;case"a":e=b.dayPeriods[a.getHours()<12?"am":"pm"];break;case"h":e=a.getHours()%12||12,d=!0;break;case"H":e=a.getHours(),d=!0;break;case"K":e=a.getHours()%12,d=!0;break;case"k":e=a.getHours()||24,d=!0;break;case"m":e=a.getMinutes(),d=!0;break;case"s":e=a.getSeconds(),d=!0;break;case"S":e=Math.round(a.getMilliseconds()*Math.pow(10,g-3)),d=!0;break;case"A":e=Math.round(v(a)*Math.pow(10,g-3)),d=!0;break;case"z":case"O":0===a.getTimezoneOffset()?e=b.gmtZeroFormat:(e=y(a,4>g?"+H;-H":b.tzLongHourFormat),e=b.gmtFormat.replace(/\{0\}/,e));break;case"X":if(0===a.getTimezoneOffset()){e="Z";break}case"x":e=1===g?"+HH;-HH":g%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm",e=y(a,e);break;default:return c}return d&&(e=x(e,g)),e})},A=function(a){return d("E_UNSUPPORTED","Unsupported {feature}.",{feature:a})},B=function(a,b){var c={},d=["abbreviated","wide","narrow"];return c.pattern=a,a.replace(w,function(a){var e=a.charAt(0),f=a.length;switch("j"===e&&(c.preferredTime=e=b.supplemental.timeData.preferred()),"Z"===e&&4===f&&(e="O",f=4),e){case"G":c.eras=b.main(["dates/calendars/gregorian/eras",3>=f?"eraAbbr":4===f?"eraNames":"eraNarrow"]);break;case"Y":c.firstDay=u(b),c.minDays=b.supplemental.weekData.minDays();break;case"u":case"U":throw A({feature:"year pattern `"+e+"`"});case"Q":case"q":f>2&&(c.quarters||(c.quarters={}),c.quarters[e]||(c.quarters[e]={}),c.quarters[e][f]=b.main(["dates/calendars/gregorian/quarters","Q"===e?"format":"stand-alone",d[f-3]]));break;case"M":case"L":f>2&&(c.months||(c.months={}),c.months[e]||(c.months[e]={}),c.months[e][f]=b.main(["dates/calendars/gregorian/months","M"===e?"format":"stand-alone",d[f-3]]));break;case"w":case"W":c.firstDay=u(b),c.minDays=b.supplemental.weekData.minDays();break;case"g":throw A({feature:"Julian day pattern `g`"});case"e":case"c":if(2>=f){c.firstDay=u(b);break}case"E":c.days||(c.days={}),c.days[e]||(c.days[e]={}),c.days[e][f]=6===f?b.main(["dates/calendars/gregorian/days","c"===e?"stand-alone":"format","short"])||b.main(["dates/calendars/gregorian/days","c"===e?"stand-alone":"format","abbreviated"]):b.main(["dates/calendars/gregorian/days","c"===e?"stand-alone":"format",d[3>f?0:f-3]]);break;case"a":c.dayPeriods=b.main("dates/calendars/gregorian/dayPeriods/format/wide");break;case"z":case"O":c.gmtFormat=b.main("dates/timeZoneNames/gmtFormat"),c.gmtZeroFormat=b.main("dates/timeZoneNames/gmtZeroFormat"),c.tzLongHourFormat=b.main("dates/timeZoneNames/hourFormat");break;case"v":case"V":throw A({feature:"timezone pattern `"+e+"`"})}}),c},C=function(a,b){var c=new Date(a.getFullYear(),a.getMonth()+1,0).getDate();a.setDate(1>b?1:c>b?b:c)},D=function(a,b){var c=a.getDate();a.setDate(1),a.setMonth(b),C(a,c)},E=function(){function a(a,b,c){return b>a||a>c}return function(b,c,d){var e,f,g,h,i,j,k=0,l=1,m=2,n=3,o=4,p=5,q=6,s=new Date,t=[],u=["year","month","day","hour","minute","second","milliseconds"];return c.length&&(j=c.every(function(b){var c,j,r,u;if("literal"===b.type)return!0;switch(j=b.type.charAt(0),u=b.type.length,"j"===j&&(j=d.preferredTimeData),j){case"G":t.push(k),f=+b.value;break;case"y":if(r=+b.lexeme,2===u){if(a(r,0,99))return!1;c=100*Math.floor(s.getFullYear()/100),r+=c,r>s.getFullYear()+20&&(r-=100)}s.setFullYear(r),t.push(k);break;case"Y":throw A({feature:"year pattern `"+j+"`"});case"Q":case"q":break;case"M":case"L":if(r=2>=u?+b.lexeme:+b.value,a(r,1,12))return!1;D(s,r-1),t.push(l);break;case"w":case"W":break;case"d":if(r=+b.lexeme,a(r,1,31))return!1;C(s,r),t.push(m);break;case"D":if(r=+b.lexeme,a(r,1,366))return!1;s.setMonth(0),s.setDate(r),t.push(m);break;case"F":break;case"e":case"c":case"E":break;case"a":e=b.value;break;case"h":if(r=+b.lexeme,a(r,1,12))return!1;g=h=!0,s.setHours(12===r?0:r),t.push(n);break;case"K":if(r=+b.lexeme,a(r,0,11))return!1;g=h=!0,s.setHours(r),t.push(n);break;case"k":if(r=+b.lexeme,a(r,1,24))return!1;g=!0,s.setHours(24===r?0:r),t.push(n);break;case"H":if(r=+b.lexeme,a(r,0,23))return!1;g=!0,s.setHours(r),t.push(n);break;case"m":if(r=+b.lexeme,a(r,0,59))return!1;s.setMinutes(r),t.push(o);break;case"s":if(r=+b.lexeme,a(r,0,59))return!1;s.setSeconds(r),t.push(p);break;case"A":s.setHours(0),s.setMinutes(0),s.setSeconds(0);case"S":r=Math.round(+b.lexeme*Math.pow(10,3-u)),s.setMilliseconds(r),t.push(q);break;case"Z":case"z":case"O":case"X":case"x":i=b.value-s.getTimezoneOffset()}return!0}))&&(!g||!e^h)?(0===f&&s.setFullYear(-1*s.getFullYear()+1),h&&"pm"===e&&s.setHours(s.getHours()+12),i&&s.setMinutes(s.getMinutes()+i),t=Math.max.apply(null,t),s=r(s,u[t])):null}}(),F=function(a){return{preferredTimeData:a.supplemental.timeData.preferred()}},G=function(a,b){var c,d=[],e=["abbreviated","wide","narrow"];return c=b.pattern.match(w).every(function(c){function f(b){var c=a.match(b);return c?(o.value=c.length<4?60*(c[1]?-c[1]:+c[2]):60*(c[1]?-c[1]:+c[3])+(c[1]?-c[2]:+c[4]),!0):!1}function g(a,b){var c;return b||(b="{0}"),c=a.replace("+","\\+").replace(/HH|mm/g,"(\\d\\d)").replace(/H|m/g,"(\\d\\d?)"),c=c.split(";").map(function(a){return b.replace("{0}",a)}).join("|"),new RegExp(c)}function h(){return 1===m?n=/\d/:void 0}function i(){return 1===m?n=/\d\d?/:void 0}function j(){return 2===m?n=/\d\d/:void 0}function k(c){var d,e,f=b[c.join("/")];for(d in f)if(e=new RegExp("^"+f[d]),e.test(a))return o.value=d,n=new RegExp(f[d]);return null}var l,m,n,o={};switch(o.type=c,l=c.charAt(0),m=c.length,"Z"===l&&(4>m?(l="x",m=4):5>m?(l="O",m=4):(l="X",m=5)),l){case"G":k(["gregorian/eras",3>=m?"eraAbbr":4===m?"eraNames":"eraNarrow"]);break;case"y":case"Y":n=1===m?/\d+/:2===m?/\d\d/:new RegExp("\\d{"+m+",}");break;case"Q":case"q":h()||j()||k(["gregorian/quarters","Q"===l?"format":"stand-alone",e[m-3]]);break;case"M":case"L":i()||j()||k(["gregorian/months","M"===l?"format":"stand-alone",e[m-3]]);break;case"D":3>=m&&(n=new RegExp("\\d{"+m+",3}"));break;case"W":case"F":h();break;case"e":case"c":if(2>=m){h()||j();break}case"E":6===m?k(["gregorian/days",["c"===l?"stand-alone":"format"],"short"])||k(["gregorian/days",["c"===l?"stand-alone":"format"],"abbreviated"]):k(["gregorian/days",["c"===l?"stand-alone":"format"],e[3>m?0:m-3]]);break;case"a":k(["gregorian/dayPeriods/format/wide"]);break;case"w":case"d":case"h":case"H":case"K":case"k":case"j":case"m":case"s":i()||j();break;case"S":n=new RegExp("\\d{"+m+"}");break;case"A":n=new RegExp("\\d{"+(m+5)+"}");break;case"z":case"O":if(a===b["timeZoneNames/gmtZeroFormat"])o.value=0,n=new RegExp(b["timeZoneNames/gmtZeroFormat"]);else if(n=g(4>m?"+H;-H":b["timeZoneNames/hourFormat"],b["timeZoneNames/gmtFormat"]),!f(n))return null;break;case"X":if("Z"===a){o.value=0,n=/Z/;break}case"x":if(n=g(1===m?"+HH;-HH":m%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm"),!f(n))return null;break;case"'":o.type="literal",n="'"===c.charAt(1)?/'/:/'[^']+'/;break;default:o.type="literal",n=/./}return n?(a=a.replace(new RegExp("^"+n.source),function(a){return o.lexeme=a,""}),o.lexeme?(d.push(o),!0):!1):!1}),c?d:[]},H=function(a,b){function c(a,b){d[a.replace(/^.*\/dates\//,"").replace(/calendars\//,"")]=b}var d={pattern:a},e=["abbreviated","wide","narrow"];return b.on("get",c),a.match(w).forEach(function(a){var c,d;switch(c=a.charAt(0),d=a.length,"Z"===c&&5>d&&(c="O",d=4),c){case"G":b.main(["dates/calendars/gregorian/eras",3>=d?"eraAbbr":4===d?"eraNames":"eraNarrow"]);break;case"u":case"U":throw A({feature:"year pattern `"+c+"`"});case"Q":case"q":d>2&&b.main(["dates/calendars/gregorian/quarters","Q"===c?"format":"stand-alone",e[d-3]]);break;case"M":case"L":d>2&&b.main(["dates/calendars/gregorian/months","M"===c?"format":"stand-alone",e[d-3]]);break;case"g":throw A({feature:"Julian day pattern `g`"});case"e":case"c":if(2>=d)break;case"E":6===d?b.main(["dates/calendars/gregorian/days",["c"===c?"stand-alone":"format"],"short"])||b.main(["dates/calendars/gregorian/days",["c"===c?"stand-alone":"format"],"abbreviated"]):b.main(["dates/calendars/gregorian/days",["c"===c?"stand-alone":"format"],e[3>d?0:d-3]]);break;case"a":b.main(["dates/calendars/gregorian/dayPeriods/format/wide"]);break;case"z":case"O":b.main("dates/timeZoneNames/gmtFormat"),b.main("dates/timeZoneNames/gmtZeroFormat"),b.main("dates/timeZoneNames/hourFormat");break;case"v":case"V":throw A({feature:"timezone pattern `"+c+"`"})}}),b.off("get",c),d};return b.dateFormatter=b.prototype.dateFormatter=function(a){var b,d;return i(a,"pattern"),l(a,"pattern"),b=this.cldr,h(b),b.on("get",c),a=o(a,b),d=B(a,b),b.off("get",c),function(a){return i(a,"value"),k(a,"value"),z(a,d)}},b.dateParser=b.prototype.dateParser=function(a){var b,d,e;return i(a,"pattern"),l(a,"pattern"),b=this.cldr,h(b),b.on("get",c),a=o(a,b),e=H(a,b),d=F(b),b.off("get",c),function(a){var b;return i(a,"value"),m(a,"value"),b=G(a,e),E(a,b,d)||null}},b.formatDate=b.prototype.formatDate=function(a,b){return i(a,"value"),k(a,"value"),this.dateFormatter(b)(a)},b.parseDate=b.prototype.parseDate=function(a,b){return i(a,"value"),m(a,"value"),this.dateParser(b)(a)},b});