/*!
 * angular-translate - v2.3.0 - 2014-09-16
 * http://github.com/PascalPrecht/angular-translate
 * Copyright (c) 2014 ; Licensed MIT
 */
angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(a){var b=a.storageKey(),c=a.storage();c?c.get(b)?a.use(c.get(b)):angular.isString(a.preferredLanguage())?a.use(a.preferredLanguage()):c.set(b,a.use()):angular.isString(a.preferredLanguage())&&a.use(a.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p={},q=[],r=a,s=[],t=!1,u="translate-cloak",v=!1,w=".",x=function(){var a=window.navigator;return(a.language||a.browserLanguage||a.systemLanguage||a.userLanguage||"").split("-").join("_")},y=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},z=function(){return this.replace(/^\s+|\s+$/g,"")},A=function(a){for(var b=[],d=angular.lowercase(a),e=0,f=q.length;f>e;e++)b.push(angular.lowercase(q[e]));if(y(b,d)>-1)return a;if(c){var g;for(var h in c){var i=!1,j=Object.prototype.hasOwnProperty.call(c,h)&&angular.lowercase(h)===angular.lowercase(a);if("*"===h.slice(-1)&&(i=h.slice(0,-1)===a.slice(0,h.length-1)),(j||i)&&(g=c[h],y(b,angular.lowercase(g))>-1))return g}}var k=a.split("_");return k.length>1&&y(b,angular.lowercase(k[0]))>-1?k[0]:a},B=function(a,b){if(!a&&!b)return p;if(a&&!b){if(angular.isString(a))return p[a]}else angular.isObject(p[a])||(p[a]={}),angular.extend(p[a],C(b));return this};this.translations=B,this.cloakClassName=function(a){return a?(u=a,this):u};var C=function(a,b,c,d){var e,f,g,h;b||(b=[]),c||(c={});for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(h=a[e],angular.isObject(h)?C(h,b.concat(e),c,e):(f=b.length?""+b.join(w)+w+e:e,b.length&&e===d&&(g=""+b.join(w),c[g]="@:"+f),c[f]=h));return c};this.addInterpolation=function(a){return s.push(a),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(a){return k=a,this},this.useSanitizeValueStrategy=function(a){return t=a,this},this.preferredLanguage=function(a){return D(a),this};var D=function(a){return a&&(b=a),b};this.translationNotFoundIndicator=function(a){return this.translationNotFoundIndicatorLeft(a),this.translationNotFoundIndicatorRight(a),this},this.translationNotFoundIndicatorLeft=function(a){return a?(n=a,this):n},this.translationNotFoundIndicatorRight=function(a){return a?(o=a,this):o},this.fallbackLanguage=function(a){return E(a),this};var E=function(a){return a?(angular.isString(a)?(e=!0,d=[a]):angular.isArray(a)&&(e=!1,d=a),angular.isString(b)&&y(d,b)<0&&d.push(b),this):e?d[0]:d};this.use=function(a){if(a){if(!p[a]&&!l)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+a+"'");return f=a,this}return f};var F=function(a){return a?(r=a,void 0):i?i+r:r};this.storageKey=F,this.useUrlLoader=function(a){return this.useLoader("$translateUrlLoader",{url:a})},this.useStaticFilesLoader=function(a){return this.useLoader("$translateStaticFilesLoader",a)},this.useLoader=function(a,b){return l=a,m=b||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(a){return h=a,this},this.storagePrefix=function(a){return a?(i=a,this):a},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(a){return j=a,this},this.usePostCompiling=function(a){return v=!!a,this},this.determinePreferredLanguage=function(a){var c=a&&angular.isFunction(a)?a():x();return b=q.length?A(c):c,this},this.registerAvailableLanguageKeys=function(a,b){return a?(q=a,b&&(c=b),this):q},this.$get=["$log","$injector","$rootScope","$q",function(a,c,i,q){var w,x,G,H=c.get(k||"$translateDefaultInterpolation"),I=!1,J={},K={},L=function(a,c,e){if(angular.isArray(a)){var g=function(a){for(var b={},d=[],f=function(a){var d=q.defer(),f=function(c){b[a]=c,d.resolve([a,c])};return L(a,c,e).then(f,f),d.promise},g=0,h=a.length;h>g;g++)d.push(f(a[g]));return q.all(d).then(function(){return b})};return g(a)}var i=q.defer();a&&(a=z.apply(a));var j=function(){var a=b?K[b]:K[f];if(x=0,h&&!a){var c=w.get(r);if(a=K[c],d&&d.length){var e=y(d,c);x=e>-1?e+=1:0,d.push(b)}}return a}();return j?j.then(function(){X(a,c,e).then(i.resolve,i.reject)},i.reject):X(a,c,e).then(i.resolve,i.reject),i.promise},M=function(a){return n&&(a=[n,a].join(" ")),o&&(a=[a,o].join(" ")),a},N=function(a){f=a,i.$emit("$translateChangeSuccess"),h&&w.set(L.storageKey(),f),H.setLocale(f),angular.forEach(J,function(a,b){J[b].setLocale(f)}),i.$emit("$translateChangeEnd")},O=function(a){if(!a)throw"No language key specified for loading.";var b=q.defer();return i.$emit("$translateLoadingStart"),I=!0,c.get(l)(angular.extend(m,{key:a})).then(function(c){var d={};i.$emit("$translateLoadingSuccess"),angular.isArray(c)?angular.forEach(c,function(a){angular.extend(d,C(a))}):angular.extend(d,C(c)),I=!1,b.resolve({key:a,table:d}),i.$emit("$translateLoadingEnd")},function(a){i.$emit("$translateLoadingError"),b.reject(a),i.$emit("$translateLoadingEnd")}),b.promise};if(h&&(w=c.get(h),!w.get||!w.set))throw new Error("Couldn't use storage '"+h+"', missing get() or set() method!");angular.isFunction(H.useSanitizeValueStrategy)&&H.useSanitizeValueStrategy(t),s.length&&angular.forEach(s,function(a){var d=c.get(a);d.setLocale(b||f),angular.isFunction(d.useSanitizeValueStrategy)&&d.useSanitizeValueStrategy(t),J[d.getInterpolationIdentifier()]=d});var P=function(a){var b=q.defer();return Object.prototype.hasOwnProperty.call(p,a)?(b.resolve(p[a]),b.promise):(K[a].then(function(a){B(a.key,a.table),b.resolve(a.table)},b.reject),b.promise)},Q=function(a,b,c,d){var e=q.defer();return P(a).then(function(g){Object.prototype.hasOwnProperty.call(g,b)?(d.setLocale(a),e.resolve(d.interpolate(g[b],c)),d.setLocale(f)):e.reject()},e.reject),e.promise},R=function(a,b,c,d){var e,g=p[a];return Object.prototype.hasOwnProperty.call(g,b)&&(d.setLocale(a),e=d.interpolate(g[b],c),d.setLocale(f)),e},S=function(a){if(j){var b=c.get(j)(a,f);return void 0!==b?b:a}return a},T=function(a,b,c,e){var f=q.defer();if(a<d.length){var g=d[a];Q(g,b,c,e).then(function(a){f.resolve(a)},function(){var d=T(a+1,b,c,e);f.resolve(d)})}else f.resolve(S(b));return f.promise},U=function(a,b,c,e){var f;if(a<d.length){var g=d[a];f=R(g,b,c,e),f||(f=U(a+1,b,c,e))}return f},V=function(a,b,c){return T(G>0?G:x,a,b,c)},W=function(a,b,c){return U(G>0?G:x,a,b,c)},X=function(a,b,c){var e=q.defer(),g=f?p[f]:p,h=c?J[c]:H;if(g&&Object.prototype.hasOwnProperty.call(g,a)){var i=g[a];"@:"===i.substr(0,2)?L(i.substr(2),b,c).then(e.resolve,e.reject):e.resolve(h.interpolate(i,b))}else{var k;j&&!I&&(k=S(a)),f&&d&&d.length?V(a,b,h).then(function(a){e.resolve(a)},function(a){e.reject(M(a))}):j&&!I&&k?e.resolve(k):e.reject(M(a))}return e.promise},Y=function(a,b,c){var e,g=f?p[f]:p,h=c?J[c]:H;if(g&&Object.prototype.hasOwnProperty.call(g,a)){var i=g[a];e="@:"===i.substr(0,2)?Y(i.substr(2),b,c):h.interpolate(i,b)}else{var k;j&&!I&&(k=S(a)),f&&d&&d.length?(x=0,e=W(a,b,h)):e=j&&!I&&k?k:M(a)}return e};if(L.preferredLanguage=function(a){return a&&D(a),b},L.cloakClassName=function(){return u},L.fallbackLanguage=function(a){if(void 0!==a&&null!==a){if(E(a),l&&d&&d.length)for(var b=0,c=d.length;c>b;b++)K[d[b]]||(K[d[b]]=O(d[b]));L.use(L.use())}return e?d[0]:d},L.useFallbackLanguage=function(a){if(void 0!==a&&null!==a)if(a){var b=y(d,a);b>-1&&(G=b)}else G=0},L.proposedLanguage=function(){return g},L.storage=function(){return w},L.use=function(a){if(!a)return f;var b=q.defer();i.$emit("$translateChangeStart");var c=A(a);return c&&(a=c),p[a]||!l||K[a]?(b.resolve(a),N(a)):(g=a,K[a]=O(a).then(function(c){B(c.key,c.table),b.resolve(c.key),g===a&&(N(c.key),g=void 0)},function(a){g=void 0,i.$emit("$translateChangeError"),b.reject(a),i.$emit("$translateChangeEnd")})),b.promise},L.storageKey=function(){return F()},L.isPostCompilingEnabled=function(){return v},L.refresh=function(a){function b(){e.resolve(),i.$emit("$translateRefreshEnd")}function c(){e.reject(),i.$emit("$translateRefreshEnd")}if(!l)throw new Error("Couldn't refresh translation table, no loader registered!");var e=q.defer();if(i.$emit("$translateRefreshStart"),a)p[a]?O(a).then(function(c){B(c.key,c.table),a===f&&N(f),b()},c):c();else{var g=[];if(d&&d.length)for(var h=0,j=d.length;j>h;h++)g.push(O(d[h]));f&&g.push(O(f)),q.all(g).then(function(a){angular.forEach(a,function(a){p[a.key]&&delete p[a.key],B(a.key,a.table)}),f&&N(f),b()})}return e.promise},L.instant=function(a,c,e){if(null===a||angular.isUndefined(a))return a;if(angular.isArray(a)){for(var g={},h=0,i=a.length;i>h;h++)g[a[h]]=L.instant(a[h],c,e);return g}if(angular.isString(a)&&a.length<1)return a;a&&(a=z.apply(a));var k,l=[];b&&l.push(b),f&&l.push(f),d&&d.length&&(l=l.concat(d));for(var m=0,n=l.length;n>m;m++){var o=l[m];if(p[o]&&"undefined"!=typeof p[o][a]&&(k=Y(a,c,e)),"undefined"!=typeof k)break}return k||""===k||(k=a,j&&!I&&(k=S(a))),k},l&&(angular.equals(p,{})&&L.use(L.use()),d&&d.length))for(var Z=function(a){B(a.key,a.table)},$=0,_=d.length;_>$;$++)K[d[$]]=O(d[$]).then(Z);return L}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(a){var b,c={},d="default",e=null,f={escaped:function(a){var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=angular.element("<div></div>").text(a[c]).html());return b}},g=function(a){var b;return b=angular.isFunction(f[e])?f[e](a):a};return c.setLocale=function(a){b=a},c.getInterpolationIdentifier=function(){return d},c.useSanitizeValueStrategy=function(a){return e=a,this},c.interpolate=function(b,c){return e&&(c=g(c)),a(b)(c||{})},c}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(a,b,c,d,e,f){return{restrict:"AE",scope:!0,compile:function(b,g){var h=g.translateValues?g.translateValues:void 0,i=g.translateInterpolation?g.translateInterpolation:void 0,j=b[0].outerHTML.match(/translate-value-+/i),k="^(.*)("+c.startSymbol()+".*"+c.endSymbol()+")(.*)";return function(b,l,m){if(b.interpolateParams={},b.preText="",b.postText="",m.$observe("translate",function(a){if(angular.equals(a,"")||!angular.isDefined(a)){var d=l.text().match(k);angular.isArray(d)?(b.preText=d[1],b.postText=d[3],b.translationId=c(d[2])(b.$parent)):b.translationId=l.text().replace(/^\s+|\s+$/g,"")}else b.translationId=a}),m.$observe("translateDefault",function(a){b.defaultText=a}),h&&m.$observe("translateValues",function(a){a&&b.$parent.$watch(function(){angular.extend(b.interpolateParams,e(a)(b.$parent))})}),j){var n=function(a){m.$observe(a,function(c){b.interpolateParams[angular.lowercase(a.substr(14,1))+a.substr(15)]=c})};for(var o in m)Object.prototype.hasOwnProperty.call(m,o)&&"translateValue"===o.substr(0,14)&&"translateValues"!==o&&n(o)}var p=function(b,c,e){e||"undefined"==typeof c.defaultText||(b=c.defaultText),l.html(c.preText+b+c.postText);var f=a.isPostCompilingEnabled(),h="undefined"!=typeof g.translateCompile,i=h&&"false"!==g.translateCompile;(f&&!h||i)&&d(l.contents())(c)},q=function(){return h||j?function(){var c=function(){b.translationId&&b.interpolateParams&&a(b.translationId,b.interpolateParams,i).then(function(a){p(a,b,!0)},function(a){p(a,b,!1)})};b.$watch("interpolateParams",c,!0),b.$watch("translationId",c)}:function(){var c=b.$watch("translationId",function(d){b.translationId&&d&&a(d,{},i).then(function(a){p(a,b,!0),c()},function(a){p(a,b,!1),c()})},!0)}}(),r=f.$on("$translateChangeSuccess",q);q(),b.$on("$destroy",r)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(a,b){return{compile:function(c){var d=a.$on("$translateChangeEnd",function(){c.removeClass(b.cloakClassName()),d(),d=null});c.addClass(b.cloakClassName())}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(a,b){return function(c,d,e){return angular.isObject(d)||(d=a(d)(this)),b.instant(c,d,e)}}]);