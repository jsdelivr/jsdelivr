/*!
 * anyjs micro ver 1.0.2 - any-micro.js
 * (c) any-js - https://github.com/any-js/anyjs/
 * Released under the MIT license
 */
var $any={};!function(a){"use strict";function b(a){return a.replace(/^(\s)+|(\s)+$/g,"")}function c(a){return String(a).split(".").map(b)}function d(a){return null!=a?a instanceof Array||(a="[object Arguments]"===Object.prototype.toString.call(a)?Array.prototype.slice.call(a):[a]):a=[],a}function e(){}function f(a,b){b=d(b),b.unshift(console),Function.prototype.call.apply(a,b)}function g(a,b,c){if(!b)return a;for(var d in b)b.hasOwnProperty(d)&&(c&&b[d]instanceof Object&&b[d].constructor===Object?(null==a[d]&&(a[d]={}),a[d]=g(a[d],b[d],c)):a[d]=b[d]);return a}function h(a,b){var c,d=a.shift();return c=b[d],null==c?null:void 0!==a[0]?h(a,c):c}function i(a,b,c,d,e){var f=a.shift();void 0===a[0]?null!=b[f]&&e||(b[f]=d):null==b[f]?(b[f]={},i(a,b[f],c,d,e)):"object"==typeof b[f]?i(a,b[f],c,d,e):m("not object",b,c)}function j(a){a.prototype.bind=function(a){try{return a.bind(this)}catch(b){}var c=this;return function(){return a.apply(c,arguments)}}}function k(b,c,d){if(0>=u&&!d)return null;if(a.log.target.scope&&a.log.target.scope!=b)return null;c=c||[],b=d?"":b||"any.";var e;if(a.log.target.elem&&(e=c[1],isEl(e)&&!hasEl(a.log.target.elem,e)))return null;if(a.log.target.methods&&-1==a.log.target.methods.indexOf(c[0]))return null;c[0]=b+(null==c[0]?"*":c[0]);for(var f=c.length;f>=0;f--)void 0==c[f]&&(c[f]=null);return c}function l(){a.log.info(null,arguments)}function m(){a.log.error(null,arguments)}function n(){u--}function o(){u++}function p(a){return a?"object"==typeof a?a:(String(a).match(/^[\s\-]*[\d\s]+$/)?a=1e3*a:(a=a.replace(/[\-\.]/g,"/"),a.match(/\d\s*\:\s*\d/)||(a+=" 0:00")),new Date(a)):new Date}function q(a){return("0"+a).slice(-2)}a.define={},a.profile={},a.profile.create=function(b){l("profile.create");var c={define:{},defaults:b,profiles:{}};return c.setProfile=function(b,d){a.profile.setProfile(c,b,d)},c.getProfile=function(b,d){return a.profile.getProfile(c,b,d)},c},a.profile.setProfile=function(a,b,c){l("profile.setProfile"),null==b||"default"===b?(a.defaults=a.defaults||{},g(a.defaults,c)):a.profiles[b]=g(g({},a.defaults,!0),c,!0)},a.profile.getProfile=function(a,b,c){var d=a.profiles;if(c=c||{},b instanceof Array){var e=b[0];if(2==b.length&&"string"==typeof e)return null==d[e]&&m("profile none",b),g(g(c,d[e],!0),b[1],!0);m("illegal format",b)}else{if(b instanceof Object)return g(g(c,a.defaults,!0),b,!0);if(null==b||"default"===b)return g(c,a.defaults,!0);if("string"==typeof b)return null==d[b]&&m("profile none",b),g(c,d[b],!0)}return b},a.define.info=0,a.info=function(b){switch(a.define.info){case 1:f(console.log,arguments);break;case 2:f(console.log,arguments),console.trace()}},a.define.error=1,a.define.throwError=!1,a.define.targetExist=!1,a.error=function(b){switch(a.define.error){case 1:f(console.error,arguments);break;case 2:f(console.error,arguments),console.trace()}if(a.define.throwError)throw new Error(b)},a.extend=function(a,b,c){return g(a,b,c)},a.keys=function(b){var c=0;try{c=Object.keys(b)}catch(d){c=[],b&&a.each(b,function(a,b){c.push(a)})}return c},a.size=function(b){return a.keys(b).length},a.blank=function(a){return!a&&0!==a},a.clone=function(a,b){var c={};return b&&(c=[]),g(c,a,!0)},a.each=function(a,b,c){for(var d in a)a.hasOwnProperty(d)&&b.call(c,d,a[d])};var r={};a.global=function(a,b){return void 0===b?r[a]?r[a]:(m("none"),e):(void 0===a&&(a=null),null===b?void delete r[a]:(r[a]=b,r[a]))},a.get=function(a,b){var d=c(b);return h(d,a)},a.set=function(b,d,e,f){return"function"==typeof e&&(e=e(a.get(b,d))),i(c(d),b,d,e,f),e},a.drop=function(b){a.each(b,function(a){delete b[a]})},a.datas={},a.data=function(b,c,d,e){return null==b&&(b=a.datas),void 0===d?null==c?b:a.get(b,c):a.blank(c)?("object"!=typeof d&&(d={}),a.drop(b),g(b,d,!0),b):a.set(b,c,d,e)},a.filter=function(b,c,d){d=g({reset:!1,replace:!0,array:!1,init:"*"},d);var e=null,f=d.reset?null:b;if(e=a.clone(f,d.array),"function"==typeof c[d.init]){var h=c[d.init];delete c[d.init],h(b,e,c)}return a.each(c,function(a,c){"function"!=typeof c?null==c?delete e[a]:("object"!=typeof c?e[a]=void 0!==b[c]?b[c]:null:(f=c[b[a]],e[a]=null==f?null:f),d.replace&&a!=c&&delete e[c]):e[a]=c(void 0!==b[a]?b[a]:null,b,e)}),e},a.inject=function(a,b){return function(){var c=d(arguments);return c.unshift(b),a.apply(this,c),b.apply(this,arguments)}},a.counter=function(a,b){b=g({min:null,max:null,add:1,init:null,loop:!1},b);var c=0,d=b.min,e=b.max;return"number"==typeof a?c=a:a instanceof Array&&(null==b.min&&(d=0),null==b.max&&(e=a.length-1)),null!=b.init&&(c=b.init),c-=b.add,function(f){var g;return c+=b.add,null!=f&&(c=a),g=c-e,null!=e&&g>0&&(b.loop?(c=null!=d?d:0,c+=g-1):c=e),g=c-d,null!=d&&0>g&&(b.loop?(c=e,c+=g+1):c=d),a instanceof Array?void 0!==a[c]?a[c]:null:c}},a.crc16=function(a){if(null==a)return 0;var b,c,d=0;for(b=0;b<a.length;b++)for(d^=a.charCodeAt(b),c=0;8>c;c++)d=1&d?d>>1^40961:d>>1;return d},a.escapeRegex=function(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},a.makeClass=function(a,b,c,d){l("makeClass");var e;if(a=a||function(){},c){e=function(){c.apply(this,arguments),a.apply(this,arguments)};try{e.prototype=Object.create(c.prototype)}catch(f){var g=function(){};g.prototype=c.prototype,e.prototype=new g}}else e=a;"function"==typeof b&&(b=b());for(var h in b)b.hasOwnProperty(h)&&(e.prototype[h]=b[h]);return d!==!1&&j(e),e},a.mixin=function(a,b){l("mixin");for(var c in b)b.hasOwnProperty(c)&&(a.prototype[c]=b[c]);return a};var s={};a.defineClass=function(b,c,d){if(l("defineClass"),"string"==typeof b){var e={};e[b]=c,b=e}a.each(b,function(a,b){return a&&-1!=a.search(/^[a-z]+[\w\.]+[a-z0-9]+$/i)?s[a]?void(d||console.error("already exist class:"+a)):void(s[a]=b):void console.error("class name error:"+a)})};var t={};a.getClass=function(b,c){if(l("getClass"),!s[b])return console.error("class none:"+b),null;if(t[b])return t[b];var d=s[b](a.makeClass);return c!==!1&&(t[b]=d),d},a.newClass=function(b,c){l("newClass");var d=a.getClass(b);return c=c||[],c.unshift(d),new(d.bind.apply(d,c))},a.definedClasses=function(b){l("definedClasses"),console.log("[Defined classes]"),a.each(b?t:s,function(a,b){console.log(a,b)})},a.log={target:{scope:null,methods:null,elem:null}},a.log.debug=function(b,c,d,e){null!=b&&(a.define.info=b),null!=c&&(a.define.error=c),null!=d&&(a.define.throwError=d),null!=e&&(a.define.targetExist=e)},a.log.limit=function(b,c,d){a.log.target.methods="string"==typeof b?[b]:b,void 0!==c&&(a.log.target.elem=c),void 0!==d&&(a.log.target.scope=d)};var u=1;a.log.info=function(b,c){a.define.info<=0||(c=k(b,c,!1),c&&(a.info.apply(null,c),a.log.breakpoint&&a.log.breakpoint(b,c)))},a.log.error=function(b,c){a.define.error<=0||(c=k(b,c,!0),c&&(a.error.apply(null,c),a.log.breakpoint&&a.log.breakpoint(c)))},a.log.breakpoint=null,a.log.suspend=function(){n()},a.log.resume=function(){o()},a.tpl={define:{}},a.tpl.define.wraps=["{","}"],a.tpl.define.sort=!0,a.tpl.assign=function(b,c,d){l("tpl.assign"),d=g({wrap:!0,ignoreCase:!1},d);var e,f,h,i="",j={};if("object"==typeof c){var k,m=a.keys(c);a.tpl.define.sort&&m.sort(function(a,b){return b.length-a.length});for(var n in m)m.hasOwnProperty(n)&&(e=m[n],k=c[e],d.ignoreCase&&(e=e.toLowerCase()),d.wrap&&(f=a.tpl.define.wraps,e=f[0]+e+f[1]),j[e]=k,e=a.escapeRegex(e),i+=e+"|");i=i.slice(0,-1)}else e="*",d.wrap&&(f=a.tpl.define.wraps,e=f[0]+e+f[1]),i=a.escapeRegex(e),j[e]=c;i="("+i+")";var o="g";return d.ignoreCase&&(o+="i"),h=new RegExp(i,o),b.replace(h,function(a){return d.ignoreCase&&(a=a.toLowerCase()),j[a]})},a.tpl.assigns=function(b,c,d){l("tpl.assigns");for(var e="",f=0;f<c.length;f++)e+=a.tpl.assign(b,c[f],d);return e},a.date=a.profile.create(),a.date.define.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a.date.define.days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a.date.get=function(b,c){l("date.get");var d,e=p(b),f={};return!e||isNaN(e.getTime())?(c!==!1&&m("illegal format",b),null):(f.y=e.getFullYear(),f.M=e.getMonth()+1,f.d=e.getDate(),f.H=e.getHours(),f.m=e.getMinutes(),f.s=e.getSeconds(),f.e=e.getDay(),f.yyyy=("0"+f.y).slice(-4),f.yy=q(f.y),f.MM=q(f.M),f.dd=q(f.d),f.MMM=a.date.define.months[f.M-1],f.EEE=a.date.define.days[f.e],f.a=f.H<12?"AM":"PM",f.HH=q(f.H),f.h=f.H%12,f.hh=q(f.h),f.mm=q(f.m),f.ss=q(f.s),d=e.getTime(),f.unixms=d,f.unixtm=Math.floor(d/1e3),f)},a.date.format=function(b,c,d){l("date.format"),b=b||"EEE, MMM d, yyyy HH:mm",d=g({error:!0,wrap:!1},d);var e=a.date.get(c,d.error);return e?a.tpl.assign(b,e,{wrap:d.wrap}):""}}($any);