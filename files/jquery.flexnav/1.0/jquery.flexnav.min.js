/*! flexnav https://github.com/indyplanets/flexnav http://unlicense.org/ 2013-08-02 */
!function(){var a;a=jQuery,a.fn.flexNav=function(b){var c,d,e,f,g,h,i;return h=a.extend({animationSpeed:150,buttonSelector:".menu-button",flexbox:!0,hoverIntent:!1,hoverIntentTimeout:150},b),c=a(this),c.find("li").each(function(){return a(this).has("ul").length?a(this).addClass("item-with-ul").find("ul").hide():void 0}),c.data("breakpoint")&&(d=c.data("breakpoint")),i=function(){return a(this).find(">ul").addClass("show").stop(!0,!0).slideDown(h.animationSpeed)},e=function(){return a(this).find(">ul").removeClass("show").stop(!0,!0).slideUp(h.animationSpeed)},f=function(){if(a(window).width()<=d)return c.removeClass("lg-screen").addClass("sm-screen"),a(".one-page li a").on("click",function(){return c.removeClass("show")}),a(".item-with-ul").off();if(a(window).width()>d){if(c.removeClass("sm-screen").addClass("lg-screen"),c.removeClass("show"),h.hoverIntent===!0)return a(".item-with-ul").hoverIntent({over:i,out:e,timeout:h.hoverIntentTimeout});if(h.hoverIntent===!1)return a(".item-with-ul").on("mouseenter",i).on("mouseleave",e)}},a(h.buttonSelector).data("navEl",c),g=".item-with-ul, "+h.buttonSelector,a(g).append('<span class="touch-button"><i class="navicon">&#9660;</i></span>'),g=h.buttonSelector+", "+h.buttonSelector+" .touch-button",a(g).on("touchstart click",function(b){var c,d,e;return b.preventDefault(),b.stopPropagation(),console.log("clicked"),e=h.buttonSelector,c=a(this).is(e)?a(this):a(this).parent(e),d=c.data("navEl"),d.toggleClass("show")}),a(".touch-button").on("touchstart click",function(b){var d;return b.preventDefault(),b.stopPropagation(),d=a(this).parent(".item-with-ul").find(">ul"),c.hasClass("lg-screen")===!0&&a(this).parent(".item-with-ul").siblings().find("ul.show").removeClass("show").hide(),d.hasClass("show")===!0?d.removeClass("show").slideUp(h.animationSpeed):d.hasClass("show")===!1?d.addClass("show").slideDown(h.animationSpeed):void 0}),c.find(".item-with-ul *").focus(function(){return a(this).parent(".item-with-ul").parent().find(".open").not(this).removeClass("open").hide(),a(this).parent(".item-with-ul").find(">ul").addClass("open").show()}),f(),a(window).on("resize",f)}}.call(this);