// Generated by CoffeeScript 1.6.1
/*
	FlexNav.js 0.7

	Copyright 2013, Jason Weaver http://jasonweaver.name
	Released under the WTFPL license
	http://sam.zoy.org/wtfpl/

//
*/(function(){$.fn.flexNav=function(e){var t,n,r,i,s,o;o=$.extend({animationSpeed:100},e);t=$(this);i=!1;r=!1;t.find("li").each(function(){if($(this).has("ul").length)return $(this).addClass("item-with-ul").find("ul").hide()});t.data("breakpoint")&&(n=t.data("breakpoint"));s=function(){if($(window).width()<=n){t.removeClass("lg-screen").addClass("sm-screen");$(".one-page li a").on("click",function(){return t.removeClass("show")});return $(".item-with-ul").off()}t.removeClass("sm-screen").addClass("lg-screen");t.removeClass("show");return $(".item-with-ul").on("mouseenter",function(){return $(this).find(">ul").addClass("show").slideDown(o.animationSpeed)}).on("mouseleave",function(){return $(this).find(">ul").removeClass("show").hide()})};$(".item-with-ul, .menu-button").append('<span class="touch-button"><i class="navicon">&#9660;</i></span>');$(".menu-button, .menu-button .touch-button").on("touchstart mousedown",function(e){e.preventDefault();e.stopPropagation();console.log(r);return $(this).on("touchmove mousemove",function(e){var t;t=e.pageX;r=!0;return $(window).off("touchmove mousemove")})}).on("touchend mouseup",function(e){var n;e.preventDefault();e.stopPropagation();r=!1;n=$(this).parent();r===!1&&console.log("clicked");if(i===!1){t.addClass("show");return i=!0}if(i===!0){t.removeClass("show");return i=!1}});$(".touch-button").on("touchstart mousedown",function(e){e.stopPropagation();e.preventDefault();return $(this).on("touchmove mousemove",function(e){r=!0;return $(window).off("touchmove mousemove")})}).on("touchend mouseup",function(e){var n;e.preventDefault();e.stopPropagation();n=$(this).parent(".item-with-ul").find(">ul");t.hasClass("lg-screen")===!0&&$(this).parent(".item-with-ul").siblings().find("ul.show").removeClass("show").hide();if(n.hasClass("show")===!0)return n.removeClass("show").slideUp(o.animationSpeed);if(n.hasClass("show")===!1)return n.addClass("show").slideDown(o.animationSpeed)});$(".item-with-ul *").focus(function(){$(this).parent(".item-with-ul").parent().find(".open").not(this).removeClass("open").hide();return $(this).parent(".item-with-ul").find(">ul").addClass("open").show()});s();return $(window).on("resize",s)}}).call(this);