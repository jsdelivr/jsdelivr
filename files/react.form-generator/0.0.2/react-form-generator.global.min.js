!function e(t,n,r){function i(s,o){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t){function n(){for(var e,t="",r=0;r<arguments.length;r++)if(e=arguments[r])if("string"==typeof e||"number"==typeof e)t+=" "+e;else if("[object Array]"===Object.prototype.toString.call(e))t+=" "+n.apply(null,e);else if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&e[i]&&(t+=" "+i);return t.substr(1)}"undefined"!=typeof t&&t.exports&&(t.exports=n)},{}],2:[function(e){function t(t){t=t||{};var l=e("../../validation")(t.validators),u=l.validateField,c=[].concat(t.mixins||[]),f=a({text:e("./primitives/text")(r,i),textarea:e("./primitives/textarea")(r,i),checkbox:e("./primitives/checkbox")(r,i),radiogroup:e("./primitives/radiogroup")(r,i),select:e("./primitives/select")(r,i),button:e("./primitives/button")(r,i)},o(t,"mixins.fieldRenderers",{})),d=a({"default":e("./layouts/simpleFormField")(r,i),unwrapped:e("./layouts/unwrapped")(r,i),label:e("./layouts/label")(r,i)},o(t,"mixins.layoutRenderers",{})),p=n.createClass({displayName:"GeneratedForm",propTypes:{meta:n.PropTypes.object.isRequired,value:n.PropTypes.object,errors:n.PropTypes.object,onChange:n.PropTypes.func},mixins:c,getDefaultProps:function(){return{key:"generated-form-"+Date.now(),onChange:function(){},onEvent:function(){}}},componentDidMount:function(){},componentDidUpdate:function(){},getFieldValue:function(e){return s(this.props.value,e)},getFieldErrors:function(e){var t=o(this,"props.errors",{});return s(t,e)},handleFieldChanged:function(e){var t=e.id,n=e.meta,r=this.props.value,i=s(e.value,t),o=u(t,n,i);this.props.onChange(a(r,e.value),e.value,o)},handleFieldEvent:function(e,t,n){this.props.onEvent(e,t,n)},render:function(){var e=o(this,"props.meta",{}),t=e.fields;return i.isDefined(t)?this.renderLayout(e.layout.grid):null},renderLayout:function(e,t){return n.createElement("div",{className:e.css,key:t},this.renderLayoutRows(e.rows||[]))},renderLayoutRows:function(e){var t=this;return e.map(function(e,r){return n.createElement("div",{key:"generated-layout-row"+r,className:e.css},t.renderLayoutCells(e))})},renderLayoutCells:function(e){var t=this,r=o(e,"cells",[]);return r.map(function(e,r){return n.createElement("div",{key:"generated-layout-cell"+r,className:e.css},t.renderCellContent(e))})},renderCellContent:function(e){var t,r=this,i=this.props.meta||{},a=o(e,"content",[]);return a.map(function(e,a){var l=o(e,"rendererSpecific"),u=l.fieldID,c=l.css,f=s(i.fields,u),p=r.getFieldValue(u,f),v=r.getFieldErrors(u,f),m={fieldID:u,meta:f,css:c,value:p,errors:v,onChange:r.handleFieldChanged,onEvent:r.handleFieldEvent},g=s(e,"renderer"),y="generated-field-"+a;return"field"===g?n.createElement(h,{key:y,config:m}):"grid"===g?r.renderLayout(e.rendererSpecific,y):(t=d[e.renderer||"default"],t?n.createElement(t,{key:y,meta:e,field:m},u?n.createElement(h,{config:m}):null):null)})}}),h=n.createClass({displayName:"GeneratedField",mixins:[],render:function(){var e=this.props,t=s(e,"config.meta.renderer"),r=s(f,t);return r?n.createElement(r,{config:e.config}):null}});return p.validateForm=l.validateForm,p.isFormValid=l.isFormValid,p}var n=window.React,r=n,i=e("../../tools"),a=i.merge,s=i.getOrNull,o=i.getOrDefault;t.tools=i,window.FormGenerator=t},{"../../tools":16,"../../validation":18,"./layouts/label":3,"./layouts/simpleFormField":4,"./layouts/unwrapped":5,"./primitives/button":6,"./primitives/checkbox":7,"./primitives/radiogroup":8,"./primitives/select":9,"./primitives/text":10,"./primitives/textarea":11}],3:[function(e,t){var n=e("./../../../mixins");t.exports=function(e,t){t.getOrNull,t.getOrDefault;return e.createClass({mixins:[n.LayoutAccessors],render:function(){{var t=this._css();this._field()}return e.createElement("div",{className:t.wrapper,key:this.props.key},e.createElement("label",null,this._spec().text))}})}},{"./../../../mixins":12}],4:[function(e,t){var n=e("./../../../mixins");t.exports=function(e,t){var r=(t.getOrNull,t.getOrDefault);return e.createClass({mixins:[n.LayoutAccessors],render:function(){var t=this._css(),n=this._field();return e.createElement("div",{className:t.wrapper,key:this.props.key},e.createElement("label",{className:t.label,htmlFor:n.fieldID},this._spec().label),e.createElement("div",{className:t.field},this.props.children),e.createElement("div",{className:t.errors},this.renderErrors()))},renderErrors:function(){var t=(this._css(),this._field()),n=t.fieldID,i=r(t,"errors",[]),a="validation-error-of-"+n+"-";return i.map(function(t,n){return e.createElement("div",{key:a+n,className:"validation-error"},t.message)})}})}},{"./../../../mixins":12}],5:[function(e,t){var n=e("./../../../mixins");t.exports=function(e,t){t.getOrNull,t.getOrDefault;return e.createClass({mixins:[n.LayoutAccessors],render:function(){return this.props.children}})}},{"./../../../mixins":12}],6:[function(e,t){var n=e("classnames"),r=e("./../../../mixins");t.exports=function(e,t){t.getOrDefault;return e.createClass({displayName:"ButtonRenderer",propTypes:{config:e.PropTypes.object.isRequired},mixins:[r.PrimitiveAccessors],getDefaultProps:function(){return{config:{}}},handleClick:function(e){this.handleEvent("click",e)},handleEvent:function(e,t){var n=this._conf().fieldID;this._conf().onEvent(n,e,t)},render:function(){var t=this.props.config,r=this._meta(),i=this._spec(),a="string"==typeof t.css,s=n("generated-button-field",a&&t.css);return e.createElement("button",{id:t.fieldID,className:s,readOnly:r.isReadOnly,onClick:this.handleClick},i.text)}})}},{"./../../../mixins":12,classnames:1}],7:[function(e,t){var n=e("./../../../mixins");t.exports=function(e,t){var r=(t.getOrDefault,t.getOrNull);return e.createClass({displayName:"CheckboxRenderer",propTypes:{config:e.PropTypes.object.isRequired},mixins:[n.PrimitiveAccessors],getDefaultProps:function(){return{config:{}}},handleOnChange:function(e){var t=r(this._spec(),"truthMap"),n=e.target.checked,i=t?t[n]:n,a={id:this._conf().fieldID,meta:this._meta(),value:{}};a.value[a.id]=i,this.handleEvent("change",e),this._conf().onChange(a)},handleKeyPress:function(e){this.handleEvent("keypress",e)},handleEvent:function(e,t){var n=this._conf().fieldID;this._conf().onEvent(n,e,t)},render:function(){var t=this._conf(),n=this._meta(),i=this._spec(),a=r(i,"truthMap"),s=a[!0]===t.value;return e.createElement("input",{id:t.fieldID,type:"checkbox",className:"generated-checkbox-field",name:i.name,checked:s,readOnly:n.isReadOnly,onChange:this.handleOnChange,onKeyPress:this.handleKeyPress})}})}},{"./../../../mixins":12}],8:[function(e,t){var n=e("./../../../mixins");t.exports=function(e,t){var r=(t.getOrDefault,t.getOrNull);return e.createClass({displayName:"RadiogroupRenderer",propTypes:{config:e.PropTypes.object.isRequired},mixins:[n.PrimitiveAccessors],getDefaultProps:function(){return{config:{}}},handleOnChange:function(e,t){var n={id:this._conf().fieldID,meta:this._meta(),value:{}};n.value[n.id]=t.id,this.handleEvent("change",e),this._conf().onChange(n)},handleKeyPress:function(e){this.handleEvent("keypress",e)},handleEvent:function(e,t){var n=this._conf().fieldID;this._conf().onEvent(n,e,t)},render:function(){var t=this._conf(),n=this._spec();return e.createElement("div",{className:"generated-radiogroup-field",id:t.fieldID},this.renderItems(n.possibleValues))},renderItems:function(t){var n=this,i=this._conf(),a=this._meta();return(t||[]).map(function(t,s){function o(e){return n.handleOnChange(e,t)}var l=r(i,"value"),u=t.id===l;return e.createElement("label",{key:i.fieldID+"-"+s},e.createElement("span",{className:"generated-radio-label"},t.text),e.createElement("input",{type:"radio",className:"generated-radio-item",name:t.name,checked:u,readOnly:a.isReadOnly,onChange:o,onKeyPress:n.handleKeyPress}))})}})}},{"./../../../mixins":12}],9:[function(e,t){var n=e("./../../../mixins");t.exports=function(e,t){t.getOrDefault,t.getOrNull;return e.createClass({displayName:"SelectRenderer",propTypes:{config:e.PropTypes.object.isRequired},mixins:[n.PrimitiveAccessors],getDefaultProps:function(){return{config:{}}},handleOnChange:function(e){var t={id:this._conf().fieldID,meta:this._meta(),value:{}};t.value[t.id]=e.target.value,this.handleEvent("change",e),this._conf().onChange(t)},handleEvent:function(e,t){var n=this._conf().fieldID;this._conf().onEvent(n,e,t)},render:function(){var t=this._conf(),n=this._spec(),r=this._meta();return e.createElement("select",{id:t.fieldID,readOnly:r.isReadOnly,className:"generated-select-field",value:t.value,onChange:this.handleOnChange},this.renderItems(n.possibleValues))},renderItems:function(t){{var n=this._conf();this._meta()}return(t||[]).map(function(t,r){return e.createElement("option",{key:n.fieldID+"-"+r,className:"generated-select-item",value:t.id},t.text)})}})}},{"./../../../mixins":12}],10:[function(e,t){var n=e("./../../../mixins");t.exports=function(e,t){t.getOrDefault;return e.createClass({displayName:"TextRenderer",propTypes:{config:e.PropTypes.object.isRequired},mixins:[n.PrimitiveAccessors],getDefaultProps:function(){return{config:{}}},handleOnChange:function(e){var t={id:this._conf().fieldID,meta:this._meta(),value:{}};t.value[t.id]=e.target.value,this.handleEvent("change",e),this._conf().onChange(t)},handleKeyPress:function(e){this.handleEvent("keypress",e)},handleEvent:function(e,t){var n=this._conf().fieldID;this._conf().onEvent(n,e,t)},render:function(){var t=this.props.config,n=this._meta(),r=this._spec();return e.createElement("input",{id:t.fieldID,type:"text",className:"generated-text-field",name:r.name,value:t.value,readOnly:n.isReadOnly,onChange:this.handleOnChange,onKeyPress:this.handleKeyPress})}})}},{"./../../../mixins":12}],11:[function(e,t){var n=e("./../../../mixins");t.exports=function(e,t){t.getOrDefault;return e.createClass({displayName:"TextareaRenderer",propTypes:{config:e.PropTypes.object.isRequired},mixins:[n.PrimitiveAccessors],getDefaultProps:function(){return{config:{}}},handleOnChange:function(e){var t={id:this._conf().fieldID,meta:this._meta(),value:{}};t.value[t.id]=e.target.value,this.handleEvent("change",e),this._conf().onChange(t)},handleKeyPress:function(e){this.handleEvent("keypress",e)},handleEvent:function(e,t){var n=this._conf().fieldID;this._conf().onEvent(n,e,t)},render:function(){var t=this.props.config,n=this._meta(),r=this._spec();return e.createElement("textarea",{id:t.fieldID,className:"generated-textarea-field",name:r.name,value:t.value,readOnly:n.isReadOnly,onChange:this.handleOnChange,onKeyPress:this.handleKeyPress})}})}},{"./../../../mixins":12}],12:[function(e,t){var n=e("./layouts"),r=e("./primitives");t.exports={LayoutAccessors:n.LayoutAccessors,PrimitiveAccessors:r.PrimitiveAccessors}},{"./layouts":13,"./primitives":14}],13:[function(e,t){var n=e("./../tools"),r=(n.getOrNull,n.getOrDefault),i={componentWillMount:function(){this._meta=function(){return r(this,"props.meta",{})},this._spec=function(){return r(this._meta(),"rendererSpecific",{})},this._css=function(){var e={wrapper:"",inner:""};return r(this._spec(),"css",e)},this._field=function(){return r(this,"props.field",{})}}};t.exports={LayoutAccessors:i}},{"./../tools":16}],14:[function(e,t){var n=e("./../tools"),r=(n.getOrNull,n.getOrDefault),i={componentWillMount:function(){this._conf=function(){return r(this,"props.config",{})},this._meta=function(){return r(this._conf(),"meta",{})},this._spec=function(){return r(this._meta(),"rendererSpecific",{})}}};t.exports={PrimitiveAccessors:i}},{"./../tools":16}],15:[function(e,t){function n(e){return null!==e&&void 0!==e}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return"string"==typeof e}function a(e,t,a){var s=r(t);if(!n(e))return a;if(!i(t)&&!s)return a;var o,l,u=s?t:t.split(".");for(o in u){if(l=u[o],!n(e[l]))return a;e=e[l]}return e}function s(e,t){return a(e,t,null)}function o(e,t){for(var n,r,i={},a=0,o=t.length;o>a;a++)r=t[a],n=s(r,e),n&&(i[n]=r);return i}function l(e,t,n){return n.forEach(function(n,r){t=e(t,n,r)}),t}function u(e,t,n){var r,i;for(r in n)n.hasOwnProperty(r)&&(i=n[r],t=e(t,i,r));return t}function c(e,t,i){return n(i)?r(i)?l(e,t,i):u(e,t,i):t}function f(e){return p.apply(e)}function d(e,t){function n(e,t){if(void 0===e)return t;if(void 0===t)return e;for(var n in t)e[n]=t[n];return e}var r,i=f(arguments);if(0===i.length)return{};if(1===i.length)return e;if(2===i.length)return n(e,t);for(r=n(e,t),i=i.slice(2);i.length;)r=n(r,i[0]),i=i.slice(1);return r}var p=Array.prototype.slice;t.exports={isDefined:n,isArray:r,getOrDefault:a,getOrNull:s,arrayToObject:o,reduce:c,merge:d}},{}],16:[function(e,t){var n=e("./general"),r=e("./serializers");t.exports={isDefined:n.isDefined,isArray:n.isArray,getOrDefault:n.getOrDefault,getOrNull:n.getOrNull,arrayToObject:n.arrayToObject,reduce:n.reduce,merge:n.merge,evalDefaults:r.evalDefaults}},{"./general":15,"./serializers":17}],17:[function(e,t){function n(e){var t=r.getOrDefault(e,"fields",{});return r.reduce(function(e,t,n){return e[n]=r.getOrNull(t,"defaultValue"),e},{},t)}var r=e("./general");t.exports={evalDefaults:n}},{"./general":15}],18:[function(e,t){var n=e("../tools"),r=n.reduce,i=n.getOrNull;t.exports=function(t){function a(e,t,n){var i=e.rule,a={or:function(){var i=e.value;return r(function(e,r){var i=f[r.rule];return e||i(r,t,n)},!1,i)},and:function(){var i=e.value;return r(function(e,r){var i=f[r.rule];return e&&i(r,t,n)},!0,i)}},s=a[i]||f[i];return s(e,t,n)?null:e}function s(e,t,n){return(e||[]).map(function(e){return a(e,t,n)}).filter(function(e){return null!==e})}function o(e,t,n){var r={},i=s(t.validators,n,t);return r[e]=i.length?i:null,r}function l(e,t){return r(function(e,r,a){var s=i(t,a),l=o(a,r,s);return n.merge(e,l)},{},e)}function u(e,t){var a=i(e,"fields"),s=r(function(e,t,r){var i=!n.isDefined(t.validators)||t.isHidden||t.isReadOnly,a={};return i?e:(a[r]=t,n.merge(e,a))},{},a);return l(s,t)}function c(e){if(!_.isPlainObject(e))return!0;var t=_.compose(_.compact,_.values);return 0===t(e).length}t=t||{};var f=n.merge(e("./validators"),t.validators);return{validateField:o,validateForm:u,isFormValid:c}}},{"../tools":16,"./validators":19}],19:[function(e,t){var n=e("../tools"),r=n.getOrNull,i=n.getOrDefault;t.exports={empty:function(e,t){return n.isArray(t)?!t.length:!t},required:function(e,t){return n.isArray(t)?!!t.length:!!t},requiredKey:function(e,t){var n=e.value;return!!r(t,n)},regexp:function(e,t){return new RegExp(e.value).test(t)},maxLength:function(e,t){var n=i(e,"value",0),r=i(t,"length",0);return n>=r},minLength:function(e,t){var n=i(e,"value",0),r=i(t,"length",0);return r>=n},length:function(e,t){var n=i(e,"value",0),r=i(t,"length",0);return r===n},numbers:function(e,t){return new RegExp("^\\d+$").test(t)}}},{"../tools":16}]},{},[2]);
