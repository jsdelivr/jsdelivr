(function(){var c=window.AmCharts;c.GaugeAxis=c.Class({construct:function(a){this.cname="GaugeAxis";this.radius="95%";this.createEvents("rollOverBand","rollOutBand","clickBand");this.labelsEnabled=!0;this.startAngle=-120;this.endAngle=120;this.startValue=0;this.endValue=200;this.gridCount=5;this.tickLength=10;this.minorTickLength=5;this.tickColor="#555555";this.labelFrequency=this.tickThickness=this.tickAlpha=1;this.inside=!0;this.labelOffset=10;this.showLastLabel=this.showFirstLabel=!0;this.axisThickness=
1;this.axisColor="#000000";this.axisAlpha=1;this.gridInside=!0;this.topTextYOffset=0;this.topTextBold=!0;this.bottomTextYOffset=0;this.bottomTextBold=!0;this.centerY=this.centerX="0%";this.bandOutlineAlpha=this.bandOutlineThickness=0;this.bandOutlineColor="#000000";this.bandAlpha=1;this.bcn="gauge-axis";c.applyTheme(this,a,"GaugeAxis")},value2angle:function(a){return(a-this.startValue)/(this.endValue-this.startValue)*(this.endAngle-this.startAngle)+this.startAngle},setTopText:function(a){if(void 0!==
a){this.topText=a;var b=this.chart;if(this.axisCreated){this.topTF&&this.topTF.remove();var e=this.topTextFontSize;e||(e=b.fontSize);var d=this.topTextColor;d||(d=b.color);a=c.text(b.container,a,d,b.fontFamily,e,void 0,this.topTextBold);c.setCN(b,a,"axis-top-label");a.translate(this.centerXReal,this.centerYReal-this.radiusReal/2+this.topTextYOffset);this.set.push(a);this.topTF=a}}},setBottomText:function(a){if(void 0!==a){this.bottomText=a;var b=this.chart;if(this.axisCreated){this.bottomTF&&this.bottomTF.remove();
var e=this.bottomTextFontSize;e||(e=b.fontSize);var d=this.bottomTextColor;d||(d=b.color);a=c.text(b.container,a,d,b.fontFamily,e,void 0,this.bottomTextBold);c.setCN(b,a,"axis-bottom-label");a.translate(this.centerXReal,this.centerYReal+this.radiusReal/2+this.bottomTextYOffset);this.bottomTF=a;this.set.push(a)}}},draw:function(){var a=this.chart,b=a.container.set();this.set=b;c.setCN(a,b,this.bcn);c.setCN(a,b,this.bcn+"-"+this.id);a.graphsSet.push(b);var e=this.startValue,d=this.endValue,h=this.valueInterval;
isNaN(h)&&(h=(d-e)/this.gridCount);var q=this.minorTickInterval;isNaN(q)&&(q=h/5);var t=this.startAngle,m=this.endAngle,k=this.tickLength,u=(d-e)/h+1,g=(m-t)/(u-1),f=g/h;this.singleValueAngle=f;var y=a.container,E=this.tickColor,M=this.tickAlpha,N=this.tickThickness,q=h/q,O=g/q,I=this.minorTickLength,J=this.labelFrequency,w=this.radiusReal;this.inside||(w-=15);var A=a.centerX+c.toCoordinate(this.centerX,a.realWidth),B=a.centerY+c.toCoordinate(this.centerY,a.realHeight);this.centerXReal=A;this.centerYReal=
B;var v={fill:this.axisColor,"fill-opacity":this.axisAlpha,"stroke-width":0,"stroke-opacity":0},n,F;this.gridInside?F=n=w:(n=w-k,F=n+I);var r=this.bands;if(r)for(var z=0;z<r.length;z++){var l=r[z];if(l){var x=l.startValue,C=l.endValue,p=c.toCoordinate(l.radius,w);isNaN(p)&&(p=F);var H=c.toCoordinate(l.innerRadius,w);isNaN(H)&&(H=p-I);var D=t+f*(x-this.startValue),C=f*(C-x),G=l.outlineColor;void 0==G&&(G=this.bandOutlineColor);var K=l.outlineThickness;isNaN(K)&&(K=this.bandOutlineThickness);var L=
l.outlineAlpha;isNaN(L)&&(L=this.bandOutlineAlpha);x=l.alpha;isNaN(x)&&(x=this.bandAlpha);G={fill:l.color,stroke:G,"stroke-width":K,"stroke-opacity":L};l.url&&(G.cursor="pointer");p=c.wedge(y,A,B,D,C,p,p,H,0,G);c.setCN(a,p.wedge,"axis-band");void 0!==l.id&&c.setCN(a,p.wedge,"axis-band-"+l.id);p.setAttr("opacity",x);this.set.push(p);this.addEventListeners(p,l)}}f=this.axisThickness/2;m=c.wedge(y,A,B,t,m-t,n+f,n+f,n-f,0,v);c.setCN(a,m.wedge,"axis-line");b.push(m);m=c.doNothing;c.isModern||(m=Math.round);
f=c.getDecimals(e);v=c.getDecimals(d);d=c.getDecimals(h);d=Math.max(d,f,v);h=c.roundTo(h,d+1);for(f=0;f<u;f++)if(n=c.roundTo(e+f*h,d),v=t+f*g,r=m(A+w*Math.sin(v/180*Math.PI)),z=m(B-w*Math.cos(v/180*Math.PI)),l=m(A+(w-k)*Math.sin(v/180*Math.PI)),p=m(B-(w-k)*Math.cos(v/180*Math.PI)),r=c.line(y,[r,l],[z,p],E,M,N,0,!1,!1,!0),c.setCN(a,r,"axis-tick"),b.push(r),r=-1,l=this.labelOffset,this.inside||(l=-l-k,r=1),z=A+(w-k-l)*Math.sin(v/180*Math.PI),l=B-(w-k-l)*Math.cos(v/180*Math.PI),D=this.fontSize,isNaN(D)&&
(D=a.fontSize),p=Math.sin((v-90)/180*Math.PI),H=Math.cos((v-90)/180*Math.PI),0<J&&this.labelsEnabled&&f/J==Math.round(f/J)&&(this.showLastLabel||f!=u-1)&&(this.showFirstLabel||0!==f)&&(x=this.usePrefixes?c.addPrefix(n,a.prefixesOfBigNumbers,a.prefixesOfSmallNumbers,a.nf,!0):c.formatNumber(n,a.nf,d),(C=this.unit)&&(x="left"==this.unitPosition?C+x:x+C),(C=this.labelFunction)&&(x=C(n)),n=this.color,void 0==n&&(n=a.color),n=c.text(y,x,n,a.fontFamily,D),c.setCN(a,n,"axis-label"),D=n.getBBox(),n.translate(z+
r*D.width/2*H,l+r*D.height/2*p),b.push(n)),f<u-1)for(n=1;n<q;n++)p=v+O*n,r=m(A+F*Math.sin(p/180*Math.PI)),z=m(B-F*Math.cos(p/180*Math.PI)),l=m(A+(F-I)*Math.sin(p/180*Math.PI)),p=m(B-(F-I)*Math.cos(p/180*Math.PI)),r=c.line(y,[r,l],[z,p],E,M,N,0,!1,!1,!0),c.setCN(a,r,"axis-tick-minor"),b.push(r);this.axisCreated=!0;this.setTopText(this.topText);this.setBottomText(this.bottomText);a=a.graphsSet.getBBox();this.width=a.width;this.height=a.height},addListeners:function(a,b){var c=this;b.mouseover(function(b){c.fireEvent("rollOverBand",
a,b)}).mouseout(function(b){c.fireEvent("rollOutBand",a,b)}).touchend(function(b){c.fireEvent("clickBand",a,b)}).touchstart(function(b){c.fireEvent("rollOverBand",a,b)}).click(function(b){c.fireEvent("clickBand",a,b)})},fireEvent:function(a,b,c){this.fire({type:a,dataItem:b,chart:this,event:c})},addEventListeners:function(a,b){var e=this,d=e.chart;a.mouseover(function(a){d.showBalloon(b.balloonText,b.color,!0);e.fireEvent("rollOverBand",b,a)}).mouseout(function(a){d.hideBalloon();e.fireEvent("rollOutBand",
b,a)}).click(function(a){e.fireEvent("clickBand",b,a);c.getURL(b.url,d.urlTarget)}).touchend(function(a){e.fireEvent("clickBand",b,a);c.getURL(b.url,d.urlTarget)})}})})();(function(){var c=window.AmCharts;c.GaugeArrow=c.Class({construct:function(a){this.cname="GaugeArrow";this.color="#000000";this.nailAlpha=this.alpha=1;this.startWidth=this.nailRadius=8;this.endWidth=0;this.borderAlpha=1;this.radius="90%";this.nailBorderAlpha=this.innerRadius=0;this.nailBorderThickness=1;this.frame=0;c.applyTheme(this,a,"GaugeArrow")},setValue:function(a){var b=this.chart;b?b.setValue?b.setValue(this,a):this.previousValue=this.value=a:this.previousValue=this.value=a}});c.GaugeBand=
c.Class({construct:function(){this.cname="GaugeBand"}})})();(function(){var c=window.AmCharts;c.AmAngularGauge=c.Class({inherits:c.AmChart,construct:function(a){this.cname="AmAngularGauge";c.AmAngularGauge.base.construct.call(this,a);this.theme=a;this.type="gauge";this.minRadius=this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=10;this.faceColor="#FAFAFA";this.faceAlpha=0;this.faceBorderWidth=1;this.faceBorderColor="#555555";this.faceBorderAlpha=0;this.arrows=[];this.axes=[];this.startDuration=1;this.startEffect="easeOutSine";this.adjustSize=
!0;this.extraHeight=this.extraWidth=0;c.applyTheme(this,a,this.cname)},addAxis:function(a){this.axes.push(a)},formatString:function(a,b){return a=c.formatValue(a,b,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers)},initChart:function(){c.AmAngularGauge.base.initChart.call(this);var a;0===this.axes.length&&(a=new c.GaugeAxis(this.theme),this.addAxis(a));var b;for(b=0;b<this.axes.length;b++)a=this.axes[b],a=c.processObject(a,c.GaugeAxis,this.theme),a.id||(a.id=
"axisAuto"+b+"_"+(new Date).getTime()),a.chart=this,this.axes[b]=a;var e=this.arrows;for(b=0;b<e.length;b++){a=e[b];a=c.processObject(a,c.GaugeArrow,this.theme);a.id||(a.id="arrowAuto"+b+"_"+(new Date).getTime());a.chart=this;e[b]=a;var d=a.axis;c.isString(d)&&(a.axis=c.getObjById(this.axes,d));a.axis||(a.axis=this.axes[0]);isNaN(a.value)&&a.setValue(a.axis.startValue);isNaN(a.previousValue)&&(a.previousValue=a.axis.startValue)}this.setLegendData(e);this.drawChart();this.totalFrames=this.startDuration*
c.updateRate},drawChart:function(){c.AmAngularGauge.base.drawChart.call(this);var a=this.container,b=this.updateWidth();this.realWidth=b;var e=this.updateHeight();this.realHeight=e;var d=c.toCoordinate,h=d(this.marginLeft,b),q=d(this.marginRight,b),t=d(this.marginTop,e)+this.getTitleHeight(),m=d(this.marginBottom,e),k=d(this.radius,b,e),d=b-h-q,u=e-t-m+this.extraHeight;k||(k=Math.min(d,u)/2);k<this.minRadius&&(k=this.minRadius);this.radiusReal=k;this.centerX=(b-h-q)/2+h;this.centerY=(e-t-m)/2+t+this.extraHeight/
2;isNaN(this.gaugeX)||(this.centerX=this.gaugeX);isNaN(this.gaugeY)||(this.centerY=this.gaugeY);var b=this.faceAlpha,e=this.faceBorderAlpha,g;if(0<b||0<e)g=c.circle(a,k,this.faceColor,b,this.faceBorderWidth,this.faceBorderColor,e,!1),g.translate(this.centerX,this.centerY),g.toBack(),(a=this.facePattern)&&g.pattern(a,NaN,this.path);for(b=k=a=0;b<this.axes.length;b++)e=this.axes[b],h=e.radius,e.radiusReal=c.toCoordinate(h,this.radiusReal),e.draw(),q=1,-1!==String(h).indexOf("%")&&(q=1+(100-Number(h.substr(0,
h.length-1)))/100),e.width*q>a&&(a=e.width*q),e.height*q>k&&(k=e.height*q);(b=this.legend)&&b.invalidateSize();if(this.adjustSize&&!this.sizeAdjusted){g&&(g=g.getBBox(),g.width>a&&(a=g.width),g.height>k&&(k=g.height));g=0;if(u>k||d>a)g=Math.min(u-k,d-a);5<g&&(this.extraHeight=g,this.sizeAdjusted=!0,this.validateNow())}d=this.arrows.length;for(b=0;b<d;b++)u=this.arrows[b],u.drawnAngle=NaN;this.dispDUpd()},validateSize:function(){this.extraHeight=this.extraWidth=0;this.chartCreated=this.sizeAdjusted=
!1;c.AmAngularGauge.base.validateSize.call(this)},addArrow:function(a){this.arrows.push(a)},removeArrow:function(a){c.removeFromArray(this.arrows,a);this.validateNow()},removeAxis:function(a){c.removeFromArray(this.axes,a);this.validateNow()},drawArrow:function(a,b){a.set&&a.set.remove();var e=this.container;a.set=e.set();c.setCN(this,a.set,"gauge-arrow");c.setCN(this,a.set,"gauge-arrow-"+a.id);if(!a.hidden){var d=a.axis,h=d.radiusReal,q=d.centerXReal,t=d.centerYReal,m=a.startWidth,k=a.endWidth,u=
c.toCoordinate(a.innerRadius,d.radiusReal),g=c.toCoordinate(a.radius,d.radiusReal);d.inside||(g-=15);var f=a.nailColor;f||(f=a.color);var y=a.nailColor;y||(y=a.color);0<a.nailRadius&&(f=c.circle(e,a.nailRadius,f,a.nailAlpha,a.nailBorderThickness,f,a.nailBorderAlpha),c.setCN(this,f,"gauge-arrow-nail"),a.set.push(f),f.translate(q,t));isNaN(g)&&(g=h-d.tickLength);var d=Math.sin(b/180*Math.PI),h=Math.cos(b/180*Math.PI),f=Math.sin((b+90)/180*Math.PI),E=Math.cos((b+90)/180*Math.PI),e=c.polygon(e,[q-m/2*
f+u*d,q+g*d-k/2*f,q+g*d+k/2*f,q+m/2*f+u*d],[t+m/2*E-u*h,t-g*h+k/2*E,t-g*h-k/2*E,t-m/2*E-u*h],a.color,a.alpha,1,y,a.borderAlpha,void 0,!0);c.setCN(this,e,"gauge-arrow");a.set.push(e);this.graphsSet.push(a.set)}},setValue:function(a,b){a.axis&&a.axis.value2angle&&(a.frame=0,a.previousValue=a.value);a.value=b;var c=this.legend;c&&c.updateValues();this.accessible&&this.background&&this.makeAccessible(this.background,b)},handleLegendEvent:function(a){var b=a.type;a=a.dataItem;if(!this.legend.data&&a)switch(b){case "hideItem":this.hideArrow(a);
break;case "showItem":this.showArrow(a)}},hideArrow:function(a){a.set.hide();a.hidden=!0},showArrow:function(a){a.set.show();a.hidden=!1},updateAnimations:function(){c.AmAngularGauge.base.updateAnimations.call(this);for(var a=this.arrows.length,b,e=0;e<a;e++)if(b=this.arrows[e],b.axis&&b.axis.value2angle){var d;b.frame>=this.totalFrames?d=b.value:(b.frame++,b.clockWiseOnly&&b.value<b.previousValue&&(d=b.axis,b.previousValue-=d.endValue-d.startValue),d=c.getEffect(this.startEffect),d=c[d](0,b.frame,
b.previousValue,b.value-b.previousValue,this.totalFrames),isNaN(d)&&(d=b.value));d=b.axis.value2angle(d);b.drawnAngle!=d&&(this.drawArrow(b,d),b.drawnAngle=d)}}})})();
