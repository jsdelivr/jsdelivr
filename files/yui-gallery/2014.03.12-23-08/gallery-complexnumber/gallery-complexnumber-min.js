YUI.add("gallery-complexnumber",function(d){function c(f,e){this.r=f||0;this.i=e||0;}c.fromPolar=function(f,e){return new c(f*Math.cos(e),f*Math.sin(e));};c.prototype={real:function(){return this.r;},imag:function(){return this.i;},magnitude:function(){return Math.sqrt(this.r*this.r+this.i*this.i);},phase:function(){return Math.atan2(this.i,this.r);},add:function(e){b(this);if(a.isComplexNumber(e)){this.r+=e.r;this.i+=e.i;}else{this.r+=e;}return this;},subtract:function(e){b(this);if(a.isComplexNumber(e)){this.r-=e.r;this.i-=e.i;}else{this.r-=e;}return this;},multiply:function(e){b(this);if(a.isComplexNumber(e)){var g=this.r*e.r-this.i*e.i;var f=this.r*e.i+this.i*e.r;this.r=g;this.i=f;}else{this.r*=e;this.i*=e;}return this;},divide:function(f){b(this);if(a.isComplexNumber(f)){var e=a.divide(this,f);this.r=e.r;this.i=e.i;}else{this.r/=f;this.i/=f;}return this;},negate:function(){b(this);this.r=-this.r;this.i=-this.i;return this;},conjugate:function(){b(this);this.i=-this.i;return this;},rotate:function(e){b(this);this.multiply(c.fromPolar(1,e));return this;},toString:function(){function e(f){return f===1?"i":f===-1?"-i":f+"i";}if(this.i===0){return this.r.toString();}else{if(this.r===0){return e(this.i);}else{return this.r+(this.i>0?"+":"")+e(this.i);}}}};d.ComplexNumber=c;function b(e){if(e===a.ZERO||e===a.I){throw Error("You cannot modify ZERO or I");}}var a={ZERO:new c(),I:new c(0,1),isComplexNumber:function(e){return((e instanceof c)||(e.hasOwnProperty("r")&&e.hasOwnProperty("i")));},add:function(){var e=new c();d.Array.each(arguments,function(f){if(d.Lang.isArray(f)){f=a.add.apply(this,f);}e.add(f);});return e;},addReciprocals:function(){var e=new c();d.Array.each(arguments,function(f){if(d.Lang.isArray(f)){e.add(a.addReciprocals.apply(this,f));}else{e.add(a.divide(1,f));}});return e;},parallel:function(){return a.divide(1,a.addReciprocals.apply(this,arguments));},subtract:function(h,g){var f=a.isComplexNumber(h),e=a.isComplexNumber(g);if(f&&e){return new c(h.r-g.r,h.i-g.i);}else{if(f){return new c(h.r-g,h.i);}else{if(e){return new c(h-g.r,-g.i);}else{return new c(h-g,0);}}}},multiply:function(){var e=new c(1,0);d.Array.each(arguments,function(f){if(d.Lang.isArray(f)){f=a.multiply.apply(this,f);}e.multiply(f);});return e;},divide:function(i,h){var f=a.isComplexNumber(i),e=a.isComplexNumber(h);if(f&&e){var g=h.r*h.r+h.i*h.i;return new c((i.r*h.r+i.i*h.i)/g,(i.i*h.r-i.r*h.i)/g);}else{if(f){return new c(i.r/h,i.i/h);}else{if(e){var g=h.r*h.r+h.i*h.i;return new c((i*h.r)/g,(-i*h.i)/g);}else{return new c(i/h,0);}}}},negative:function(e){if(a.isComplexNumber(e)){return new c(-e.r,-e.i);}else{return new c(-e,0);}},abs:function(e){if(a.isComplexNumber(e)){return new c(Math.sqrt(e.r*e.r+e.i*e.i),0);}else{return new c(Math.abs(e),0);}},phase:function(e){if(a.isComplexNumber(e)){return new c(Math.atan2(e.i,e.r),0);}else{return new c();}},conjugate:function(e){if(a.isComplexNumber(e)){return new c(e.r,-e.i);}else{return new c(e,0);}},rotate:function(f,e){return a.multiply(f,c.fromPolar(1,e));},acosh:function(e){if(a.isComplexNumber(e)){return a.log(a.add(e,a.multiply(a.sqrt(new c(e.r+1,e.i)),a.sqrt(new c(e.r-1,e.i)))));}else{return new c(Math.acosh(e),0);}},asinh:function(e){if(a.isComplexNumber(e)){var f=a.multiply(e,e);return a.log(a.add(e,a.sqrt(new c(f.r+1,f.i))));}else{return new c(Math.asinh(e),0);}},atanh:function(e){if(a.isComplexNumber(e)){var f=a.subtract(a.log(new c(1+e.r,e.i)),a.log(new c(1-e.r,-e.i)));return new c(f.r/2,f.i/2);}else{return new c(Math.atanh(e),0);}},cos:function(e){if(a.isComplexNumber(e)){return new c(Math.cos(e.r)*Math.cosh(e.i),-Math.sin(e.r)*Math.sinh(e.i));}else{return new c(Math.cos(e),0);}},cosh:function(e){if(a.isComplexNumber(e)){var f=a.add(a.exp(e),a.exp(new c(-e.r,-e.i)));return new c(f.r/2,f.i/2);}else{return new c(Math.cosh(e),0);}},exp:function(e){if(a.isComplexNumber(e)){var f=new c(Math.cos(e.i),Math.sin(e.i));f.multiply(Math.exp(e.r));return f;}else{return new c(Math.exp(e),0);}},log:function(e){if(a.isComplexNumber(e)){return new c(Math.log(e.magnitude()),e.phase());}else{return new c(Math.log(e),0);}},pow:function(f,i){var h=a.isComplexNumber(f);if((h&&f.r===0&&f.i===0)||(!h&&f===0)){var g=a.isComplexNumber(i);if((g&&i.r===0&&i.i===0)||(!g&&i===0)){return new c(1);}else{return new c();}}else{return a.exp(a.multiply(a.log(f),i));}},sin:function(e){if(a.isComplexNumber(e)){return new c(Math.sin(e.r)*Math.cosh(e.i),Math.cos(e.r)*Math.sinh(e.i));}else{return new c(Math.sin(e),0);}},sinh:function(e){if(a.isComplexNumber(e)){var f=a.subtract(a.exp(e),a.exp(new c(-e.r,-e.i)));return new c(f.r/2,f.i/2);}else{return new c(Math.sinh(e),0);}},sqrt:function(e){var f=a.isComplexNumber(e);return c.fromPolar(Math.sqrt(f?e.magnitude():Math.abs(e)),(f?e.phase():e<0?Math.PI:0)/2);},tan:function(e){if(a.isComplexNumber(e)){return a.divide(a.sin(e),a.cos(e));}else{return new c(Math.tan(e),0);}},tanh:function(f){if(a.isComplexNumber(f)){var g=a.exp(new c(2*f.r,2*f.i));return a.divide(new c(g.r-1,g.i),new c(g.r+1,g.i));}else{return new c(Math.tanh(f),0);}}};d.ComplexMath=a;},"gallery-2012.05.16-20-37",{requires:["gallery-math"]});