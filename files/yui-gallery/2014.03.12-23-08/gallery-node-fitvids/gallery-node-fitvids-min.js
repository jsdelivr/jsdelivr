YUI.add("gallery-node-fitvids",function(f){var e=f.ClassNameManager.getClassName("fluid-width-video-wrapper"),c="."+e,d="fitvids:originalAttributes",a=['iframe[src^="http://player.vimeo.com"]','iframe[src^="http://www.youtube.com"]','iframe[src^="https://www.youtube.com"]','iframe[src^="http://www.kickstarter.com"]',"object","embed"];function b(g){var h=[].concat(a);if(g){h.push(g);}return h.join(",");}f.namespace("Plugin").NodeFitVids=f.Base.create("NodeFitVids",f.Plugin.Base,[],{initializer:function(g){var h=this.get("host"),i=b(this.get("customSelector"));if(!f.instanceOf(h,f.Node)){return;}h.all(i).each(function(){var m=this.get("tagName"),l=this.get("parentNode"),k=this.get("height"),q=this.get("width"),p={},j,n,o;if((m==="EMBED"&&l.get("tagName")==="OBJECT")||l.hasClass(e)){return;}j=m==="OBJECT"?k:this.getComputedStyle("height");n=this.getComputedStyle("width");o=parseInt(j,10)/parseInt(n,10);this.wrap('<div class="'+e+'"></div>');this.ancestor(c).setStyle("paddingTop",(o*100)+"%");if(k){p.height=k;this.removeAttribute("height");}if(q){p.width=q;this.removeAttribute("width");}this.setData(d,p);});},destructor:function(){var g=this.get("host"),h=b(this.get("customSelector"));if(!f.instanceOf(g,f.Node)){return;}g.all(h).each(function(){var i;if(this.ancestor(c)){this.unwrap();i=this.getData(d)||{};if(i.height){this.set("height",i.height);}if(i.width){this.set("width",i.width);}this.clearData(d);}});}},{NS:"fitvids",ATTRS:{customSelector:null}});},"gallery-2012.10.10-19-59",{skinnable:true,requires:["plugin","base-build","node-base","node-style","node-pluginhost","classnamemanager"]});