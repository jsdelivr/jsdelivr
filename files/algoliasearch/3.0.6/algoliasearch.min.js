/*! algoliasearch 3.0.6 | Â© 2014, 2015 Algolia SAS | github.com/algolia/algoliasearch-client-js */
(function(B){var h;"undefined"!==typeof window?h=window:"undefined"!==typeof self&&(h=self);h.ALGOLIA_MIGRATION_LAYER=B()})(function(){return function h(l,d,m){function f(e,k){if(!d[e]){if(!l[e]){var a="function"==typeof require&&require;if(!k&&a)return a(e,!0);if(c)return c(e,!0);a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a;}a=d[e]={exports:{}};l[e][0].call(a.exports,function(a){var g=l[e][1][a];return f(g?g:a)},a,a.exports,h,l,d,m)}return d[e].exports}for(var c="function"==
typeof require&&require,k=0;k<m.length;k++)f(m[k]);return f}({1:[function(h,l,d){function m(k,e){for(var c in e)k.setAttribute(c,e[c])}function f(c,e){c.onload=function(){this.onerror=this.onload=null;e(null,c)};c.onerror=function(){this.onerror=this.onload=null;e(Error("Failed to load "+this.src),c)}}function c(c,e){c.onreadystatechange=function(){if("complete"==this.readyState||"loaded"==this.readyState)this.onreadystatechange=null,e(null,c)}}l.exports=function(k,e,d){var a=document.head||document.getElementsByTagName("head")[0],
b=document.createElement("script");"function"===typeof e&&(d=e,e={});e=e||{};d=d||function(){};b.type=e.type||"text/javascript";b.charset=e.charset||"utf8";b.async="async"in e?!!e.async:!0;b.src=k;e.attrs&&m(b,e.attrs);e.text&&(b.text=""+e.text);("onload"in b?f:c)(b,d);b.onload||f(b,d);a.appendChild(b)}},{}],2:[function(h,l,d){l.exports=function(d){d=new RegExp("cdn\\.jsdelivr\\.net/algoliasearch/latest/"+d.replace(".","\\.")+"(?:\\.min)?\\.js$");for(var f=document.getElementsByTagName("script"),
c=!1,k=0,e=f.length;k<e;k++)if(f[k].src&&d.test(f[k].src)){c=!0;break}return c}},{}],3:[function(h,l,d){(function(d){function f(c){return function(){var k="AlgoliaSearch: loaded V2 script using "+c;d.console&&d.console.log&&d.console.log(k)}}l.exports=function(c){var k=h(1);c="//cdn.jsdelivr.net/algoliasearch/2/"+c+".min.js";d.console&&(d.console.warn?d.console.warn("-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --"):
d.console.log&&d.console.log("-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --"));
try{document.write("<script>window.ALGOLIA_SUPPORTS_DOCWRITE = true\x3c/script>"),!0===d.ALGOLIA_SUPPORTS_DOCWRITE?(document.write('<script src="'+c+'">\x3c/script>'),f("document.write")()):k(c,f("DOMElement"))}catch(e){k(c,f("DOMElement"))}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{1:1}],4:[function(h,l,d){(function(d){l.exports=function(){d.AlgoliaSearch=function(){throw Error("-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --");
};d.AlgoliaSearchHelper=function(){throw Error("-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --");};AlgoliaExplainResults=function(){throw Error("-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --");
}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],5:[function(h,l,d){l=h(2);d=h(3);h=h(4);l("algoliasearch")?d("algoliasearch"):h()},{2:2,3:3,4:4}]},{},[5])(5)});
(function(B){"object"===typeof exports&&"undefined"!==typeof module?module.exports=B():"function"===typeof define&&define.amd?define([],B):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).algoliasearch=B()})(function(){return function h(l,d,m){function f(e,k){if(!d[e]){if(!l[e]){var a="function"==typeof require&&require;if(!k&&a)return a(e,!0);if(c)return c(e,!0);a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a;}a=d[e]=
{exports:{}};l[e][0].call(a.exports,function(a){var g=l[e][1][a];return f(g?g:a)},a,a.exports,h,l,d,m)}return d[e].exports}for(var c="function"==typeof require&&require,k=0;k<m.length;k++)f(m[k]);return f}({1:[function(h,l,d){function m(){if(!k){k=!0;for(var e,d=c.length;d;){e=c;c=[];for(var a=-1;++a<d;)e[a]();d=c.length}k=!1}}function f(){}h=l.exports={};var c=[],k=!1;h.nextTick=function(e){c.push(e);k||setTimeout(m,0)};h.title="browser";h.browser=!0;h.env={};h.argv=[];h.version="";h.versions={};
h.on=f;h.addListener=f;h.once=f;h.off=f;h.removeListener=f;h.removeAllListeners=f;h.emit=f;h.binding=function(c){throw Error("process.binding is not supported");};h.cwd=function(){return"/"};h.chdir=function(c){throw Error("process.chdir is not supported");};h.umask=function(){return 0}},{}],2:[function(h,l,d){function m(){var c;try{c=f.debug}catch(e){}return c}d=l.exports=h(3);d.log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};
d.formatArgs=function(){var c=arguments,e=this.useColors;c[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+c[0]+(e?"%c ":" ")+"+"+d.humanize(this.diff);if(!e)return c;var e="color: "+this.color,c=[c[0],e,"color: inherit"].concat(Array.prototype.slice.call(c,1)),f=0,a=0;c[0].replace(/%[a-z%]/g,function(b){"%%"!==b&&(f++,"%c"===b&&(a=f))});c.splice(a,0,e);return c};d.save=function(c){try{null==c?f.removeItem("debug"):f.debug=c}catch(e){}};d.load=m;d.useColors=function(){return"WebkitAppearance"in document.documentElement.style||
window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)};var f;if("undefined"!==typeof chrome&&"undefined"!==typeof chrome.storage)f=chrome.storage.local;else a:{try{f=window.localStorage;break a}catch(c){}f=void 0}d.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");d.formatters.j=function(c){return JSON.stringify(c)};d.enable(m())},{3:3}],3:[function(h,l,d){d=l.exports=
function(c){function k(){}function e(){var a=+new Date;e.diff=a-(f||a);e.prev=f;f=e.curr=a;null==e.useColors&&(e.useColors=d.useColors());null==e.color&&e.useColors&&(e.color=d.colors[m++%d.colors.length]);var b=Array.prototype.slice.call(arguments);b[0]=d.coerce(b[0]);"string"!==typeof b[0]&&(b=["%o"].concat(b));var g=0;b[0]=b[0].replace(/%([a-z%])/g,function(a,c){if("%%"===a)return a;g++;var k=d.formatters[c];"function"===typeof k&&(a=k.call(e,b[g]),b.splice(g,1),g--);return a});"function"===typeof d.formatArgs&&
(b=d.formatArgs.apply(e,b));(e.log||d.log||console.log.bind(console)).apply(e,b)}k.enabled=!1;e.enabled=!0;var h=d.enabled(c)?e:k;h.namespace=c;return h};d.coerce=function(c){return c instanceof Error?c.stack||c.message:c};d.disable=function(){d.enable("")};d.enable=function(c){d.save(c);for(var k=(c||"").split(/[\s,]+/),e=k.length,f=0;f<e;f++)k[f]&&(c=k[f].replace(/\*/g,".*?"),"-"===c[0]?d.skips.push(new RegExp("^"+c.substr(1)+"$")):d.names.push(new RegExp("^"+c+"$")))};d.enabled=function(c){var k,
e;k=0;for(e=d.skips.length;k<e;k++)if(d.skips[k].test(c))return!1;k=0;for(e=d.names.length;k<e;k++)if(d.names[k].test(c))return!0;return!1};d.humanize=h(4);d.names=[];d.skips=[];d.formatters={};var m=0,f},{4:4}],4:[function(h,l,d){function m(c){if(c=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c)){var d=parseFloat(c[1]);switch((c[2]||"ms").toLowerCase()){case "years":case "year":case "yrs":case "yr":case "y":return 315576E5*
d;case "days":case "day":case "d":return 864E5*d;case "hours":case "hour":case "hrs":case "hr":case "h":return 36E5*d;case "minutes":case "minute":case "mins":case "min":case "m":return 6E4*d;case "seconds":case "second":case "secs":case "sec":case "s":return 1E3*d;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return d}}}function f(c,d,e){if(!(c<d))return c<1.5*d?Math.floor(c/d)+" "+e:Math.ceil(c/d)+" "+e+"s"}l.exports=function(c,d){d=d||{};return"string"==typeof c?m(c):
d.long?f(c,864E5,"day")||f(c,36E5,"hour")||f(c,6E4,"minute")||f(c,1E3,"second")||c+" ms":864E5<=c?Math.round(c/864E5)+"d":36E5<=c?Math.round(c/36E5)+"h":6E4<=c?Math.round(c/6E4)+"m":1E3<=c?Math.round(c/1E3)+"s":c+"ms"}},{}],5:[function(h,l,d){(function(d,f){(function(){function c(a){return"function"===typeof a}function h(){return function(){d.nextTick(b)}}function e(){var a=0,g=new J(b),c=document.createTextNode("");g.observe(c,{characterData:!0});return function(){c.data=a=++a%2}}function u(){var a=
new MessageChannel;a.port1.onmessage=b;return function(){a.port2.postMessage(0)}}function a(){return function(){setTimeout(b,1)}}function b(){for(var a=0;a<y;a+=2)(0,A[a])(A[a+1]),A[a]=void 0,A[a+1]=void 0;y=0}function g(){}function p(a,b,g,c){try{a.call(b,g,c)}catch(d){return d}}function r(a,b,g){C(function(a){var c=!1,d=p(g,b,function(g){c||(c=!0,b!==g?n(a,g):t(a,g))},function(b){c||(c=!0,q(a,b))},"Settle: "+(a._label||" unknown promise"));!c&&d&&(c=!0,q(a,d))},a)}function E(a,b){1===b._state?t(a,
b._result):2===a._state?q(a,b._result):F(b,void 0,function(b){n(a,b)},function(b){q(a,b)})}function n(a,b){if(a===b)q(a,new TypeError("You cannot resolve a promise with itself"));else if("function"===typeof b||"object"===typeof b&&null!==b)if(b.constructor===a.constructor)E(a,b);else{var g;try{g=b.then}catch(d){G.error=d,g=G}g===G?q(a,G.error):void 0===g?t(a,b):c(g)?r(a,b,g):t(a,b)}else t(a,b)}function v(a){a._onerror&&a._onerror(a._result);H(a)}function t(a,b){void 0===a._state&&(a._result=b,a._state=
1,0!==a._subscribers.length&&C(H,a))}function q(a,b){void 0===a._state&&(a._state=2,a._result=b,C(v,a))}function F(a,b,g,c){var d=a._subscribers,e=d.length;a._onerror=null;d[e]=b;d[e+1]=g;d[e+2]=c;0===e&&a._state&&C(H,a)}function H(a){var b=a._subscribers,g=a._state;if(0!==b.length){for(var c,d,e=a._result,p=0;p<b.length;p+=3)c=b[p],d=b[p+g],c?K(g,c,d,e):d(e);a._subscribers.length=0}}function L(){this.error=null}function K(a,b,g,d){var e=c(g),p,r,f,h;if(e){try{p=g(d)}catch(k){I.error=k,p=I}p===I?
(h=!0,r=p.error,p=null):f=!0;if(b===p){q(b,new TypeError("A promises callback cannot return that same promise."));return}}else p=d,f=!0;void 0===b._state&&(e&&f?n(b,p):h?q(b,r):1===a?t(b,p):2===a&&q(b,p))}function D(a,b){try{b(function(b){n(a,b)},function(b){q(a,b)})}catch(g){q(a,g)}}function w(a,b,c,d){this._instanceConstructor=a;this.promise=new a(g,d);this._abortOnReject=c;this._validateInput(b)?(this._input=b,this._remaining=this.length=b.length,this._init(),0===this.length?t(this.promise,this._result):
(this.length=this.length||0,this._enumerate(),0===this._remaining&&t(this.promise,this._result))):q(this.promise,this._validationError())}function x(a){this._id=O++;this._result=this._state=void 0;this._subscribers=[];if(g!==a){if(!c(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof x))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
D(this,a)}}var M=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},y=0,C=function(a,b){A[y]=a;A[y+1]=b;y+=2;2===y&&N()},z="undefined"!==typeof window?window:{},J=z.MutationObserver||z.WebKitMutationObserver,z="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,A=Array(1E3),N;N="undefined"!==typeof d&&"[object process]"==={}.toString.call(d)?h():J?e():z?u():a();var G=new L,I=new L;w.prototype._validateInput=
function(a){return M(a)};w.prototype._validationError=function(){return Error("Array Methods must be provided an Array")};w.prototype._init=function(){this._result=Array(this.length)};w.prototype._enumerate=function(){for(var a=this.length,b=this.promise,g=this._input,c=0;void 0===b._state&&c<a;c++)this._eachEntry(g[c],c)};w.prototype._eachEntry=function(a,b){var g=this._instanceConstructor;"object"===typeof a&&null!==a?a.constructor===g&&void 0!==a._state?(a._onerror=null,this._settledAt(a._state,
b,a._result)):this._willSettleAt(g.resolve(a),b):(this._remaining--,this._result[b]=this._makeResult(1,b,a))};w.prototype._settledAt=function(a,b,g){var c=this.promise;void 0===c._state&&(this._remaining--,this._abortOnReject&&2===a?q(c,g):this._result[b]=this._makeResult(a,b,g));0===this._remaining&&t(c,this._result)};w.prototype._makeResult=function(a,b,g){return g};w.prototype._willSettleAt=function(a,b){var g=this;F(a,void 0,function(a){g._settledAt(1,b,a)},function(a){g._settledAt(2,b,a)})};
var O=0;x.all=function(a,b){return(new w(this,a,!0,b)).promise};x.race=function(a,b){function c(a){n(e,a)}function d(a){q(e,a)}var e=new this(g,b);if(!M(a))return q(e,new TypeError("You must pass an array to race.")),e;for(var p=a.length,r=0;void 0===e._state&&r<p;r++)F(this.resolve(a[r]),void 0,c,d);return e};x.resolve=function(a,b){if(a&&"object"===typeof a&&a.constructor===this)return a;var c=new this(g,b);n(c,a);return c};x.reject=function(a,b){var c=new this(g,b);q(c,a);return c};x.prototype=
{constructor:x,then:function(a,b){var c=this._state;if(1===c&&!a||2===c&&!b)return this;var d=new this.constructor(g),e=this._result;if(c){var p=arguments[c-1];C(function(){K(c,d,p,e)})}else F(this,d,a,b);return d},"catch":function(a){return this.then(null,a)}};z={Promise:x,polyfill:function(){var a;a="undefined"!==typeof f?f:"undefined"!==typeof window&&window.document?window:self;"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var b;
new a.Promise(function(a){b=a});return c(b)}()||(a.Promise=x)}};"undefined"!==typeof l&&l.exports?l.exports=z:"undefined"!==typeof this&&(this.ES6Promise=z)}).call(this)}).call(this,h(1),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{1:1}],6:[function(h,l,d){l.exports="function"===typeof Object.create?function(d,f){d.super_=f;d.prototype=Object.create(f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:function(d,
f){d.super_=f;var c=function(){};c.prototype=f.prototype;d.prototype=new c;d.prototype.constructor=d}},{}],7:[function(h,l,d){(function(d,f){function c(a,b,g){if(!a)throw Error("Please provide an application ID. Usage: algoliasearch(applicationID, apiKey, opts)");if(!b)throw Error("Please provide an API key. Usage: algoliasearch(applicationID, apiKey, opts)");g=g||{};void 0===g.timeout&&(g.timeout=2E3);if(void 0===g.protocol){var c=f.document&&f.document.location.protocol;g.protocol="http:"===c||
"https:"===c?c:"http:"}void 0===g.hosts&&(g.hosts=[]);void 0===g.tld&&(g.tld="net");/:$/.test(g.protocol)||(g.protocol+=":");0===g.hosts.length&&(g.hosts=e([a+"-1.algolia."+g.tld,a+"-2.algolia."+g.tld,a+"-3.algolia."+g.tld]),g.hosts.unshift(a+"-dsn.algolia."+g.tld));g.hosts=k(g.hosts,function(a){return g.protocol+"//"+a});this.applicationID=a;this.apiKey=b;this.hosts=g.hosts;this.currentHostIndex=0;this.requestTimeout=g.timeout;this.extraHeaders=[];this.cache={}}function k(a,b){for(var g=[],c=0;c<
a.length;++c)g.push(b(a[c],c));return g}function e(a){for(var b=a.length,c,d;0!==b;)d=Math.floor(Math.random()*b),--b,c=a[b],a[b]=a[d],a[d]=c;return a}l.exports=c;"development"===d.env.NODE_ENV&&h(2).enable("algoliasearch*");var u=h(2)("algoliasearch:AlgoliaSearch");c.prototype={deleteIndex:function(a,b){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(a),callback:b})},moveIndex:function(a,b,c){b={operation:"move",destination:b};return this._jsonRequest({method:"POST",
url:"/1/indexes/"+encodeURIComponent(a)+"/operation",body:b,callback:c})},copyIndex:function(a,b,c){b={operation:"copy",destination:b};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(a)+"/operation",body:b,callback:c})},getLogs:function(a,b,c){if(0===arguments.length||"function"===typeof a)c=a,a=0,b=10;else if(1===arguments.length||"function"===typeof b)c=b,b=10;return this._jsonRequest({method:"GET",url:"/1/logs?offset="+a+"&length="+b,callback:c})},listIndexes:function(a,
b){var c="";void 0===a||"function"===typeof a?b=a:c="?page="+a;return this._jsonRequest({method:"GET",url:"/1/indexes"+c,callback:b})},initIndex:function(a){return new this.Index(this,a)},listUserKeys:function(a){return this._jsonRequest({method:"GET",url:"/1/keys",callback:a})},getUserKeyACL:function(a,b){return this._jsonRequest({method:"GET",url:"/1/keys/"+a,callback:b})},deleteUserKey:function(a,b){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+a,callback:b})},addUserKey:function(a,
b){return this.addUserKeyWithValidity(a,{validity:0,maxQueriesPerIPPerHour:0,maxHitsPerQuery:0},b)},addUserKeyWithValidity:function(a,b,c){var d={};d.acl=a;d.validity=b.validity;d.maxQueriesPerIPPerHour=b.maxQueriesPerIPPerHour;d.maxHitsPerQuery=b.maxHitsPerQuery;return this._jsonRequest({method:"POST",url:"/1/keys",body:d,callback:c})},setSecurityTags:function(a){if("[object Array]"===Object.prototype.toString.call(a)){for(var b=[],c=0;c<a.length;++c)if("[object Array]"===Object.prototype.toString.call(a[c])){for(var d=
[],e=0;e<a[c].length;++e)d.push(a[c][e]);b.push("("+d.join(",")+")")}else b.push(a[c]);a=b.join(",")}this.tagFilters=a},setUserToken:function(a){this.userToken=a},startQueriesBatch:function(){this.batch=[]},addQueryInBatch:function(a,b,c){b="query="+encodeURIComponent(b);this._isUndefined(c)||null===c||(b=this._getSearchParams(c,b));this.batch.push({indexName:a,params:b})},clearCache:function(){this.cache={}},sendQueriesBatch:function(a){for(var b={requests:[]},c=0;c<this.batch.length;++c)b.requests.push(this.batch[c]);
return this._sendQueriesBatch(b,a)},setRequestTimeout:function(a){a&&(this.requestTimeout=parseInt(a,10))},Index:function(a,b){this.indexName=b;this.as=a;this.typeAheadValueOption=this.typeAheadArgs=null;this.cache={}},setExtraHeader:function(a,b){this.extraHeaders.push({key:a,value:b})},_sendQueriesBatch:function(a,b){return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:a,fallback:{method:"GET",url:"/1/indexes/*",body:{params:function(){for(var b="",c=0;c<a.requests.length;++c)var d=
"/1/indexes/"+encodeURIComponent(a.requests[c].indexName)+"?"+a.requests[c].params,b=b+(c+"="+encodeURIComponent(d)+"&");return b}()}},callback:b})},_jsonRequest:function(a){function b(d,k){function l(){f.currentHostIndex=++f.currentHostIndex%f.hosts.length;h+=1;k.timeout=f.requestTimeout*(h+1);return b(d,k)}if(c&&void 0!==c[e])return f._promise.resolve(c[e]);if(h>=f.hosts.length){if(!a.fallback||!f._request.fallback||d===f._request.fallback)return f._promise.reject(Error("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue."));
h=0;k.method=a.fallback.method;k.url=a.fallback.url;k.body=a.fallback.body;k.timeout=f.requestTimeout*(h+1);f.currentHostIndex=0;f.forceFallback=!0;return b(f._request.fallback,k)}var n=k.url,n=n+((-1===n.indexOf("?")?"?":"&")+"X-Algolia-API-Key="+f.apiKey),n=n+("&X-Algolia-Application-Id="+f.applicationID);f.userToken&&(n+="&X-Algolia-UserToken="+encodeURIComponent(f.userToken));f.tagFilters&&(n+="&X-Algolia-TagFilters="+encodeURIComponent(f.tagFilters));for(var m=0;m<f.extraHeaders.length;++m)n+=
"&"+f.extraHeaders[m].key+"="+f.extraHeaders[m].value;return d(f.hosts[f.currentHostIndex]+n,{body:k.body,method:k.method,timeout:k.timeout}).then(function(a){if(a instanceof Error)return l();var b=a&&a.body&&a.body.message&&a.body.status||a.statusCode||a&&a.body&&200,d=200===b||201===b,b=!d&&4!==Math.floor(b/100)&&1!==Math.floor(b/100);d&&c&&(c[e]=a.body);return d?a.body:b?l():f._promise.reject(Error(a.body&&a.body.message||"Unknown error"))},function(a){u("error: %s, stack: %s",a.message,a.stack);
f.forceFallback?(f.currentHostIndex=++f.currentHostIndex%f.hosts.length,h+=1):h=f.hosts.length;return b(d,k)})}var c=a.cache,e=a.url,f=this,h=0;void 0!==a.body&&(e+="_body_"+JSON.stringify(a.body));var k=f.forceFallback&&a.fallback,l=k?a.fallback:a,k=b(k?f._request.fallback:f._request,{url:l.url,method:l.method,body:l.body,timeout:f.requestTimeout*(h+1)});if(a.callback)k.then(function(b){d.nextTick(function(){a.callback(null,b)})},function(b){d.nextTick(function(){a.callback(b)})});else return k},
_getSearchParams:function(a,b){if(this._isUndefined(a)||null===a)return b;for(var c in a)null!==c&&a.hasOwnProperty(c)&&(b+=""===b?"":"&",b+=c+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(a[c])?JSON.stringify(a[c]):a[c]));return b},_isUndefined:function(a){return void 0===a}};c.prototype.Index.prototype={clearCache:function(){this.cache={}},addObject:function(a,b,c){if(1===arguments.length||"function"===typeof b)c=b,b=void 0;return this.as._jsonRequest({method:void 0!==
b?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+(void 0!==b?"/"+encodeURIComponent(b):""),body:a,callback:c})},addObjects:function(a,b){for(var c={requests:[]},d=0;d<a.length;++d)c.requests.push({action:"addObject",body:a[d]});return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:c,callback:b})},getObject:function(a,b,c){if(1===arguments.length||"function"===typeof b)c=b,b=void 0;var d="";if(void 0!==b)for(var d="?attributes=",
e=0;e<b.length;++e)0!==e&&(d+=","),d+=b[e];return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(a)+d,callback:c})},partialUpdateObject:function(a,b){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(a.objectID)+"/partial",body:a,callback:b})},partialUpdateObjects:function(a,b){for(var c={requests:[]},d=0;d<a.length;++d)c.requests.push({action:"partialUpdateObject",
objectID:a[d].objectID,body:a[d]});return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:c,callback:b})},saveObject:function(a,b){return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(a.objectID),body:a,callback:b})},saveObjects:function(a,b){for(var c={requests:[]},d=0;d<a.length;++d)c.requests.push({action:"updateObject",objectID:a[d].objectID,body:a[d]});return this.as._jsonRequest({method:"POST",
url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/batch",body:c,callback:b})},deleteObject:function(a,b){if("function"===typeof a||"string"!==typeof a&&"number"!==typeof a){var c=Error("Cannot delete an object without an objectID");b=a;return"function"===typeof b?b(c):this.as._promise.reject(c)}return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(a),callback:b})},search:function(a,b,c){if(0===arguments.length||"function"===typeof a)c=
a,a="";else if(1===arguments.length||"function"===typeof b)c=b,b=void 0;if("object"===typeof a&&null!==a)b=a,a=void 0;else if(void 0===a||null===a)a="";var d="";void 0!==a&&(d+="query="+encodeURIComponent(a));void 0!==b&&(d=this.as._getSearchParams(b,d));return this._search(d,c)},browse:function(a,b,c){if(1===arguments.length||"function"===typeof b)c=b,b=void 0;var d="?page="+a;this.as._isUndefined(b)||(d+="&hitsPerPage="+b);return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+
"/browse"+d,callback:c})},ttAdapter:function(a){var b=this;return function(c,d){b.search(c,a,function(a,b){a?d(a):d(b.hits)})}},waitTask:function(a,b){var c=this,e=this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(c.indexName)+"/task/"+a}).then(function(e){if("published"!==e.status)return(new c.as._promise.delay(100)).then(function(){return c.waitTask(a,b)});if(b)d.nextTick(function(){b(null,e)});else return e},function(a){if(b)d.nextTick(function(){b(a)});else return a});if(!b)return e},
clearIndex:function(a){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/clear",callback:a})},getSettings:function(a){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/settings",callback:a})},setSettings:function(a,b){return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/settings",body:a,callback:b})},listUserKeys:function(a){return this.as._jsonRequest({method:"GET",
url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",callback:a})},getUserKeyACL:function(a,b){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+a,callback:b})},deleteUserKey:function(a,b){return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+a,callback:b})},addUserKey:function(a,b){var c={};c.acl=a;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+
"/keys",body:c,callback:b})},addUserKeyWithValidity:function(a,b,c){var d={};d.acl=a;d.validity=b.validity;d.maxQueriesPerIPPerHour=b.maxQueriesPerIPPerHour;d.maxHitsPerQuery=b.maxHitsPerQuery;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:d,callback:c})},_search:function(a,b){return this.as._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:a},fallback:{method:"GET",
url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:a}},callback:b})},as:null,indexName:null,typeAheadArgs:null,typeAheadValueOption:null}}).call(this,h(1),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{1:1,2:2}],8:[function(h,l,d){(function(d){function f(a,b,d){return new c(a,b,d)}function c(){u.apply(this,arguments)}l.exports=f;var k=h(6),e=d.Promise||h(5).Promise,u=h(7),a=h(9);f.version=h(10);var b="XDomainRequest"in window,
g="withCredentials"in new XMLHttpRequest,p="timeout"in new XMLHttpRequest;k(c,u);c.prototype._request=function(a,c){return new e(function(d,e){function f(){if(!D){p||clearTimeout(u);var a=null;try{a=JSON.parse(m.responseText)}catch(b){}d({body:a,statusCode:m.status})}}function k(a){D||(p||clearTimeout(u),e(Error("Could not connect to host, error was:"+a)))}function h(){p||(D=!0,m.abort());d(Error("Timeout - Could not connect to endpoint "+a))}if(g||b){var l=null,m=g?new XMLHttpRequest:new XDomainRequest,
u,D;void 0!==c.body&&(l=JSON.stringify(c.body));m instanceof XMLHttpRequest?m.open(c.method,a,!0):m.open(c.method,a);g&&null!==l&&"GET"!==c.method&&m.setRequestHeader("content-type","application/x-www-form-urlencoded");m.onprogress=function(){};m.onload=f;m.onerror=k;p?(m.timeout=c.timeout,m.ontimeout=h):u=setTimeout(h,c.timeout);m.send(l)}else e(Error("CORS not supported"))})};c.prototype._request.fallback=function(b,c){return new e(function(d,e){a(b,c,function(a,b){a?e(a):d(b)})})};c.prototype._promise=
{reject:function(a){return e.reject(a)},resolve:function(a){return e.resolve(a)},delay:function(a){return new e(function(b){setTimeout(b,a)})}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{10:10,5:5,6:6,7:7,9:9}],9:[function(h,l,d){l.exports=function(d,c,k){function e(){t||r||(t=!0,l||(a(),k(Error("Failed to load JSONP script"))))}function h(){"loaded"!==this.readyState&&"complete"!==this.readyState||e()}function a(){clearTimeout(q);
n.onload=null;n.onreadystatechange=null;n.onerror=null;E.removeChild(n);try{delete window[v],delete window[v+"_loaded"]}catch(a){window[v]=null,window[v+"_loaded"]=null}}function b(){r=!0;a();k(Error("Timeout - Could not connect to endpoint "+d))}function g(){t||r||(a(),k(Error("Failed to load JSONP script")))}if("GET"!==c.method)k(Error("Method "+c.method+" "+d+" is not supported by JSONP."));else{var l=!1,r=!1;m+=1;var E=document.getElementsByTagName("head")[0],n=document.createElement("script"),
v="algoliaJSONP_"+m,t=!1;window[v]=function(b){try{delete window[v]}catch(c){window[v]=void 0}r||(l=!0,a(),k(null,{body:b}))};d+="&callback="+v;c.body&&c.body.params&&(d+="&"+c.body.params);var q=setTimeout(b,c.timeout);n.onreadystatechange=h;n.onload=e;n.onerror=g;n.async=!0;n.defer=!0;n.src=d;E.appendChild(n)}};var m=0},{}],10:[function(h,l,d){l.exports="3.0.6"},{}]},{},[8])(8)});
