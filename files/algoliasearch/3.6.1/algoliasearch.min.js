/*! algoliasearch 3.6.1 | Â© 2014, 2015 Algolia SAS | github.com/algolia/algoliasearch-client-js */
(function(e){var t;if(typeof window!=="undefined"){t=window}else if(typeof self!=="undefined"){t=self}t.ALGOLIA_MIGRATION_LAYER=e()})(function(){var e,t,r;return function n(e,t,r){function o(a,s){if(!t[a]){if(!e[a]){var u=typeof require=="function"&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[a]={exports:{}};e[a][0].call(l.exports,function(t){var r=e[a][1][t];return o(r?r:t)},l,l.exports,n,e,t,r)}return t[a].exports}var i=typeof require=="function"&&require;for(var a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,r){t.exports=function a(e,t,r){var a=document.head||document.getElementsByTagName("head")[0];var s=document.createElement("script");if(typeof t==="function"){r=t;t={}}t=t||{};r=r||function(){};s.type=t.type||"text/javascript";s.charset=t.charset||"utf8";s.async="async"in t?!!t.async:true;s.src=e;if(t.attrs){n(s,t.attrs)}if(t.text){s.text=""+t.text}var u="onload"in s?o:i;u(s,r);if(!s.onload){o(s,r)}a.appendChild(s)};function n(e,t){for(var r in t){e.setAttribute(r,t[r])}}function o(e,t){e.onload=function(){this.onerror=this.onload=null;t(null,e)};e.onerror=function(){this.onerror=this.onload=null;t(new Error("Failed to load "+this.src),e)}}function i(e,t){e.onreadystatechange=function(){if(this.readyState!="complete"&&this.readyState!="loaded")return;this.onreadystatechange=null;t(null,e)}}},{}],2:[function(e,t,r){t.exports=n;function n(e){var t=new RegExp("cdn\\.jsdelivr\\.net/algoliasearch/latest/"+e.replace(".","\\.")+"(?:\\.min)?\\.js$");var r=document.getElementsByTagName("script");var n=false;for(var o=0,i=r.length;o<i;o++){if(r[o].src&&t.test(r[o].src)){n=true;break}}return n}},{}],3:[function(e,t,r){t.exports=n;function n(t){var r=e(1);var n="//cdn.jsdelivr.net/algoliasearch/2/"+t+".min.js";var i="-- AlgoliaSearch `latest` warning --\n"+"Warning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\n"+"Using `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\n"+"Also, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\n"+"please read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n"+"-- /AlgoliaSearch  `latest` warning --";if(window.console){if(window.console.warn){window.console.warn(i)}else if(window.console.log){window.console.log(i)}}try{document.write("<script>window.ALGOLIA_SUPPORTS_DOCWRITE = true</script>");if(window.ALGOLIA_SUPPORTS_DOCWRITE===true){document.write('<script src="'+n+'"></script>');o("document.write")()}else{r(n,o("DOMElement"))}}catch(a){r(n,o("DOMElement"))}}function o(e){return function t(){var t="AlgoliaSearch: loaded V2 script using "+e;window.console&&window.console.log&&window.console.log(t)}}},{1:1}],4:[function(e,t,r){t.exports=n;function n(){var e="-- AlgoliaSearch V2 => V3 error --\n"+"You are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\n"+"Please read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n"+"-- /AlgoliaSearch V2 => V3 error --";window.AlgoliaSearch=function(){throw new Error(e)};window.AlgoliaSearchHelper=function(){throw new Error(e)};AlgoliaExplainResults=function(){throw new Error(e)}}},{}],5:[function(e,t,r){n("algoliasearch");function n(t){var r=e(2);var n=e(3);var o=e(4);if(r(t)){n(t)}else{o()}}},{2:2,3:3,4:4}]},{},[5])(5)});(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.algoliasearch=e()}})(function(){var e,t,r;return function n(e,t,r){function o(a,s){if(!t[a]){if(!e[a]){var u=typeof require=="function"&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[a]={exports:{}};e[a][0].call(l.exports,function(t){var r=e[a][1][t];return o(r?r:t)},l,l.exports,n,e,t,r)}return t[a].exports}var i=typeof require=="function"&&require;for(var a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,r){function n(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}t.exports=n;n.EventEmitter=n;n.prototype._events=undefined;n.prototype._maxListeners=undefined;n.defaultMaxListeners=10;n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};n.prototype.emit=function(e){var t,r,n,i,u,c;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||a(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}throw TypeError('Uncaught, unspecified "error" event.')}}r=this._events[e];if(s(r))return false;if(o(r)){switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:n=arguments.length;i=new Array(n-1);for(u=1;u<n;u++)i[u-1]=arguments[u];r.apply(this,i)}}else if(a(r)){n=arguments.length;i=new Array(n-1);for(u=1;u<n;u++)i[u-1]=arguments[u];c=r.slice();n=c.length;for(u=0;u<n;u++)c[u].apply(this,i)}return true};n.prototype.addListener=function(e,t){var r;if(!o(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,o(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(a(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(a(this._events[e])&&!this._events[e].warned){var r;if(!s(this._maxListeners)){r=this._maxListeners}else{r=n.defaultMaxListeners}if(r&&r>0&&this._events[e].length>r){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};n.prototype.on=n.prototype.addListener;n.prototype.once=function(e,t){if(!o(t))throw TypeError("listener must be a function");var r=false;function n(){this.removeListener(e,n);if(!r){r=true;t.apply(this,arguments)}}n.listener=t;this.on(e,n);return this};n.prototype.removeListener=function(e,t){var r,n,i,s;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;r=this._events[e];i=r.length;n=-1;if(r===t||o(r.listener)&&r.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(a(r)){for(s=i;s-->0;){if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}}if(n<0)return this;if(r.length===1){r.length=0;delete this._events[e]}else{r.splice(n,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}r=this._events[e];if(o(r)){this.removeListener(e,r)}else{while(r.length)this.removeListener(e,r[r.length-1])}delete this._events[e];return this};n.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(o(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};n.listenerCount=function(e,t){var r;if(!e._events||!e._events[t])r=0;else if(o(e._events[t]))r=1;else r=e._events[t].length;return r};function o(e){return typeof e==="function"}function i(e){return typeof e==="number"}function a(e){return typeof e==="object"&&e!==null}function s(e){return e===void 0}},{}],2:[function(e,t,r){var n=t.exports={};var o=[];var i=false;var a;var s=-1;function u(){i=false;if(a.length){o=a.concat(o)}else{s=-1}if(o.length){c()}}function c(){if(i){return}var e=setTimeout(u);i=true;var t=o.length;while(t){a=o;o=[];while(++s<t){a[s].run()}s=-1;t=o.length}a=null;i=false;clearTimeout(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}o.push(new l(e,t));if(o.length===1&&!i){setTimeout(c,0)}};function l(e,t){this.fun=e;this.array=t}l.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function f(){}n.on=f;n.addListener=f;n.once=f;n.off=f;n.removeListener=f;n.removeAllListeners=f;n.emit=f;n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},{}],3:[function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,i){t=t||"&";r=r||"=";var a={};if(typeof e!=="string"||e.length===0){return a}var s=/\+/g;e=e.split(t);var u=1e3;if(i&&typeof i.maxKeys==="number"){u=i.maxKeys}var c=e.length;if(u>0&&c>u){c=u}for(var l=0;l<c;++l){var f=e[l].replace(s,"%20"),d=f.indexOf(r),h,p,v,y;if(d>=0){h=f.substr(0,d);p=f.substr(d+1)}else{h=f;p=""}v=decodeURIComponent(h);y=decodeURIComponent(p);if(!n(a,v)){a[v]=y}else if(o(a[v])){a[v].push(y)}else{a[v]=[a[v],y]}}return a};var o=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},{}],4:[function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,s){t=t||"&";r=r||"=";if(e===null){e=undefined}if(typeof e==="object"){return i(a(e),function(a){var s=encodeURIComponent(n(a))+r;if(o(e[a])){return i(e[a],function(e){return s+encodeURIComponent(n(e))}).join(t)}else{return s+encodeURIComponent(n(e[a]))}}).join(t)}if(!s)return"";return encodeURIComponent(n(s))+r+encodeURIComponent(n(e))};var o=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function i(e,t){if(e.map)return e.map(t);var r=[];for(var n=0;n<e.length;n++){r.push(t(e[n],n))}return r}var a=Object.keys||function(e){var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t.push(r)}return t}},{}],5:[function(e,t,r){"use strict";r.decode=r.parse=e(3);r.encode=r.stringify=e(4)},{3:3,4:4}],6:[function(e,t,r){r=t.exports=e(7);r.log=i;r.formatArgs=o;r.save=a;r.load=s;r.useColors=n;r.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u();r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}r.formatters.j=function(e){return JSON.stringify(e)};function o(){var e=arguments;var t=this.useColors;e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff);if(!t)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0;var i=0;e[0].replace(/%[a-z%]/g,function(e){if("%%"===e)return;o++;if("%c"===e){i=o}});e.splice(i,0,n);return e}function i(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{if(null==e){r.storage.removeItem("debug")}else{r.storage.debug=e}}catch(t){}}function s(){var e;try{e=r.storage.debug}catch(t){}return e}r.enable(s());function u(){try{return window.localStorage}catch(e){}}},{7:7}],7:[function(e,t,r){r=t.exports=a;r.coerce=l;r.disable=u;r.enable=s;r.enabled=c;r.humanize=e(8);r.names=[];r.skips=[];r.formatters={};var n=0;var o;function i(){return r.colors[n++%r.colors.length]}function a(e){function t(){}t.enabled=false;function n(){var e=n;var t=+new Date;var a=t-(o||t);e.diff=a;e.prev=o;e.curr=t;o=t;if(null==e.useColors)e.useColors=r.useColors();if(null==e.color&&e.useColors)e.color=i();var s=Array.prototype.slice.call(arguments);s[0]=r.coerce(s[0]);if("string"!==typeof s[0]){s=["%o"].concat(s)}var u=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,n){if(t==="%%")return t;u++;var o=r.formatters[n];if("function"===typeof o){var i=s[u];t=o.call(e,i);s.splice(u,1);u--}return t});if("function"===typeof r.formatArgs){s=r.formatArgs.apply(e,s)}var c=n.log||r.log||console.log.bind(console);c.apply(e,s)}n.enabled=true;var a=r.enabled(e)?n:t;a.namespace=e;return a}function s(e){r.save(e);var t=(e||"").split(/[\s,]+/);var n=t.length;for(var o=0;o<n;o++){if(!t[o])continue;e=t[o].replace(/\*/g,".*?");if(e[0]==="-"){r.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{r.names.push(new RegExp("^"+e+"$"))}}}function u(){r.enable("")}function c(e){var t,n;for(t=0,n=r.skips.length;t<n;t++){if(r.skips[t].test(e)){return false}}for(t=0,n=r.names.length;t<n;t++){if(r.names[t].test(e)){return true}}return false}function l(e){if(e instanceof Error)return e.stack||e.message;return e}},{8:8}],8:[function(e,t,r){var n=1e3;var o=n*60;var i=o*60;var a=i*24;var s=a*365.25;t.exports=function(e,t){t=t||{};if("string"==typeof e)return u(e);return t["long"]?l(e):c(e)};function u(e){e=""+e;if(e.length>1e4)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);var u=(t[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return r*s;case"days":case"day":case"d":return r*a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*i;case"minutes":case"minute":case"mins":case"min":case"m":return r*o;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}function c(e){if(e>=a)return Math.round(e/a)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=o)return Math.round(e/o)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}function l(e){return f(e,a,"day")||f(e,i,"hour")||f(e,o,"minute")||f(e,n,"second")||e+" ms"}function f(e,t,r){if(e<t)return;if(e<t*1.5)return Math.floor(e/t)+" "+r;return Math.ceil(e/t)+" "+r+"s"}},{}],9:[function(t,r,n){(function(n,o){(function(){"use strict";function i(e){return typeof e==="function"||typeof e==="object"&&e!==null}function a(e){return typeof e==="function"}function s(e){return typeof e==="object"&&e!==null}var u;if(!Array.isArray){u=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}else{u=Array.isArray}var c=u;var l=0;var f={}.toString;var d;function h(e,t){A[l]=e;A[l+1]=t;l+=2;if(l===2){k()}}var p=h;var v=typeof window!=="undefined"?window:undefined;var y=v||{};var m=y.MutationObserver||y.WebKitMutationObserver;var g=typeof n!=="undefined"&&{}.toString.call(n)==="[object process]";var b=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function w(){var e=n.nextTick;var t=n.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);if(Array.isArray(t)&&t[1]==="0"&&t[2]==="10"){e=setImmediate}return function(){e(S)}}function x(){return function(){d(S)}}function j(){var e=0;var t=new m(S);var r=document.createTextNode("");t.observe(r,{characterData:true});return function(){r.data=e=++e%2}}function _(){var e=new MessageChannel;e.port1.onmessage=S;return function(){e.port2.postMessage(0)}}function T(){return function(){setTimeout(S,1)}}var A=new Array(1e3);function S(){for(var e=0;e<l;e+=2){var t=A[e];var r=A[e+1];t(r);A[e]=undefined;A[e+1]=undefined}l=0}function O(){try{var e=t;var r=e("vertx");d=r.runOnLoop||r.runOnContext;return x()}catch(n){return T()}}var k;if(g){k=w()}else if(m){k=j()}else if(b){k=_()}else if(v===undefined&&typeof t==="function"){k=O()}else{k=T()}function P(){}var I=void 0;var R=1;var E=2;var q=new $;function U(){return new TypeError("You cannot resolve a promise with itself")}function C(){return new TypeError("A promises callback cannot return that same promise.")}function N(e){try{return e.then}catch(t){q.error=t;return q}}function L(e,t,r,n){try{e.call(t,r,n)}catch(o){return o}}function D(e,t,r){p(function(e){var n=false;var o=L(r,t,function(r){if(n){return}n=true;if(t!==r){F(e,r)}else{J(e,r)}},function(t){if(n){return}n=true;K(e,t)},"Settle: "+(e._label||" unknown promise"));if(!n&&o){n=true;K(e,o)}},e)}function M(e,t){if(t._state===R){J(e,t._result)}else if(t._state===E){K(e,t._result)}else{Q(t,undefined,function(t){F(e,t)},function(t){K(e,t)})}}function H(e,t){if(t.constructor===e.constructor){M(e,t)}else{var r=N(t);if(r===q){K(e,q.error)}else if(r===undefined){J(e,t)}else if(a(r)){D(e,t,r)}else{J(e,t)}}}function F(e,t){if(e===t){K(e,U())}else if(i(t)){H(e,t)}else{J(e,t)}}function B(e){if(e._onerror){e._onerror(e._result)}G(e)}function J(e,t){if(e._state!==I){return}e._result=t;e._state=R;if(e._subscribers.length!==0){p(G,e)}}function K(e,t){if(e._state!==I){return}e._state=E;e._result=t;p(B,e)}function Q(e,t,r,n){var o=e._subscribers;var i=o.length;e._onerror=null;o[i]=t;o[i+R]=r;o[i+E]=n;if(i===0&&e._state){p(G,e)}}function G(e){var t=e._subscribers;var r=e._state;if(t.length===0){return}var n,o,i=e._result;for(var a=0;a<t.length;a+=3){n=t[a];o=t[a+r];if(n){X(r,n,o,i)}else{o(i)}}e._subscribers.length=0}function $(){this.error=null}var V=new $;function W(e,t){try{return e(t)}catch(r){V.error=r;return V}}function X(e,t,r,n){var o=a(r),i,s,u,c;if(o){i=W(r,n);if(i===V){c=true;s=i.error;i=null}else{u=true}if(t===i){K(t,C());return}}else{i=n;u=true}if(t._state!==I){}else if(o&&u){F(t,i)}else if(c){K(t,s)}else if(e===R){J(t,i)}else if(e===E){K(t,i)}}function Y(e,t){try{t(function n(t){F(e,t)},function o(t){K(e,t)})}catch(r){K(e,r)}}function z(e,t){var r=this;r._instanceConstructor=e;r.promise=new e(P);if(r._validateInput(t)){r._input=t;r.length=t.length;r._remaining=t.length;r._init();if(r.length===0){J(r.promise,r._result)}else{r.length=r.length||0;r._enumerate();if(r._remaining===0){J(r.promise,r._result)}}}else{K(r.promise,r._validationError())}}z.prototype._validateInput=function(e){return c(e)};z.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};z.prototype._init=function(){this._result=new Array(this.length)};var Z=z;z.prototype._enumerate=function(){var e=this;var t=e.length;var r=e.promise;var n=e._input;for(var o=0;r._state===I&&o<t;o++){e._eachEntry(n[o],o)}};z.prototype._eachEntry=function(e,t){var r=this;var n=r._instanceConstructor;if(s(e)){if(e.constructor===n&&e._state!==I){e._onerror=null;r._settledAt(e._state,t,e._result)}else{r._willSettleAt(n.resolve(e),t)}}else{r._remaining--;r._result[t]=e}};z.prototype._settledAt=function(e,t,r){var n=this;var o=n.promise;if(o._state===I){n._remaining--;if(e===E){K(o,r)}else{n._result[t]=r}}if(n._remaining===0){J(o,n._result)}};z.prototype._willSettleAt=function(e,t){var r=this;Q(e,undefined,function(e){r._settledAt(R,t,e)},function(e){r._settledAt(E,t,e)})};function ee(e){return new Z(this,e).promise}var te=ee;function re(e){var t=this;var r=new t(P);if(!c(e)){K(r,new TypeError("You must pass an array to race."));return r}var n=e.length;function o(e){F(r,e)}function i(e){K(r,e)}for(var a=0;r._state===I&&a<n;a++){Q(t.resolve(e[a]),undefined,o,i)}return r}var ne=re;function oe(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t){return e}var r=new t(P);F(r,e);return r}var ie=oe;function ae(e){var t=this;var r=new t(P);K(r,e);return r}var se=ae;var ue=0;function ce(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function le(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var fe=de;function de(e){this._id=ue++;this._state=undefined;this._result=undefined;this._subscribers=[];if(P!==e){if(!a(e)){ce()}if(!(this instanceof de)){le()}Y(this,e)}}de.all=te;de.race=ne;de.resolve=ie;de.reject=se;de.prototype={constructor:de,then:function(e,t){var r=this;var n=r._state;if(n===R&&!e||n===E&&!t){return this}var o=new this.constructor(P);var i=r._result;if(n){var a=arguments[n-1];p(function(){X(n,o,a,i)})}else{Q(r,o,e,t)}return o},"catch":function(e){return this.then(null,e)}};function he(){var e;if(typeof o!=="undefined"){e=o}else if(typeof self!=="undefined"){e=self}else{try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}}var r=e.Promise;if(r&&Object.prototype.toString.call(r.resolve())==="[object Promise]"&&!r.cast){return}e.Promise=fe}var pe=he;var ve={Promise:fe,polyfill:pe};if(typeof e==="function"&&e["amd"]){e(function(){return ve})}else if(typeof r!=="undefined"&&r["exports"]){r["exports"]=ve}else if(typeof this!=="undefined"){this["ES6Promise"]=ve}pe()}).call(this)}).call(this,t(2),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{2:2}],10:[function(e,t,r){if(typeof Object.create==="function"){t.exports=function n(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function o(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype;e.prototype=new r;e.prototype.constructor=e}}},{}],11:[function(e,t,r){var n=e(14),o=e(18),i=e(32);var a=i(n,o);t.exports=a},{14:14,18:18,32:32}],12:[function(e,t,r){var n="Expected a function";var o=Math.max;function i(e,t){if(typeof e!="function"){throw new TypeError(n)}t=o(t===undefined?e.length-1:+t||0,0);return function(){var r=arguments,n=-1,i=o(r.length-t,0),a=Array(i);while(++n<i){a[n]=r[t+n]}switch(t){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}var s=Array(t+1);n=-1;while(++n<t){s[n]=r[n]}s[t]=a;return e.apply(this,s)}}t.exports=i},{}],13:[function(e,t,r){function n(e,t){var r=-1,n=e.length;t||(t=Array(n));while(++r<n){t[r]=e[r]}return t}t.exports=n},{}],14:[function(e,t,r){function n(e,t){var r=-1,n=e.length;while(++r<n){if(t(e[r],r,e)===false){break}}return e}t.exports=n},{}],15:[function(e,t,r){var n=e(17),o=e(58);function i(e,t){return t==null?e:n(t,o(t),e)}t.exports=i},{17:17,58:58}],16:[function(e,t,r){var n=e(13),o=e(14),i=e(15),a=e(21),s=e(35),u=e(36),c=e(37),l=e(50),f=e(39),d=e(53);var h="[object Arguments]",p="[object Array]",v="[object Boolean]",y="[object Date]",m="[object Error]",g="[object Function]",b="[object Map]",w="[object Number]",x="[object Object]",j="[object RegExp]",_="[object Set]",T="[object String]",A="[object WeakMap]";var S="[object ArrayBuffer]",O="[object Float32Array]",k="[object Float64Array]",P="[object Int8Array]",I="[object Int16Array]",R="[object Int32Array]",E="[object Uint8Array]",q="[object Uint8ClampedArray]",U="[object Uint16Array]",C="[object Uint32Array]";var N={};N[h]=N[p]=N[S]=N[v]=N[y]=N[O]=N[k]=N[P]=N[I]=N[R]=N[w]=N[x]=N[j]=N[T]=N[E]=N[q]=N[U]=N[C]=true;N[m]=N[g]=N[b]=N[_]=N[A]=false;var L=Object.prototype;var D=L.toString;function M(e,t,r,p,v,y,m){var b;if(r){b=v?r(e,p,v):r(e)}if(b!==undefined){return b}if(!d(e)){return e}var w=l(e);if(w){b=s(e);if(!t){return n(e,b)}}else{var j=D.call(e),_=j==g;if(j==x||j==h||_&&!v){if(f(e)){return v?e:{}}b=c(_?{}:e);if(!t){return i(b,e)}}else{return N[j]?u(e,j,t):v?e:{}}}y||(y=[]);m||(m=[]);var T=y.length;while(T--){if(y[T]==e){return m[T]}}y.push(e);m.push(b);(w?o:a)(e,function(n,o){b[o]=M(n,t,r,o,e,y,m)});return b}t.exports=M},{13:13,14:14,15:15,21:21,35:35,36:36,37:37,39:39,50:50,53:53}],17:[function(e,t,r){function n(e,t,r){r||(r={});var n=-1,o=t.length;while(++n<o){var i=t[n];r[i]=e[i]}return r}t.exports=n},{}],18:[function(e,t,r){var n=e(21),o=e(30);var i=o(n);t.exports=i},{21:21,30:30}],19:[function(e,t,r){var n=e(31);var o=n();t.exports=o},{31:31}],20:[function(e,t,r){var n=e(19),o=e(59);function i(e,t){return n(e,t,o)}t.exports=i},{19:19,59:59}],21:[function(e,t,r){var n=e(19),o=e(58);function i(e,t){return n(e,t,o)}t.exports=i},{19:19,58:58}],22:[function(e,t,r){function n(e){return typeof e=="function"||false}t.exports=n},{}],23:[function(e,t,r){var n=e(14),o=e(24),i=e(50),a=e(38),s=e(53),u=e(43),c=e(56),l=e(58);function f(e,t,r,d,h){if(!s(e)){return e}var p=a(t)&&(i(t)||c(t)),v=p?null:l(t);n(v||t,function(n,i){if(v){i=n;n=t[i]}if(u(n)){d||(d=[]);h||(h=[]);o(e,t,i,f,r,d,h)}else{var a=e[i],s=r?r(a,n,i,e,t):undefined,c=s===undefined;if(c){s=n}if((s!==undefined||p&&!(i in e))&&(c||(s===s?s!==a:a===a))){e[i]=s}}});return e}t.exports=f},{14:14,24:24,38:38,43:43,50:50,53:53,56:56,58:58}],24:[function(e,t,r){var n=e(13),o=e(49),i=e(50),a=e(38),s=e(54),u=e(56),c=e(57);function l(e,t,r,l,f,d,h){var p=d.length,v=t[r];while(p--){if(d[p]==v){e[r]=h[p];return}}var y=e[r],m=f?f(y,v,r,e,t):undefined,g=m===undefined;if(g){m=v;if(a(v)&&(i(v)||u(v))){m=i(y)?y:a(y)?n(y):[]}else if(s(v)||o(v)){m=o(y)?c(y):s(y)?y:{}}else{g=false}}d.push(v);h.push(m);if(g){e[r]=l(m,v,f,d,h)}else if(m===m?m!==y:y===y){e[r]=m}}t.exports=l},{13:13,38:38,49:49,50:50,54:54,56:56,57:57}],25:[function(e,t,r){var n=e(46);function o(e){return function(t){return t==null?undefined:n(t)[e]}}t.exports=o},{46:46}],26:[function(e,t,r){function n(e){if(typeof e=="string"){return e}return e==null?"":e+""}t.exports=n},{}],27:[function(e,t,r){var n=e(64);function o(e,t,r){if(typeof e!="function"){return n}if(t===undefined){return e}switch(r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,o){return e.call(t,r,n,o)};case 4:return function(r,n,o,i){return e.call(t,r,n,o,i)};case 5:return function(r,n,o,i,a){return e.call(t,r,n,o,i,a)}}return function(){return e.apply(t,arguments)}}t.exports=o},{64:64}],28:[function(e,t,r){(function(r){var n=e(63),o=e(34);var i=o(r,"ArrayBuffer"),a=o(i&&new i(0),"slice"),s=Math.floor,u=o(r,"Uint8Array");var c=function(){try{var e=o(r,"Float64Array"),t=new e(new i(10),0,1)&&e}catch(n){}return t||null}();var l=c?c.BYTES_PER_ELEMENT:0;function f(e){return a.call(e,0)}if(!a){f=!(i&&u)?n(null):function(e){var t=e.byteLength,r=c?s(t/l):0,n=r*l,o=new i(t);if(r){var a=new c(o,0,r);a.set(new c(e,0,r))}if(t!=n){a=new u(o,n);a.set(new u(e,n))}return o}}t.exports=f}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{34:34,63:63}],29:[function(e,t,r){var n=e(27),o=e(41),i=e(12);function a(e){return i(function(t,r){var i=-1,a=t==null?0:r.length,s=a>2?r[a-2]:undefined,u=a>2?r[2]:undefined,c=a>1?r[a-1]:undefined;if(typeof s=="function"){s=n(s,c,5);a-=2}else{s=typeof c=="function"?c:undefined;a-=s?1:0}if(u&&o(r[0],r[1],u)){s=a<3?undefined:s;a=1}while(++i<a){var l=r[i];if(l){e(t,l,s)}}return t})}t.exports=a},{12:12,27:27,41:41}],30:[function(e,t,r){var n=e(33),o=e(42),i=e(46);function a(e,t){return function(r,a){var s=r?n(r):0;if(!o(s)){return e(r,a)}var u=t?s:-1,c=i(r);while(t?u--:++u<s){if(a(c[u],u,c)===false){break}}return r}}t.exports=a},{33:33,42:42,46:46}],31:[function(e,t,r){var n=e(46);function o(e){return function(t,r,o){var i=n(t),a=o(t),s=a.length,u=e?s:-1;while(e?u--:++u<s){var c=a[u];if(r(i[c],c,i)===false){break}}return t}}t.exports=o},{46:46}],32:[function(e,t,r){var n=e(27),o=e(50);function i(e,t){return function(r,i,a){return typeof i=="function"&&a===undefined&&o(r)?e(r,i):t(r,n(i,a,3))}}t.exports=i},{27:27,50:50}],33:[function(e,t,r){var n=e(25);var o=n("length");t.exports=o},{25:25}],34:[function(e,t,r){var n=e(52);function o(e,t){var r=e==null?undefined:e[t];return n(r)?r:undefined}t.exports=o},{52:52}],35:[function(e,t,r){var n=Object.prototype;var o=n.hasOwnProperty;function i(e){var t=e.length,r=new e.constructor(t);if(t&&typeof e[0]=="string"&&o.call(e,"index")){r.index=e.index;r.input=e.input}return r}t.exports=i},{}],36:[function(e,t,r){(function(r){var n=e(28);var o="[object Boolean]",i="[object Date]",a="[object Number]",s="[object RegExp]",u="[object String]";var c="[object ArrayBuffer]",l="[object Float32Array]",f="[object Float64Array]",d="[object Int8Array]",h="[object Int16Array]",p="[object Int32Array]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",m="[object Uint16Array]",g="[object Uint32Array]";var b=/\w*$/;var w={};w[l]=r.Float32Array;w[f]=r.Float64Array;w[d]=r.Int8Array;w[h]=r.Int16Array;w[p]=r.Int32Array;w[v]=r.Uint8Array;w[y]=r.Uint8ClampedArray;w[m]=r.Uint16Array;w[g]=r.Uint32Array;function x(e,t,r){var x=e.constructor;switch(t){case c:return n(e);case o:case i:return new x(+e);case l:case f:case d:case h:case p:case v:case y:case m:case g:if(x instanceof x){x=w[t]}var j=e.buffer;return new x(r?n(j):j,e.byteOffset,e.length);case a:case u:return new x(e);case s:var _=new x(e.source,b.exec(e));_.lastIndex=e.lastIndex}return _}t.exports=x}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{28:28}],37:[function(e,t,r){function n(e){var t=e.constructor;if(!(typeof t=="function"&&t instanceof t)){t=Object}return new t}t.exports=n},{}],38:[function(e,t,r){var n=e(33),o=e(42);function i(e){return e!=null&&o(n(e))}t.exports=i},{33:33,42:42}],39:[function(e,t,r){var n=function(){try{Object({toString:0}+"")}catch(e){return function(){return false}}return function(e){return typeof e.toString!="function"&&typeof(e+"")=="string"}}();t.exports=n},{}],40:[function(e,t,r){var n=/^\d+$/;var o=9007199254740991;function i(e,t){e=typeof e=="number"||n.test(e)?+e:-1;t=t==null?o:t;return e>-1&&e%1==0&&e<t}t.exports=i},{}],41:[function(e,t,r){var n=e(38),o=e(40),i=e(53);function a(e,t,r){if(!i(r)){return false}var a=typeof t;if(a=="number"?n(r)&&o(t,r.length):a=="string"&&t in r){var s=r[t];return e===e?e===s:s!==s}return false}t.exports=a},{38:38,40:40,53:53}],42:[function(e,t,r){var n=9007199254740991;function o(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=n}t.exports=o},{}],43:[function(e,t,r){function n(e){return!!e&&typeof e=="object"}t.exports=n},{}],44:[function(e,t,r){var n=e(20),o=e(49),i=e(39),a=e(43),s=e(62);var u="[object Object]";var c=Object.prototype;var l=c.hasOwnProperty;var f=c.toString;function d(e){var t;if(!(a(e)&&f.call(e)==u&&!i(e))||!l.call(e,"constructor")&&(t=e.constructor,typeof t=="function"&&!(t instanceof t))||!s.argsTag&&o(e)){return false}var r;if(s.ownLast){n(e,function(e,t,n){r=l.call(n,t);return false});return r!==false}n(e,function(e,t){r=t});return r===undefined||l.call(e,r)}t.exports=d},{20:20,39:39,43:43,49:49,62:62}],45:[function(e,t,r){var n=e(49),o=e(50),i=e(40),a=e(42),s=e(55),u=e(59);var c=Object.prototype;var l=c.hasOwnProperty;function f(e){var t=u(e),r=t.length,c=r&&e.length;var f=!!c&&a(c)&&(o(e)||n(e)||s(e));var d=-1,h=[];while(++d<r){var p=t[d];if(f&&i(p,c)||l.call(e,p)){h.push(p)}}return h}t.exports=f},{40:40,42:42,49:49,50:50,55:55,59:59}],46:[function(e,t,r){var n=e(53),o=e(55),i=e(62);function a(e){if(i.unindexedChars&&o(e)){var t=-1,r=e.length,a=Object(e);while(++t<r){a[t]=e.charAt(t)}return a}return n(e)?e:Object(e)}t.exports=a},{53:53,55:55,62:62}],47:[function(e,t,r){var n=e(16),o=e(27),i=e(41);function a(e,t,r,a){if(t&&typeof t!="boolean"&&i(e,t,r)){t=false}else if(typeof t=="function"){a=r;r=t;t=false}return typeof r=="function"?n(e,t,o(r,a,1)):n(e,t)}t.exports=a},{16:16,27:27,41:41}],48:[function(e,t,r){var n=e(16),o=e(27);function i(e,t,r){return typeof t=="function"?n(e,true,o(t,r,1)):n(e,true)}t.exports=i},{16:16,27:27}],49:[function(e,t,r){var n=e(38),o=e(43),i=e(62);var a="[object Arguments]";var s=Object.prototype;var u=s.hasOwnProperty;var c=s.toString;var l=s.propertyIsEnumerable;function f(e){return o(e)&&n(e)&&c.call(e)==a}if(!i.argsTag){f=function(e){return o(e)&&n(e)&&u.call(e,"callee")&&!l.call(e,"callee")}}
t.exports=f},{38:38,43:43,62:62}],50:[function(e,t,r){var n=e(34),o=e(42),i=e(43);var a="[object Array]";var s=Object.prototype;var u=s.toString;var c=n(Array,"isArray");var l=c||function(e){return i(e)&&o(e.length)&&u.call(e)==a};t.exports=l},{34:34,42:42,43:43}],51:[function(e,t,r){(function(r){var n=e(22),o=e(34);var i="[object Function]";var a=Object.prototype;var s=a.toString;var u=o(r,"Uint8Array");var c=!(n(/x/)||u&&!n(u))?n:function(e){return s.call(e)==i};t.exports=c}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{22:22,34:34}],52:[function(e,t,r){var n=e(61),o=e(39),i=e(43);var a="[object Function]";var s=/^\[object .+?Constructor\]$/;var u=Object.prototype;var c=Function.prototype.toString;var l=u.hasOwnProperty;var f=u.toString;var d=RegExp("^"+n(c.call(l)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(e){if(e==null){return false}if(f.call(e)==a){return d.test(c.call(e))}return i(e)&&(o(e)?d:s).test(e)}t.exports=h},{39:39,43:43,61:61}],53:[function(e,t,r){function n(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}t.exports=n},{}],54:[function(e,t,r){var n=e(34),o=e(49),i=e(44),a=e(62);var s="[object Object]";var u=Object.prototype;var c=u.toString;var l=n(Object,"getPrototypeOf");var f=!l?i:function(e){if(!(e&&c.call(e)==s)||!a.argsTag&&o(e)){return false}var t=n(e,"valueOf"),r=t&&(r=l(t))&&l(r);return r?e==r||l(e)==r:i(e)};t.exports=f},{34:34,44:44,49:49,62:62}],55:[function(e,t,r){var n=e(43);var o="[object String]";var i=Object.prototype;var a=i.toString;function s(e){return typeof e=="string"||n(e)&&a.call(e)==o}t.exports=s},{43:43}],56:[function(e,t,r){var n=e(42),o=e(43);var i="[object Arguments]",a="[object Array]",s="[object Boolean]",u="[object Date]",c="[object Error]",l="[object Function]",f="[object Map]",d="[object Number]",h="[object Object]",p="[object RegExp]",v="[object Set]",y="[object String]",m="[object WeakMap]";var g="[object ArrayBuffer]",b="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",j="[object Int16Array]",_="[object Int32Array]",T="[object Uint8Array]",A="[object Uint8ClampedArray]",S="[object Uint16Array]",O="[object Uint32Array]";var k={};k[b]=k[w]=k[x]=k[j]=k[_]=k[T]=k[A]=k[S]=k[O]=true;k[i]=k[a]=k[g]=k[s]=k[u]=k[c]=k[l]=k[f]=k[d]=k[h]=k[p]=k[v]=k[y]=k[m]=false;var P=Object.prototype;var I=P.toString;function R(e){return o(e)&&n(e.length)&&!!k[I.call(e)]}t.exports=R},{42:42,43:43}],57:[function(e,t,r){var n=e(17),o=e(59);function i(e){return n(e,o(e))}t.exports=i},{17:17,59:59}],58:[function(e,t,r){var n=e(34),o=e(38),i=e(53),a=e(45),s=e(62);var u=n(Object,"keys");var c=!u?a:function(e){var t=e==null?null:e.constructor;if(typeof t=="function"&&t.prototype===e||(typeof e=="function"?s.enumPrototypes:o(e))){return a(e)}return i(e)?u(e):[]};t.exports=c},{34:34,38:38,45:45,53:53,62:62}],59:[function(e,t,r){var n=e(14),o=e(49),i=e(50),a=e(51),s=e(40),u=e(42),c=e(53),l=e(55),f=e(62);var d="[object Array]",h="[object Boolean]",p="[object Date]",v="[object Error]",y="[object Function]",m="[object Number]",g="[object Object]",b="[object RegExp]",w="[object String]";var x=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var j=Error.prototype,_=Object.prototype,T=String.prototype;var A=_.hasOwnProperty;var S=_.toString;var O={};O[d]=O[p]=O[m]={constructor:true,toLocaleString:true,toString:true,valueOf:true};O[h]=O[w]={constructor:true,toString:true,valueOf:true};O[v]=O[y]=O[b]={constructor:true,toString:true};O[g]={constructor:true};n(x,function(e){for(var t in O){if(A.call(O,t)){var r=O[t];r[e]=A.call(r,e)}}});function k(e){if(e==null){return[]}if(!c(e)){e=Object(e)}var t=e.length;t=t&&u(t)&&(i(e)||o(e)||l(e))&&t||0;var r=e.constructor,n=-1,d=a(r)&&r.prototype||_,h=d===e,p=Array(t),y=t>0,m=f.enumErrorProps&&(e===j||e instanceof Error),b=f.enumPrototypes&&a(e);while(++n<t){p[n]=n+""}for(var k in e){if(!(b&&k=="prototype")&&!(m&&(k=="message"||k=="name"))&&!(y&&s(k,t))&&!(k=="constructor"&&(h||!A.call(e,k)))){p.push(k)}}if(f.nonEnumShadows&&e!==_){var P=e===T?w:e===j?v:S.call(e),I=O[P]||O[g];if(P==g){d=_}t=x.length;while(t--){k=x[t];var R=I[k];if(!(h&&R)&&(R?A.call(e,k):e[k]!==d[k])){p.push(k)}}}return p}t.exports=k},{14:14,40:40,42:42,49:49,50:50,51:51,53:53,55:55,62:62}],60:[function(e,t,r){var n=e(23),o=e(29);var i=o(n);t.exports=i},{23:23,29:29}],61:[function(e,t,r){var n=e(26);var o=/[.*+?^${}()|[\]\/\\]/g,i=RegExp(o.source);function a(e){e=n(e);return e&&i.test(e)?e.replace(o,"\\$&"):e}t.exports=a},{26:26}],62:[function(e,t,r){(function(e){var r="[object Arguments]",n="[object Object]";var o=Array.prototype,i=Error.prototype,a=Object.prototype;var s=(s=e.window)?s.document:null;var u=a.toString;var c=a.propertyIsEnumerable,l=o.splice;var f={};(function(e){var t=function(){this.x=e},o={0:e,length:e},a=[];t.prototype={valueOf:e,y:e};for(var d in new t){a.push(d)}f.argsTag=u.call(arguments)==r;f.enumErrorProps=c.call(i,"message")||c.call(i,"name");f.enumPrototypes=c.call(t,"prototype");f.nodeTag=u.call(s)!=n;f.nonEnumShadows=!/valueOf/.test(a);f.ownLast=a[0]!="x";f.spliceObjects=(l.call(o,0,1),!o[0]);f.unindexedChars="x"[0]+Object("x")[0]!="xx";try{f.dom=s.createDocumentFragment().nodeType===11}catch(h){f.dom=false}})(1,0);t.exports=f}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],63:[function(e,t,r){function n(e){return function(){return e}}t.exports=n},{}],64:[function(e,t,r){function n(e){return e}t.exports=n},{}],65:[function(e,t,r){(function(r){t.exports=i;if("production"==="development"){e(6).enable("algoliasearch*")}var n=e(6)("algoliasearch");var o=e(71);function i(t,r,i){var u=e(47);var c=e(50);var l="Usage: algoliasearch(applicationID, apiKey, opts)";if(!t){throw new o.AlgoliaSearchError("Please provide an application ID. "+l)}if(!r){throw new o.AlgoliaSearchError("Please provide an API key. "+l)}this.applicationID=t;this.apiKey=r;var f=[this.applicationID+"-1.algolianet.com",this.applicationID+"-2.algolianet.com",this.applicationID+"-3.algolianet.com"];this.hosts={read:[],write:[]};this.hostIndex={read:0,write:0};i=i||{};var d=i.protocol||"https:";var h=i.timeout===undefined?2e3:i.timeout;if(!/:$/.test(d)){d=d+":"}if(i.protocol!=="http:"&&i.protocol!=="https:"){throw new o.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+i.protocol+"`)")}if(!i.hosts){this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(f);this.hosts.write=[this.applicationID+".algolia.net"].concat(f)}else{if(c(i.hosts)){this.hosts.read=u(i.hosts);this.hosts.write=u(i.hosts)}else{this.hosts.read=u(i.hosts.read);this.hosts.write=u(i.hosts.write)}}this.hosts.read=a(this.hosts.read,s(d));this.hosts.write=a(this.hosts.write,s(d));this.requestTimeout=h;this.extraHeaders=[];this.cache={};this._ua=i._ua;this._useCache=i._useCache===undefined?true:i._useCache;this._setTimeout=i._setTimeout;n("init done, %j",this)}i.prototype={deleteIndex:function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),hostType:"write",callback:t})},moveIndex:function(e,t,r){var n={operation:"move",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:n,hostType:"write",callback:r})},copyIndex:function(e,t,r){var n={operation:"copy",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:n,hostType:"write",callback:r})},getLogs:function(e,t,r){if(arguments.length===0||typeof e==="function"){r=e;e=0;t=10}else if(arguments.length===1||typeof t==="function"){r=t;t=10}return this._jsonRequest({method:"GET",url:"/1/logs?offset="+e+"&length="+t,hostType:"read",callback:r})},listIndexes:function(e,t){var r="";if(e===undefined||typeof e==="function"){t=e}else{r="?page="+e}return this._jsonRequest({method:"GET",url:"/1/indexes"+r,hostType:"read",callback:t})},initIndex:function(e){return new this.Index(this,e)},listUserKeys:function(e){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:e})},getUserKeyACL:function(e,t){return this._jsonRequest({method:"GET",url:"/1/keys/"+e,hostType:"read",callback:t})},deleteUserKey:function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,hostType:"write",callback:t})},addUserKey:function(e,t,r){if(arguments.length===1||typeof t==="function"){r=t;t=null}var n={acl:e};if(t){n.validity=t.validity;n.maxQueriesPerIPPerHour=t.maxQueriesPerIPPerHour;n.maxHitsPerQuery=t.maxHitsPerQuery;n.indexes=t.indexes;n.description=t.description;if(t.queryParameters){n.queryParameters=this._getSearchParams(t.queryParameters,"")}n.referers=t.referers}return this._jsonRequest({method:"POST",url:"/1/keys",body:n,hostType:"write",callback:r})},addUserKeyWithValidity:f(function(e,t,r){return this.addUserKey(e,t,r)},c("client.addUserKeyWithValidity()","client.addUserKey()")),updateUserKey:function(e,t,r,n){if(arguments.length===2||typeof r==="function"){n=r;r=null}var o={acl:t};if(r){o.validity=r.validity;o.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour;o.maxHitsPerQuery=r.maxHitsPerQuery;o.indexes=r.indexes;o.description=r.description;if(r.queryParameters){o.queryParameters=this._getSearchParams(r.queryParameters,"")}o.referers=r.referers}return this._jsonRequest({method:"PUT",url:"/1/keys/"+e,body:o,hostType:"write",callback:n})},setSecurityTags:function(e){if(Object.prototype.toString.call(e)==="[object Array]"){var t=[];for(var r=0;r<e.length;++r){if(Object.prototype.toString.call(e[r])==="[object Array]"){var n=[];for(var o=0;o<e[r].length;++o){n.push(e[r][o])}t.push("("+n.join(",")+")")}else{t.push(e[r])}}e=t.join(",")}this.securityTags=e},setUserToken:function(e){this.userToken=e},startQueriesBatch:f(function(){this._batch=[]},c("client.startQueriesBatch()","client.search()")),addQueryInBatch:f(function(e,t,r){this._batch.push({indexName:e,query:t,params:r})},c("client.addQueryInBatch()","client.search()")),clearCache:function(){this.cache={}},sendQueriesBatch:f(function(e){return this.search(this._batch,e)},c("client.sendQueriesBatch()","client.search()")),setRequestTimeout:function(e){if(e){this.requestTimeout=parseInt(e,10)}},search:function(e,t){var r=this;var n={requests:a(e,function o(e){var t="";if(e.query!==undefined){t+="query="+encodeURIComponent(e.query)}return{indexName:e.indexName,params:r._getSearchParams(e.params,t)}})};return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:n,hostType:"read",callback:t})},batch:function(e,t){return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:e},hostType:"write",callback:t})},destroy:u,enableRateLimitForward:u,disableRateLimitForward:u,useSecuredAPIKey:u,disableSecuredAPIKey:u,generateSecuredApiKey:u,Index:function(e,t){this.indexName=t;this.as=e;this.typeAheadArgs=null;this.typeAheadValueOption=null;this.cache={}},setExtraHeader:function(e,t){this.extraHeaders.push({name:e.toLowerCase(),value:t})},_sendQueriesBatch:function(e,t){return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:e,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:function(){var t="";for(var r=0;r<e.requests.length;++r){var n="/1/indexes/"+encodeURIComponent(e.requests[r].indexName)+"?"+e.requests[r].params;t+=r+"="+encodeURIComponent(n)+"&"}return t}()}},callback:t})},_jsonRequest:function(t){var n=e(6)("algoliasearch:"+t.url);var i;var a=t.cache;var s=this;var u=0;var c=false;if(t.body!==undefined){i=JSON.stringify(t.body)}n("request start");function f(e,l){var d;if(s._useCache){d=t.url}if(s._useCache&&i){d+="_body_"+l.body}if(s._useCache&&a&&a[d]!==undefined){n("serving response from cache");return s._promise.resolve(JSON.parse(JSON.stringify(a[d])))}if(u>=s.hosts[t.hostType].length||s.useFallback&&!c){if(!t.fallback||!s._request.fallback||c){n("could not get any response");return s._promise.reject(new o.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API."+" Send an email to support@algolia.com to report and resolve the issue."+" Application id was: "+s.applicationID))}n("switching to fallback");u=0;l.method=t.fallback.method;l.url=t.fallback.url;l.jsonBody=t.fallback.body;if(l.jsonBody){l.body=JSON.stringify(l.jsonBody)}l.timeout=s.requestTimeout*(u+1);s.hostIndex[t.hostType]=0;c=true;return f(s._request.fallback,l)}var h=s.hosts[t.hostType][s.hostIndex[t.hostType]]+l.url;var p={body:i,jsonBody:t.body,method:l.method,headers:s._computeRequestHeaders(),timeout:l.timeout,debug:n};n("method: %s, url: %s, headers: %j, timeout: %d",p.method,h,p.headers,p.timeout);if(e===s._request.fallback){n("using fallback")}return e.call(s,h,p).then(v,y);function v(e){var t=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;n("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,t,e.headers);if(r.env.DEBUG&&r.env.DEBUG.indexOf("debugBody")!==-1){n("body: %j",e.body)}var i=t===200||t===201;var c=!i&&Math.floor(t/100)!==4&&Math.floor(t/100)!==1;if(s._useCache&&i&&a){a[d]=e.body}if(i){return e.body}if(c){u+=1;return m()}var l=new o.AlgoliaSearchError(e.body&&e.body.message);return s._promise.reject(l)}function y(r){n("error: %s, stack: %s",r.message,r.stack);if(!(r instanceof o.AlgoliaSearchError)){r=new o.Unknown(r&&r.message,r)}u+=1;if(r instanceof o.Unknown||r instanceof o.UnparsableJSON||!e.fallback&&r instanceof o.Network||u>=s.hosts[t.hostType].length&&(c||!t.fallback||!s._request.fallback)){return s._promise.reject(r)}s.hostIndex[t.hostType]=++s.hostIndex[t.hostType]%s.hosts[t.hostType].length;if(r instanceof o.RequestTimeout){return m()}else if(s._request.fallback&&!s.useFallback){s.useFallback=true}return f(e,l)}function m(){s.hostIndex[t.hostType]=++s.hostIndex[t.hostType]%s.hosts[t.hostType].length;l.timeout=s.requestTimeout*(u+1);return f(e,l)}}var d=s.useFallback&&t.fallback;var h=d?t.fallback:t;var p=f(d?s._request.fallback:s._request,{url:h.url,method:h.method,body:i,jsonBody:t.body,timeout:s.requestTimeout*(u+1)});if(t.callback){p.then(function v(e){l(function(){t.callback(null,e)},s._setTimeout||setTimeout)},function y(e){l(function(){t.callback(e)},s._setTimeout||setTimeout)})}else{return p}},_getSearchParams:function(e,t){if(this._isUndefined(e)||e===null){return t}for(var r in e){if(r!==null&&e[r]!==undefined&&e.hasOwnProperty(r)){t+=t===""?"":"&";t+=r+"="+encodeURIComponent(Object.prototype.toString.call(e[r])==="[object Array]"?JSON.stringify(e[r]):e[r])}}return t},_isUndefined:function(e){return e===void 0},_computeRequestHeaders:function(){var t=e(11);var r={"x-algolia-api-key":this.apiKey,"x-algolia-application-id":this.applicationID,"x-algolia-agent":this._ua};if(this.userToken){r["x-algolia-usertoken"]=this.userToken}if(this.securityTags){r["x-algolia-tagfilters"]=this.securityTags}if(this.extraHeaders){t(this.extraHeaders,function n(e){r[e.name]=e.value})}return r}};i.prototype.Index.prototype={clearCache:function(){this.cache={}},addObject:function(e,t,r){var n=this;if(arguments.length===1||typeof t==="function"){r=t;t=undefined}return this.as._jsonRequest({method:t!==undefined?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+(t!==undefined?"/"+encodeURIComponent(t):""),body:e,hostType:"write",callback:r})},addObjects:function(e,t){var r=this;var n={requests:[]};for(var o=0;o<e.length;++o){var i={action:"addObject",body:e[o]};n.requests.push(i)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/batch",body:n,hostType:"write",callback:t})},getObject:function(e,t,r){var n=this;if(arguments.length===1||typeof t==="function"){r=t;t=undefined}var o="";if(t!==undefined){o="?attributes=";for(var i=0;i<t.length;++i){if(i!==0){o+=","}o+=t[i]}}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e)+o,hostType:"read",callback:r})},getObjects:function(e,t,r){var n=this;if(arguments.length===1||typeof t==="function"){r=t;t=undefined}var o={requests:a(e,function i(e){var r={indexName:n.indexName,objectID:e};if(t){r.attributesToRetrieve=t.join(",")}return r})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:o,callback:r})},partialUpdateObject:function(e,t){var r=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e.objectID)+"/partial",body:e,hostType:"write",callback:t})},partialUpdateObjects:function(e,t){var r=this;var n={requests:[]};for(var o=0;o<e.length;++o){var i={action:"partialUpdateObject",objectID:e[o].objectID,body:e[o]};n.requests.push(i)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/batch",body:n,hostType:"write",callback:t})},saveObject:function(e,t){var r=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e.objectID),body:e,hostType:"write",callback:t})},saveObjects:function(e,t){var r=this;var n={requests:[]};for(var o=0;o<e.length;++o){var i={action:"updateObject",objectID:e[o].objectID,body:e[o]};n.requests.push(i)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/batch",body:n,hostType:"write",callback:t})},deleteObject:function(e,t){if(typeof e==="function"||typeof e!=="string"&&typeof e!=="number"){var r=new o.AlgoliaSearchError("Cannot delete an object without an objectID");t=e;if(typeof t==="function"){return t(r)}return this.as._promise.reject(r)}var n=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e),hostType:"write",callback:t})},deleteObjects:function(e,t){var r=this;var n={requests:a(e,function o(e){return{action:"deleteObject",objectID:e,body:{objectID:e}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/batch",body:n,hostType:"write",callback:t})},deleteByQuery:function(e,t,r){var n=this;var o=n.as;if(arguments.length===1||typeof t==="function"){r=t;t={}}t.attributesToRetrieve="objectID";t.hitsPerPage=1e3;this.clearCache();var i=this.search(e,t).then(s);function s(e){if(e.nbHits===0){return e}var t=a(e.hits,function r(e){return e.objectID});return n.deleteObjects(t).then(u).then(c)}function u(e){return n.waitTask(e.taskID)}function c(){return n.deleteByQuery(e,t)}if(!r){return i}i.then(f,d);function f(){l(function(){r(null)},o._setTimeout||setTimeout)}function d(e){l(function(){r(e)},o._setTimeout||setTimeout)}},search:function(e,t,r){if(typeof e==="function"&&typeof t==="object"||typeof r==="object"){throw new o.AlgoliaSearchError("index.search usage is index.search(query, params, cb)")}if(arguments.length===0||typeof e==="function"){r=e;e=""}else if(arguments.length===1||typeof t==="function"){r=t;t=undefined}if(typeof e==="object"&&e!==null){t=e;e=undefined}else if(e===undefined||e===null){e=""}var n="";if(e!==undefined){n+="query="+encodeURIComponent(e)}if(t!==undefined){n=this.as._getSearchParams(t,n)}return this._search(n,r)},browse:function(t,r,n){var o=e(60);var i=this;var a;var s;if(arguments.length===0||arguments.length===1&&typeof arguments[0]==="function"){a=0;n=arguments[0];t=undefined}else if(typeof arguments[0]==="number"){a=arguments[0];if(typeof arguments[1]==="number"){s=arguments[1]}else if(typeof arguments[1]==="function"){n=arguments[1];s=undefined}t=undefined;r=undefined}else if(typeof arguments[0]==="object"){if(typeof arguments[1]==="function"){n=arguments[1]}r=arguments[0];t=undefined}else if(typeof arguments[0]==="string"&&typeof arguments[1]==="function"){n=arguments[1];r=undefined}r=o({},r||{},{page:a,hitsPerPage:s,query:t});var u=this.as._getSearchParams(r,"");return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/browse?"+u,hostType:"read",callback:n})},browseFrom:function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse?cursor="+e,hostType:"read",callback:t})},browseAll:function(t,r){if(typeof t==="object"){r=t;t=undefined}var n=e(60);var o=e(66);var i=new o;var a=this.as;var s=this;var u=a._getSearchParams(n({},r||{},{query:t}),"");c();function c(e){if(i._stopped){return}var t;if(e!==undefined){t="cursor="+encodeURIComponent(e)}else{t=u}a._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/browse?"+t,hostType:"read",callback:l})}function l(e,t){if(i._stopped){return}if(e){i._error(e);return}i._result(t);if(t.cursor===undefined){i._end();return}c(t.cursor)}return i},ttAdapter:function(e){var t=this;return function(r,n,o){var i;if(typeof o==="function"){i=o}else{i=n}t.search(r,e,function(e,t){if(e){i(e);return}i(t.hits)})}},waitTask:function(e,t){var r=100;var n=5e3;var o=0;var i=this;var a=i.as;var s=u();function u(){return a._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/task/"+e}).then(function t(e){o++;var t=r*o*o;if(t>n){t=n}if(e.status!=="published"){return a._promise.delay(t).then(function(){return u()})}return e})}if(!t){return s}s.then(c,f);function c(e){l(function(){t(null,e)},a._setTimeout||setTimeout)}function f(e){l(function(){t(e)},a._setTimeout||setTimeout)}},clearIndex:function(e){var t=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/clear",hostType:"write",callback:e})},getSettings:function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/settings",hostType:"read",callback:e})},setSettings:function(e,t){var r=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/settings",hostType:"write",body:e,callback:t})},listUserKeys:function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/keys",hostType:"read",callback:e})},getUserKeyACL:function(e,t){var r=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/keys/"+e,hostType:"read",callback:t})},deleteUserKey:function(e,t){var r=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/keys/"+e,hostType:"write",callback:t})},addUserKey:function(e,t,r){if(arguments.length===1||typeof t==="function"){r=t;t=null}var n={acl:e};if(t){n.validity=t.validity;n.maxQueriesPerIPPerHour=t.maxQueriesPerIPPerHour;n.maxHitsPerQuery=t.maxHitsPerQuery;n.description=t.description;if(t.queryParameters){n.queryParameters=this.as._getSearchParams(t.queryParameters,"")}n.referers=t.referers}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:n,hostType:"write",callback:r})},addUserKeyWithValidity:f(function(e,t,r){return this.addUserKey(e,t,r)},c("index.addUserKeyWithValidity()","index.addUserKey()")),updateUserKey:function(e,t,r,n){if(arguments.length===2||typeof r==="function"){n=r;r=null}var o={acl:t};if(r){o.validity=r.validity;o.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour;o.maxHitsPerQuery=r.maxHitsPerQuery;o.description=r.description;if(r.queryParameters){o.queryParameters=this.as._getSearchParams(r.queryParameters,"")}o.referers=r.referers}return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+e,body:o,hostType:"write",callback:n})},_search:function(e,t){return this.as._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:t})},as:null,indexName:null,typeAheadArgs:null,typeAheadValueOption:null};function a(e,t){var r=[];for(var n=0;n<e.length;++n){r.push(t(e[n],n))}return r}function s(e){return function t(r){return e+"//"+r.toLowerCase()}}function u(){var e="Not implemented in this environment.\n"+"If you feel this is a mistake, write to support@algolia.com";throw new o.AlgoliaSearchError(e)}function c(e,t){var r=e.toLowerCase().replace(".","").replace("()","");return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-js/wiki/Deprecated#"+r}function l(e,t){t(e,0)}function f(e,t){var r=false;function n(){if(!r){console.log(t);r=true}return e.apply(this,arguments)}return n}}).call(this,e(2))},{11:11,2:2,47:47,50:50,6:6,60:60,66:66,71:71}],66:[function(e,t,r){t.exports=i;var n=e(10);var o=e(1).EventEmitter;function i(){}n(i,o);i.prototype.stop=function(){this._stopped=true;this._clean()};i.prototype._end=function(){this.emit("end");this._clean()};i.prototype._error=function(e){this.emit("error",e);this._clean()};i.prototype._result=function(e){this.emit("result",e)};i.prototype._clean=function(){this.removeAllListeners("stop");this.removeAllListeners("end");this.removeAllListeners("error");this.removeAllListeners("result")}},{1:1,10:10}],67:[function(e,t,r){t.exports=i;var n=e(71);var o=0;function i(e,t,r){if(t.method!=="GET"){r(new Error("Method "+t.method+" "+e+" is not supported by JSONP."));return}t.debug("JSONP: start");var i=false;var a=false;o+=1;var s=document.getElementsByTagName("head")[0];var u=document.createElement("script");var c="algoliaJSONP_"+o;var l=false;window[c]=function(e){try{delete window[c]}catch(t){window[c]=undefined}if(a){return}i=true;p();r(null,{body:e})};e+="&callback="+c;if(t.jsonBody&&t.jsonBody.params){e+="&"+t.jsonBody.params}var f=setTimeout(v,t.timeout);u.onreadystatechange=h;u.onload=d;u.onerror=y;u.async=true;u.defer=true;u.src=e;s.appendChild(u);function d(){t.debug("JSONP: success");if(l||a){return}l=true;if(!i){t.debug("JSONP: Fail. Script loaded but did not call the callback");p();r(new n.JSONPScriptFail)}}function h(){if(this.readyState==="loaded"||this.readyState==="complete"){d()}}function p(){clearTimeout(f);u.onload=null;u.onreadystatechange=null;u.onerror=null;s.removeChild(u);try{delete window[c];delete window[c+"_loaded"]}catch(e){window[c]=null;window[c+"_loaded"]=null}}function v(){t.debug("JSONP: Script timeout");a=true;p();r(new n.RequestTimeout)}function y(){t.debug("JSONP: Script error");if(l||a){return}p();r(new n.JSONPScriptError)}}},{71:71}],68:[function(e,t,r){t.exports=c;var n=e(10);var o=window.Promise||e(9).Promise;var i=e(65);var a=e(71);var s=e(70);var u=e(67);function c(t,r,n){var o=e(48);var i=e(69);n=o(n||{});if(n.protocol===undefined){n.protocol=i()}n._ua=n._ua||c.ua;return new f(t,r,n)}c.version=e(72);c.ua="Algolia for vanilla JavaScript "+c.version;var l={hasXMLHttpRequest:"XMLHttpRequest"in window,hasXDomainRequest:"XDomainRequest"in window,cors:"withCredentials"in new XMLHttpRequest,timeout:"timeout"in new XMLHttpRequest};function f(){i.apply(this,arguments)}n(f,i);f.prototype._request=function(e,t){return new o(function(r,n){if(!l.cors&&!l.hasXDomainRequest){n(new a.Network("CORS not supported"));return}e=s(e,t.headers);var o=t.body;var i=l.cors?new XMLHttpRequest:new XDomainRequest;var u;var c;if(i instanceof XMLHttpRequest){i.open(t.method,e,true)}else{i.open(t.method,e)}if(l.cors){if(o){if(t.method==="POST"){i.setRequestHeader("content-type","application/x-www-form-urlencoded")}else{i.setRequestHeader("content-type","application/json")}}i.setRequestHeader("accept","application/json")}i.onprogress=function p(){};i.onload=f;i.onerror=d;if(l.timeout){i.timeout=t.timeout;i.ontimeout=h}else{u=setTimeout(h,t.timeout)}i.send(o);function f(){if(c){return}if(!l.timeout){clearTimeout(u)}var e;try{e={body:JSON.parse(i.responseText),statusCode:i.status,headers:i.getAllResponseHeaders&&i.getAllResponseHeaders()||{}}}catch(t){e=new a.UnparsableJSON({more:i.responseText})}if(e instanceof a.UnparsableJSON){n(e)}else{r(e)}}function d(e){if(c){return}if(!l.timeout){clearTimeout(u)}n(new a.Network({more:e}))}function h(){if(!l.timeout){c=true;i.abort()}n(new a.RequestTimeout)}})};f.prototype._request.fallback=function(e,t){e=s(e,t.headers);return new o(function(r,n){u(e,t,function o(e,t){if(e){n(e);return}r(t)})})};f.prototype._promise={reject:function(e){return o.reject(e)},resolve:function(e){return o.resolve(e)},delay:function(e){return new o(function(t){setTimeout(t,e)})}}},{10:10,48:48,65:65,67:67,69:69,70:70,71:71,72:72,9:9}],69:[function(e,t,r){t.exports=n;function n(){var e=window.document.location.protocol;if(e!=="http:"&&e!=="https:"){e="http:"}return e}},{}],70:[function(e,t,r){t.exports=o;var n=e(5);function o(e,t){if(/\?/.test(e)){e+="&"}else{e+="?"}return e+n.encode(t)}},{5:5}],71:[function(e,t,r){var n=e(10);function o(t,r){var n=e(11);var o=this;if(typeof Error.captureStackTrace==="function"){Error.captureStackTrace(this,this.constructor)}else{o.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old"}this.name=this.constructor.name;this.message=t||"Unknown error";if(r){n(r,function i(e,t){o[t]=e})}}n(o,Error);function i(e,t){function r(){var r=Array.prototype.slice.call(arguments,0);if(typeof r[0]!=="string"){r.unshift(t)}o.apply(this,r);this.name="AlgoliaSearch"+e+"Error"}n(r,o);return r}t.exports={AlgoliaSearchError:o,UnparsableJSON:i("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:i("RequestTimeout","Request timedout before getting a response"),Network:i("Network","Network issue, see err.more for details"),JSONPScriptFail:i("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:i("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:i("Unknown","Unknown error occured")}},{10:10,11:11}],72:[function(e,t,r){t.exports="3.6.1"},{}]},{},[68])(68)});