/*!
 * Figuration (v2.0.0)
 * http://figuration.org
 * Copyright 2013-2016 CAST, Inc.
 * Licensed under MIT (https://github.com/cast-org/figuration/blob/master/LICENSE)
 * -----
 * Portions Copyright 2011-2016  the Bootstrap Authors and Twitter, Inc.
 * Used under MIT License (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("CAST Figuration's JavaScript requires jQuery");!function(a){var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>=4)throw new Error("CAST Figuration's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(jQuery),function(a){"use strict";function b(){var a=document.createElement("div"),b={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",WebkitTransition:"webkitTransitionEnd"};for(var c in b)if(void 0!==a.style[c])return b[c];return!1}a.fn.CFW_emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("cfwTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transitionEnd)};return setTimeout(e,b),this},a(function(){a.support.transitionEnd=b(),a.support.transitionEnd&&(a.event.special.cfwTransitionEnd={bindType:a.support.transitionEnd,delegateType:a.support.transitionEnd,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.drag"),g="object"==typeof b&&b;return!(!f&&/destroy/.test(b))&&(f||e.data("cfw.drag",f=new c(this,g)),void("string"==typeof b&&f[b].apply(f,d)))})}var c=function(b,d){this.element=b,this.$element=a(b),this.dragging=!1,this.dragdata={},this.settings=a.extend({},c.DEFAULTS,d),this._init()};c.DEFAULTS={handle:null},c.prototype={_init:function(){this._reset(),this._dragStartOn(),this._trigger("init.cfw.drag")},destroy:function(){this.dragging=!1,this.dragdata=null,this.$element.off(".cfw.drag").removeData("cfw.drag"),this.detachEvent&&this.detachEvent("ondragstart",this.__dontstart)},_dragStartOn:function(){this.$element.on("mousedown.cfw.dragstart touchstart.cfw.dragstart MSPointerDown.cfw.dragstart",a.proxy(this._dragStart,this))},_dragStartOff:function(b){b.preventDefault(),a(document).off(".cfw.dragin"),this.$element.off(".cfw.dragstart"),this.element.attachEvent&&this.element.attachEvent("ondragstart",this.__dontstart)},_dragStart:function(b){var c=this;if(!this.settings.handle||a(b.target).closest(this.settings.handle,b.currentTarget).length){this._dragStartOff(b),this.dragging=!0,a(document).off(".cfw.dragin").on("mousemove.cfw.dragin touchmove.cfw.dragin MSPointerMove.cfw.dragin",function(a){c._drag(a)}).on("mouseup.cfw.dragin touchend.cfw.dragin MSPointerUp.cfw.dragin MSPointerCancel.cfw.dragin",function(){c._dragEnd(b)});var d=this._coordinates(b);this.dragdata=d,this.dragdata.originalX=b.currentTarget.offsetLeft,this.dragdata.originalY=b.currentTarget.offsetTop;var e=this._properties(d,this.dragdata);this._trigger("dragStart.cfw.drag",e)}},_drag:function(a){if(this.dragging){a.preventDefault();var b=this._coordinates(a),c=this._properties(b,this.dragdata);this._trigger("drag.cfw.drag",c)}},_dragEnd:function(b){b.preventDefault(),this.dragging=!1,this.dragStart=null,a(document).off(".cfw.dragin");var c=this._coordinates(b),d=this._properties(c,this.dragdata);this._trigger("dragEnd.cfw.drag",d),this._reset(),this._dragStartOn()},_reset:function(){this.dragging=!1,this.dragdata.pageX=null,this.dragdata.pageY=null},_coordinates:function(a){var b={};a.originalEvent&&(a=a.originalEvent);var c=a.touches;return b.pageX=c?c[0].pageX:a.pageX,b.pageY=c?c[0].pageY:a.pageY,b},_properties:function(a,b){var c={};return c.startX=b.pageX,c.startY=b.pageY,c.pageX=a.pageX,c.pageY=a.pageY,c.deltaX=a.pageX-b.pageX,c.deltaY=a.pageY-b.pageY,c.originalX=b.originalX,c.originalY=b.originalY,c.offsetX=c.originalX+c.deltaX,c.offsetY=c.originalY+c.deltaY,c},__dontstart:function(){return!1},_trigger:function(b,c){var d=a.Event(b);return a.isPlainObject(c)&&(d=a.extend({},d,c)),this.$element.trigger(d),!d.isDefaultPrevented()}},a.fn.CFW_Drag=b,a.fn.CFW_Drag.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.collapse"),g="object"==typeof b&&b;f||e.data("cfw.collapse",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}var c=function(b,d){this.$triggerElm=a(b),this.$targetElm=null,this.inTransition=null,this.$triggerColl=null,this.settings=a.extend({},c.DEFAULTS,this._parseDataAttr(),d),this._init()};c.DEFAULTS={animate:!0,speed:350,follow:!1,horizontal:!1,hidden:!0},c.prototype={_init:function(){var b=this,c=this.settings.toggle,d=a(this.settings.toggle);if(d.length||(d=a('[data-cfw-collapse-target="'+c+'"]')),d.length||(c=this.$triggerElm.attr("href"),d=a(c)),!d.length)return!1;if(void 0===c||c.length<=0)return!1;this.$targetElm=d,this.$triggerElm.attr({"data-cfw":"collapse","data-cfw-collapse-toggle":c}),this.$triggerColl=a('[data-cfw="collapse"][data-cfw-collapse-toggle="'+c+'"]'),this.$targetElm.addClass("collapse"),this.settings.horizontal&&this.$targetElm.addClass("width");var e="";this.$targetElm.each(function(){var c=b._getID(a(this),"cfw-collapse");e+=c+" "}),this.$triggerColl.attr("aria-controls",a.trim(e));var f=this.dimension();this.$triggerColl.hasClass("open")?(this.$triggerColl.attr("aria-expanded","true"),this.$targetElm.addClass("collapse in")[f]("")):(this.$triggerColl.attr("aria-expanded","false"),this.settings.hidden&&this.$targetElm.attr("aria-hidden","true")),this.$triggerElm.on("click.cfw.collapse.toggle",a.proxy(this.toggle,this)),this._trigger("init.cfw.collapse")},toggle:function(a){a&&a.preventDefault(),this.$triggerElm.hasClass("open")||this.$targetElm.hasClass("in")?this.hide():this.show()},dimension:function(){var a=this.$targetElm.hasClass("width");return a||this.settings.horizontal?"width":"height"},show:function(b){if(null===b&&(b=this.settings.follow),this.settings.showFollow=b,!this.inTransition&&!this.$targetElm.hasClass("in")&&this._trigger("beforeShow.cfw.collapse")){var c=this.dimension();if(this.inTransition=1,this.$triggerColl.addClass("open"),this.$targetElm.removeClass("collapse").addClass("collapsing")[c](0),!this.settings.animate||!a.support.transitionEnd)return this._showComplete();this.$targetElm.eq(0).one("cfwTransitionEnd",a.proxy(this._showComplete,this)).CFW_emulateTransitionEnd(this.settings.speed);var d=a.camelCase(["scroll",c].join("-"));this.$targetElm.each(function(){a(this)[c](a(this)[0][d])})}},hide:function(b){if(null===b&&(b=this.settings.follow),this.settings.hideFollow=b,!this.inTransition&&this.$targetElm.hasClass("in")&&this._trigger("beforeHide.cfw.collapse")){var c=this.dimension();return this.inTransition=1,this.$triggerColl.removeClass("open"),this.$targetElm.each(function(){var b=a(this);b[c](b[c]())[0].offsetHeight}),this.$targetElm.addClass("collapsing").removeClass("collapse").removeClass("in"),this.settings.animate&&a.support.transitionEnd?void this.$targetElm[c](0).eq(0).one("cfwTransitionEnd",a.proxy(this._hideComplete,this)).CFW_emulateTransitionEnd(this.settings.speed):this._hideComplete()}},hiddenDisable:function(){this.$targetElm.removeAttr("aria-hidden"),this.settings.hidden=!1},_showComplete:function(){var a=this.dimension();this.$triggerColl.attr("aria-expanded","true"),this.$targetElm.removeClass("collapsing").addClass("collapse in").removeAttr("aria-hidden")[a](""),this.inTransition=0,this.settings.showFollow&&this.$targetElm.attr("tabindex","-1").get(0).trigger("focus"),this._trigger("afterShow.cfw.collapse")},_hideComplete:function(){this.$triggerColl.attr("aria-expanded","false"),this.$targetElm.removeClass("collapsing in").addClass("collapse"),this.settings.hidden&&this.$targetElm.attr("aria-hidden","true"),this.inTransition=0,this.settings.hideFollow&&this.$triggerColl.get(0).trigger("focus"),this._trigger("afterHide.cfw.collapse")},_getID:function(a,b){var c=a.attr("id");if(void 0===c){do c=b+"-"+~~(1e6*Math.random());while(document.getElementById(c));a.attr("id",c)}return c},_parseDataAttr:function(){var a={},b=this.$triggerElm.data();return"undefined"!=typeof b.cfwCollapseToggle&&(a.toggle=b.cfwCollapseToggle),"undefined"!=typeof b.cfwCollapseAnimate&&(a.animate=b.cfwCollapseAnimate),"undefined"!=typeof b.cfwCollapseSpeed&&(a.speed=b.cfwCollapseSpeed),"undefined"!=typeof b.cfwCollapseFollow&&(a.follow=b.cfwCollapseFollow),"undefined"!=typeof b.cfwCollapseHorizontal&&(a.horizontal=b.cfwCollapseHorizontal),"undefined"!=typeof b.cfwCollapseHidden&&(a.hidden=b.cfwCollapseHidden),a},_trigger:function(b){var c=a.Event(b);return this.$triggerElm.trigger(c),!c.isDefaultPrevented()}},a.fn.CFW_Collapse=b,a.fn.CFW_Collapse.Constructor=c}(jQuery),function(a){"use strict";function b(b){var c,d=b.attr("data-cfw-dropdown-target");return d&&(c=a(d)),c&&c.length?c:b.parent()}function c(c){c&&3===c.which||a('[data-cfw="dropdown"]').each(function(){var c=b(a(this));c.hasClass("open")&&a(this).CFW_Dropdown("hideRev")})}function d(b){var c=[].splice.call(arguments,1);return this.each(function(){var d=a(this),e=d.data("cfw.dropdown"),f="object"==typeof b&&b;e||d.data("cfw.dropdown",e=new g(this,f)),"string"==typeof b&&e[b].apply(e,c)})}var e=void 0!==window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints,f=!!("ontouchstart"in window||e||window.DocumentTouch&&document instanceof DocumentTouch),g=function(b,c){this.$triggerElm=a(b),this.$menuElm=null,this.timerHide=null,this.settings=a.extend({},g.DEFAULTS,this._parseDataAttr(),c),this.settings.isTouch=f,this.c=g.CLASSES,this._init()};g.CLASSES={isMenu:"dropdown-menu",hasSubMenu:"dropdown-submenu",showSubMenu:"show-menu",backdrop:"dropdown-backdrop",backLink:"dropdown-back"},g.DEFAULTS={delay:350,hover:!1,backlink:!1,backtop:!1,backtext:"Back"},g.prototype={_init:function(){var b=this,c=this.settings.toggle,d=a(this.settings.toggle);if(void 0===c||d.length||(d=a('[data-cfw-dropdown-target="'+c+'"]')),!d.length){var e=this.$triggerElm.attr("href");e=e&&/#[]A-Za-z]/.test(e),e&&(d=a(e))}if(d.length||(d=a(this.$triggerElm.siblings(".dropdown-menu")[0])),!d.length)return!1;this.$menuElm=d,this.$triggerElm.attr("data-cfw","dropdown");var f=this._getID(this.$triggerElm,"cfw-dropdown");c=this._getID(this.$menuElm,"cfw-dropdown"),this.$menuElm.attr({"aria-hidden":"true","aria-labelledby":f}).addClass(this.c.isMenu),a("a",this.$menuElm).attr("tabIndex",-1).not(".disabled, :disabled"),this.$triggerElm.attr({"aria-haspopup":"true","aria-expanded":"false"}),b.settings.backlink&&b.settings.backtop&&this.$menuElm.prepend('<li class="'+g.CLASSES.backLink+'"><a href="#">'+b.settings.backtext+"</a></li>"),this.$menuElm.find("ul").each(function(){var c=a(this),d=c.closest("li").find("a").eq(0),e=b._getID(d,"cfw-dropdown");b.settings.backlink&&c.prepend('<li class="'+g.CLASSES.backLink+'"><a href="#">'+b.settings.backtext+"</a></li>"),c.attr({"aria-hidden":"true","aria-labelledby":e}).addClass(g.CLASSES.isMenu).closest("li").addClass(g.CLASSES.hasSubMenu),d.attr({"aria-haspopup":"true","aria-expanded":"false"})}),a("li.divider, .dropdown-divider",this.$menuElm).attr("role","separator"),!this.settings.isTouch&&this.settings.hover&&this.navEnableHover(),this.navEnableClick(),this.navEnableKeyboard(),this._trigger(this.$triggerElm,"init.cfw.dropdown")},navEnableClick:function(){var b=this;this.$triggerElm.on("click.cfw.dropdown.modeClick",function(a){b.toggleMenu(a,b.$triggerElm,b.$menuElm)});var c=this.$menuElm.find("ul").closest("li").find("a:eq(0)");c.length&&c.on("click.cfw.dropdown.modeClick",function(c){var d=a(this).parent().find("ul").eq(0);b.toggleMenu(c,a(this),d)});var d=this.$menuElm.find("."+g.CLASSES.backLink);d.length&&d.on("click.cfw.dropdown.modeClick",function(c){c&&(c.stopPropagation(),c.preventDefault()),b.settings.backtop&&a(this).closest("ul")[0]==b.$menuElm[0]?b.closeUp(a(this).closest("li")):b.closeUp(a(this).closest("."+g.CLASSES.hasSubMenu))})},navEnableHover:function(){var b=this;this.settings.isTouch||a.each([this.$triggerElm,this.$menuElm,this.$menuElm.find("."+g.CLASSES.hasSubMenu)],function(){a(this).on("mouseenter.cfw.dropdown.modeHover",function(a){b._actionsHoverEnter(a,this)}),a(this).on("mouseleave.cfw.dropdown.modeHover",function(a){b._actionsHoverLeave(a,this)})})},navDisableHover:function(){this.$triggerElm.off(".cfw.dropdown.modeHover"),this.$menuElm.find("."+g.CLASSES.hasSubMenu).off(".cfw.dropdown.modeHover")},navEnableKeyboard:function(){var b=this;this.$menuElm.find("a").on("focus",function(){var c=a(this);b.$menuElm.find("."+g.CLASSES.hasSubMenu+".open").each(function(){if(!a(this).find(c).length){var d=a(this).children("a"),e=c.parent().find("ul").eq(0);b.hideMenu(null,d,e)}})}),a.each([this.$triggerElm,this.$menuElm,this.$menuElm.find("."+g.CLASSES.hasSubMenu)],function(){a(this).on("keydown.cfw.dropdown",function(a){b._actionsKeydown(a,this)})})},toggleMenu:function(a,d,e){if(!d.is(".disabled, :disabled")){var f=b(d),g=f.hasClass("open"),h=d.attr("href");if(h&&!/^#$/.test(h)&&g)return void c();a&&a.stopPropagation(),d.parent().is(".disabled, :disabled")||(g?this.hideMenu(a,d,e):this.showMenu(a,d,e),d.trigger("focus"))}},showMenu:function(d,e,f){var h=this;d&&d.preventDefault();var i=b(e),j=i.hasClass("open");j||this._trigger(e,"beforeShow.cfw.dropdown")&&(e.is(this.$triggerElm)&&(this.settings.isTouch&&(a("."+this.c.backdrop).remove(),a(document.createElement("div")).addClass(this.c.backdrop).insertAfter(this.$menuElm).on("click",c)),c(),i.hasClass("hover")||e.trigger("focus")),this.$menuElm.find("."+g.CLASSES.hasSubMenu+".open").each(function(){if(!a(this).find(e).length){var b=a(this).children("a"),c=e.parent().find("ul").eq(0);h.hideMenu(null,b,c)}}),i.addClass("open"),e.attr("aria-expanded","true"),f.removeAttr("aria-hidden").children("li").not(".disabled, :disabled"),this.$menuElm.find("li").redraw(),this._trigger(e,"afterShow.cfw.dropdown"))},hideMenu:function(c,d,e){c&&c.preventDefault();var f=b(d),h=f.hasClass("open");if(h&&this._trigger(d,"beforeHide.cfw.dropdown")){d.is(this.$triggerElm)&&a("."+this.c.backdrop).remove();var i=e.find("."+g.CLASSES.hasSubMenu+".open");if(i.length)for(var j=i.toArray().reverse(),k=0;k<j.length;k++){var l=a(j[k]).children("a"),m=l.parent().find("ul").eq(0);this.hideMenu(null,l,m)}f.removeClass("open"),d.attr("aria-expanded","false"),e.attr("aria-hidden","true").find("a").attr("tabIndex",-1),f.hasClass("hover")||d.trigger("focus"),f.removeClass("hover"),this._trigger(d,"afterHide.cfw.dropdown")}},toggle:function(){this.toggleMenu(null,this.$triggerElm,this.$menuElm)},show:function(){this.showMenu(null,this.$triggerElm,this.$menuElm)},hide:function(){this.hideMenu(null,this.$triggerElm,this.$menuElm)},hideRev:function(){this.hideMenu(null,this.$triggerElm,this.$menuElm)},closeUp:function(a){var c;a=a.hasClass("open")?a.find("a").eq(0):a.closest(".open").find('[data-cfw="dropdown"], a').eq(0),c=a.find("ul").eq(0),this.hideMenu(null,a,c);var d=b(a);d.hasClass("hover")||a.trigger("focus"),d.removeClass("hover")},_actionsKeydown:function(b,d){if(/(37|38|39|40|27|32|9)/.test(b.which)){var e=a(d),f=null;if(9==b.which)return void c();if(b.stopPropagation(),b.preventDefault(),27==b.which){if(e.is(this.$triggerElm)||e.is(this.$menuElm))return void this.hideMenu(null,this.$triggerElm,this.$menuElm);if(e.hasClass(g.CLASSES.hasSubMenu))return void this.closeUp(e)}var h=a(b.target),i=null;if(i=e.is(this.$triggerElm)||e.is(this.$menuElm)?this.$menuElm:h.closest(".dropdown-menu"),i.removeClass("hover"),38==b.which||40==b.which){if(i.is(":hidden"))return void this.showMenu(null,e,i);if(f=i.children("li:not(.disabled)").children("a:visible"),!f.length)return;var j=f.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<f.length-1&&j++,~j||(j=0),f.eq(j).trigger("focus")}if(37==b.which||39==b.which){if(!a.contains(this.$menuElm[0],h[0]))return;if(!h.closest("li.dropdown-submenu"))return;var k=h.parent().find("ul").eq(0),l=h.closest("li.dropdown-submenu").parent("ul.dropdown-menu"),m=k.is(":hidden"),n=l.is(":hidden");if(39==b.which&&m)return this.showMenu(null,h,k),f=k.children("li:not(.disabled)").children("a:visible"),void f.eq(0).trigger("focus");if(37==b.which&&!n)return void this.closeUp(e)}}},_actionsHoverEnter:function(c,d){var e=a(d);if(clearTimeout(this.timerHide),e.is(this.$triggerElm))return b(e).addClass("hover"),void this.showMenu(null,this.$triggerElm,this.$menuElm);if(e.hasClass(g.CLASSES.hasSubMenu)){e=e.find("a").eq(0);var f=e.parent().find("ul").eq(0);return b(e).addClass("hover"),void this.showMenu(null,e,f)}},_actionsHoverLeave:function(b,c){var d=this,e=a(c);if(clearTimeout(this.timerHide),e.is(this.$triggerElm)||e.is(this.$menuElm))return void(this.timerHide=setTimeout(function(){d.timerHide=null,d.hideMenu(null,d.$triggerElm,d.$menuElm)},this.settings.delay));if(e.hasClass(g.CLASSES.hasSubMenu)){e=e.find("a").eq(0);var f=e.find("ul").eq(0);return void(this.timerHide=setTimeout(function(){d.timerHide=null,d.hideMenu(null,e,f)},d.settings.delay))}},_getID:function(a,b){var c=a.attr("id");if(void 0===c){do c=b+"-"+~~(1e6*Math.random());while(document.getElementById(c));a.attr("id",c)}return c},_parseDataAttr:function(){var a={},b=this.$triggerElm.data();return"undefined"!=typeof b.cfwDropdownToggle&&(a.toggle=b.cfwDropdownToggle),"undefined"!=typeof b.cfwDropdownDelay&&(a.delay=b.cfwDropdownDelay),"undefined"!=typeof b.cfwDropdownHover&&(a.hover=b.cfwDropdownHover),"undefined"!=typeof b.cfwDropdownBacklink&&(a.backlink=b.cfwDropdownBacklink),"undefined"!=typeof b.cfwDropdownBacktop&&(a.backtop=b.cfwDropdownBacktop),"undefined"!=typeof b.cfwDropdownBacktext&&(a.backtext=b.cfwDropdownBacktext),a},_trigger:function(b,c){var d=a.Event(c);return b.trigger(d),!d.isDefaultPrevented()}},a.fn.redraw=function(){return void 0!==document.documentMode?this.hide(0,function(){a(this).show(),a(this).css("display","")}):void(/Edge\/\d+/.test(navigator.userAgent)&&a(this).css("list-style","none").css("list-style",""))},a.fn.CFW_Dropdown=d,a.fn.CFW_Dropdown.Constructor=g,a(window).ready(function(){a(document).on("click",c)})}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.tab"),g="object"==typeof b&&b;f||e.data("cfw.tab",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}var c=function(b,d){this.$triggerElm=a(b),this.$navElm=null,this.$targetElm=null,this.settings=a.extend({},c.DEFAULTS,this._parseDataAttr(),d),this._init()};c.DEFAULTS={animate:!0,speed:150,hidden:!0},c.prototype={_init:function(){var b=this;this.$navElm=this.$triggerElm.closest("ul:not(.dropdown-menu)"),this.$navElm.attr("role","tablist");var c=a(this.settings.target);if(c.length||(c=a(this.$triggerElm.attr("href"))),this.$targetElm=a(c),!this.$targetElm.length)return!1;this.$triggerElm.attr("data-cfw","tab");var d=this._getID(this.$triggerElm,"cfw-tab");this.$targetElm.attr({tabindex:-1,role:"tabpanel","aria-labelledby":d}),this.settings.hidden&&this.$targetElm.attr("aria-hidden",!0),this.settings.animate?this.fadeEnable():this.fadeDisable(),this.$triggerElm.attr({tabindex:-1,role:"tab","aria-selected":"false","aria-expanded":"false","aria-controls":this.$targetElm.attr("id")}),this.$triggerElm.on("click",function(a){b.show(a)}),this.$triggerElm.on("keydown",function(a){b._actionsKeydown(a,this)}),this.$triggerElm.closest("li").hasClass("active")&&(this.$triggerElm.attr({tabindex:0,"aria-selected":"true","aria-expanded":"true"}),this.$targetElm.attr("tabindex",0).addClass("active"),this.settings.hidden&&this.$targetElm.attr("aria-hidden",!1),this.settings.animate&&this.$targetElm.addClass("in")),this.$navElm.find("li.active").length<=0&&(this.$triggerElm.closest("li").addClass("active"),this.$triggerElm.parent(".dropdown-menu").length&&this.$triggerElm.closest("li.dropdown").addClass("active"),this.$triggerElm.attr({tabindex:0,"aria-selected":"true","aria-expanded":"true"}),this.$targetElm.attr("tabindex",0).addClass("active"),this.settings.hidden&&this.$targetElm.attr("aria-hidden","false"),this.settings.animate&&this.$targetElm.addClass("in")),this._trigger(this.$triggerElm,"init.cfw.tab")},show:function(a){if(a&&a.preventDefault(),!(this.$triggerElm.parent("li").hasClass("active")||this.$triggerElm.hasClass("disabled")||this.$triggerElm[0].hasAttribute("disabled"))){var b=this.$navElm.find('.active:last a[data-cfw="tab"]');b.length&&!this._trigger(b,"beforeHide.cfw.tab",{relatedTarget:this.$triggerElm[0]})||this._trigger(this.$triggerElm,"beforeShow.cfw.tab",{relatedTarget:b[0]})&&(b.length&&(b.attr({tabindex:-1,"aria-selected":"false","aria-expanded":"false"}),this._trigger(b,"afterHide.cfw.tab",{relatedTarget:this.$triggerElm[0]}),this._trigger(b,"hide.cfw.tab")),this.$triggerElm.attr({tabindex:0,"aria-selected":"true","aria-expanded":"true"}),this._activateTab(this.$triggerElm.closest("li"),this.$navElm,!1,b),this._activateTab(this.$targetElm,this.$targetElm.parent(),!0,b))}},fadeEnable:function(){a.support.transitionEnd&&(this.$targetElm.addClass("fade"),this.$targetElm.hasClass("active")&&this.$targetElm.addClass("in"),this.settings.animate=!0)},fadeDisable:function(){this.$targetElm.removeClass("fade in"),this.$targetElm.hasClass("active")&&this.$targetElm.addClass("in"),this.settings.animate=!1},hiddenDisable:function(){this.$targetElm.removeAttr("aria-hidden"),this.settings.hidden=!1},_actionsKeydown:function(b,c){var d=b.which;if(/(37|38|39|40)/.test(d)){b.stopPropagation(),b.preventDefault();var e=a(c),f=e.closest('ul[role="tablist"]'),g=f.find('[role="tab"]:visible'),h=g.index(g.filter('[aria-selected="true"]'));(38==d||37==d)&&h>0&&h--,(39==d||40==d)&&h<g.length-1&&h++,~h||(h=0);var i=g.eq(h);i.CFW_Tab("show").trigger("focus")}},_activateTab:function(b,c,d,e){function f(){h.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),d&&(h.attr({tabindex:-1,"aria-hidden":"true"}),b.attr({tabindex:0,"aria-hidden":"false"})),i?(b[0].offsetWidth,b.addClass("in")):(d&&(g.settings.animate=!1),b.removeClass("fade")),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active"),d&&g._trigger(g.$triggerElm,"afterShow.cfw.tab",{relatedTarget:e[0]})}var g=this,h=c.find("> .active"),i=d&&a.support.transitionEnd&&this.settings.animate;i?b.one("cfwTransitionEnd",f).CFW_emulateTransitionEnd(this.settings.speed):f(),h.removeClass("in")},_getID:function(a,b){var c=a.attr("id");if(void 0===c){do c=b+"-"+~~(1e6*Math.random());while(document.getElementById(c));a.attr("id",c)}return c},_parseDataAttr:function(){var a={},b=this.$triggerElm.data();return"undefined"!=typeof b.cfwTabTarget&&(a.target=b.cfwTabTarget),"undefined"!=typeof b.cfwTabAnimate&&(a.animate=b.cfwTabAnimate),"undefined"!=typeof b.cfwTabSpeed&&(a.speed=b.cfwTabSpeed),"undefined"!=typeof b.cfwTabHidden&&(a.hidden=b.cfwTabHidden),a},_trigger:function(b,c,d){var e=a.Event(c);return a.isPlainObject(d)&&(e=a.extend({},e,d)),b.trigger(e),!e.isDefaultPrevented()}},a.fn.CFW_Tab=b,a.fn.CFW_Tab.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.affix"),g="object"==typeof b&&b;f||e.data("cfw.affix",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}var c=function(b,d){this.$element=a(b),this.$window=a(window),this.$target=null,this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.settings=a.extend({},c.DEFAULTS,this._parseDataAttr(),d),this._init()};c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype={_init:function(){this.$element.attr("data-cfw","affix"),this.$target=a(this.settings.target).on("scroll.cfw.affix)",a.proxy(this.checkPosition,this)).on("click.cfw.affix",a.proxy(this.checkPositionDelayed,this)),this._trigger("init.cfw.affix"),this.checkPosition()},getState:function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return e<c&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(e+g<=a-d)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&e<=c?"top":null!=d&&i+j>=a-d&&"bottom"},getPinnedOffset:function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},checkPositionDelayed:function(){setTimeout(a.proxy(this.checkPosition,this),1)},checkPosition:function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.settings.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css({top:"",position:""});var i="affix"+(h?"-"+h:""),j=i+".cfw.affix";if(!this._trigger(j))return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i),this._trigger(j.replace("affix","affixed"))}"bottom"==h&&this.$element.offset({top:g-b-f})}},_parseDataAttr:function(){var a={};a.offset={};var b=this.$element.data();return"undefined"!=typeof b.cfwAffixOffsetBottom&&(a.offset.bottom=b.cfwAffixOffsetBottom),"undefined"!=typeof b.cfwAffixOffsetTop&&(a.offset.top=b.cfwAffixOffsetTop),a},_trigger:function(b){var c=a.Event(b);return this.$element.trigger(c),!c.isDefaultPrevented()}},a.fn.CFW_Affix=b,a.fn.CFW_Affix.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.tooltip"),g="object"==typeof b&&b;return!(!f&&/unlink|destroy|hide/.test(b))&&(f||e.data("cfw.tooltip",f=new c(this,g)),void("string"==typeof b&&f[b].apply(f,d)))})}var c=function(a,b){this.$triggerElm=null,this.dataToggle=null,this.$targetElm=null,this.type=null,this.eventTypes=null,this.delayTimer=null,this.inTransition=null,this.closeAdded=!1,this.unlinking=!1,this.activate=!1,this.hoverState=null,this.inState=null,this.dynamicTip=!1,this.$focusLast=null,this.flags={keyShift:!1,keyTab:!1},this._init("tooltip",a,b)};c.DEFAULTS={toggle:!1,placement:"top",trigger:"hover focus",follow:!1,animate:!0,speed:150,delay:{show:0,hide:250},container:!1,viewport:{selector:"body",padding:0},html:!1,closetext:'<span aria-hidden="true">&times;</span>',closesrtext:"Close",title:"",unlink:!1,destroy:!1,template:'<div class="tooltip"><div class="tooltip-inner"></div><div class="tooltip-arrow"></div></div>'},c.prototype={_init:function(b,c,d){this.type=b,this.$triggerElm=a(c),this.settings=this.getSettings(d),this.$viewport=this.settings.viewport&&a(a.isFunction(this.settings.viewport)?this.settings.viewport.call(this,this.$triggerElm):this.settings.viewport.selector||this.settings.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$triggerElm.attr("data-cfw",this.type);var e,f=a(this.settings.toggle).eq(0);f.length?e=this.settings.toggle:(e=this.$triggerElm.attr("data-cfw-"+this.type+"-toggle"),f=a("[data-cfw-"+this.type+'-target="'+e+'"]')),f.length?(this.dataToggle=e,this.$targetElm=f):this.fixTitle(),this.settings.activate&&(this.settings.trigger="click"),this.eventTypes=this.settings.trigger.split(" "),this.bindTip(!0),this.$targetElm&&this.$targetElm.data("cfw."+this.type,this),this.settings.activate&&(this.activate=!0,this.show()),this._trigger("init.cfw."+this.type)},getDefaults:function(){return c.DEFAULTS},getSettings:function(b){var c=a.extend({},this.getDefaults(),this._parseDataAttr(),this._parseDataAttrExt(),b);return c.delay&&"number"==typeof c.delay&&(c.delay={show:c.delay,hide:c.delay}),c},createTip:function(){var b=a(this.settings.template);return b},fixTitle:function(){var a=this.$triggerElm;(a.attr("title")||"string"!=typeof a.attr("data-cfw-"+this.type+"-original-title"))&&a.attr("data-cfw-"+this.type+"-original-title",a.attr("title")||"").attr("title","")},getTitle:function(){var a,b=this.$triggerElm,c=this.settings;return a=("function"==typeof c.title?c.title.call(b[0]):c.title)||b.attr("data-cfw-"+this.type+"-original-title")},setContent:function(){var a=this.$targetElm,b=a.find(".tooltip-inner");if(!this.dataToggle){var c=this.getTitle();this.settings.html?b.html(c):b.text(c)}a.removeClass("fade in top bottom left right")},linkTip:function(){this.triggerID=this._getID(this.$triggerElm,"cfw-"+this.type),this.targetID=this._getID(this.$targetElm,"cfw-"+this.type),this.$targetElm.attr({role:"tooltip"==this.type?"tooltip":this.settings.follow?"dialog":"tooltip","aria-hidden":"true",tabindex:-1})},bindTip:function(b){for(var c=this,d=this.eventTypes.length;d--;){var e=this.eventTypes[d];if("click"==e){if(this.$triggerElm.off("click.cfw."+this.type).on("click.cfw."+this.type,a.proxy(this.toggle,this)),null!=this.$targetElm&&!this.closeAdded&&!this.$targetElm.find('[data-cfw-dismiss="'+this.type+'"]').length){var f=a('<button type="button" class="close" data-cfw-dismiss="'+this.type+'" aria-label="'+this.settings.closesrtext+'">'+this.settings.closetext+"</button>");f.prependTo(this.$targetElm),this.closeAdded=!0}}else if("manual"!=e){var g="hover"==e?"mouseenter":"focusin",h="hover"==e?"mouseleave":"focusout";b?(this.$triggerElm.on(g+".cfw."+this.type,a.proxy(this.enter,this)),this.$triggerElm.on(h+".cfw."+this.type,a.proxy(this.leave,this))):(this.$targetElm.off(".cfw."+this.type),this.$targetElm.on(g+".cfw."+this.type,a.proxy(this.enter,this)),this.$targetElm.on(h+".cfw."+this.type,a.proxy(this.leave,this)))}}this.$targetElm&&(this.$targetElm.off("keydown.cfw."+this.type+".close").on("keydown.cfw."+this.type+".close",function(b){var d=b.charCode||b.which;d&&27==d&&(b.stopPropagation(),a(".close",c.$targetElm).length>0?a(".close",c.$targetElm).eq(0).trigger("click"):c.hide(!0))}),this.$targetElm.off("click.dismiss.cfw."+this.type,'[data-cfw-dismiss="'+this.type+'"]').on("click.dismiss.cfw."+this.type,'[data-cfw-dismiss="'+this.type+'"]',function(a){c.toggle(a)}),this.$triggerElm.closest(".modal").off("beforeHide.cfw.modal").on("beforeHide.cfw.modal",function(){c.hide(!0)}))},toggle:function(a){if(a&&a.preventDefault(),a&&(this.inState.click=!this.inState.click,this.settings.follow=!0),this.$targetElm&&this.$targetElm.hasClass("in")){var b=this.settings.delay.hide;this.settings.delay.hide=0,this.hide(),this.settings.delay.hide=b}else this.show()},enter:function(a){if(a&&(this.inState["focusin"==a.type?"focus":"hover"]=!0),this.$targetElm&&this.$targetElm.hasClass("in")||"in"==this.hoverState)return void(this.hoverState="in");if(clearTimeout(this.delayTimer),this.hoverState="in",!this.settings.delay.show)return this.show();var b=this;this.delayTimer=setTimeout(function(){"in"==b.hoverState&&b.show()},this.settings.delay.show)},leave:function(a){if(a&&(this.inState["focusout"==a.type?"focus":"hover"]=!1),!this._isInState()){if(clearTimeout(this.delayTimer),this.hoverState="out",!this.settings.delay.hide)return this.hide();var b=this;this.delayTimer=setTimeout(function(){"out"==b.hoverState&&b.hide()},this.settings.delay.hide)}},show:function(){clearTimeout(this.delayTimer);var b=this;if(!this.inTransition&&(!this.$targetElm||!this.$targetElm.hasClass("in"))&&(this.activate||this._trigger("beforeShow.cfw."+this.type))){if(this.inTransition=1,!this.$targetElm){var c=this.createTip();if(c.length<=0)return!1;this.dynamicTip=!0,this.$targetElm=c}if(1!=this.$targetElm.length)throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");this.linkTip(),this.bindTip(!1),this.setContent(),this.settings.animate&&this.$targetElm.addClass("fade"),this.locateTip(),this.settings.container&&(this.$triggerElm.off("focusin.cfw."+this.type+".focusStart").on("focusin.cfw."+this.type+".focusStart",function(c){if(b.$targetElm.hasClass("in")){var d=b._tabItems(),e=d.length-1,f=a(c.relatedTarget);if((f.closest(".tooltip").length>0||f.closest(".popover").length>0)&&(f=null),f&&1===f.length){var g=d.index(b.$triggerElm);if(e=d.index(f),g<e){var h=b._tabItems(b.$targetElm),i=h.length-2;h.eq(i).trigger("focus")}else b.$targetElm.trigger("focus")}else b.$targetElm.trigger("focus");
}}),this.$targetElm.off("keydown.cfw."+this.type+".tabmove").on("keydown.cfw."+this.type+".tabmove",function(a){9==a.which&&(b.flags.keyTab=!0,a.shiftKey&&(b.flags.keyShift=!0))}),this.$targetElm.off("keyup.cfw."+this.type+".tabmove").on("keyup.cfw."+this.type+".tabmove",function(a){9==a.which&&(b.flags.keyTab=!1,b.flags.keyShift=!1)}),!this.$focusLast&&this.eventTypes.indexOf("click")>=0&&(this.$focusLast=a(document.createElement("span")).addClass(this.type+"-focuslast").attr("tabindex",0).appendTo(this.$targetElm)),this.$focusLast&&this.$focusLast.off("focusin.cfw."+this.type+".focusLast").on("focusin.cfw."+this.type+".focusLast",function(a){return b.$targetElm[0]===a.relatedTarget||b.$targetElm.has(a.relatedTarget).length?void b._tabNext(b.$triggerElm[0]):void a.preventDefault()}),this.$targetElm.off("focusout.cfw."+this.type+".tabmove").on("focusout.cfw."+this.type+".tabmove",function(){a(document).off("focusin.cfw."+this.type+".tabmove").one("focusin.cfw."+this.type+".tabmove",function(a){document===a.target||b.$targetElm[0]===a.target||b.$targetElm.has(a.target).length||(b.flags.keyTab&&(b.flags.keyShift?b._tabPrev(b.$triggerElm[0]):b._tabNext(b.$triggerElm[0])),b.flags={keyShift:!1,keyTab:!1})})})),a.support.transitionEnd&&this.$targetElm.hasClass("fade")?this.$targetElm.one("cfwTransitionEnd",a.proxy(this._showComplete,this)).CFW_emulateTransitionEnd(this.settings.speed):this._showComplete()}},hide:function(b){if(clearTimeout(this.delayTimer),this.$targetElm&&!this.inTransition&&this.$targetElm.hasClass("in"))return void 0===b&&(b=!1),b?void this._hideComplete():void(this._trigger("beforeHide.cfw."+this.type)&&(this.inTransition=1,this.$triggerElm.off(".cfw."+this.type+".focusStart").off(".cfw.modal").removeAttr("aria-describedby"),this.$targetElm.off(".cfw."+this.type).removeClass("in"),this.$focusLast&&this.$focusLast.off(".cfw."+this.type+".focusLast"),a(document).off(".cfw."+this.type+".tabmove"),a.support.transitionEnd&&this.$targetElm.hasClass("fade")?this.$targetElm.one("cfwTransitionEnd",a.proxy(this._hideComplete,this)).CFW_emulateTransitionEnd(this.settings.speed):this._hideComplete(),this.hoverState=null))},unlink:function(a){var b=this;void 0===a&&(a=!1),clearTimeout(this.delayTimer),this._trigger("beforeUnlink.cfw."+this.type),this.unlinking=!0,this.$targetElm&&this.$targetElm.hasClass("in")?(this.$triggerElm.one("afterHide.cfw."+this.type,function(){b.unlinkComplete()}),this.hide(a)):this.unlinkComplete()},unlinkComplete:function(){this.$targetElm&&this.$targetElm.off(".cfw."+this.type).removeData("cfw."+this.type),this.$triggerElm.off(".cfw."+this.type).off(".cfw.modal").removeAttr("data-cfw").removeData("cfw."+this.type),this.unlinking=!1,this._trigger("afterUnlink.cfw."+this.type)},destroy:function(){var b=this;a(document).one("afterUnlink.cfw."+this.type,this.$triggerElm,function(){null!==b.$targetElm&&b.$targetElm.remove(),b._trigger("destroy.cfw."+b.type)}),this.unlink(!0),this.$arrow=null,this.$viewport=null,this.$targetElm=null,this.$triggerElm=null},locateTip:function(){var a=this.$targetElm;a.removeClass("top left bottom right"),a.detach().css({top:0,left:0,display:"block"});var b="function"==typeof this.settings.placement?this.settings.placement.call(this,this.$targetElm[0],this.$triggerElm[0]):this.settings.placement;if("object"==typeof b)this.settings.container="body",a.appendTo(this.settings.container),this._trigger("inserted.cfw."+this.type),a.offset(b),a.addClass("in");else{var d=/\s?auto?\s?/i,e=d.test(b);e&&(b=b.replace(d,"")||c.DEFAULTS.placement),a.addClass(b).data("cfw."+this.type,this),this.settings.container?a.appendTo(this.settings.container):a.insertAfter(this.$triggerElm),this._trigger("inserted.cfw."+this.type);var f=this._getPosition(),g=a[0].offsetWidth,h=a[0].offsetHeight;if(e){var i=b,j=this._getPosition(this.$viewport);b="bottom"==b&&f.bottom+h>j.bottom?"top":"top"==b&&f.top-h<j.top?"bottom":"right"==b&&f.right+g>j.width?"left":"left"==b&&f.left-g<j.left?"right":b,a.removeClass(i).addClass(b).data("cfw."+this.type,this)}var k=this._getCalculatedOffset(b,f,g,h);this._applyPlacement(k,b)}},_showComplete:function(){var a=this,b=this.hoverState;this.hoverState=null,this.$targetElm.removeAttr("aria-hidden"),this.inTransition=0,this.settings.follow&&this.$targetElm.trigger("focus"),setTimeout(function(){a.$triggerElm&&a.$triggerElm.attr("aria-describedby",a.targetID)},25),this.activate||this._trigger("afterShow.cfw."+this.type),this.activate=!1,"out"==b&&this.leave()},_hideComplete:function(){this.$targetElm.removeClass("in").css("display","none").attr({"aria-hidden":"true",role:""}),this.inTransition=0,this.settings.follow&&(this.$targetElm.attr("tabindex",-1),this.$triggerElm.trigger("focus")),this.settings.follow=!1,"in"!=this.hoverState&&this.dynamicTip&&this._removeDynamicTip(),this._trigger("afterHide.cfw."+this.type),this.unlinking||(this.settings.unlink&&this.unlink(),this.settings.destroy&&this.destroy())},_removeDynamicTip:function(){this.$targetElm.detach(),this.dynamicTip=!1,this.closeAdded=!1,this.$arrow=null,this.$targetElm=null},_getPosition:function(b){b=b||this.$triggerElm;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset();b[0].className instanceof SVGAnimatedString&&(f={});var g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},_getCalculatedOffset:function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},_applyPlacement:function(b,c){var d=this.$targetElm,e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this._getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this._replaceArrow(m,d[0][n],l)},getViewportBounds:function(b){var c=b[0].getBoundingClientRect();return null==c.width&&(c=a.extend({},c,{width:c.right-c.left,height:c.bottom-c.top})),b.is("body")&&/fixed|absolute/.test(this.$triggerElm.css("position"))?a.extend({},c,this.getScreenSpaceBounds(b)):a.extend({},c,b.offset(),{width:b.outerWidth(),height:b.outerHeight()})},getScreenSpaceBounds:function(b){return{top:b.scrollTop(),left:b.scrollLeft(),width:a(window).width(),height:a(window).height()}},_getViewportAdjustedDelta:function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.settings.viewport&&this.settings.viewport.padding||0,g=this.getViewportBounds(this.$viewport);if(/right|left/.test(a)){var h=b.top-f,i=b.top+f+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},_replaceArrow:function(a,b,c){this._arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},_arrow:function(){return this.$arrow||(this.$arrow=this.$targetElm.find(".tooltip-arrow")),this.$arrow},_isInState:function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},_tabPrev:function(b){var c=this,d=c._tabItems(),e=d.length-1;if(1===a(b).length){var f=d.index(b);f>0&&(e=f-1)}d.eq(e).trigger("focus")},_tabNext:function(b){var c=this,d=c._tabItems(),e=0;if(1===a(b).length){var f=d.index(b);f+1<d.length&&(e=f+1)}d.eq(e).trigger("focus")},_focusable:function(b,c){function d(a){for(var b=a.css("visibility");"inherit"===b;)a=a.parent(),b=a.css("visibility");return"hidden"!==b}var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,!(!b.href||!f||"map"!==e.nodeName.toLowerCase())&&(g=a('img[usemap="#'+f+'"]'),g.length>0&&g.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&a(b).is(":visible")&&d(a(b))},_tabItems:function(b){var c=this;void 0===b&&(b=a(document));var d=b.find("*").filter(function(){var b=a(this).attr("tabindex"),d=isNaN(b);return(d||b>=0)&&c._focusable(this,!d)});return d},_parseDataAttr:function(){var a={},b=this.$triggerElm,c=this.type,d=c.charAt(0).toUpperCase()+c.slice(1);return"undefined"!=typeof b.data("cfw"+d+"Toggle")&&(a.toggle=b.data("cfw"+d+"Toggle")),"undefined"!=typeof b.data("cfw"+d+"Trigger")&&(a.trigger=b.data("cfw"+d+"Trigger")),"undefined"!=typeof b.data("cfw"+d+"Placement")&&(a.placement=b.data("cfw"+d+"Placement")),"undefined"!=typeof b.data("cfw"+d+"Follow")&&(a.follow=b.data("cfw"+d+"Follow")),"undefined"!=typeof b.data("cfw"+d+"Animate")&&(a.animate=b.data("cfw"+d+"Animate")),"undefined"!=typeof b.data("cfw"+d+"Speed")&&(a.speed=b.data("cfw"+d+"Speed")),"undefined"!=typeof b.data("cfw"+d+"Delay")&&(a.delay=b.data("cfw"+d+"Delay")),"undefined"!=typeof b.data("cfw"+d+"DelayShow")&&(a.delay.show=b.data("cfw"+d+"DelayShow")),"undefined"!=typeof b.data("cfw"+d+"DelayHide")&&(a.delay.hide=b.data("cfw"+d+"DelayHide")),"undefined"!=typeof b.data("cfw"+d+"Container")&&(a.container=b.data("cfw"+d+"Container")),"undefined"!=typeof b.data("cfw"+d+"Viewport")&&(a.viewport=b.data("cfw"+d+"Viewport")),"undefined"!=typeof b.data("cfw"+d+"Html")&&(a.html=b.data("cfw"+d+"Html")),"undefined"!=typeof b.data("cfw"+d+"Closetext")&&(a.closetext=b.data("cfw"+d+"Closetext")),"undefined"!=typeof b.data("cfw"+d+"Closesrtext")&&(a.closesrtext=b.data("cfw"+d+"Closesrtext")),"undefined"!=typeof b.data("cfw"+d+"Title")&&(a.title=b.data("cfw"+d+"Title")),"undefined"!=typeof b.data("cfw"+d+"Unlink")&&(a.unlink=b.data("cfw"+d+"Unlink")),"undefined"!=typeof b.data("cfw"+d+"Destroy")&&(a.destroy=b.data("cfw"+d+"Destroy")),"undefined"!=typeof b.data("cfw"+d+"Activate")&&(a.activate=b.data("cfw"+d+"Activate")),a},_getID:function(a,b){var c=a.attr("id");if(void 0===c){do c=b+"-"+~~(1e6*Math.random());while(document.getElementById(c));a.attr("id",c)}return c},_parseDataAttrExt:function(){},_trigger:function(b){var c=a.Event(b);return this.$triggerElm.trigger(c),!c.isDefaultPrevented()}},a.fn.CFW_Tooltip=b,a.fn.CFW_Tooltip.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.popover"),g="object"==typeof b&&b;return!(!f&&/unlink|destroy|hide/.test(b))&&(f||e.data("cfw.popover",f=new c(this,g)),void("string"==typeof b&&f[b].apply(f,d)))})}if(void 0===a.fn.CFW_Tooltip)throw new Error("CFW_Popover requires tooltip.js");var c=function(a,b){this.dragAdded=!1,this.docAdded=!1,this.keyTimer=null,this.keyDelay=750,this.flags={keyShift:!1,keyTab:!1},this._init("popover",a,b)};c.DEFAULTS=a.extend({},a.fn.CFW_Tooltip.Constructor.DEFAULTS,{placement:"top",trigger:"click",content:"",closetext:'<span aria-hidden="true">&times;</span>',drag:!1,dragtext:'<span aria-hidden="true">+</span>',dragsrtext:"Drag",dragstep:10,template:'<div class="popover"><h3 class="popover-title"></h3><div class="popover-content"></div><div class="popover-arrow"></div></div>'}),c.prototype=a.extend({},a.fn.CFW_Tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.createTip=function(){var b=a(this.settings.template);return b},c.prototype.setContent=function(){var b=this.$targetElm,c=b.find(".popover-title"),d=b.find(".popover-content");if(!this.dataToggle){var e=this.getTitle(),f=this.getContent();this.settings.html?(c.html(e),"string"==typeof f?d.html(f):d.empty().append(f)):(c.text(e),d.text(f))}if(c.length){var g=this._getID(c.eq(0),"cfw-popover");this.$targetElm.attr("aria-labelledby",g)}if(this.settings.drag&&!this.dragAdded&&this.$targetElm.find('[data-cfw-drag="'+this.type+'"]').length<=0){var h=a('<span role="button" tabindex="0" class="drag" data-cfw-drag="'+this.type+'" aria-label="'+this.settings.dragsrtext+'">'+this.settings.dragtext+"</span>");h.insertAfter(this.$targetElm.find(".close").eq(0)),this.dragAdded=!0}if(this.$targetElm.find('[data-cfw-drag="'+this.type+'"]').length&&(this.$targetElm.addClass("draggable"),this.settings.trigger="click",this.settings.container="body",this.enableDrag()),b.removeClass("fade in top bottom left right"),c.html()||c.hide(),"dialog"==this.$targetElm.attr("role")&&!this.docAdded){var i=this.$targetElm.children().not(this.$arrow),j=document.createElement("div");j.setAttribute("role","document"),i.wrapAll(j),this._arrow(),this.$arrow.appendTo(this.$targetElm),this.docAdded=!0}},c.prototype.getContent=function(){var a,b=this.$triggerElm,c=this.settings;return a="function"==typeof c.content?c.content.call(b[0]):c.content},c.prototype.enableDrag=function(){var b=this,c={},d={handle:'[data-cfw-drag="'+this.type+'"]'};this.$targetElm.off(".cfw.drag"),this.$targetElm.on("dragStart.cfw.drag",function(){var d;d=b.$viewport?b.$viewport:a(document.body),c=d.offset(),c.bottom=c.top+d.outerHeight()-a(this).outerHeight(),c.right=c.left+d.outerWidth()-a(this).outerWidth(),b._updateZ(),b._trigger("dragStart.cfw."+b.type)}).on("drag.cfw.drag",function(d){var e=0;b.$viewport&&(e=b.settings.viewport&&b.settings.viewport.padding||0),a(this).css({top:Math.min(c.bottom-e,Math.max(c.top+e,d.offsetY)),left:Math.min(c.right-e,Math.max(c.left+e,d.offsetX))})}).on("dragEnd.cfw.drag",function(){b._trigger("dragEnd.cfw."+b.type)}).on("keydown.cfw."+this.type+".drag",'[data-cfw-drag="'+this.type+'"]',function(d){if(/(37|38|39|40)/.test(d.which)){d&&d.stopPropagation(),b.keyTimer||b._trigger("dragStart.cfw."+b.type),clearTimeout(b.keyTimer);var e,f=0;b.$viewport?(e=b.$viewport,f=b.settings.viewport&&b.settings.viewport.padding||0):e=a(document.body);var g=b.$targetElm,h=b.settings.dragstep;c=e.offset(),c.bottom=c.top+e.outerHeight()-g.outerHeight(),c.right=c.left+e.outerWidth()-g.outerWidth();var i=g.offset(),j=Math.round(i.top),k=Math.round(i.left);switch(d.which){case 37:k-=h;break;case 38:j-=h;break;case 39:k+=h;break;case 40:j+=h}return g.css({top:Math.min(c.bottom-f,Math.max(c.top+f,j)),left:Math.min(c.right-f,Math.max(c.left+f,k))}),b.keyTimer=setTimeout(function(){b._trigger("dragEnd.cfw."+b.type),b.keyTimer=null},b.keyDelay),!1}}),this.$targetElm.CFW_Drag(d)},c.prototype.hide=function(){this.keyTimer&&(this._trigger("dragEnd.cfw."+this.type),clearTimeout(this.keyTimer)),a.fn.CFW_Tooltip.Constructor.prototype.hide.apply(this)},c.prototype._removeDynamicTip=function(){this.$targetElm.detach(),this.dynamicTip=!1,this.closeAdded=!1,this.dragAdded=!1,this.docAdded=!1,this.$arrow=!1,this.$targetElm=null},c.prototype._updateZ=function(){var b=0,c=null;a(".popover:visible").each(function(){var d=parseInt(a(this).css("z-index"),10);d>b&&(b=d,c=a(this))}),this.$targetElm[0]!==c[0]&&this.$targetElm.css("z-index",++b)},c.prototype._arrow=function(){return this.$arrow||(this.$arrow=this.$targetElm.find(".arrow, .popover-arrow")),this.$arrow},c.prototype._parseDataAttrExt=function(){var a={},b=this.$triggerElm,c=this.type,d=c.charAt(0).toUpperCase()+c.slice(1);return"undefined"!=typeof b.data("cfw"+d+"Content")&&(a.content=b.data("cfw"+d+"Content")),"undefined"!=typeof b.data("cfw"+d+"Drag")&&(a.drag=b.data("cfw"+d+"Drag")),"undefined"!=typeof b.data("cfw"+d+"Dragtext")&&(a.dragtext=b.data("cfw"+d+"Dragtext")),"undefined"!=typeof b.data("cfw"+d+"Dragsrtext")&&(a.dragsrtext=b.data("cfw"+d+"Dragsrtext")),"undefined"!=typeof b.data("cfw"+d+"Dragstep")&&(a.dragstep=b.data("cfw"+d+"Dragstep")),a},a.fn.CFW_Popover=b,a.fn.CFW_Popover.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.modal"),g="object"==typeof b&&b;return!(!f&&/unlink|destroy/.test(b))&&(f||e.data("cfw.modal",f=new c(this,g)),void("string"==typeof b&&f[b].apply(f,d)))})}var c=function(b,d){this.$body=a(document.body),this.$triggerElm=a(b),this.$targetElm=null,this.$backdrop=null,this.isShown=null,this.scrollbarWidth=0,this.unlinking=!1,this.originalBodyPad=null,this.$dialog=null,this.ignoreBackdropClick=!1,this.$focusLast=null,this.settings=a.extend({},c.DEFAULTS,this._parseDataAttr(),d),this.settings.speed&&"number"==typeof this.settings.speed&&(this.settings.speed={backdrop:this.settings.speed,modal:this.settings.speed}),this._init()};c.DEFAULTS={toggle:!1,animate:!0,speed:{backdrop:150,modal:300},unlink:!1,destroy:!1,backdrop:!0,keyboard:!0,show:!1,remote:!1},c.prototype={_init:function(){var b=a(this.settings.toggle).eq(0);if(b.length<=0){var c=this.$triggerElm.attr("data-cfw-modal-toggle");b=a('[data-cfw-modal-target="'+c+'"]')}if(b.length<=0)return!1;this.$targetElm=b,this.$dialog=this.$targetElm.find(".modal-dialog"),this.$triggerElm.attr("data-cfw","modal");var d=this._getID(this.$targetElm,"cfw-modal");this.$triggerElm.attr("aria-controls",d);var e=this.$targetElm.find(".modal-title");if(e.length){var f=this._getID(e.eq(0),"cfw-modal");this.$targetElm.attr("aria-labelledby",f)}this.$targetElm.attr({role:"dialog","aria-hidden":"true",tabindex:-1}),this.$dialog.attr("role","document"),this.$triggerElm.on("click.cfw.modal.toggle",a.proxy(this.toggle,this)),this.$targetElm.data("cfw.modal",this),this._trigger("init.cfw.modal"),this.settings.show&&this.show()},toggle:function(a){a&&a.preventDefault(),this.isShown?this.hide():this.show()},show:function(){var b=this;this.isShown||this._trigger("beforeShow.cfw.modal")&&(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$targetElm.on("click.dismiss.cfw.modal",'[data-cfw-dismiss="modal"]',function(a){a&&a.preventDefault(),b.hide()}).data("cfw.modal",this),this.$dialog.on("mousedown.dismiss.cfw.modal",function(){b.$targetElm.one("mouseup.dismiss.cfw.modal",function(c){a(c.target).is(b.$targetElm)&&(b.ignoreBackdropClick=!0)})}),this.backdrop(function(){b._showComplete()}))},hide:function(){var b=this;this.isShown&&this._trigger("beforeHide.cfw.modal")&&(this.isShown=!1,a(document).off("focusin.cfw.modal"),this.$targetElm.removeClass("in").attr("aria-hidden",!0).off(".dismiss.cfw.modal"),this.$dialog.off("mousedown.dismiss.cfw.modal"),this.$focusLast&&this.$focusLast.off(".cfw."+this.type+".focusLast"),this.settings.animate&&a.support.transitionEnd?this.$targetElm.one("cfwTransitionEnd",function(){b._hideComplete()}).CFW_emulateTransitionEnd(this.settings.speed.modal):this._hideComplete())},_showComplete:function(){var b=this,c=this.settings.animate&&a.support.transitionEnd;c&&this.$targetElm.addClass("fade"),this.$targetElm.parent().length||this.$targetElm.appendTo(this.$body),this.$targetElm.show().scrollTop(0),this.adjustDialog(),c&&this.$targetElm[0].offsetWidth,this.$targetElm.addClass("in").removeAttr("aria-hidden"),this.enforceFocus(),this.enforceFocusLast(),c?this.$dialog.one("cfwTransitionEnd",function(){b.$targetElm.trigger("focus"),b._trigger("afterShow.cfw.modal")}).CFW_emulateTransitionEnd(this.settings.speed.modal):(this.$targetElm.trigger("focus"),this._trigger("afterShow.cfw.modal"))},_hideComplete:function(){var a=this;this.escape(),this.resize(),this.$targetElm.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a._trigger("afterHide.cfw.modal")}),this.$triggerElm.trigger("focus"),this.unlinking||(this.settings.unlink&&this.unlink(),this.settings.destroy&&this.destroy())},enforceFocus:function(){var b=this;a(document).off("focusin.cfw.modal").on("focusin.cfw.modal",function(a){document===a.target||b.$targetElm[0]===a.target||b.$targetElm.has(a.target).length||b.$targetElm.trigger("focus")})},enforceFocusLast:function(){var b=this;this.$focusLast||(this.$focusLast=a(document.createElement("span")).addClass("modal-focuslast").attr("tabindex",0).appendTo(this.$targetElm)),this.$focusLast&&this.$focusLast.off("focusin.cfw.modal.focusLast").on("focusin.cfw.modal.focusLast",function(){b.$targetElm.trigger("focus")})},escape:function(){var a=this;this.isShown&&this.settings.keyboard?this.$targetElm.on("keydown.dismiss.cfw.modal",function(b){27==b.which&&a.hide()}):this.isShown||this.$targetElm.off("keydown.dismiss.cfw.modal")},resize:function(){this.isShown?a(window).on("resize.cfw.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.cfw.modal")},handleUpdate:function(){this.settings.backdrop&&this.adjustBackdrop(),this.adjustDialog()},adjustBackdrop:function(){this.$backdrop.css("height",0).css("height",this.$targetElm[0].scrollHeight)},adjustDialog:function(){var a=this.$targetElm[0].scrollHeight>document.documentElement.clientHeight;this.$targetElm.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},resetAdjustments:function(){this.$targetElm.css({paddingLeft:"",paddingRight:""})},checkScrollbar:function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},setScrollbar:function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth),this._trigger("scrollbarSet.cfw.modal")},resetScrollbar:function(){this.$body.css("padding-right",this.originalBodyPad),this._trigger("scrollbarReset.cfw.modal")},measureScrollbar:function(){var b=a(document.body),c=document.createElement("div");c.className="modal-scrollbar-measure",b.append(c);var d=c.offsetWidth-c.clientWidth;return b[0].removeChild(c),d},backdrop:function(b){var c=this,d=this.settings.animate?"fade":"";if(this.isShown&&this.settings.backdrop){var e=a.support.transitionEnd&&d;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+d).appendTo(this.$body),this.$targetElm.on("click.dismiss.cfw.modal",function(a){return c.ignoreBackdropClick?void(c.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==c.settings.backdrop?c.$targetElm.trigger("focus"):c.hide()))}),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;e?this.$backdrop.one("cfwTransitionEnd",b).CFW_emulateTransitionEnd(this.settings.speed.backdrop):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var f=function(){c.removeBackdrop(),b&&b()};this.settings.animate&&a.support.transitionEnd?this.$backdrop.one("cfwTransitionEnd",f).CFW_emulateTransitionEnd(this.settings.speed.backdrop):f()}else b&&b()},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},unlink:function(){var a=this;this._trigger("beforeUnlink.cfw.modal"),this.unlinking=!0,this.isShown?(this.$targetElm.one("afterHide.cfw.modal",function(){a.unlinkComplete()}),this.hide()):this.unlinkComplete()},unlinkComplete:function(){this.$targetElm.off(".cfw.modal").removeAttr("aria-labelledby").removeData("cfw.modal"),this.$triggerElm.off(".cfw.modal").removeAttr("data-cfw aria-controls").removeData("cfw.modal"),this.unlinking=!1,this._trigger("afterUnlink.cfw.modal")},destroy:function(){var b=this;a(document).one("afterUnlink.cfw.modal",this.$targetElm,function(){b._trigger("destroy.cfw.modal"),b.$targetElm.remove()}),this.unlink()},_getID:function(a,b){var c=a.attr("id");if(void 0===c){do c=b+"-"+~~(1e6*Math.random());while(document.getElementById(c));a.attr("id",c)}return c},_parseDataAttr:function(){var a={},b=this.$triggerElm.data();return"undefined"!=typeof b.cfwModalToggle&&(a.toggle=b.cfwModalToggle),"undefined"!=typeof b.cfwModalAnimate&&(a.animate=b.cfwModalAnimate),"undefined"!=typeof b.cfwModalSpeed&&(a.speed=b.cfwModalSpeed),"undefined"!=typeof b.cfwModalUnlink&&(a.unlink=b.cfwModalUnlink),"undefined"!=typeof b.cfwModalDestroy&&(a.destroy=b.cfwModalDestroy),"undefined"!=typeof b.cfwModalBackdrop&&(a.backdrop=b.cfwModalBackdrop),"undefined"!=typeof b.cfwModalKeyboard&&(a.keyboard=b.cfwModalKeyboard),"undefined"!=typeof b.cfwModalShow&&(a.show=b.cfwModalShow),"undefined"!=typeof b.cfwModalRemote&&(a.remote=b.cfwModalRemote),a},_trigger:function(b){var c=a.Event(b);return this.$targetElm.trigger(c),!c.isDefaultPrevented()}},a.fn.CFW_Modal=b,a.fn.CFW_Modal.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.Accordion"),g="object"==typeof b&&b;f||e.data("cfw.Accordion",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}if(void 0===a.fn.CFW_Collapse)throw new Error("CFW_Accordion requires collapse.js");var c=function(b,d){this.$element=a(b),this.settings=a.extend({},c.DEFAULTS,this._parseDataAttr(),d),this._init()};c.DEFAULTS={active:!1},c.prototype={_init:function(){var a=this;this.$element.attr("data-cfw","accordion"),this.$element.on("beforeShow.cfw.collapse",function(b){b.isDefaultPrevented()||a.updateCollapse(b)}),this._trigger("init.cfw.accordion")},updateCollapse:function(b){var c=!1,d=a(b.target),e=this.$element.find('[data-cfw="collapse"]');return e.each(function(){1===a(this).data("cfw.collapse").inTransition&&(c=!0)}),c?void b.preventDefault():void e.each(function(){var b=a(this);b.is(d)||b.CFW_Collapse("hide")})},_parseDataAttr:function(){var a={},b=this.$element.data();return"undefined"!=typeof b.cfwAccordionActive&&(a.active=b.cfwAccordionActive),a},_trigger:function(b){var c=a.Event(b);return this.$element.trigger(c),!c.isDefaultPrevented()}},a.fn.CFW_Accordion=b,a.fn.CFW_Accordion.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.tabResponsive"),g="object"==typeof b&&b;f||e.data("cfw.tabResponsive",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}if(void 0===a.fn.CFW_Tab)throw new Error("CFW_TabResponsive requires tab.js");if(void 0===a.fn.CFW_Collapse)throw new Error("CFW_TabResponsive requires collapse.js");var c=function(b,d){this.$element=a(b),this.settings=a.extend({},c.DEFAULTS,this._parseDataAttr(),d),this.$tabFirst=this.$element.find('[data-cfw="tab"]').eq(0),this.$navElm=this.$tabFirst.closest("ul:not(.dropdown-menu)"),this.$tabActive=this.$navElm.find("li.active").find('[data-cfw="tab"]'),this._init()};c.DEFAULTS={active:!1},c.prototype={_init:function(){var b=this;this.$element.attr("data-cfw","tabResponsive"),this.$element.on("beforeShow.cfw.tab",function(a){if(!a.isDefaultPrevented()){var c=a.target;b.updateCollapse(c)}}),this.$element.on("beforeShow.cfw.collapse",function(a){if(!a.isDefaultPrevented()){var c=a.target;b.updateTab(c)}}),this.$element.on("afterHide.cfw.collapse",function(b){var c=b.target;a(c).data("cfw.collapse").$targetElm.css("height","")}),this.$element.find('[data-cfw="tab"]').CFW_Tab("fadeDisable").CFW_Tab("hiddenDisable"),this.$element.find('[data-cfw="collapse"]').CFW_Collapse("hiddenDisable"),this.settings.active&&this.updateCollapse(this.$tabActive),this._trigger("init.cfw.tabResponsive")},updateCollapse:function(b){var c=a(b),d=a(c).data("cfw.tab");if(d){var e=d.$targetElm,f=e.closest(".tab-content");f.find('[data-cfw="collapse"]').each(function(){var b=a(this);b.one("afterHide.cfw.collapse",function(a){a.stopPropagation(),a.preventDefault()}),b.CFW_Collapse("_hideComplete"),b.removeClass("open")});var g=e.find('[data-cfw="collapse"]');g.one("afterShow.cfw.collapse",function(a){a.stopPropagation(),a.preventDefault()}),g.CFW_Collapse("_showComplete"),g.addClass("open")}},updateTab:function(b){var c=a(b),d=c.closest(".tab-pane"),e=d.attr("id"),f=c.closest(".tab-content");f.find('[data-cfw="collapse"]').each(function(){var b=a(this);b[0]!==c[0]&&b.CFW_Collapse("hide")});var g=this.$navElm.find('[data-cfw="tab"]');g.each(function(){var b=a(this),c=b.attr("data-cfw-tab-target");c||(c=b.attr("href")),c=c.replace(/^#/,""),c==e&&(b.one("beforeShow.cfw.tab",function(a){a.stopPropagation()}),b.CFW_Tab("show"))})},_parseDataAttr:function(){var a={},b=this.$element.data();return"undefined"!=typeof b.cfwTabresponsiveActive&&(a.active=b.cfwTabresponsiveActive),a},_trigger:function(b){var c=a.Event(b);return this.$element.trigger(c),!c.isDefaultPrevented()}},a.fn.CFW_TabResponsive=b,a.fn.CFW_TabResponsive.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.Slideshow"),g="object"==typeof b&&b;f||e.data("cfw.Slideshow",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}if(!a.fn.CFW_Tab)throw new Error("CFW_Slideshow requires tab.js");var c=function(b,d){this.$element=a(b),this.$tabs=null,this.$navPrev=this.$element.find('[data-cfw-slideshow-nav="prev"]'),this.$navPrevParent=this.$navPrev.parent("li"),this.$navNext=this.$element.find('[data-cfw-slideshow-nav="next"]'),this.$navNextParent=this.$navNext.parent("li"),this.tabLen=null,this.currTab=null,this.currIndex=0,this.settings=a.extend({},c.DEFAULTS,this._parseDataAttr(),d),this._init()};c.DEFAULTS={},c.prototype={_init:function(){var b=this;this.$element.attr("data-cfw","slideshow"),this.$tabs=this.$element.find('a[data-cfw="tab"]'),this.tabLen=this.$tabs.length,this.tabLen&&(this.$tabs.on("beforeShow.cfw.tab",function(a){if(!a.isDefaultPrevented()){var c=a.target;b.update(c)}}),this.$navPrev.on("click.cfw.slideshow",function(c){c.preventDefault();var d=a(c.target);d.hasClass("disabled")||d.parent("li").hasClass("disabled")||b.prev()}),this.$navNext.on("click.cfw.slideshow",function(c){c.preventDefault();var d=a(c.target);d.hasClass("disabled")||d.parent("li").hasClass("disabled")||b.next()}),this.update(),this._trigger("init.cfw.slideshow"))},prev:function(){if(this.currIndex>0){this._trigger("prev.cfw.slideshow");var a=this.currIndex-1;this.$tabs.eq(a).CFW_Tab("show")}},next:function(){if(this.currIndex<this.tabLen-1){this._trigger("next.cfw.slideshow");var a=this.currIndex+1;this.$tabs.eq(a).CFW_Tab("show")}},update:function(b){void 0===b&&this.$tabs.each(function(){if(a(this).parent("li").hasClass("active"))return b=this,!1}),this.currTab=b,this.currIndex=this._findIndex(b),this.updateNav()},updateNav:function(){this.$navPrev.removeClass("disabled"),this.$navPrevParent.removeClass("disabled"),this.$navNext.removeClass("disabled"),this.$navNextParent.removeClass("disabled"),this.currIndex<=0&&(this.$navPrev.addClass("disabled"),this.$navPrevParent.addClass("disabled")),this.currIndex>=this.tabLen-1&&(this.$navNext.addClass("disabled"),this.$navNextParent.addClass("disabled"))},_findIndex:function(b){return a.inArray(b,this.$tabs)},_parseDataAttr:function(){var a={};return a},_trigger:function(b){var c=a.Event(b);return this.$element.trigger(c),!c.isDefaultPrevented()}},a.fn.CFW_Slideshow=b,a.fn.CFW_Slideshow.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.Scrollspy"),g="object"==typeof b&&b;f||e.data("cfw.Scrollspy",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}var c=function(b,d){this.$body=a("body"),this.$scrollElement=a(a(b).is("body")?window:b),this.selector=null,this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.settings=a.extend({},c.DEFAULTS,this._parseDataAttr(),d),this._init()};c.DEFAULTS={offset:10},c.prototype={_init:function(){var b=a.proxy(this.process,this);this.$scrollElement.on("scroll.bs.scrollspy",b),this.selector=(this.settings.target||"")+" .nav li > a",this._trigger(this.$scrollElement,"init.cfw.scrollspy"),this.refresh(),this.process()},getScrollHeight:function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},refresh:function(){var b=this,c="offset",d=0;
a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},process:function(){var a,b=this.$scrollElement.scrollTop()+this.settings.offset,c=this.getScrollHeight(),d=this.settings.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0]&&e[0]>0)return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},activate:function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),this._trigger(d,"activate.cfw.scrollspy")},clear:function(){a(this.selector).parentsUntil(this.settings.target,".active").removeClass("active")},_parseDataAttr:function(){var a={},b=this.$scrollElement.data();return"undefined"!=typeof b.cfwScrollspyTarget&&(a.target=b.cfwScrollspyTarget),"undefined"!=typeof b.cfwScrollspyOffset&&(a.offset=b.cfwScrollspyOffset),a},_trigger:function(b,c){var d=a.Event(c);return b.trigger(d),!d.isDefaultPrevented()}},a.fn.CFW_Scrollspy=b,a.fn.CFW_Scrollspy.Constructor=c}(jQuery),function(a){"use strict";function b(b){var c=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.alert"),g="object"==typeof b&&b;f||e.data("cfw.alert",f=new d(this,g)),"string"==typeof b&&f[b].apply(f,c)})}var c='[data-cfw-dismiss="alert"]',d=function(b,c){this.$element=a(b),this.$parent=null,this.inTransition=null,this.settings=a.extend({},d.DEFAULTS,this._parseDataAttr(),c),this._init()};d.DEFAULTS={animate:!0,speed:150},d.prototype={_init:function(){var a=this;this.findParent(),this.settings.animate&&this.$parent.addClass("fade in"),this.$parent.on("click.cfw.alert",c,function(){a.close()}),this.$parent.data("cfw.alert",this),this.$parent.find(c).data("cfw.alert",this),this._trigger("init.cfw.alert")},close:function(b){function c(){d.$parent.detach(),d.inTransition=0,d._trigger("afterClose.cfw.alert"),d.$parent.remove()}var d=this;if(b&&b.preventDefault(),!this.inTransition&&this._trigger("beforeClose.cfw.alert"))return this.inTransition=1,this.$parent.removeClass("in"),a.support.transitionEnd&&this.$parent.hasClass("fade")?void this.$parent.one("cfwTransitionEnd",a.proxy(c,this)).CFW_emulateTransitionEnd(this.settings.speed):void c()},findParent:function(){var b=this.settings.target,c=null;b||(b=this.$element.attr("href")),c=a("#"===b?[]:b),c.length||(c=this.$element.closest(".alert")),this.$parent=c},_parseDataAttr:function(){var a={},b=this.$element.data();return"undefined"!=typeof b.cfwAlertTarget&&(a.animate=b.cfwAlertTarget),"undefined"!=typeof b.cfwAlertAnimate&&(a.animate=b.cfwAlertAnimate),"undefined"!=typeof b.cfwAlertSpeed&&(a.speed=b.cfwAlertSpeed),a},_trigger:function(b){var c=a.Event(b);return this.$parent.trigger(c),!c.isDefaultPrevented()}},a.fn.CFW_Alert=b,a.fn.CFW_Alert.Constructor=d,a(document).on("click.cfw.alert",c,function(){a(this).CFW_Alert("close")})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("cfw.button"),f="object"==typeof b&&b;e||d.data("cfw.button",e=new c(this,f)),e.toggle()})}var c=function(b){this.$element=a(b)};c.prototype={toggle:function(){var a=!0,b=this.$element.closest('[data-cfw="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")}},a.fn.CFW_Button=b,a.fn.CFW_Button.Constructor=c,a(document).on("click.cfw.button",'[data-cfw^="button"]',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus")),a(c.target).is('input[type="radio"]')||a(c.target).is('input[type="checkbox"]')||c.preventDefault()}).on("focus.cfw.button blur.cfw.button",'[data-cfw^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.lazy"),g="object"==typeof b&&b;f||e.data("cfw.lazy",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}var c=function(b,d){this.$element=a(b),this.$window=a(window),this.eventTypes=null,this.id=null,this.isLoading=null,this.settings=a.extend({},c.DEFAULTS,this._parseDataAttr(),d),this._init()};c.DEFAULTS={throttle:250,trigger:"scroll resize",delay:0,effect:"show",speed:0,threshold:0,container:window,invisible:!1,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},c.prototype={_init:function(){var b=!1;this.$element.attr("data-cfw","lazy"),""!==this.$element.attr("src")&&void 0!==this.$element.attr("src")&&this.$element.attr("src")!==!1||this.$element.is("img")&&this.$element.attr("src",this.settings.placeholder),this.id=this._getID(this.$element,"cfw-lazy"),this.eventTypes=this.settings.trigger.split(" ");for(var c=this.eventTypes.length;c--;){var d=this.eventTypes[c];"scroll"==d||"resize"==d?(a(this.settings.container).on(d+".cfw.lazy."+this.id,this._throttle(a.proxy(this._handleTrigger,this),this.settings.throttle)),b=!0):a(this.$element).on(d+".cfw.lazy."+this.id,a.proxy(this.show,this))}this._trigger("init.cfw.lazy"),b&&this.inViewport()&&this.show()},inViewport:function(){return!(!this.settings.invisible&&!this.$element.is(":visible"))&&!(this.belowFold()||this.afterRight()||this.aboveTop()||this.beforeLeft())},belowFold:function(){var b;return b=void 0===this.settings.container||this.settings.container===window?(window.innerHeight?window.innerHeight:this.$window.height())+this.$window.scrollTop():a(this.settings.container).offset().top+a(this.settings.container).height(),b<=this.$element.offset().top-this.settings.threshold},afterRight:function(){var b;return b=void 0===this.settings.container||this.settings.container===window?this.$window.width()+this.$window.scrollLeft():a(this.settings.container).offset().left+a(this.settings.container).width(),b<=this.$element.offset().left-this.settings.threshold},aboveTop:function(){var b;return b=void 0===this.settings.container||this.settings.container===window?this.$window.scrollTop():a(this.settings.container).offset().top,b>=this.$element.offset().top+this.settings.threshold+this.$element.height()},beforeLeft:function(){var b;return b=void 0===this.settings.container||this.settings.container===window?this.$window.scrollLeft():a(this.settings.container).offset().left,b>=this.$element.offset().left+this.settings.threshold+this.$element.width()},loadSrc:function(){var b=this;this.$element.hide(),this.$element.attr("src",this.settings.src),this.$element[this.settings.effect](this.settings.speed),setTimeout(function(){b._trigger("afterShow.cfw.lazy")},this.settings.speed),a(this.settings.container).off(".cfw.lazy."+this.id),this.$element.off(".cfw.lazy."+this.id).removeData("cfw.lazy").removeAttr("data-cfw")},show:function(){var a=this;this.isLoading||this._trigger("beforeShow.cfw.lazy")&&(this.isLoading=!0,setTimeout(function(){a.loadSrc()},this.settings.delay))},_handleTrigger:function(){this.inViewport()&&this.show()},_throttle:function(a,b,c){b||(b=250);var d,e;return function(){var f=c||this,g=+new Date,h=arguments;d&&g<d+b?(clearTimeout(e),e=setTimeout(function(){d=g,a.apply(f,h)},b)):(d=g,a.apply(f,h))}},_getID:function(a,b){var c=a.attr("id");if(void 0===c){do c=b+"-"+~~(1e6*Math.random());while(document.getElementById(c));a.attr("id",c)}return c},_parseDataAttr:function(){var a={},b=this.$element.data();return"undefined"!=typeof b.cfwLazySrc&&(a.src=b.cfwLazySrc),"undefined"!=typeof b.cfwLazyThrottle&&(a.throttle=b.cfwLazyThrottle),"undefined"!=typeof b.cfwLazyTrigger&&(a.trigger=b.cfwLazyTrigger),"undefined"!=typeof b.cfwLazyDelay&&(a.delay=b.cfwLazyDelay),"undefined"!=typeof b.cfwLazyEffect&&(a.effect=b.cfwLazyEffect),"undefined"!=typeof b.cfwLazySpeed&&(a.speed=b.cfwLazySpeed),"undefined"!=typeof b.cfwLazyThreshold&&(a.threshold=b.cfwLazyThreshold),"undefined"!=typeof b.cfwLazyContainer&&(a.container=b.cfwLazyContainer),"undefined"!=typeof b.cfwLazyInvisible&&(a.invisible=b.cfwLazyInvisible),a},_trigger:function(b){var c=a.Event(b);return this.$element.trigger(c),!c.isDefaultPrevented()}},a.fn.CFW_Lazy=b,a.fn.CFW_Lazy.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.slider"),g="object"==typeof b&&b;f||e.data("cfw.slider",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}if(!a.fn.CFW_Drag)throw new Error("CFW_Slider requires CFW_Drag");var c=function(b,d){this.$element=a(b),this.$slider=null,this.$sliderTrack=null,this.$sliderTrackSelection=null,this.$sliderThumbMin=null,this.$sliderThumbMax=null,this.$inputMin=null,this.inputMinID="",this.inputMinLabelID="",this.inputMinLabelTxt="",this.$inputMax=null,this.inputMaxID="",this.inputMaxLabelID="",this.inputMaxLabelTxt="",this.ordinal=!1,this.range=!1,this.val0=0,this.val1=0,this.settings=a.extend({},c.DEFAULTS,this._parseDataAttr(),d),this.inDrag=null,this.startPos=null,this.offsetPos=this.settings.vertical?"top":"left",this.stepsTotal=null,this._init()};c.DEFAULTS={min:null,max:null,step:1,chunk:null,enabled:!0,vertical:!1,reversed:!1,tooltip:"show"},c.prototype={_init:function(){var a=this._initInputs();a!==!1&&(this._initChunk(),this.createSlider(),this.updateValues(),this.updateThumbs(),this.updateLabels(),this.settings.enabled?this.enable(!0):this.disable(),this.$element.attr("data-cfw","slider"),this._trigger("init.cfw.slider"))},_initInputs:function(){var a=this.$element.find("input");if(a.length<=0&&(a=this.$element.find("select")),a.length<=0)return!1;this.$inputMin=a.eq(0),this.inputMinID=this._getID(this.$inputMin,"cfw-slider");var b=this._getLabel(this.$inputMin);if(this.inputMinLabelID=this._getID(b,"cfw-slider"),this.inputMinLabelTxt=b.text(),"SELECT"==this.$inputMin[0].nodeName&&(this.ordinal=!0),a.length>1){this.$inputMax=a.eq(a.length-1),this.inputMaxID=this._getID(this.$inputMax,"cfw-slider");var c=this._getLabel(this.$inputMax);this.inputMaxLabelID=this._getID(c,"cfw-slider"),this.inputMaxLabelTxt=c.text(),this.range=!0}},_initChunk:function(){this.stepsTotal=Math.floor((this.settings.max-this.settings.min)/this.settings.step),this.settings.chunk||(this.settings.chunk=this.stepsTotal>4?Math.round(this.stepsTotal/4):2*this.settings.step)},createSlider:function(){var b=document.createElement("div");this.$slider=a(b).addClass("slider"),this.settings.vertical?a(b).addClass("slider-vertical"):a(b).addClass("slider-horizontal");var c=document.createElement("div");this.$sliderTrack=a(c).addClass("slider-track");var d=document.createElement("div");this.$sliderTrackSelection=a(d).addClass("slider-selection");var e=document.createElement("div");if(this.$sliderThumbMin=a(e).addClass("slider-thumb slider-thumb-min").attr({role:"slider",tabindex:-1,"aria-labelledby":this.inputMinLabelID}),this.range){var f=document.createElement("div");this.$sliderThumbMax=a(f).addClass("slider-thumb slider-thumb-max").attr({role:"slider",tabindex:-1,"aria-labelledby":this.inputMaxLabelID}),this.$sliderThumbMin.attr("aria-controls",this._getID(this.$sliderThumbMax,"cfw-slider")),this.$sliderThumbMax.attr("aria-controls",this._getID(this.$sliderThumbMin,"cfw-slider"))}this.$sliderTrack.append(this.$sliderTrackSelection),this.$sliderTrack.append(this.$sliderThumbMin),this.range&&this.$sliderTrack.append(this.$sliderThumbMax),this.$slider.append(this.$sliderTrack),this.$element.append(this.$slider)},updateValues:function(){this.val0=this.ordinal?this.$inputMin[0].selectedIndex:parseFloat(this.$inputMin.val()),this.range?(this.val1=this.ordinal?this.$inputMax[0].selectedIndex:parseFloat(this.$inputMax.val()),this.$sliderThumbMin.attr({"aria-valuemin":this.settings.min,"aria-valuemax":this.val1,"aria-valuenow":this.val0}),this.$sliderThumbMax.attr({"aria-valuemin":this.val0,"aria-valuemax":this.settings.max,"aria-valuenow":this.val1})):this.$sliderThumbMin.attr({"aria-valuemin":this.settings.min,"aria-valuemax":this.settings.max,"aria-valuenow":this.val0})},updateThumbs:function(){var a,b,c,d,e,f;this.$sliderTrackSelection.css({top:"",left:"",width:"",height:""}),this.$sliderThumbMin.css({top:"",left:""}),this.range&&this.$sliderThumbMax.css({top:"",left:""}),this.range?(a=this.val0,b=this.val1):(a=this.settings.min,b=this.val0),c=(a-this.settings.min)/(this.settings.max-this.settings.min)*100,f=c,d=(b-this.settings.min)/(this.settings.max-this.settings.min)*100,c<0&&(c=0),d>100&&(d=100),e=d-c,this.settings.reversed&&(c=100-c,d=100-d,f=d);var g=this.settings.vertical?"top":"left",h=this.settings.vertical?"height":"width";this.$sliderTrackSelection.css(g,f+"%").css(h,e+"%"),this.range?(this.$sliderThumbMin.css(g,c+"%"),this.$sliderThumbMax.css(g,d+"%")):this.$sliderThumbMin.css(g,d+"%")},updateLabels:function(){this.$sliderThumbMin.attr("aria-valuetext",this.inputMinLabelTxt+" "+this.$inputMin.val()),this.range&&this.$sliderThumbMax.attr("aria-valuetext",this.inputMaxLabelTxt+" "+this.$inputMax.val())},enable:function(a){void 0===a&&(a=!1),!a&&this.settings.enabled||(this.settings.enabled=!0,this.$slider.removeClass("disabled"),this.bindSlider(),this._trigger("enabled.cfw.slider"))},disable:function(){this.settings.enabled&&(this.settings.enabled=!1,this.$slider.addClass("disabled"),this.unbindSlider(),this._trigger("disabled.cfw.slider"))},bindSlider:function(){var b=this,c=this.$sliderThumbMin,d=this.$inputMin;this.range&&(c=c.add(this.$sliderThumbMax),d=d.add(this.$inputMax)),c.attr("tabindex",0).on("keydown.cfw.slider",function(a){b._actionsKeydown(a,this)}).on("focusin.cfw.slider",function(){a(this).css("z-index",parseInt(a(this).css("z-index"),10)+1)}).on("focusout.cfw.slider",function(){a(this).css("z-index","")}),this.$sliderTrack.on("dragStart.cfw.drag",function(a){b._dragStart(a)}).on("drag.cfw.drag",function(a){b._drag(a)}).on("dragEnd.cfw.drag",function(){b._dragEnd()}),this.$sliderTrack.CFW_Drag(),d.on("change.cfw.slider",function(){var c=a(this),d=b.ordinal?c[0].selectedIndex:parseFloat(c.val());b.changeValue(d,c,!0)})},unbindSlider:function(){var a=this.$sliderThumbMin,b=this.$inputMin;this.range&&(a=a.add(this.$sliderThumbMax),b=b.add(this.$inputMax)),a.attr("tabindex","").off(".cfw.slider"),this.$sliderTrack.CFW_Drag("destroy"),b.off(".cfw.slider")},decrement:function(a,b){var c=this.ordinal?b[0].selectedIndex:parseFloat(b.val());this.changeValue(c-(a?this.settings.chunk*this.settings.step:this.settings.step),b)},increment:function(a,b){var c=this.ordinal?b[0].selectedIndex:parseFloat(b.val());this.changeValue(c+(a?this.settings.chunk*this.settings.step:this.settings.step),b)},changeValue:function(a,b,c){void 0===c&&(c=!1);var d,e,f=this.ordinal?b[0].selectedIndex:parseFloat(b.val());this.range?b.is(this.$inputMax)?(d=this.val0,e=this.settings.max):(d=this.settings.min,e=this.val1):(d=this.settings.min,e=this.settings.max);var g;void 0!==a&&(g=Math.min(Math.max(a,d),e),g=Math.round(g/this.settings.step)*this.settings.step),void 0!==g&&(this.ordinal?b[0].selectedIndex=g:b.prop("value",g),this.updateValues(),this.updateThumbs(),this.updateLabels(),c||this._trigger("slid.cfw.slider"),(c||g!=f)&&this._trigger("changed.cfw.slider"))},_getInput:function(b){var c=a(b);return c.is(this.$sliderThumbMax)?this.$inputMax:this.$inputMin},_getLabel:function(b){var c=a('label[for="'+b.attr("id")+'"]');return c.length<=0&&(c=b.closest("label")),c},_actionsKeydown:function(a,b){var c=this;if(/(37|38|39|40|33|34|35|36)/.test(a.which)){a.stopPropagation(),a.preventDefault();var d=this._getInput(b);switch(a.which){case 37:case 40:c.decrement(!1,d);break;case 38:case 39:c.increment(!1,d);break;case 33:c.increment(!0,d);break;case 34:c.decrement(!0,d);break;case 35:c.changeValue(this.settings.max,d);break;case 36:c.changeValue(this.settings.min,d)}}},_dragStart:function(b){var c=a(b.currentTarget);c.is(this.$sliderTrack)&&(c=this._closestThumb(b)),c.trigger("focus"),this.inDrag=c[0];var d=this.settings.vertical?b.startY:b.startX,e=this.$sliderTrack.offset(),f=d-e[this.offsetPos];this.startPos=f;var g=this._positionToValue(f),h=this._getInput(c[0]);this.changeValue(g,h),this._trigger("dragStart.cfw.slider")},_drag:function(a){if(null!=this.startPos){var b=this.settings.vertical?a.deltaY:a.deltaX,c=this.startPos+b,d=this._getInput(this.inDrag),e=this._positionToValue(c);this.changeValue(e,d)}},_dragEnd:function(){this.inDrag=null,this.startPos=null,this._trigger("dragEnd.cfw.slider")},_positionToValue:function(a){var b;b=this.settings.vertical?this.$sliderTrack.outerHeight():this.$sliderTrack.outerWidth();var c=b/this.stepsTotal;return a=this.settings.reversed?b-a:a,Math.round(a/c)*this.settings.step+this.settings.min},_closestThumb:function(a){var b;if(this.range){var c=this.settings.vertical?a.pageY:a.pageX,d=this.$sliderTrack.offset(),e=Math.abs(c-d[this.offsetPos]-this.$sliderThumbMin.position()[this.offsetPos]),f=Math.abs(c-d[this.offsetPos]-this.$sliderThumbMax.position()[this.offsetPos]);b=e<f?this.$sliderThumbMin:this.$sliderThumbMax}else b=this.$sliderThumbMin;return b},_getID:function(a,b){var c=a.attr("id");if(void 0===c){do c=b+"-"+~~(1e6*Math.random());while(document.getElementById(c));a.attr("id",c)}return c},_parseDataAttr:function(){var a={},b=this.$element.data();return"undefined"!=typeof b.cfwSliderMin&&(a.min=b.cfwSliderMin),"undefined"!=typeof b.cfwSliderMax&&(a.max=b.cfwSliderMax),"undefined"!=typeof b.cfwSliderStep&&(a.step=b.cfwSliderStep),"undefined"!=typeof b.cfwSliderChunk&&(a.chunk=b.cfwSliderChunk),"undefined"!=typeof b.cfwSliderVertical&&(a.vertical=b.cfwSliderVertical),"undefined"!=typeof b.cfwSliderReversed&&(a.reversed=b.cfwSliderReversed),"undefined"!=typeof b.cfwSliderEnabled&&(a.enabled=b.cfwSliderEnabled),"undefined"!=typeof b.cfwSliderTooltip&&(a.tooltip=b.cfwSliderTooltip),a},_trigger:function(b){var c=a.Event(b);return this.$slider.trigger(c),!c.isDefaultPrevented()}},a.fn.CFW_Slider=b,a.fn.CFW_Slider.Constructor=c}(jQuery),function(a){"use strict";function b(b){var d=[].splice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("cfw.equalize"),g="object"==typeof b&&b;f||e.data("cfw.equalize",f=new c(this,g)),"string"==typeof b&&f[b].apply(f,d)})}var c=function(b,d){this.$element=a(b),this.$window=a(window),this.settings=a.extend({},c.DEFAULTS,this._parseDataAttr(),d),this._init()};c.DEFAULTS={throttle:250,stack:!1,row:!1,minimum:!1},c.prototype={_init:function(){this.$window.on("resize.cfw.equalize",this._throttle(a.proxy(this.update,this),this.settings.throttle)),this._trigger("init.cfw.equalize"),this.update()},equalize:function(b){var c,d=this,e=!1;if(void 0===b&&(b=!1),(b||!(this.$element.find('[data-cfw="equalize"]').length>0))&&this._trigger("beforeEqual.cfw.equalize")){var f=this.settings.target;if(void 0===f||f.length<=0)return!1;var g=a(this.settings.target,this.$element);g.length||(g=a('[data-cfw-equalize-group="'+f+'"]',this.$element)),g=g.filter(":visible");var h=g.length;if(h<=0)return!1;if(g.height(""),this.settings.row&&!this.settings.stack){var i=0,j=a();g.each(function(b){var e=a(this);i=parseInt(e.offset().top,10),i!==c&&(j.length>1&&d._applyHeight(j),j=a(),c=parseInt(e.offset().top,10)),j=j.add(e),b===h-1&&d._applyHeight(j)})}else{if(!this.settings.stack&&(c=g.first().offset().top,g.each(function(){if(a(this).offset().top!==c)return e=!0,!1}),e))return;this._applyHeight(g)}this._trigger("afterEqual.cfw.equalize"),this.$element.parent().closest('[data-cfw="equalize"]').CFW_Equalize("update",!0)}},_applyHeight:function(b,c){var d=b.map(function(){return a(this).outerHeight(!1)}).get();if(this.settings.minimum){var e=Math.min.apply(null,d);b.css("height",e)}else{var f=Math.max.apply(null,d);b.css("height",f)}c&&c()},update:function(a){var b=this;void 0!==a&&"object"!=typeof a||(a=!1);var c=this.$element.find("img");this.imageLoaded(c,function(){b.equalize(a)})},imageLoaded:function(b,c){function d(a){for(var b=a.length,c=b-1;c>=0;c--)if(void 0===a.attr("height"))return!1;return!0}var e=this,f=b.length;(0===f||d(b))&&c(b),b.each(function(){e.imageWatch(a(this),function(){f-=1,0===f&&c(b)})})},imageWatch:function(a,b){function c(){b(a[0])}function d(){if(a.one("load",c),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var b=a.attr("src"),d=b.match(/\?/)?"&":"?";d+="cfwequalize="+(new Date).getTime(),a.attr("src",b+d)}}return a.attr("src")?void(a.is('[data-cfw="lazy"]')?a.one("afterShow.cfw.lazy",c):a[0].complete||4===a[0].readyState?c():d()):void c()},_throttle:function(a,b,c){b||(b=250);var d,e;return function(){var f=c||this,g=+new Date,h=arguments;d&&g<d+b?(clearTimeout(e),e=setTimeout(function(){d=g,a.apply(f,h)},b)):(d=g,a.apply(f,h))}},_parseDataAttr:function(){var a={},b=this.$element.data();return"undefined"!=typeof b.cfwEqualizeTarget&&(a.target=b.cfwEqualizeTarget),"undefined"!=typeof b.cfwEqualizeThrottle&&(a.throttle=b.cfwEqualizeThrottle),"undefined"!=typeof b.cfwEqualizeStack&&(a.stack=b.cfwEqualizeStack),"undefined"!=typeof b.cfwEqualizeRow&&(a.row=b.cfwEqualizeRow),"undefined"!=typeof b.cfwEqualizeMinimum&&(a.minimum=b.cfwEqualizeMinimum),a},_trigger:function(b){var c=a.Event(b);return this.$element.trigger(c),!c.isDefaultPrevented()}},a.fn.CFW_Equalize=b,a.fn.CFW_Equalize.Constructor=c}(jQuery),function(a){"use strict";function b(){var a=document.createElement("audio"),b=!1;try{(b=!!a.canPlayType)&&(b=new Boolean(b),b.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),b.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),b.opus=a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),b.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),b.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(a){}return b}function c(){var a=document.createElement("video"),b=!1;try{(b=!!a.canPlayType)&&(b=new Boolean(b),b.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),b.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),b.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),b.vp9=a.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),b.hls=a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(a){}return b}function d(b){var c=[].splice.call(arguments,1);return this.each(function(){var d=a(this),e=d.data("cfw.player"),g="object"==typeof b&&b;e||d.data("cfw.player",e=new f(this,g)),"string"==typeof b&&e[b].apply(e,c)})}var e={audio:null,video:null};e.audio=b(),e.video=c();var f=function(b,c){this.$element=a(b),this.type="audio",this.$media=null,this.media=null,this.$player=null,this.$focus=null,this.$sliderSeek=null,this.$volSeek=null,this.activity=null,this.over=null,this.userActive=!0,this.activityTimer=null,this.mouseActivity=null,this.scrubPlay=null,this.played=!1,this.status={duration:0,currentTime:0,remaining:0},this.support={mute:!0,volume:!0},this.trackValid=[],this.trackCurrent=-1,this.$scriptElm=null,this.scriptCurrent=-1,this.scriptCues=null,this.settings=a.extend({},f.DEFAULTS,this._parseDataAttr(),c),this._init()};f.DEFAULTS={transcript:-1,transcriptScroll:!0,transcriptOption:!0},f.prototype={_init:function(){return this.$media=this.$element.find("audio, video"),this.media=this.$media[0],null!=this.media&&("VIDEO"==this.media.nodeName&&(this.type="video"),"audio"==this.type&&!e.audio||"video"==this.type&&!e.video?(this._trigger("noSupport.cfw.player"),!1):(this.$element.attr("data-cfw","player").addClass("player-unstarted"),this.$player=this.$element.find('[data-cfw-player="player"]'),this.$player.length>0&&(this.media.controls=!1),void this.loadComplete()))},insertPlayer:function(){var b=a(document.createElement("div")).addClass("player");this.$media.after(b)},loadCheck:function(){var a=this,b=0;try{this.media.play(),this.media.pause()}catch(a){return void this.error()}var c=setInterval(function(){return a.media.readyState>0?(clearInterval(c),void a.loadComplete()):3===a.media.networkState||75===b?(clearInterval(c),void a.error()):void b++},50)},loadComplete:function(){var b=this;this.$media.on("error",function(){b.error()}),this.$media.on("play canplay pause",function(){b.controlStatus(),b.unplayedStatus()}),this.$media.on("loadedmetadata loadeddata progress canplay canplaythrough timeupdate durationchange",function(){b.unplayedStatus(),b.timeStatus(),b.seekStatus()}),this.$media.on("ended",function(){b.seekReset()}),this.$media.on("volumechange",function(){b.muteStatus(),b.volumeStatus()}),"video"==this.type&&(a(document).on("webkitfullscreenchange mozfullscreenchange MSFullscreenChange fullscreenchange",function(){b.fullscreenStatus()}),this.$player.on("mouseenter mouseleave",function(a){switch(b.activity=!0,a.type){case"mouseenter":b.over=!0;break;case"mouseleave":b.over=!1}}),this.$element.on("mousemove mousedown mouseup keydown keyup touchmove touchstart touchend",function(a){switch(b.activity=!0,a.type){case"mousedown":case"touchstart":clearInterval(b.mouseActivity),b.mouseActivity=setInterval(function(){b.activity=!0},250);break;case"mouseup":case"touchend":clearInterval(b.mouseActivity)}}),this.$media.on("click",function(){b.toggle(),b._focusHelper()}),this.activityInit()),this.$player.on("click",'[data-cfw-player="play"]',function(a){a.preventDefault(),b.media.play(),b._focusControl(b.$player.find('[data-cfw-player="pause"]')[0])}),this.$player.on("click",'[data-cfw-player="pause"]',function(a){a.preventDefault(),b.media.pause(),b._focusControl(b.$player.find('[data-cfw-player="play"]')[0])}),this.$player.on("click",'[data-cfw-player="stop"]',function(a){a.preventDefault(),b.stop(),b._focusControl(this)}),this.$player.on("click",'[data-cfw-player="mute"]',function(a){a.preventDefault(),b.mute(),b._focusControl(this)}),this.$player.on("click",'[data-cfw-player="loop"]',function(a){a.preventDefault(),b.loop(),b._focusControl(this)}),this.$player.on("click",'[data-cfw-player="fullscreen"]',function(a){a.preventDefault(),b.fullscreen(),b._focusControl(this)}),this.$element.on("keydown",function(a){b._actionsKeydown(a)}),this.controlStatus(),this.volumeSupport(),this.timeStatus(),this.seekStatus(),this.muteStatus(),this.volumeStatus(),this.loopStatus(),this.trackList(),"video"==this.type&&this.trackInit(),this.scriptInit(),this.$player.addClass("ready");var c=document.createElement("div");c.className="player-focus sr-only",c.tabIndex="-1",this.$focus=a(c),this.$element.prepend(this.$focus),this._trigger("ready.cfw.player"),this.media.autoplay&&this.media.play()},error:function(){this._trigger("error.cfw.player")},toggle:function(){this.media.paused?(this.unplayedStatus(!0),this.media.play()):this.media.pause()},play:function(){this.unplayedStatus(!0),this.media.play()},pause:function(){this.media.pause()},stop:function(){this.media.pause(),this.seekTo(0)},controlStatus:function(){var a=this.$player.find('[data-cfw-player="control"]'),b=this.$player.find('[data-cfw-player="play"]'),c=this.$player.find('[data-cfw-player="pause"]');a.removeClass("pause play"),b.add(c).removeClass("on off").addClass("off"),this.media.paused?(a.addClass("pause"),b.removeClass("off").addClass("on"),this.$element.addClass("player-paused")):(a.addClass("play"),c.removeClass("off").addClass("on"),this.$element.removeClass("player-paused"))},unplayedStatus:function(a){void 0===a&&(a=!1),this.played||(a||this.media.played.length>0)&&(this.played=!0,this.$element.removeClass("player-unstarted"))},timeStatus:function(){this.status.duration=this.media.duration,this.status.currentTime=this.media.currentTime,this.status.remaining=this.status.duration-this.status.currentTime,this.status.remaining<0&&(this.status.remaining=0);var a=this.$player.find('[data-cfw-player="time-duration"]'),b=this.$player.find('[data-cfw-player="time-current"]'),c=this.$player.find('[data-cfw-player="time-remainder"]');this.status.duration>0?this.$player.removeClass("player-notime"):this.$player.addClass("player-notime"),this.status.duration===1/0?this.$player.addClass("player-live"):this.$player.removeClass("player-live"),a.html(this.timeSplit(this.status.duration)),b.html(this.timeSplit(this.status.currentTime)),c.html(this.timeSplit(this.status.remaining))},timeSplit:function(a){(isNaN(a)||a===1/0)&&(a=0);var b=Math.floor(a/3600),c=Math.floor(a/60)-60*b,d=Math.floor(a)-3600*b-60*c,e=this.timeDigits(c)+":"+this.timeDigits(d);return b>0&&(e=b+":"+e),0===e.indexOf("0")&&(e=e.substr(1)),e},timeDigits:function(a){return("0"+a).slice(-2)},seekStatus:function(){var a=this.$player.find('[data-cfw-player="seek"]');a.find("input").length?this.seekSlider():a.hasClass("progress")&&this.seekProgress()},seekSlider:function(){var b=this;if(!isNaN(this.media.duration)&&this.media.duration!==1/0){if(null==this.$sliderSeek){this.$sliderSeek=this.$player.find('[data-cfw-player="seek"]'),this.$sliderSeek.CFW_Slider({min:0,max:this.media.duration,step:.5}),this.$sliderSeek.on("slid.cfw.slider",function(){var c=a(this).data("cfw.slider").val0;b.seekTo(c)});var c=this.$sliderSeek.add(this.$sliderSeek.find(".slider-thumb"));c.on("keydown.cfw.slider dragStart.cfw.slider",function(d){("keydown"!=d.type||/(37|38|39|40|33|34|35|36)/.test(d.which))&&("keydown"==d.type&&d.stopPropagation,c.off("keyup.cfw.slider dragEnd.cfw.slider"),null==b.scrubPlay&&(b.scrubPlay=!b.media.paused),b.media.pause(),a(d.currentTarget).one("keyup.cfw.slider dragEnd.cfw.slider",function(a){"keyup"==a.type&&a.stopPropagation,b.scrubPlay===!0&&b.media.play(),b.scrubPlay=null}))})}var d=this.$sliderSeek.find("input").eq(0);this.$sliderSeek.CFW_Slider("changeValue",this.media.currentTime,d,!0)}},seekProgress:function(){if(!isNaN(this.media.duration)&&this.media.duration!==1/0){var a=this.$player.find('[data-cfw-player="seek-current"]');a.attr("role","progressbar").attr("aria-label","Playback progress");var b=this.media.currentTime/this.media.duration*100;b>100&&(b=100),a.attr({"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":b}).css("width",b+"%")}},seekReset:function(){this.media.loop?this.media.play():this.media.pause()},seekIncrement:function(a){var b=this.media.currentTime+a,c=b<0?0:b>this.media.duration?this.media.duration:b;this.seekTo(c)},seekTo:function(a){var b=this.media.seekable;b.length>0&&a>=b.start(0)&&a<=b.end(0)&&(this.media.currentTime=a)},mute:function(){this.media.muted=!this.media.muted,this.muteStatus(),this.volumeStatus()},muteStatus:function(){var a=this.$player.find('[data-cfw-player="mute"]');this.support.mute?this.media.muted?a.addClass("active"):a.removeClass("active"):a.addClass("disabled")},volumeSupport:function(){var a=this.media.muted,b=this.media.volume,c=.5;.5===this.media.volume&&(c=.25),this.media.volume=c,this.media.volume!==c&&(this.support.mute=!1,this.support.volume=!1),this.media.volume=b,this.media.muted=a},volumeStatus:function(){var b=this,c=this.$player.find('[data-cfw-player="volume"]');if(!(c.find("input").length<=0)){if(!this.support.mute)return void c.addClass("disabled");null==this.$volSeek&&(this.$volSeek=c,
this.$volSeek.CFW_Slider({min:0,max:1,step:.01}),this.$volSeek.on("slid.cfw.slider",function(){var c=parseFloat(a(this).data("cfw.slider").val0);0===c?b.media.muted=!0:(b.media.muted=!1,b.media.volume=c)}));var d=this.$volSeek.find("input").eq(0);this.media.muted?this.$volSeek.CFW_Slider("changeValue",0,d,!0):this.$volSeek.CFW_Slider("changeValue",this.media.volume,d,!0)}},volumeIncrement:function(a){var b=100*this.media.volume+a,c=b<0?0:b>100?100:parseInt(b,10);this.media.volume=c/100},loop:function(a){void 0!==a?this.media.loop=a:this.media.loop=!this.media.loop,this.loopStatus()},speed:function(a){void 0!==a&&(this.media.playbackRate=a)},loopStatus:function(){var a=this.$player.find('[data-cfw-player="loop"]');this.media.loop?(a.addClass("active"),this._pressedState(a,!0)):(a.removeClass("active"),this._pressedState(a,!1))},isFullScreen:function(){var b=a(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement);return b.is(this.$element)},fullscreen:function(){if("audio"!=this.type)if(this.isFullScreen())document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();else{var a=this.$element[0];a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen?a.webkitRequestFullScreen():a.msRequestFullscreen&&a.msRequestFullscreen()}},fullscreenStatus:function(){var a=this.$player.find('[data-cfw-player="fullscreen"]');this.isFullScreen()?(a.addClass("active"),this.$element.addClass("player-fulldisplay"),this._trigger("enterFullscreen.cfw.player")):(a.removeClass("active"),this.$element.removeClass("player-fulldisplay"),this._trigger("exitFullscreen.cfw.player"))},trackList:function(){var a=this,b=this.media.textTracks;if(b.length<=0)return null;for(var c=[],d=0;d<b.length;d++)"captions"!=b[d].kind&&"subtitles"!=b[d].kind||c.push(d);this.trackValid=c,this.media.textTracks.addEventListener("change",function(){a.trackStatus()})},trackInit:function(){var b=this,c=this.$player.find('[data-cfw-player="caption"]');if(!(c.length<=0)){if(this.trackValid.length<=0)return void c.addClass("disabled");if(1==this.trackValid.length)this.$player.on("click",'[data-cfw-player="caption"]',function(a){a.preventDefault(),c.hasClass("active")?b.trackSet(-1):b.trackSet(0),b._focusControl(this)}),"showing"==this.media.textTracks[0].mode&&b.trackSet(0);else{var d='<span class="player-caption-wrapper"></span>',e=a('<ul class="player-caption-menu dropdown-menu"></ul>');c.wrap(d);var f=c.parent();f.append(e);var g=this._getID(e,"cfw-player"),h=a('<li class="player-caption-off"><a href="#" data-cfw-player-track="-1">Off</a></li>');e.append(h);for(var i=this.media.textTracks,j=0;j<this.trackValid.length;j++){var k=this.trackValid[j];h=a('<li><a href="#" data-cfw-player-track="'+k+'">'+i[k].label+"</a></li>"),e.append(h)}this.$player.on("click","[data-cfw-player-track]",function(c){c.preventDefault();var d=a(this),e=d.attr("data-cfw-player-track");b.trackSet(e)}),c.CFW_Dropdown({toggle:"#"+g})}this.trackStatus()}},trackSet:function(a){a=parseInt(a,10);var b=this.media.textTracks;if(!(b.length<=0)){this.trackCurrent=a;for(var c=0;c<b.length;c++)"showing"==b[c].mode&&(b[c].mode="hidden"),c===a&&(b[c].mode="showing");this.trackStatus()}},trackStatus:function(){var a=this.media.textTracks;if(!(a.length<=0)){var b=this.$player.find('[data-cfw-player="caption"]');if(!(b.length<=0))if(1==this.trackValid.length)this.trackCurrent==-1?(b.removeClass("active"),this._pressedState(b,!1)):(b.addClass("active"),this._pressedState(b,!0));else{var c=b.parent();b.removeClass("active"),c.removeClass("active"),c.find("[data-cfw-player-track]").closest("li").removeClass("active");for(var d=0;d<a.length;d++)"showing"==a[d].mode&&(b.addClass("active"),c.addClass("active"),c.find('[data-cfw-player-track="'+d+'"]').closest("li").addClass("active"),this.trackCurrent=d)}}},scriptInit:function(){var b=this,c=this.$player.find('[data-cfw-player="transcript"]');if(!(c.length<=0)){if(this.trackValid.length<=0)return void c.addClass("disabled");if(1!=this.trackValid.length||this.settings.transcriptOption){var d='<span class="player-script-wrapper"></span>',e=a('<ul class="player-script-menu dropdown-menu"></ul>');c.wrap(d);var f=c.parent();f.append(e);var g=this._getID(e,"cfw-player"),h=a('<li class="player-script-off"><a href="#" data-cfw-player-script="-1">Off</a></li>');e.append(h);for(var i=this.media.textTracks,j=0;j<this.trackValid.length;j++){var k=this.trackValid[j];h=a('<li><a href="#" data-cfw-player-script="'+k+'">'+i[k].label+"</a></li>"),e.append(h)}if(this.settings.transcriptOption){h=a('<li role="separator" class="divider"></li>'),e.append(h);var l=this.settings.transcriptScroll?"true":"false",m=this.settings.transcriptScroll?"active":"";h=a('<li><a href="#" class="player-script-scroll-check '+m+'" data-cfw-player-script-scroll="'+l+'" aria-checked="'+l+'"><span class="player-script-scroll-check-icon"></span>Auto-scroll</a></li>'),e.append(h)}this.$player.on("click","[data-cfw-player-script]",function(c){c.preventDefault();var d=a(this),e=d.attr("data-cfw-player-script");b.scriptSet(e)}),this.settings.transcriptOption&&this.$player.on("click","[data-cfw-player-script-scroll]",function(c){c.preventDefault();var d=a(this);b.settings.transcriptScroll=!b.settings.transcriptScroll,d.attr("aria-checked",b.settings.transcriptScroll),d.toggleClass("active")}),c.CFW_Dropdown({toggle:"#"+g})}else c.removeClass("active"),this._pressedState(c,!1),c.on("click",function(a){a.preventDefault(),c.hasClass("active")?b.scriptSet(-1):b.scriptSet(0),b._focusControl(this)});this.settings.transcript!==-1&&this.scriptSet(this.settings.transcript)}},scriptSet:function(b){if(b=parseInt(b,10),!(this.trackValid.length<=0||this.trackValid.indexOf(b)==-1&&b!=-1||b==this.scriptCurrent)){if(b==-1&&null!==this.$scriptElm){if(!this._trigger("beforeTranscriptHide.cfw.player"))return}else if(!this._trigger("beforeTranscriptShow.cfw.player"))return;var c=this.$player.find('[data-cfw-player="transcript"]');if(null!==this.$scriptElm&&(this.$scriptElm.remove(),this.$scriptElm=null),this.$element.removeClass("player-scriptshow"),c.length)if(1!=this.trackValid.length||this.settings.transcriptOption){var d=c.parent();c.removeClass("active"),d.removeClass("active"),d.find("[data-cfw-player-script]").closest("li").removeClass("active")}else c.removeClass("active"),this._pressedState(c,!1);this.scriptCurrent!==-1&&(a(this.media.textTracks[this.scriptCurrent]).off("cuechange.cfw.player.transcript"),this.$media.off("timeupdate.cfw.player.transcript")),this.scriptCurrent=b,b==-1?(this.scriptCues=null,this._trigger("afterTranscriptHide.cfw.player")):this.scriptLoad()}},scriptLoad:function(a){function b(a){var b=c.media.textTracks,d=b[c.scriptCurrent].cues;return d&&d.length<=0&&!a?(c.$media.one("loadeddata.cfw.player.script",function(){c.scriptLoad(!0)}),void c.$media.trigger("load")):(c.scriptCues=d,void c.scriptProcess())}var c=this;void 0===a&&(a=!1),this.$media.off("loadeddata.cfw.player.script");var d=this.media.textTracks;if(d.length<=0||this.scriptCurrent==-1)return void(this.scriptCues=null);var e=d[this.scriptCurrent].cues;if(null==e||e.length<=0){for(var f=this.trackCurrent==-1?null:d[this.trackCurrent].mode,g=0;g<d.length;g++)d[g].mode="hidden";null!==f&&(d[this.trackCurrent].mode=f)}setTimeout(function(){b(a)},100)},scriptProcess:function(){var b=this;if(null!=this.scriptCues){var c=function(b,c){var d=a('<span class="player-scripttxt-seekpoint player-scripttxt-caption"></span>'),e=function(b){var c=[];if(""===b)return c;var d=b.indexOf("["),f=b.indexOf("]"),g=b.indexOf("("),h=b.indexOf(")"),i=d!==-1&&f!==-1,j=g!==-1&&h!==-1;return j&&i&&d<g||i?(c=c.concat(e(b.substring(0,d))),c.push(a('<span class="player-scripttxt-unspoken">'+b.substring(d,f+1)+"</span>")),c=c.concat(e(b.substring(f+1)))):j?(c=c.concat(e(b.substring(0,g))),c.push(a('<span class="player-scripttxt-unspoken">'+b.substring(g,h+1)+"</span>")),c=c.concat(e(b.substring(h+1)))):c.push(b),c};d.append(e(c.text)),d.attr({"data-start":c.startTime.toString(),"data-end":c.endTime.toString()}),b.append(d),b.append("\n")},d=this.$player.find('[data-cfw-player="transcript"]');if(this.$element.addClass("player-scriptshow"),1!=this.trackValid.length||this.settings.transcriptOption){if(d.length){var e=d.parent();d.addClass("active"),e.addClass("active"),e.find('[data-cfw-player-script="'+this.scriptCurrent+'"]').closest("li").addClass("active")}}else d.addClass("active"),this._pressedState(d,!0);var f=a('<div class="player-scripttxt"></div>');this.$element.append(f),this.$scriptElm=this.$element.find(".player-scripttxt");for(var g=0;g<this.scriptCues.length;)c(this.$scriptElm,this.scriptCues[g]),g+=1;void 0!==this.media.textTracks[this.scriptCurrent].oncuechange?a(this.media.textTracks[this.scriptCurrent]).on("cuechange.cfw.player.transcript",function(){b.scriptHighlight(this.activeCues)}):this.$media.on("timeupdate.cfw.player.transcript",function(){b.scriptHighlight(b.media.textTracks[b.scriptCurrent].activeCues)}),a(".player-scripttxt-seekpoint",this.$scriptElm).on("click.cfw.player.scriptseek",function(){var c=parseFloat(a(this).attr("data-start"));b.scriptSeek(c)}),a(".player-scripttxt-seekpoint",this.$scriptElm).on("keydown.cfw.player.scriptseek",function(c){if(/(13)/.test(c.which)){c.stopPropagation(),c.preventDefault();var d=parseFloat(a(this).attr("data-start"));b.scriptSeek(d)}});var h;void 0!==this.media.textTracks[this.scriptCurrent].oncuechange?(h=a.Event("cuechange"),a(this.media.textTracks[this.scriptCurrent]).trigger(h)):(h=a.Event("timeupdate"),this.$media.trigger(h)),this._trigger("afterTranscriptShow.cfw.player")}},scriptHighlight:function(b){if(a(".player-scripttxt-active",this.$scriptElm).removeClass("player-scripttxt-active"),!(b.length<=0)){var c=b[0].startTime,d=a('.player-scripttxt-caption[data-start="'+c+'"]',this.$scriptElm);if(d.addClass("player-scripttxt-active"),this.settings.transcriptScroll){var e=this.$scriptElm.scrollTop(),f=this.$scriptElm.innerHeight()/2,g=d.position().top,h=d.height()/2,i=Math.floor(e+g-f+h);i!==Math.floor(e)&&this.$scriptElm.scrollTop(i)}}},scriptSeek:function(a){var b=this;a+=.01,this.media.readyState<2?(this.$media.one("canplay",function(){b.seekTo(a)}),this.$media.trigger("load")):this.seekTo(a)},activityInit:function(){var a=this;setInterval(function(){a.activity&&!a.over&&(a.activity=!1,clearTimeout(a.activityTimer),a.activityStatus(!0),a.activityTimer=setTimeout(function(){a.activity||a.activityStatus(!1)},1e3))},250)},activityStatus:function(a){a=!!a,a!==this.userActive&&(this.userActive=a,a?(this.activity=!0,this.$element.removeClass("player-inactive")):(this.activity=!1,this.$element.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.$element.addClass("player-inactive")))},_actionsKeydown:function(b){if(/(32|33|34|35|36|37|38|39|40|70|77)/.test(b.which)&&32!=b.which&&"button"!==b.target.tagName&&"button"!==a(b.target).role("attr"))switch(b.stopPropagation(),b.preventDefault(),b.which){case 32:this.media.paused?this.media.play():this.media.pause(),this._focusHelper();break;case 38:this.volumeIncrement(5);break;case 40:this.volumeIncrement(-5);break;case 36:this.seekTo(0);break;case 35:this.seekTo(this.media.duration);break;case 37:this.seekIncrement(-5);break;case 39:this.seekIncrement(5);break;case 33:this.seekIncrement(this.status.duration/5);break;case 34:this.seekIncrement(this.status.duration/-5);break;case 70:this.fullscreen();break;case 77:this.mute()}},_pressedState:function(a,b){var c=!1;if(!(a.length<=0)){var d=a.get(0).nodeName.toLowerCase();"button"===d&&(c=!0);var e=a.attr("role");"button"===e&&(c=!0),c&&a.attr("aria-pressed",b)}},_focusControl:function(b){var c=a(b);c.length<=0||setTimeout(function(){c.is("a, button")?c.trigger("focus"):c.find("a:visible, button:visible").eq(0).trigger("focus")},150)},_focusHelper:function(){var b=this,c=a(document.activeElement);setTimeout(function(){c.is(":visible")||b.$focus.trigger("focus")},10)},_getID:function(a,b){var c=a.attr("id");if(void 0===c){do c=b+"-"+~~(1e6*Math.random());while(document.getElementById(c));a.attr("id",c)}return c},_parseDataAttr:function(){var a={},b=this.$element.data();return"undefined"!=typeof b.cfwPlayerSrc&&(a.src=b.cfwPlayerSrc),"undefined"!=typeof b.cfwPlayerTranscript&&(a.transcript=b.cfwPlayerTranscript),"undefined"!=typeof b.cfwPlayerTranscriptScroll&&(a.transcriptScroll=b.cfwPlayerTranscriptScroll),"undefined"!=typeof b.cfwPlayerTranscriptOption&&(a.transcriptOption=b.cfwPlayerTranscriptOption),a},_trigger:function(b){var c=a.Event(b);return this.$media.trigger(c),!c.isDefaultPrevented()}},a.fn.CFW_Player=d,a.fn.CFW_Player.Constructor=f}(jQuery),function(a){"use strict";a.fn.CFW_Init=function(){var b=a(this);b||(b=a(document.body)),a('[data-cfw="collapse"]',b).each(function(){a(this).CFW_Collapse()}),a('[data-cfw="dropdown"]',b).each(function(){a(this).CFW_Dropdown()}),a('[data-cfw="tab"]',b).each(function(){a(this).CFW_Tab()}),a('[data-cfw="tooltip"]',b).each(function(){a(this).CFW_Tooltip()}),a('[data-cfw="popover"]',b).each(function(){a(this).CFW_Popover()}),a('[data-cfw="modal"]',b).each(function(){a(this).CFW_Modal()}),a('[data-cfw="affix"]',b).each(function(){a(this).CFW_Affix()}),a('[data-cfw="tabResponsive"]',b).each(function(){a(this).CFW_TabResponsive()}),a('[data-cfw="accordion"]',b).each(function(){a(this).CFW_Accordion()}),a('[data-cfw="slideshow"]',b).each(function(){a(this).CFW_Slideshow()}),a('[data-cfw="scrollspy"]',b).each(function(){a(this).CFW_Scrollspy()}),a('[data-cfw="lazy"]',b).each(function(){a(this).CFW_Lazy()}),a('[data-cfw="slider"]',b).each(function(){a(this).CFW_Slider()}),a('[data-cfw="equalize"]',b).each(function(){a(this).CFW_Equalize()}),a('[data-cfw="player"]',b).each(function(){a(this).CFW_Player()})},a(window).ready(function(){"undefined"!=typeof CFW_API&&CFW_API===!1||a(document.body).CFW_Init()})}(jQuery);