var SlimStat={_id:typeof SlimStatParams.id!="undefined"?SlimStatParams.id:"-1.0",_base64_key_str:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_plugins:{acrobat:{substrings:["Adobe","Acrobat"],active_x_strings:["AcroPDF.PDF","PDF.PDFCtrl.5"]},director:{substrings:["Shockwave","Director"],active_x_strings:["SWCtl.SWCtl"]},flash:{substrings:["Shockwave","Flash"],active_x_strings:["ShockwaveFlash.ShockwaveFlash"]},mediaplayer:{substrings:["Windows Media"],active_x_strings:["WMPlayer.OCX"]},quicktime:{substrings:["QuickTime"],active_x_strings:["QuickTime.QuickTime"]},real:{substrings:["RealPlayer"],active_x_strings:["rmocx.RealPlayer G2 Control","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)"]},silverlight:{substrings:["Silverlight"],active_x_strings:["AgControl.AgControl"]}},_utf8_encode:function(e){var t,n,r="";e=e.replace(/\r\n/g,"\n");for(t=0;t<e.length;t++){n=e.charCodeAt(t);if(n<128){r+=String.fromCharCode(n)}else if(n>127&&n<2048){r+=String.fromCharCode(n>>6|192);r+=String.fromCharCode(n&63|128)}else{r+=String.fromCharCode(n>>12|224);r+=String.fromCharCode(n>>6&63|128);r+=String.fromCharCode(n&63|128)}}return r},_base64_encode:function(e){var t,n,r,i,s,o,u,a="",f=0;e=SlimStat._utf8_encode(e);while(f<e.length){t=e.charCodeAt(f++);n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=t>>2;s=(t&3)<<4|n>>4;o=(n&15)<<2|r>>6;u=r&63;if(isNaN(n)){o=u=64}else if(isNaN(r)){u=64}a=a+SlimStat._base64_key_str.charAt(i)+SlimStat._base64_key_str.charAt(s)+SlimStat._base64_key_str.charAt(o)+this._base64_key_str.charAt(u)}return a},_detect_single_plugin_not_ie:function(e){var t,n,r,i,s;for(i in navigator.plugins){n=""+navigator.plugins[i].name+navigator.plugins[i].description;r=0;for(s in SlimStat._plugins[e].substrings){if(n.indexOf(SlimStat._plugins[e].substrings[s])!=-1){r++}}if(r==SlimStat._plugins[e].substrings.length){return true}}return false},_detect_single_plugin_ie:function(e){var t;for(t in SlimStat._plugins[e].active_x_strings){try{new ActiveXObject(SlimStat._plugins[e].active_x_strings[t]);return true}catch(n){return false}}},_detect_single_plugin:function(e){if(navigator.plugins.length){this.detect=this._detect_single_plugin_not_ie}else{this.detect=this._detect_single_plugin_ie}return this.detect(e)},detect_plugins:function(){var e,t="";for(e in SlimStat._plugins){if(SlimStat._detect_single_plugin(e)){t+=e+"|"}}return t},has_smoothing:function(){if(typeof screen.fontSmoothingEnabled!="undefined"){return Number(screen.fontSmoothingEnabled)}else{if(typeof SlimStatParams.detect_smoothing!="undefined")return 0;try{var e=document.createElement("canvas");e.width="35";e.height="35";e.style.display="none";document.body.appendChild(e);var t=e.getContext("2d");t.textBaseline="top";t.font="32px Arial";t.fillStyle="black";t.strokeStyle="black";t.fillText("O",0,0);for(var n=8;n<=32;n++){for(var r=1;r<=32;r++){var i=t.getImageData(r,n,1,1).data;var s=i[3];if(s!=255&&s!=0)return 1}}return 0}catch(o){return 0}}},get_page_performance:function(){slim_performance=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(typeof slim_performance.timing=="undefined"){return 0}return slim_performance.timing.loadEventEnd-slim_performance.timing.responseEnd},get_server_latency:function(){slim_performance=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(typeof slim_performance.timing=="undefined"){return 0}return slim_performance.timing.responseEnd-slim_performance.timing.connectEnd},send_to_server:function(e,t){if(typeof SlimStatParams.ajaxurl=="undefined"||typeof e=="undefined"){if(typeof t=="function"){t()}return false}try{if(window.XMLHttpRequest){request=new XMLHttpRequest}else if(window.ActiveXObject){request=new ActiveXObject("Microsoft.XMLHTTP")}}catch(n){if(typeof t=="function"){t()}return false}if(request){var r="action=slimtrack_js&data="+SlimStat._base64_encode(e);request.open("POST",SlimStatParams.ajaxurl,true);request.setRequestHeader("Content-type","application/x-www-form-urlencoded");request.send(r);request.onreadystatechange=function(){if(request.readyState==4){if(typeof SlimStatParams.id=="undefined"){parsed_id=parseInt(request.responseText);if(!isNaN(parsed_id)&&parsed_id>0){SlimStat._id=request.responseText}}else{SlimStat._id=SlimStatParams.id}if(typeof t=="function"){t()}}};return true}return false},ss_track:function(e,t,n,r){if(!e){e=window.event}code=typeof t=="undefined"?0:parseInt(t);note_array=[];parsed_id=parseInt(SlimStat._id);if(isNaN(parsed_id)||parsed_id<=0){if(typeof r=="function"){r()}return false}node=typeof e.target!="undefined"?e.target:typeof e.srcElement!="undefined"?e.srcElement:false;if(!node){if(typeof r=="function"){r()}return false}if(node.nodeType==3)node=node.parentNode;parent_node=node.parentNode;node_hostname="";node_pathname=location.pathname;switch(node.nodeName){case"FORM":if(node.action.length>0)node_pathname=escape(node.action);break;case"INPUT":while(typeof parent_node!="undefined"&&parent_node.nodeName!="FORM"&&parent_node.nodeName!="BODY")parent_node=parent_node.parentNode;if(typeof parent_node.action!="undefined"&&parent_node.action.length>0){node_pathname=escape(parent_node.action);break};default:if(node.nodeName!="A"){if(typeof node.getAttribute=="function"&&node.getAttribute("id")!="undefined"&&node.getAttribute("id")!=null&&node.getAttribute("id").length>0){node_pathname=node.getAttribute("id");break}while(typeof node.parentNode!="undefined"&&node.parentNode!=null&&node.nodeName!="A"&&node.nodeName!="BODY")node=node.parentNode}if(typeof node.hash!="undefined"&&node.hash.length>0&&node.hostname==location.hostname){node_pathname=escape(node.hash)}else{node_hostname=typeof node.hostname!="undefined"?node.hostname:"";if(typeof node.href!="undefined"){node_pathname=escape(node.href)}}if(typeof node.getAttribute=="function"){if(node.getAttribute("title")!="undefined"&&node.getAttribute("title")!=null&&node.getAttribute("title").length>0)note_array.push("Title:"+node.getAttribute("title"));if(node.getAttribute("id")!="undefined"&&node.getAttribute("id")!=null&&node.getAttribute("id").length>0)note_array.push("ID:"+node.getAttribute("id"))}}slimstat_info="&obd="+node_hostname+"&obr="+node_pathname;pos_x=-1;var i=-1;if(typeof e.pageX!="undefined"&&typeof e.pageY!="undefined"){pos_x=e.pageX;i=e.pageY}else if(typeof e.clientX!="undefined"&&typeof e.clientY!="undefined"&&typeof document.body.scrollLeft!="undefined"&&typeof document.documentElement.scrollLeft!="undefined"&&typeof document.body.scrollTop!="undefined"&&typeof document.documentElement.scrollTop!="undefined"){pos_x=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;i=e.clientY+document.body.scrollTop+document.documentElement.scrollTop}if(pos_x>0&&i>0)slimstat_info+=(slimstat_info.length>0?"&":"?")+"po="+pos_x+","+i;note_array.push("Event:"+e.type);if(typeof n!="undefined"&&n.length>0)note_array.push(n);if(e.type!="click"&&typeof e.which!="undefined"){if(e.type=="keypress")note_array.push("Key:"+String.fromCharCode(parseInt(e.which)));else note_array.push("Type:"+e.which)}SlimStat.send_to_server("id="+SlimStat._id+"&ty="+code+slimstat_info+"&no="+escape(note_array.join(", ")),r);return true},slimstat_plusone:function(e){SlimStat.send_to_server("ty=4&obr="+escape("#google-plus-"+e.state))},add_event:function(e,t,n){if(e&&e.addEventListener){e.addEventListener(t,n,false)}else if(e&&e.attachEvent){e["e"+t+n]=n;e[t+n]=function(){e["e"+t+n](window.event)};e.attachEvent("on"+t,e[t+n])}else{e["on"+t]=e["e"+t+n]}},event_fire:function(e,t){var n=e;if(document.createEvent){var r=document.createEvent("MouseEvents");r.initEvent(t,true,false);n.dispatchEvent(r)}else if(document.createEventObject){var r=document.createEventObject();n.fireEvent("on"+t,r)}},in_array:function(e,t){for(var n=0;n<t.length;n++){if(t[n].trim()==e)return true}return false},in_array_substring:function(e,t){for(var n=0;n<t.length;n++){if(e.indexOf(t[n].trim())!=-1)return true}return false}};SlimStat.add_event(window,"load",function(){if(typeof SlimStatParams.disable_outbound_tracking=="undefined"){all_links=document.getElementsByTagName("a");var e=typeof SlimStatParams.extensions_to_track!="undefined"&&SlimStatParams.extensions_to_track.length>0?SlimStatParams.extensions_to_track.split(","):[];var t=typeof SlimStatParams.outbound_classes_to_ignore!="undefined"&&SlimStatParams.outbound_classes_to_ignore.length>0?SlimStatParams.outbound_classes_to_ignore.split(","):[];var n=typeof SlimStatParams.outbound_rel_to_ignore!="undefined"&&SlimStatParams.outbound_rel_to_ignore.length>0?SlimStatParams.outbound_rel_to_ignore.split(","):[];var r=typeof SlimStatParams.outbound_href_to_ignore!="undefined"&&SlimStatParams.outbound_href_to_ignore.length>0?SlimStatParams.outbound_href_to_ignore.split(","):[];for(var i=0;i<all_links.length;i++){(function(){var s=all_links[i];s.slimstat_actual_click=false;s.slimstat_type=0;s.slimstat_track_me=true;s.slimstat_callback=true;if(e.length>0&&s.pathname.indexOf(".")>0&&s.hostname==location.hostname){extension_current_link=s.pathname.split(".").pop().replace(/[\/\-]/g,"");s.slimstat_track_me=SlimStat.in_array(extension_current_link,e);s.slimstat_type=1}if(s.slimstat_track_me&&s.slimstat_type==0&&s.href&&(typeof SlimStatParams.track_internal_links=="undefined"||SlimStatParams.track_internal_links=="false")&&(s.hostname==location.hostname||s.href.indexOf("://")==-1)){s.slimstat_track_me=false}if(s.slimstat_track_me&&t.length>0){classes_current_link=typeof s.className!="undefined"&&s.className.length>0?s.className.split(" "):[];for(var o=0;o<classes_current_link.length;o++){if(SlimStat.in_array_substring(classes_current_link[o],t)){s.slimstat_callback=false;break}}}if(s.slimstat_track_me&&typeof s.attributes.rel!="undefined"&&s.attributes.rel.value.length>0&&SlimStat.in_array_substring(s.attributes.rel.value,n)){s.slimstat_callback=false}if(s.slimstat_track_me&&typeof s.href!="undefined"&&s.href.length>0&&SlimStat.in_array_substring(s.href,r)){s.slimstat_callback=false}if(s.slimstat_track_me&&s.target&&!s.target.match(/^_(self|parent|top)$/i)){s.slimstat_callback=false}SlimStat.add_event(s,"click",function(e){if(this.slimstat_track_me){if(!this.slimstat_actual_click){if(this.slimstat_callback){if(typeof e.preventDefault=="function"){e.preventDefault()}this.slimstat_actual_click=!this.slimstat_actual_click;SlimStat.ss_track(e,this.slimstat_type,"",function(){SlimStat.event_fire(s,"click")})}else{SlimStat.ss_track(e,this.slimstat_type,"",function(){})}}}})})()}}});var current_data="";if(typeof SlimStatParams.id!="undefined"&&parseInt(SlimStatParams.id)>0){current_data="id="+SlimStatParams.id}else if(typeof SlimStatParams.ci!="undefined"){current_data="ci="+SlimStatParams.ci+"&ref="+SlimStat._base64_encode(document.referrer)+"&res="+SlimStat._base64_encode(window.location.href)}if(current_data.length){SlimStat.add_event(window,"load",function(){setTimeout(function(){SlimStat.send_to_server(current_data+"&sw="+(screen.width||window.innerWidth||document.documentElement.clientWidth||document.body.offsetWidth)+"&sh="+(screen.height||window.innerHeight||document.documentElement.clientHeight||document.body.offsetHeight)+"&cd="+screen.colorDepth+"&aa="+SlimStat.has_smoothing()+"&sl="+SlimStat.get_server_latency()+"&pp="+SlimStat.get_page_performance()+"&pl="+SlimStat.detect_plugins())},0)})}