{"version":3,"file":null,"sources":["../node_modules/ui-router-core/src/common/hof.ts","../node_modules/ui-router-core/src/common/predicates.ts","../node_modules/ui-router-core/src/common/common.ts","../node_modules/ui-router-core/src/common/trace.ts","../node_modules/ui-router-core/src/transition/hookRegistry.ts","../node_modules/ui-router-core/src/transition/hookBuilder.ts","../node_modules/ui-router-core/src/params/paramType.ts","../node_modules/ui-router-core/src/params/param.ts","../node_modules/ui-router-core/src/url/urlMatcher.ts","../node_modules/ui-router-core/src/params/paramTypes.ts","../node_modules/ui-router-core/src/url/urlRouter.ts","../node_modules/ui-router-core/src/hooks/onEnterExitRetain.ts","../node_modules/ui-router-core/src/hooks/lazyLoad.ts","../node_modules/ui-router-core/src/state/stateBuilder.ts","../node_modules/ui-router-core/src/common/strings.ts","../src/statebuilders/views.ts","../src/templateFactory.ts","../src/services.ts","../src/directives/stateDirectives.ts","../src/stateFilters.ts","../src/directives/viewDirective.ts","../src/viewScroll.ts","../node_modules/ui-router-core/src/common/coreservices.ts","../node_modules/ui-router-core/src/common/glob.ts","../node_modules/ui-router-core/src/common/queue.ts","../node_modules/ui-router-core/src/transition/rejectFactory.ts","../node_modules/ui-router-core/src/transition/interface.ts","../node_modules/ui-router-core/src/state/targetState.ts","../node_modules/ui-router-core/src/transition/transitionHook.ts","../node_modules/ui-router-core/src/path/node.ts","../node_modules/ui-router-core/src/path/pathFactory.ts","../node_modules/ui-router-core/src/resolve/resolvable.ts","../node_modules/ui-router-core/src/resolve/interface.ts","../node_modules/ui-router-core/src/resolve/resolveContext.ts","../node_modules/ui-router-core/src/url/urlMatcherFactory.ts","../node_modules/ui-router-core/src/state/stateObject.ts","../node_modules/ui-router-core/src/url/urlRule.ts","../node_modules/ui-router-core/src/hooks/resolve.ts","../node_modules/ui-router-core/src/hooks/views.ts","../node_modules/ui-router-core/src/hooks/url.ts","../node_modules/ui-router-core/src/hooks/redirectTo.ts","../node_modules/ui-router-core/src/transition/transitionEventType.ts","../node_modules/ui-router-core/src/transition/transitionService.ts","../node_modules/ui-router-core/src/view/view.ts","../node_modules/ui-router-core/src/state/stateMatcher.ts","../node_modules/ui-router-core/src/state/stateQueueManager.ts","../node_modules/ui-router-core/src/state/stateRegistry.ts","../node_modules/ui-router-core/src/state/stateService.ts","../node_modules/ui-router-core/src/params/stateParams.ts","../node_modules/ui-router-core/src/globals.ts","../node_modules/ui-router-core/src/url/urlService.ts","../node_modules/ui-router-core/src/router.ts","../node_modules/ui-router-core/src/transition/transition.ts","../node_modules/ui-router-core/src/interface.ts","../src/angular.ts","../src/stateProvider.ts","../src/statebuilders/onEnterExitRetain.ts","../src/locationServices.ts","../src/urlRouterProvider.ts","../src/index.ts"],"sourcesContent":[{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/common/hof.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/common/predicates.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/common/common.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/common/trace.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/transition/hookRegistry.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/transition/hookBuilder.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/params/paramType.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/params/param.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/url/urlMatcher.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/params/paramTypes.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/url/urlRouter.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/hooks/onEnterExitRetain.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/hooks/lazyLoad.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/state/stateBuilder.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/common/strings.ts"},"/** @module ng1 */ /** */\nimport { ng as angular } from \"../angular\";\nimport {\n    State, pick, forEach, anyTrueR, tail, extend,\n    isArray, isInjectable, isDefined, isString, services, trace,\n    ViewConfig, ViewService, ViewConfigFactory, PathNode, ResolveContext, Resolvable, RawParams, IInjectable\n} from \"ui-router-core\";\nimport { Ng1ViewDeclaration } from \"../interface\";\nimport { TemplateFactory } from \"../templateFactory\";\nimport IInjectorService = angular.auto.IInjectorService;\n\nexport function getNg1ViewConfigFactory(): ViewConfigFactory {\n  let templateFactory: TemplateFactory = null;\n  return (path, view) => {\n    templateFactory = templateFactory || services.$injector.get(\"$templateFactory\");\n    return [new Ng1ViewConfig(path, view, templateFactory)];\n  };\n}\n\nconst hasAnyKey = (keys, obj) =>\n    keys.reduce((acc, key) => acc || isDefined(obj[key]), false);\n\n/**\n * This is a [[StateBuilder.builder]] function for angular1 `views`.\n *\n * When the [[StateBuilder]] builds a [[State]] object from a raw [[StateDeclaration]], this builder\n * handles the `views` property with logic specific to angular-ui-router (ng1).\n *\n * If no `views: {}` property exists on the [[StateDeclaration]], then it creates the `views` object\n * and applies the state-level configuration to a view named `$default`.\n */\nexport function ng1ViewsBuilder(state: State) {\n  // Do not process root state\n  if (!state.parent) return {};\n\n  let tplKeys = ['templateProvider', 'templateUrl', 'template', 'notify', 'async'],\n      ctrlKeys = ['controller', 'controllerProvider', 'controllerAs', 'resolveAs'],\n      compKeys = ['component', 'bindings', 'componentProvider'],\n      nonCompKeys = tplKeys.concat(ctrlKeys),\n      allKeys = compKeys.concat(nonCompKeys);\n\n  let views: { [key: string]: Ng1ViewDeclaration } = {},\n      viewsObject = state.views || { \"$default\": pick(state, allKeys) };\n\n  forEach(viewsObject, function (config: Ng1ViewDeclaration, name: string) {\n    // Account for views: { \"\": { template... } }\n    name = name || \"$default\";\n    // Account for views: { header: \"headerComponent\" }\n    if (isString(config)) config = { component: <string> config };\n\n    if (hasAnyKey(compKeys, config) && hasAnyKey(nonCompKeys, config)) {\n      throw new Error(`Cannot combine: ${compKeys.join(\"|\")} with: ${nonCompKeys.join(\"|\")} in stateview: '${name}@${state.name}'`);\n    }\n\n    config.resolveAs = config.resolveAs || '$resolve';\n    config.$type = \"ng1\";\n    config.$context = state;\n    config.$name = name;\n\n    let normalized = ViewService.normalizeUIViewTarget(config.$context, config.$name);\n    config.$uiViewName = normalized.uiViewName;\n    config.$uiViewContextAnchor = normalized.uiViewContextAnchor;\n\n    views[name] = config;\n  });\n  return views;\n}\n\nlet id = 0;\nexport class Ng1ViewConfig implements ViewConfig {\n  $id = id++;\n  loaded: boolean = false;\n  controller: Function; // actually IInjectable|string\n  template: string;\n  component: string;\n  locals: any; // TODO: delete me\n\n  constructor(public path: PathNode[], public viewDecl: Ng1ViewDeclaration, public factory: TemplateFactory) { }\n\n  load() {\n    let $q = services.$q;\n    let context = new ResolveContext(this.path);\n    let params = this.path.reduce((acc, node) => extend(acc, node.paramValues), {});\n\n    let promises: any = {\n      template: $q.when(this.factory.fromConfig(this.viewDecl, params, context)),\n      controller: $q.when(this.getController(context))\n    };\n\n    return $q.all(promises).then((results) => {\n      trace.traceViewServiceEvent(\"Loaded\", this);\n      this.controller = results.controller;\n      extend(this, results.template); // Either { template: \"tpl\" } or { component: \"cmpName\" }\n      return this;\n    });\n  }\n\n  getTemplate = (uiView, context: ResolveContext) =>\n    this.component ? this.factory.makeComponentTemplate(uiView, context, this.component, this.viewDecl.bindings) : this.template;\n\n  /**\n   * Gets the controller for a view configuration.\n   *\n   * @returns {Function|Promise.<Function>} Returns a controller, or a promise that resolves to a controller.\n   */\n  getController(context: ResolveContext): (IInjectable|string|Promise<IInjectable|string>) {\n    let provider = this.viewDecl.controllerProvider;\n    if (!isInjectable(provider)) return this.viewDecl.controller;\n    let deps = services.$injector.annotate(provider);\n    let providerFn = isArray(provider) ? tail(<any> provider) : provider;\n    let resolvable = new Resolvable(\"\", <any> providerFn, deps);\n    return resolvable.get(context);\n  }\n}\n","/** @module view */\n/** for typedoc */\nimport { ng as angular } from \"./angular\";\nimport { IAugmentedJQuery } from \"angular\";\nimport {\n  isArray, isDefined, isFunction, isObject, services, Obj, IInjectable, tail, kebobString, unnestR, ResolveContext,\n  Resolvable, RawParams, prop\n} from \"ui-router-core\";\nimport { Ng1ViewDeclaration, TemplateFactoryProvider } from \"./interface\";\n\n/**\n * Service which manages loading of templates from a ViewConfig.\n */\nexport class TemplateFactory implements TemplateFactoryProvider {\n  /** @hidden */ private _useHttp = angular.version.minor < 3;\n  /** @hidden */ private $templateRequest;\n  /** @hidden */ private $templateCache;\n  /** @hidden */ private $http;\n\n  /** @hidden */ $get = ['$http', '$templateCache', '$injector', ($http, $templateCache, $injector) => {\n    this.$templateRequest = $injector.has && $injector.has('$templateRequest') && $injector.get('$templateRequest');\n    this.$http = $http;\n    this.$templateCache = $templateCache;\n    return this;\n  }];\n\n  /** @hidden */\n  useHttpService(value: boolean) {\n    this._useHttp = value;\n  };\n\n  /**\n   * Creates a template from a configuration object.\n   *\n   * @param config Configuration object for which to load a template.\n   * The following properties are search in the specified order, and the first one \n   * that is defined is used to create the template:\n   *\n   * @param params  Parameters to pass to the template function.\n   * @param context The resolve context associated with the template's view\n   *\n   * @return {string|object}  The template html as a string, or a promise for \n   * that string,or `null` if no template is configured.\n   */\n  fromConfig(config: Ng1ViewDeclaration, params: any, context: ResolveContext) {\n    const defaultTemplate = \"<ui-view></ui-view>\";\n\n    const asTemplate = (result) => services.$q.when(result).then(str => ({ template: str }));\n    const asComponent = (result) => services.$q.when(result).then(str => ({ component: str }));\n\n    return (\n      isDefined(config.template)          ? asTemplate(this.fromString(config.template, params)) :\n      isDefined(config.templateUrl)       ? asTemplate(this.fromUrl(config.templateUrl, params)) :\n      isDefined(config.templateProvider)  ? asTemplate(this.fromProvider(config.templateProvider, params, context)) :\n      isDefined(config.component)         ? asComponent(config.component) :\n      isDefined(config.componentProvider) ? asComponent(this.fromComponentProvider(config.componentProvider, params, context)) :\n      asTemplate(defaultTemplate)\n    );\n  };\n\n  /**\n   * Creates a template from a string or a function returning a string.\n   *\n   * @param template html template as a string or function that returns an html template as a string.\n   * @param params Parameters to pass to the template function.\n   *\n   * @return {string|object} The template html as a string, or a promise for that \n   * string.\n   */\n  fromString(template: (string|Function), params?: RawParams) {\n    return isFunction(template) ? (<any> template)(params) : template;\n  };\n\n  /**\n   * Loads a template from the a URL via `$http` and `$templateCache`.\n   *\n   * @param {string|Function} url url of the template to load, or a function \n   * that returns a url.\n   * @param {Object} params Parameters to pass to the url function.\n   * @return {string|Promise.<string>} The template html as a string, or a promise \n   * for that string.\n   */\n  fromUrl(url: (string|Function), params: any) {\n    if (isFunction(url)) url = (<any> url)(params);\n    if (url == null) return null;\n\n    if (this._useHttp) {\n      return this.$http.get(url, { cache: this.$templateCache, headers: { Accept: 'text/html' }})\n          .then(function(response) { return response.data; });\n    }\n\n    return this.$templateRequest(url);\n  };\n\n  /**\n   * Creates a template by invoking an injectable provider function.\n   *\n   * @param provider Function to invoke via `locals`\n   * @param {Function} injectFn a function used to invoke the template provider\n   * @return {string|Promise.<string>} The template html as a string, or a promise \n   * for that string.\n   */\n  fromProvider(provider: IInjectable, params: any, context: ResolveContext) {\n    let deps = services.$injector.annotate(provider);\n    let providerFn = isArray(provider) ? tail(<any[]> provider) : provider;\n    let resolvable = new Resolvable(\"\", <Function> providerFn, deps);\n    return resolvable.get(context);\n  };\n\n  /**\n   * Creates a component's template by invoking an injectable provider function.\n   *\n   * @param provider Function to invoke via `locals`\n   * @param {Function} injectFn a function used to invoke the template provider\n   * @return {string} The template html as a string: \"<component-name input1='::$resolve.foo'></component-name>\".\n   */\n  fromComponentProvider(provider: IInjectable, params: any, context: ResolveContext) {\n    let deps = services.$injector.annotate(provider);\n    let providerFn = isArray(provider) ? tail(<any[]> provider) : provider;\n    let resolvable = new Resolvable(\"\", <Function> providerFn, deps);\n    return resolvable.get(context);\n  };\n\n  /**\n   * Creates a template from a component's name\n   *\n   * This implements route-to-component.\n   * It works by retrieving the component (directive) metadata from the injector.\n   * It analyses the component's bindings, then constructs a template that instantiates the component.\n   * The template wires input and output bindings to resolves or from the parent component.\n   *\n   * @param uiView {object} The parent ui-view (for binding outputs to callbacks)\n   * @param context The ResolveContext (for binding outputs to callbacks returned from resolves)\n   * @param component {string} Component's name in camel case.\n   * @param bindings An object defining the component's bindings: {foo: '<'}\n   * @return {string} The template as a string: \"<component-name input1='::$resolve.foo'></component-name>\".\n   */\n  makeComponentTemplate(uiView: IAugmentedJQuery, context: ResolveContext, component: string, bindings?: any) {\n    bindings = bindings || {};\n\n    // Bind once prefix\n    const prefix = angular.version.minor >= 3 ? \"::\" : \"\";\n\n    const attributeTpl = (input: BindingTuple) => {\n      let {name, type } = input;\n      let attrName = kebobString(name);\n      // If the ui-view has an attribute which matches a binding on the routed component\n      // then pass that attribute through to the routed component template.\n      // Prefer ui-view wired mappings to resolve data, unless the resolve was explicitly bound using `bindings:`\n      if (uiView.attr(attrName) && !bindings[name])\n        return `${attrName}='${uiView.attr(attrName)}'`;\n\n      let resolveName = bindings[name] || name;\n      // Pre-evaluate the expression for \"@\" bindings by enclosing in {{ }}\n      // some-attr=\"{{ ::$resolve.someResolveName }}\"\n      if (type === '@')\n        return `${attrName}='{{${prefix}$resolve.${resolveName}}}'`;\n\n      // Wire \"&\" callbacks to resolves that return a callback function\n      // Get the result of the resolve (should be a function) and annotate it to get its arguments.\n      // some-attr=\"$resolve.someResolveResultName(foo, bar)\"\n      if (type === '&') {\n        let res = context.getResolvable(resolveName);\n        let fn = res && res.data;\n        let args = fn && services.$injector.annotate(fn) || [];\n        // account for array style injection, i.e., ['foo', function(foo) {}]\n        let arrayIdxStr = isArray(fn) ? `[${fn.length - 1}]` : '';\n        return `${attrName}='$resolve.${resolveName}${arrayIdxStr}(${args.join(\",\")})'`;\n      }\n\n      // some-attr=\"::$resolve.someResolveName\"\n      return `${attrName}='${prefix}$resolve.${resolveName}'`;\n    };\n\n    let attrs = getComponentBindings(component).map(attributeTpl).join(\" \");\n    let kebobName = kebobString(component);\n    return `<${kebobName} ${attrs}></${kebobName}>`;\n  };\n}\n\n// Gets all the directive(s)' inputs ('@', '=', and '<') and outputs ('&')\nfunction getComponentBindings(name: string) {\n  let cmpDefs = <any[]> services.$injector.get(name + \"Directive\"); // could be multiple\n  if (!cmpDefs || !cmpDefs.length) throw new Error(`Unable to find component named '${name}'`);\n  return cmpDefs.map(getBindings).reduce(unnestR, []);\n}\n\n// Given a directive definition, find its object input attributes\n// Use different properties, depending on the type of directive (component, bindToController, normal)\nconst getBindings = (def: any) => {\n  if (isObject(def.bindToController)) return scopeBindings(def.bindToController);\n  return scopeBindings(def.scope);\n};\n\ninterface BindingTuple {\n  name: string;\n  type: string;\n}\n\n// for ng 1.2 style, process the scope: { input: \"=foo\" }\n// for ng 1.3 through ng 1.5, process the component's bindToController: { input: \"=foo\" } object\nconst scopeBindings = (bindingsObj: Obj) => Object.keys(bindingsObj || {})\n    // [ 'input', [ '=foo', '=', 'foo' ] ]\n    .map(key => [key, /^([=<@&])[?]?(.*)/.exec(bindingsObj[key])])\n    // skip malformed values\n    .filter(tuple => isDefined(tuple) && isArray(tuple[1]))\n    // { name: ('foo' || 'input'), type: '=' }\n    .map(tuple => ({ name: tuple[1][2] || tuple[0], type: tuple[1][1] } as BindingTuple));\n\n","/**\n * # UI-Router for Angular 1\n *\n * - Provides an implementation for the [[CoreServices]] API, based on angular 1 services.\n * - Also registers some services with the angular 1 injector.\n * - Creates and bootstraps a new [[UIRouter]] object.  Ties it to the the angular 1 lifecycle.\n *\n * @module ng1\n * @preferred\n */\n/** for typedoc */\nimport { ng as angular } from \"./angular\";\nimport { TypedMap } from \"ui-router-core\"; // has or is using\nimport {\n  IRootScopeService, IQService, ILocationService, ILocationProvider, IHttpService, ITemplateCacheService\n} from \"angular\";\nimport {\n  services, applyPairs, isString, trace, extend, UIRouter, StateService, UrlRouter, UrlMatcherFactory, ResolveContext, unnestR\n} from \"ui-router-core\";\nimport { ng1ViewsBuilder, getNg1ViewConfigFactory } from \"./statebuilders/views\";\nimport { TemplateFactory } from \"./templateFactory\";\nimport { StateProvider } from \"./stateProvider\";\nimport { getStateHookBuilder } from \"./statebuilders/onEnterExitRetain\";\nimport { Ng1LocationServices } from \"./locationServices\";\nimport { UrlRouterProvider } from \"./urlRouterProvider\";\nimport IInjectorService = angular.auto.IInjectorService;\n\nangular.module(\"ui.router.angular1\", []);\nlet mod_init  = angular.module('ui.router.init',   []);\nlet mod_util  = angular.module('ui.router.util',   ['ng', 'ui.router.init']);\nlet mod_rtr   = angular.module('ui.router.router', ['ui.router.util']);\nlet mod_state = angular.module('ui.router.state',  ['ui.router.router', 'ui.router.util', 'ui.router.angular1']);\nlet mod_main  = angular.module('ui.router',        ['ui.router.init', 'ui.router.state', 'ui.router.angular1']);\nlet mod_cmpt  = angular.module('ui.router.compat', ['ui.router']);\n\ndeclare module 'ui-router-core/lib/router' {\n  interface UIRouter {\n    /** @hidden */\n    stateProvider: StateProvider;\n    /** @hidden */\n    urlRouterProvider: UrlRouterProvider;\n  }\n}\n\nlet router: UIRouter = null;\n\n$uiRouter.$inject = ['$locationProvider'];\n/** This angular 1 provider instantiates a Router and exposes its services via the angular injector */\nfunction $uiRouter($locationProvider: ILocationProvider) {\n\n  // Create a new instance of the Router when the $uiRouterProvider is initialized\n  router = this.router = new UIRouter();\n  router.stateProvider = new StateProvider(router.stateRegistry, router.stateService);\n\n  // Apply ng1 specific StateBuilder code for `views`, `resolve`, and `onExit/Retain/Enter` properties\n  router.stateRegistry.decorator(\"views\",    ng1ViewsBuilder);\n  router.stateRegistry.decorator(\"onExit\",   getStateHookBuilder(\"onExit\"));\n  router.stateRegistry.decorator(\"onRetain\", getStateHookBuilder(\"onRetain\"));\n  router.stateRegistry.decorator(\"onEnter\",  getStateHookBuilder(\"onEnter\"));\n\n  router.viewService._pluginapi._viewConfigFactory('ng1', getNg1ViewConfigFactory());\n\n  let ng1LocationService = router.locationService = router.locationConfig = new Ng1LocationServices($locationProvider);\n\n  Ng1LocationServices.monkeyPatchPathParameterType(router);\n\n  // backwards compat: also expose router instance as $uiRouterProvider.router\n  router['router'] = router;\n  router['$get'] = $get;\n  $get.$inject = ['$location', '$browser', '$sniffer', '$rootScope', '$http', '$templateCache'];\n  function $get($location: ILocationService, $browser: any, $sniffer: any, $rootScope: ng.IScope, $http: IHttpService, $templateCache: ITemplateCacheService) {\n    ng1LocationService._runtimeServices($rootScope, $location, $sniffer, $browser);\n    delete router['router'];\n    delete router['$get'];\n    return router;\n  }\n  return router;\n}\n\nconst getProviderFor = (serviceName) => [ '$uiRouterProvider', ($urp) => {\n  let service = $urp.router[serviceName];\n  service[\"$get\"] = () => service;\n  return service;\n}];\n\n// This effectively calls $get() on `$uiRouterProvider` to trigger init (when ng enters runtime)\nrunBlock.$inject = ['$injector', '$q', '$uiRouter'];\nfunction runBlock($injector: IInjectorService, $q: IQService, $uiRouter: UIRouter) {\n  services.$injector = $injector;\n  services.$q = <any> $q;\n\n  // The $injector is now available.\n  // Find any resolvables that had dependency annotation deferred\n  $uiRouter.stateRegistry.get()\n      .map(x => x.$$state().resolvables)\n      .reduce(unnestR, [])\n      .filter(x => x.deps === \"deferred\")\n      .forEach(resolvable => resolvable.deps = $injector.annotate(resolvable.resolveFn));\n}\n\n// $urlRouter service and $urlRouterProvider\nconst getUrlRouterProvider = (router: UIRouter) =>\n  router.urlRouterProvider = new UrlRouterProvider(router);\n\n// $state service and $stateProvider\n// $urlRouter service and $urlRouterProvider\nconst getStateProvider = () =>\n    extend(router.stateProvider, { $get: () => router.stateService });\n\nwatchDigests.$inject = ['$rootScope'];\nexport function watchDigests($rootScope: IRootScopeService) {\n  $rootScope.$watch(function() { trace.approximateDigests++; });\n}\n\nmod_init .provider(\"$uiRouter\",          <any> $uiRouter);\nmod_rtr  .provider('$urlRouter',         ['$uiRouterProvider', getUrlRouterProvider]);\nmod_util .provider('$urlService',        getProviderFor('urlService'));\nmod_util .provider('$urlMatcherFactory', ['$uiRouterProvider', () => router.urlMatcherFactory]);\nmod_util .provider('$templateFactory',   () => new TemplateFactory());\nmod_state.provider('$stateRegistry',     getProviderFor('stateRegistry'));\nmod_state.provider('$uiRouterGlobals',   getProviderFor('globals'));\nmod_state.provider('$transitions',       getProviderFor('transitionService'));\nmod_state.provider('$state',             ['$uiRouterProvider', getStateProvider]);\n\nmod_state.factory ('$stateParams',       ['$uiRouter', ($uiRouter: UIRouter) => $uiRouter.globals.params]);\nmod_main .factory ('$view',              () => router.viewService);\nmod_main .service (\"$trace\",             () => trace);\n\nmod_main .run     (watchDigests);\nmod_util .run     (['$urlMatcherFactory', function ($urlMatcherFactory: UrlMatcherFactory) { }]);\nmod_state.run     (['$state', function ($state: StateService) { }]);\nmod_rtr  .run     (['$urlRouter', function ($urlRouter: UrlRouter) { }]);\nmod_init .run     (runBlock);\n\n/** @hidden TODO: find a place to move this */\nexport const getLocals = (ctx: ResolveContext) => {\n  let tokens = ctx.getTokens().filter(isString);\n\n  let tuples = tokens .map(key => {\n    let resolvable = ctx.getResolvable(key);\n    let waitPolicy = ctx.getPolicy(resolvable).async;\n    return [ key, waitPolicy === 'NOWAIT' ? resolvable.promise : resolvable.data ]\n  });\n\n  return tuples.reduce(applyPairs, {});\n};\n\n","/**\n * These are the UI-Router angular 1 directives.\n *\n * These directives are used in templates to create viewports and navigate to states\n *\n * @ng1api\n * @preferred\n * @module directives\n */ /** for typedoc */\nimport { ng as angular } from \"../angular\";\nimport { IAugmentedJQuery, ITimeoutService, IScope, IInterpolateService } from \"angular\";\n\nimport {\n    Obj, extend, forEach, tail, isString, isObject, parse, noop, unnestR, identity, uniqR, inArray, removeFrom,\n    RawParams, PathNode, StateOrName, StateService, StateDeclaration, UIRouter\n} from \"ui-router-core\";\nimport { UIViewData } from \"./viewDirective\";\n\n/** @hidden Used for typedoc */\nexport interface ng1_directive {}\n\n/** @hidden */\nfunction parseStateRef(ref: string) {\n  let paramsOnly = ref.match(/^\\s*({[^}]*})\\s*$/), parsed;\n  if (paramsOnly) ref = '(' + paramsOnly[1] + ')';\n\n  parsed = ref.replace(/\\n/g, \" \").match(/^\\s*([^(]*?)\\s*(\\((.*)\\))?\\s*$/);\n  if (!parsed || parsed.length !== 4) throw new Error(\"Invalid state ref '\" + ref + \"'\");\n  return { state: parsed[1] || null, paramExpr: parsed[3] || null };\n}\n\n/** @hidden */\nfunction stateContext(el: IAugmentedJQuery) {\n  let $uiView: UIViewData = (el.parent() as IAugmentedJQuery).inheritedData('$uiView');\n  let path: PathNode[] = parse('$cfg.path')($uiView);\n  return path ? tail(path).state.name : undefined;\n}\n\n/** @hidden */\nfunction processedDef($state: StateService, $element: IAugmentedJQuery, def: Def): Def {\n  let uiState = def.uiState || $state.current.name;\n  let uiStateOpts = extend(defaultOpts($element, $state), def.uiStateOpts || {});\n  let href = $state.href(uiState, def.uiStateParams, uiStateOpts);\n  return { uiState, uiStateParams: def.uiStateParams, uiStateOpts, href };\n}\n\n/** @hidden */\ninterface TypeInfo {\n  attr: string;\n  isAnchor: boolean;\n  clickable: boolean;\n}\n\n/** @hidden */\nfunction getTypeInfo(el: IAugmentedJQuery): TypeInfo {\n  // SVGAElement does not use the href attribute, but rather the 'xlinkHref' attribute.\n  var isSvg = Object.prototype.toString.call(el.prop('href')) === '[object SVGAnimatedString]';\n  var isForm = el[0].nodeName === \"FORM\";\n\n  return {\n    attr: isForm ? \"action\" : (isSvg ? 'xlink:href' : 'href'),\n    isAnchor: el.prop(\"tagName\").toUpperCase() === \"A\",\n    clickable: !isForm\n  };\n}\n\n/** @hidden */\nfunction clickHook(el: IAugmentedJQuery, $state: StateService, $timeout: ITimeoutService, type: TypeInfo, getDef: () => Def) {\n  return function (e: JQueryMouseEventObject) {\n    var button = e.which || e.button, target = getDef();\n\n    if (!(button > 1 || e.ctrlKey || e.metaKey || e.shiftKey || el.attr('target'))) {\n      // HACK: This is to allow ng-clicks to be processed before the transition is initiated:\n      var transition = $timeout(function () {\n        $state.go(target.uiState, target.uiStateParams, target.uiStateOpts);\n      });\n      e.preventDefault();\n\n      // if the state has no URL, ignore one preventDefault from the <a> directive.\n      var ignorePreventDefaultCount = type.isAnchor && !target.href ? 1 : 0;\n\n      e.preventDefault = function () {\n        if (ignorePreventDefaultCount-- <= 0) $timeout.cancel(transition);\n      };\n    }\n  };\n}\n\n/** @hidden */\nfunction defaultOpts(el: IAugmentedJQuery, $state: StateService) {\n  return {\n    relative: stateContext(el) || $state.$current,\n    inherit: true,\n    source: \"sref\"\n  };\n}\n\n/**\n * `ui-sref`: A directive for linking to a state\n *\n * A directive which links to a state (and optionally, parameters).\n * When clicked, this directive activates the linked state with the supplied parameter values.\n *\n * ### Linked State\n * The attribute value of the `ui-sref` is the name of the state to link to.\n *\n * #### Example:\n * This will activate the `home` state when the link is clicked.\n * <a ui-sref=\"home\">Home</a>\n *\n * ### Relative Links\n * You can also use relative state paths within `ui-sref`, just like a relative path passed to `$state.go()` ([[StateService.go]]).\n * You just need to be aware that the path is relative to the state that *created* the link.\n * This allows a state to create a relative `ui-sref` which always targets the same destination.\n *\n * #### Example:\n * Both these links are relative to the parent state, even when a child state is currently active.\n * ```html\n * <a ui-sref=\".child1\">child 1 state</a>\n * <a ui-sref=\".child2\">child 2 state</a>\n * ```\n *\n * This link activates the parent class.\n * ```html\n * <a ui-sref=\"^\">Return</a>\n * ```\n *\n * ### hrefs\n * If the linked state has a URL, the directive will automatically generate and\n * update the `href` attribute (using the [[StateService.href]]  method).\n *\n * #### Example:\n * Assuming the `users` state has a url of `/users/`\n * ```html\n * <a ui-sref=\"users\" href=\"/users/\">Users</a>\n * ```\n *\n * ### Parameter Values\n * In addition to the state name, a `ui-sref` can include parameter values which are applied when activating the state.\n * Param values can be provided in the `ui-sref` value after the state name, enclosed by parentheses.\n * The content inside the parentheses is an expression, evaluated to the parameter values.\n *\n * #### Example:\n * This example renders a list of links to users.\n * The state's `userId` parameter value comes from each user's `user.id` property.\n * ```html\n * <li ng-repeat=\"user in users\">\n *   <a ui-sref=\"users.detail({ userId: user.id })\">{{ user.displayName }}</a>\n * </li>\n * ```\n *\n * Note:\n * The parameter values expression is `$watch`ed for updates.\n *\n * ### Transition Options\n * You can specify [[TransitionOptions]] to pass to [[StateService.go]] by using the `ui-sref-opts` attribute.\n * Options are restricted to `location`, `inherit`, and `reload`.\n *\n * #### Example:\n * ```html\n * <a ui-sref=\"home\" ui-sref-opts=\"{ reload: true }\">Home</a>\n * ```\n *\n * ### Highlighting the active link\n * This directive can be used in conjunction with [[uiSrefActive]] to highlight the active link.\n *\n * ### Examples\n * If you have the following template:\n *\n * ```html\n * <a ui-sref=\"home\">Home</a>\n * <a ui-sref=\"about\">About</a>\n * <a ui-sref=\"{page: 2}\">Next page</a>\n *\n * <ul>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a ui-sref=\"contacts.detail({ id: contact.id })\">{{ contact.name }}</a>\n *     </li>\n * </ul>\n * ```\n *\n * Then (assuming the current state is `contacts`) the rendered html including hrefs would be:\n *\n * ```html\n * <a href=\"#/home\" ui-sref=\"home\">Home</a>\n * <a href=\"#/about\" ui-sref=\"about\">About</a>\n * <a href=\"#/contacts?page=2\" ui-sref=\"{page: 2}\">Next page</a>\n *\n * <ul>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a href=\"#/contacts/1\" ui-sref=\"contacts.detail({ id: contact.id })\">Joe</a>\n *     </li>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a href=\"#/contacts/2\" ui-sref=\"contacts.detail({ id: contact.id })\">Alice</a>\n *     </li>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a href=\"#/contacts/3\" ui-sref=\"contacts.detail({ id: contact.id })\">Bob</a>\n *     </li>\n * </ul>\n *\n * <a href=\"#/home\" ui-sref=\"home\" ui-sref-opts=\"{reload: true}\">Home</a>\n * ```\n *\n * ### Notes\n *\n * - You can use `ui-sref` to change **only the parameter values** by omitting the state name and parentheses.\n * #### Example:\n * Sets the `lang` parameter to `en` and remains on the same state.\n *\n * ```html\n * <a ui-sref=\"{ lang: 'en' }\">English</a>\n * ```\n *\n * - A middle-click, right-click, or ctrl-click is handled (natively) by the browser to open the href in a new window, for example.\n *\n * - Unlike the parameter values expression, the state name is not `$watch`ed (for performance reasons).\n * If you need to dynamically update the state being linked to, use the fully dynamic [[uiState]] directive.\n */\nlet uiSref: ng1_directive;\nuiSref = ['$uiRouter', '$timeout',\n  function $StateRefDirective($uiRouter: UIRouter, $timeout: ITimeoutService) {\n    let $state = $uiRouter.stateService;\n\n    return {\n      restrict: 'A',\n      require: ['?^uiSrefActive', '?^uiSrefActiveEq'],\n      link: function (scope: IScope, element: IAugmentedJQuery, attrs: any, uiSrefActive: any) {\n        let type = getTypeInfo(element);\n        let active = uiSrefActive[1] || uiSrefActive[0];\n        let unlinkInfoFn: Function = null;\n        let hookFn;\n\n        let rawDef = {} as Def;\n        let getDef = () => processedDef($state, element, rawDef);\n\n        let ref = parseStateRef(attrs.uiSref);\n        rawDef.uiState = ref.state;\n        rawDef.uiStateOpts = attrs.uiSrefOpts ? scope.$eval(attrs.uiSrefOpts) : {};\n\n        function update() {\n          let def = getDef();\n          if (unlinkInfoFn) unlinkInfoFn();\n          if (active) unlinkInfoFn = active.$$addStateInfo(def.uiState, def.uiStateParams);\n          if (def.href != null) attrs.$set(type.attr, def.href);\n        }\n\n        if (ref.paramExpr) {\n          scope.$watch(ref.paramExpr, function (val) {\n            rawDef.uiStateParams = angular.copy(val);\n            update();\n          }, true);\n          rawDef.uiStateParams = angular.copy(scope.$eval(ref.paramExpr));\n        }\n\n        update();\n\n        scope.$on('$destroy', <any> $uiRouter.stateRegistry.onStatesChanged(update));\n        scope.$on('$destroy', <any> $uiRouter.transitionService.onSuccess({}, update));\n\n        if (!type.clickable) return;\n        hookFn = clickHook(element, $state, $timeout, type, getDef);\n        element[element.on ? 'on' : 'bind'](\"click\", hookFn);\n        scope.$on('$destroy', function () {\n          element[element.off ? 'off' : 'unbind'](\"click\", hookFn);\n        });\n      }\n    };\n  }];\n\n/**\n * `ui-state`: A fully dynamic directive for linking to a state\n *\n * A directive which links to a state (and optionally, parameters).\n * When clicked, this directive activates the linked state with the supplied parameter values.\n *\n * **This directive is very similar to [[uiSref]], but it `$observe`s and `$watch`es/evaluates all its inputs.**\n *\n * A directive which links to a state (and optionally, parameters).\n * When clicked, this directive activates the linked state with the supplied parameter values.\n *\n * ### Linked State\n * The attribute value of `ui-state` is an expression which is `$watch`ed and evaluated as the state to link to.\n * **This is in contrast with `ui-sref`, which takes a state name as a string literal.**\n *\n * #### Example:\n * Create a list of links.\n * ```html\n * <li ng-repeat=\"link in navlinks\">\n *   <a ui-sref=\"link.state\">{{ link.displayName }}</a>\n * </li>\n *\n * ### Relative Links\n * If the expression evaluates to a relative path, it is processed like [[uiSref]].\n * You just need to be aware that the path is relative to the state that *created* the link.\n * This allows a state to create relative `ui-state` which always targets the same destination.\n *\n * ### hrefs\n * If the linked state has a URL, the directive will automatically generate and\n * update the `href` attribute (using the [[StateService.href]]  method).\n *\n * ### Parameter Values\n * In addition to the state name expression, a `ui-state` can include parameter values which are applied when activating the state.\n * Param values should be provided using the `ui-state-params` attribute.\n * The `ui-state-params` attribute value is `$watch`ed and evaluated as an expression.\n *\n * #### Example:\n * This example renders a list of links with param values.\n * The state's `userId` parameter value comes from each user's `user.id` property.\n * ```html\n * <li ng-repeat=\"link in navlinks\">\n *   <a ui-state=\"link.state\" ui-state-params=\"link.params\">{{ link.displayName }}</a>\n * </li>\n * ```\n *\n * ### Transition Options\n * You can specify [[TransitionOptions]] to pass to [[StateService.go]] by using the `ui-state-opts` attribute.\n * Options are restricted to `location`, `inherit`, and `reload`.\n * The value of the `ui-state-opts` is `$watch`ed and evaluated as an expression.\n *\n * #### Example:\n * ```html\n * <a ui-state=\"returnto.state\" ui-state-opts=\"{ reload: true }\">Home</a>\n * ```\n *\n * ### Highlighting the active link\n * This directive can be used in conjunction with [[uiSrefActive]] to highlight the active link.\n *\n * ### Notes\n *\n * - You can use `ui-params` to change **only the parameter values** by omitting the state name and supplying only `ui-state-params`.\n *   However, it might be simpler to use [[uiSref]] parameter-only links.\n *\n * #### Example:\n * Sets the `lang` parameter to `en` and remains on the same state.\n *\n * ```html\n * <a ui-state=\"\" ui-state-params=\"{ lang: 'en' }\">English</a>\n * ```\n *\n * - A middle-click, right-click, or ctrl-click is handled (natively) by the browser to open the href in a new window, for example.\n * ```\n */\nlet uiState: ng1_directive;\nuiState = ['$uiRouter', '$timeout',\n  function $StateRefDynamicDirective($uiRouter: UIRouter, $timeout: ITimeoutService) {\n    let $state = $uiRouter.stateService;\n\n    return {\n      restrict: 'A',\n      require: ['?^uiSrefActive', '?^uiSrefActiveEq'],\n      link: function (scope: IScope, element: IAugmentedJQuery, attrs: any, uiSrefActive: any) {\n        let type = getTypeInfo(element);\n        let active = uiSrefActive[1] || uiSrefActive[0];\n        let unlinkInfoFn: Function = null;\n        let hookFn;\n\n        let rawDef = {} as Def;\n        let getDef = () => processedDef($state, element, rawDef);\n\n        let inputAttrs = ['uiState', 'uiStateParams', 'uiStateOpts'];\n        let watchDeregFns = inputAttrs.reduce((acc, attr) => (acc[attr] = noop, acc), {});\n\n        function update() {\n          let def = getDef();\n          if (unlinkInfoFn) unlinkInfoFn();\n          if (active) unlinkInfoFn = active.$$addStateInfo(def.uiState, def.uiStateParams);\n          if (def.href != null) attrs.$set(type.attr, def.href);\n        }\n\n        inputAttrs.forEach((field) => {\n          rawDef[field] = attrs[field] ? scope.$eval(attrs[field]) : null;\n\n          attrs.$observe(field, (expr) => {\n            watchDeregFns[field]();\n            watchDeregFns[field] = scope.$watch(expr, (newval) => {\n              rawDef[field] = newval;\n              update();\n            }, true);\n          })\n        });\n\n        update();\n\n        scope.$on('$destroy', <any> $uiRouter.stateRegistry.onStatesChanged(update));\n        scope.$on('$destroy', <any> $uiRouter.transitionService.onSuccess({}, update));\n\n        if (!type.clickable) return;\n        hookFn = clickHook(element, $state, $timeout, type, getDef);\n        element[element.on ? 'on' : 'bind'](\"click\", hookFn);\n        scope.$on('$destroy', function () {\n          element[element.off ? 'off' : 'unbind'](\"click\", hookFn);\n        });\n      }\n    };\n  }];\n\n\n/**\n * `ui-sref-active` and `ui-sref-active-eq`: A directive that adds a CSS class when a `ui-sref` is active\n *\n * A directive working alongside [[uiSref]] and [[uiState]] to add classes to an element when the\n * related directive's state is active (and remove them when it is inactive).\n *\n * The primary use-case is to highlight the active link in navigation menus,\n * distinguishing it from the inactive menu items.\n *\n * ### Linking to a `ui-sref` or `ui-state`\n * `ui-sref-active` can live on the same element as `ui-sref`/`ui-state`, or it can be on a parent element.\n * If a `ui-sref-active` is a parent to more than one `ui-sref`/`ui-state`, it will apply the CSS class when **any of the links are active**.\n *\n * ### Matching\n *\n * The `ui-sref-active` directive applies the CSS class when the `ui-sref`/`ui-state`'s target state **or any child state is active**.\n * This is a \"fuzzy match\" which uses [[StateService.includes]].\n *\n * The `ui-sref-active-eq` directive applies the CSS class when the `ui-sref`/`ui-state`'s target state is directly active (not when child states are active).\n * This is an \"exact match\" which uses [[StateService.is]].\n *\n * ### Parameter values\n * If the `ui-sref`/`ui-state` includes parameter values, the current parameter values must match the link's values for the link to be highlighted.\n * This allows a list of links to the same state with different parameters to be rendered, and the correct one highlighted.\n *\n * #### Example:\n * ```html\n * <li ng-repeat=\"user in users\" ui-sref-active=\"active\">\n *   <a ui-sref=\"user.details({ userId: user.id })\">{{ user.lastName }}</a>\n * </li>\n * ```\n *\n * ### Examples\n *\n * Given the following template:\n * @example\n * ```html\n * <ul>\n *   <li ui-sref-active=\"active\" class=\"item\">\n *     <a href ui-sref=\"app.user({user: 'bilbobaggins'})\">@bilbobaggins</a>\n *   </li>\n * </ul>\n * ```\n *\n * When the app state is `app.user` (or any child state),\n * and contains the state parameter \"user\" with value \"bilbobaggins\",\n * the resulting HTML will appear as (note the 'active' class):\n *\n * ```html\n * <ul>\n *   <li ui-sref-active=\"active\" class=\"item active\">\n *     <a ui-sref=\"app.user({user: 'bilbobaggins'})\" href=\"/users/bilbobaggins\">@bilbobaggins</a>\n *   </li>\n * </ul>\n * ```\n *\n * ### Glob mode\n *\n * It is possible to pass `ui-sref-active` an expression that evaluates to an object.\n * The objects keys represent active class names and values represent the respective state names/globs.\n * `ui-sref-active` will match if the current active state **includes** any of\n * the specified state names/globs, even the abstract ones.\n *\n * #### Example:\n * Given the following template, with \"admin\" being an abstract state:\n * ```html\n * <div ui-sref-active=\"{'active': 'admin.**'}\">\n *   <a ui-sref-active=\"active\" ui-sref=\"admin.roles\">Roles</a>\n * </div>\n * ```\n *\n * When the current state is \"admin.roles\" the \"active\" class will be applied to both the <div> and <a> elements.\n * It is important to note that the state names/globs passed to `ui-sref-active` override any state provided by a linked `ui-sref`.\n *\n * ### Notes:\n *\n * - The class name is interpolated **once** during the directives link time (any further changes to the\n * interpolated value are ignored).\n *\n * - Multiple classes may be specified in a space-separated format: `ui-sref-active='class1 class2 class3'`\n */\nlet uiSrefActive: ng1_directive;\nuiSrefActive = ['$state', '$stateParams', '$interpolate', '$uiRouter',\n  function $StateRefActiveDirective($state: StateService, $stateParams: Obj, $interpolate: IInterpolateService, $uiRouter: UIRouter) {\n    return {\n      restrict: \"A\",\n      controller: ['$scope', '$element', '$attrs',\n        function ($scope: IScope, $element: IAugmentedJQuery, $attrs: any) {\n          let states: StateData[] = [],\n              activeEqClass: string,\n              uiSrefActive: any;\n\n          // There probably isn't much point in $observing this\n          // uiSrefActive and uiSrefActiveEq share the same directive object with some\n          // slight difference in logic routing\n          activeEqClass = $interpolate($attrs.uiSrefActiveEq || '', false)($scope);\n\n          try {\n            uiSrefActive = $scope.$eval($attrs.uiSrefActive);\n          } catch (e) {\n            // Do nothing. uiSrefActive is not a valid expression.\n            // Fall back to using $interpolate below\n          }\n          uiSrefActive = uiSrefActive || $interpolate($attrs.uiSrefActive || '', false)($scope);\n          if (isObject(uiSrefActive)) {\n            forEach(uiSrefActive, function (stateOrName: StateOrName, activeClass: string) {\n              if (isString(stateOrName)) {\n                let ref = parseStateRef(stateOrName);\n                addState(ref.state, $scope.$eval(ref.paramExpr), activeClass);\n              }\n            });\n          }\n\n          // Allow uiSref to communicate with uiSrefActive[Equals]\n          this.$$addStateInfo = function (newState: string, newParams: Obj) {\n            // we already got an explicit state provided by ui-sref-active, so we\n            // shadow the one that comes from ui-sref\n            if (isObject(uiSrefActive) && states.length > 0) {\n              return;\n            }\n            let deregister = addState(newState, newParams, uiSrefActive);\n            update();\n            return deregister;\n          };\n\n          function updateAfterTransition(trans) {\n            trans.promise.then(update);\n          }\n\n          $scope.$on('$stateChangeSuccess', update);\n          $scope.$on('$destroy', <any> $uiRouter.transitionService.onStart({}, updateAfterTransition));\n          if ($uiRouter.globals.transition) {\n            updateAfterTransition($uiRouter.globals.transition);\n          }\n\n          function addState(stateName: string, stateParams: Obj, activeClass: string) {\n            var state = $state.get(stateName, stateContext($element));\n\n            var stateInfo = {\n              state: state || { name: stateName },\n              params: stateParams,\n              activeClass: activeClass\n            };\n\n            states.push(stateInfo);\n\n            return function removeState() {\n              removeFrom(states)(stateInfo);\n            }\n          }\n\n          // Update route state\n          function update() {\n            const splitClasses = str =>\n                str.split(/\\s/).filter(identity);\n            const getClasses = (stateList: StateData[]) =>\n                stateList.map(x => x.activeClass).map(splitClasses).reduce(unnestR, []);\n\n            let allClasses = getClasses(states).concat(splitClasses(activeEqClass)).reduce(uniqR, []);\n            let fuzzyClasses = getClasses(states.filter(x => $state.includes(x.state.name, x.params)));\n            let exactlyMatchesAny = !!states.filter(x => $state.is(x.state.name, x.params)).length;\n            let exactClasses = exactlyMatchesAny ? splitClasses(activeEqClass) : [];\n\n            let addClasses = fuzzyClasses.concat(exactClasses).reduce(uniqR, []);\n            let removeClasses = allClasses.filter(cls => !inArray(addClasses, cls));\n\n            $scope.$evalAsync(() => {\n              addClasses.forEach(className => $element.addClass(className));\n              removeClasses.forEach(className => $element.removeClass(className));\n            });\n          }\n\n          update();\n        }]\n    };\n  }];\n\n/** @hidden */\ninterface Def { uiState: string; href: string; uiStateParams: Obj; uiStateOpts: any; }\n/** @hidden */\ninterface StateData { state: StateDeclaration; params: RawParams; activeClass: string; }\n\nangular.module('ui.router.state')\n    .directive('uiSref', uiSref)\n    .directive('uiSrefActive', uiSrefActive)\n    .directive('uiSrefActiveEq', uiSrefActive)\n    .directive('uiState', uiState);\n","/** @module state */ /** for typedoc */\n\nimport { ng as angular } from \"./angular\";\nimport { Obj, StateService, StateOrName } from \"ui-router-core\";\n\n/**\n * @ngdoc filter\n * @name ui.router.state.filter:isState\n *\n * @requires ui.router.state.$state\n *\n * @description\n * Translates to {@link ui.router.state.$state#methods_is $state.is(\"stateName\")}.\n */\n$IsStateFilter.$inject = ['$state'];\nexport function $IsStateFilter($state: StateService) {\n  var isFilter: any = function(state: StateOrName, params: Obj, options?: { relative?: boolean }) {\n    return $state.is(state, params, options);\n  };\n  isFilter.$stateful = true;\n  return isFilter;\n}\n\n/**\n * @ngdoc filter\n * @name ui.router.state.filter:includedByState\n *\n * @requires ui.router.state.$state\n *\n * @description\n * Translates to {@link ui.router.state.$state#methods_includes $state.includes('fullOrPartialStateName')}.\n */\n$IncludedByStateFilter.$inject = ['$state'];\nexport function $IncludedByStateFilter($state: StateService) {\n  var includesFilter: any = function(state: StateOrName, params: Obj, options: Obj) {\n    return $state.includes(state, params, options);\n  };\n  includesFilter.$stateful = true;\n  return  includesFilter;\n}\n\nangular.module('ui.router.state')\n  .filter('isState', $IsStateFilter)\n  .filter('includedByState', $IncludedByStateFilter);\n","/** \n * @ng1api \n * @module directives \n */ /** for typedoc */\nimport { ng as angular } from \"../angular\";\nimport {\n    IInterpolateService, IScope, ITranscludeFunction, IAugmentedJQuery,\n    ICompileService, IControllerService, ITimeoutService, noop\n} from \"angular\";\n\nimport {\n    extend, unnestR, filter, tail, isDefined, isFunction, isString, trace, parse,\n    ActiveUIView, TransitionService, ResolveContext, Transition, PathNode,\n    Param, kebobString, HookRegOptions, ViewService, $QLike, Obj, TypedMap\n} from \"ui-router-core\";\nimport {Ng1ViewConfig} from \"../statebuilders/views\";\nimport {Ng1Controller, Ng1StateDeclaration} from \"../interface\";\nimport {getLocals} from \"../services\";\nimport { ng1_directive } from \"./stateDirectives\";\n\n/** @hidden */\nexport type UIViewData = {\n  $cfg: Ng1ViewConfig;\n  $uiView: ActiveUIView;\n}\n\n/** @hidden */\nexport type UIViewAnimData = {\n  $animEnter: Promise<any>;\n  $animLeave: Promise<any>;\n  $$animLeave: { resolve: () => any; } // \"deferred\"\n}\n\n/**\n * `ui-view`: A viewport directive which is filled in by a view from the active state.\n *\n * ### Attributes\n *\n * - `name`: (Optional) A view name.\n *   The name should be unique amongst the other views in the same state.\n *   You can have views of the same name that live in different states.\n *   The ui-view can be targeted in a View using the name ([[Ng1StateDeclaration.views]]).\n *\n * - `autoscroll`: an expression. When it evaluates to true, the `ui-view` will be scrolled into view when it is activated.\n *   Uses [[$uiViewScroll]] to do the scrolling.\n *\n * - `onload`: Expression to evaluate whenever the view updates.\n *\n * A view can be unnamed or named.\n * @example\n * ```html\n *\n * <!-- Unnamed -->\n * <div ui-view></div>\n *\n * <!-- Named -->\n * <div ui-view=\"viewName\"></div>\n *\n * <!-- Named (different style) -->\n * <ui-view name=\"viewName\"></ui-view>\n * ```\n *\n * You can only have one unnamed view within any template (or root html). If you are only using a\n * single view and it is unnamed then you can populate it like so:\n * ```\n *\n * <div ui-view></div>\n * $stateProvider.state(\"home\", {\n *   template: \"<h1>HELLO!</h1>\"\n * })\n * ```\n *\n * The above is a convenient shortcut equivalent to specifying your view explicitly with the {@link ui.router.state.$stateProvider#views `views`}\n * config property, by name, in this case an empty name:\n * ```js\n *\n * $stateProvider.state(\"home\", {\n *   views: {\n *     \"\": {\n *       template: \"<h1>HELLO!</h1>\"\n *     }\n *   }\n * })\n * ```\n *\n * But typically you'll only use the views property if you name your view or have more than one view\n * in the same template. There's not really a compelling reason to name a view if its the only one,\n * but you could if you wanted, like so:\n *\n * ```html\n *\n * <div ui-view=\"main\"></div>\n * ```\n *\n * ```js\n *\n * $stateProvider.state(\"home\", {\n *   views: {\n *     \"main\": {\n *       template: \"<h1>HELLO!</h1>\"\n *     }\n *   }\n * })\n * ```\n *\n * Really though, you'll use views to set up multiple views:\n * ```html\n *\n * <div ui-view></div>\n * <div ui-view=\"chart\"></div>\n * <div ui-view=\"data\"></div>\n * ```\n *\n * ```js\n * $stateProvider.state(\"home\", {\n *   views: {\n *     \"\": {\n *       template: \"<h1>HELLO!</h1>\"\n *     },\n *     \"chart\": {\n *       template: \"<chart_thing/>\"\n *     },\n *     \"data\": {\n *       template: \"<data_thing/>\"\n *     }\n *   }\n * })\n * ```\n *\n * Examples for `autoscroll`:\n *\n * ```html\n *\n * <!-- If autoscroll present with no expression,\n *      then scroll ui-view into view -->\n * <ui-view autoscroll/>\n *\n * <!-- If autoscroll present with valid expression,\n *      then scroll ui-view into view if expression evaluates to true -->\n * <ui-view autoscroll='true'/>\n * <ui-view autoscroll='false'/>\n * <ui-view autoscroll='scopeVariable'/>\n * ```\n *\n * Resolve data:\n *\n * The resolved data from the state's `resolve` block is placed on the scope as `$resolve` (this\n * can be customized using [[ViewDeclaration.resolveAs]]).  This can be then accessed from the template.\n *\n * Note that when `controllerAs` is being used, `$resolve` is set on the controller instance *after* the\n * controller is instantiated.  The `$onInit()` hook can be used to perform initialization code which\n * depends on `$resolve` data.\n *\n * #### Example:\n * ```js\n * $stateProvider.state('home', {\n *   template: '<my-component user=\"$resolve.user\"></my-component>',\n *   resolve: {\n *     user: function(UserService) { return UserService.fetchUser(); }\n *   }\n * });\n * ```\n */\nlet uiView: ng1_directive;\nuiView = ['$view', '$animate', '$uiViewScroll', '$interpolate', '$q',\nfunction $ViewDirective($view: ViewService, $animate: any, $uiViewScroll: any, $interpolate: IInterpolateService, $q: $QLike) {\n\n  function getRenderer(attrs: Obj, scope: IScope) {\n    return {\n      enter: function(element: JQuery, target: any, cb: Function) {\n        if (angular.version.minor > 2) {\n          $animate.enter(element, null, target).then(cb);\n        } else {\n          $animate.enter(element, null, target, cb);\n        }\n      },\n      leave: function(element: JQuery, cb: Function) {\n        if (angular.version.minor > 2) {\n          $animate.leave(element).then(cb);\n        } else {\n          $animate.leave(element, cb);\n        }\n      }\n    };\n  }\n\n  function configsEqual(config1: Ng1ViewConfig, config2: Ng1ViewConfig) {\n    return config1 === config2;\n  }\n\n  let rootData = {\n    $cfg: { viewDecl: { $context: $view._pluginapi._rootViewContext() } },\n    $uiView: { }\n  };\n\n  let directive = {\n    count: 0,\n    restrict: 'ECA',\n    terminal: true,\n    priority: 400,\n    transclude: 'element',\n    compile: function (tElement: JQuery, tAttrs: Obj, $transclude: ITranscludeFunction) {\n\n      return function (scope: IScope, $element: IAugmentedJQuery, attrs: Obj) {\n        let previousEl: JQuery, currentEl: JQuery,\n            currentScope: IScope, unregister: Function,\n            onloadExp     = attrs['onload'] || '',\n            autoScrollExp = attrs['autoscroll'],\n            renderer      = getRenderer(attrs, scope),\n            viewConfig    = undefined as Ng1ViewConfig,\n            inherited     = $element.inheritedData('$uiView') || rootData,\n            name          = $interpolate(attrs['uiView'] || attrs['name'] || '')(scope) || '$default';\n\n        let activeUIView: ActiveUIView = {\n          $type: 'ng1',\n          id: directive.count++,                                   // Global sequential ID for ui-view tags added to DOM\n          name: name,                                              // ui-view name (<div ui-view=\"name\"></div>\n          fqn: inherited.$uiView.fqn ? inherited.$uiView.fqn + \".\" + name : name, // fully qualified name, describes location in DOM\n          config: null,                                            // The ViewConfig loaded (from a state.views definition)\n          configUpdated: configUpdatedCallback,                    // Called when the matching ViewConfig changes\n          get creationContext() {                                  // The context in which this ui-view \"tag\" was created\n            return parse('$cfg.viewDecl.$context')(inherited);\n          }\n        };\n\n        trace.traceUIViewEvent(\"Linking\", activeUIView);\n\n        function configUpdatedCallback(config?: Ng1ViewConfig) {\n          if (config && !(config instanceof Ng1ViewConfig)) return;\n          if (configsEqual(viewConfig, config)) return;\n          trace.traceUIViewConfigUpdated(activeUIView, config && config.viewDecl && config.viewDecl.$context);\n\n          viewConfig = config;\n          updateView(config);\n        }\n\n        $element.data('$uiView', { $uiView: activeUIView });\n\n        updateView();\n\n        unregister = $view.registerUIView(activeUIView);\n        scope.$on(\"$destroy\", function() {\n          trace.traceUIViewEvent(\"Destroying/Unregistering\", activeUIView);\n          unregister();\n        });\n\n        function cleanupLastView() {\n          if (previousEl) {\n            trace.traceUIViewEvent(\"Removing (previous) el\", previousEl.data('$uiView'));\n            previousEl.remove();\n            previousEl = null;\n          }\n\n          if (currentScope) {\n            trace.traceUIViewEvent(\"Destroying scope\", activeUIView);\n            currentScope.$destroy();\n            currentScope = null;\n          }\n\n          if (currentEl) {\n            let _viewData = currentEl.data('$uiViewAnim');\n            trace.traceUIViewEvent(\"Animate out\", _viewData);\n            renderer.leave(currentEl, function() {\n              _viewData.$$animLeave.resolve();\n              previousEl = null;\n            });\n\n            previousEl = currentEl;\n            currentEl = null;\n          }\n        }\n\n        function updateView(config?: Ng1ViewConfig) {\n          let newScope = scope.$new();\n          let animEnter = $q.defer(), animLeave = $q.defer();\n\n          let $uiViewData: UIViewData = {\n            $cfg: config,\n            $uiView: activeUIView,\n          };\n\n          let $uiViewAnim: UIViewAnimData = {\n            $animEnter: animEnter.promise,\n            $animLeave: animLeave.promise,\n            $$animLeave: animLeave\n          };\n\n          /**\n           * @ngdoc event\n           * @name ui.router.state.directive:ui-view#$viewContentLoading\n           * @eventOf ui.router.state.directive:ui-view\n           * @eventType emits on ui-view directive scope\n           * @description\n           *\n           * Fired once the view **begins loading**, *before* the DOM is rendered.\n           *\n           * @param {Object} event Event object.\n           * @param {string} viewName Name of the view.\n           */\n          newScope.$emit('$viewContentLoading', name);\n\n          let cloned = $transclude(newScope, function(clone) {\n            clone.data('$uiViewAnim', $uiViewAnim);\n            clone.data('$uiView', $uiViewData);\n            renderer.enter(clone, $element, function onUIViewEnter() {\n              animEnter.resolve();\n              if (currentScope) currentScope.$emit('$viewContentAnimationEnded');\n\n              if (isDefined(autoScrollExp) && !autoScrollExp || scope.$eval(autoScrollExp)) {\n                $uiViewScroll(clone);\n              }\n            });\n\n            cleanupLastView();\n          });\n\n          currentEl = cloned;\n          currentScope = newScope;\n          /**\n           * @ngdoc event\n           * @name ui.router.state.directive:ui-view#$viewContentLoaded\n           * @eventOf ui.router.state.directive:ui-view\n           * @eventType emits on ui-view directive scope\n           * @description           *\n           * Fired once the view is **loaded**, *after* the DOM is rendered.\n           *\n           * @param {Object} event Event object.\n           */\n          currentScope.$emit('$viewContentLoaded', config || viewConfig);\n          currentScope.$eval(onloadExp);\n        }\n      };\n    }\n  };\n\n  return directive;\n}];\n\n$ViewDirectiveFill.$inject = ['$compile', '$controller', '$transitions', '$view', '$timeout'];\n/** @hidden */\nfunction $ViewDirectiveFill ($compile: ICompileService, $controller: IControllerService, $transitions: TransitionService, $view: ViewService, $timeout: ITimeoutService) {\n  const getControllerAs = parse('viewDecl.controllerAs');\n  const getResolveAs = parse('viewDecl.resolveAs');\n\n  return {\n    restrict: 'ECA',\n    priority: -400,\n    compile: function (tElement: JQuery) {\n      let initial = tElement.html();\n      tElement.empty();\n\n      return function (scope: IScope, $element: JQuery) {\n        let data: UIViewData = $element.data('$uiView');\n        if (!data) {\n            $element.html(initial);\n            $compile($element.contents())(scope);\n            return;\n        }\n\n        let cfg: Ng1ViewConfig = data.$cfg || <any> { viewDecl: {}, getTemplate: noop };\n        let resolveCtx: ResolveContext = cfg.path && new ResolveContext(cfg.path);\n        $element.html(cfg.getTemplate($element, resolveCtx) || initial);\n        trace.traceUIViewFill(data.$uiView, $element.html());\n\n        let link = $compile($element.contents());\n        let controller = cfg.controller;\n        let controllerAs: string = getControllerAs(cfg);\n        let resolveAs: string = getResolveAs(cfg);\n        let locals = resolveCtx && getLocals(resolveCtx);\n\n        scope[resolveAs] = locals;\n\n        if (controller) {\n          let controllerInstance = <Ng1Controller> $controller(controller, extend({}, locals, { $scope: scope, $element: $element }));\n          if (controllerAs) {\n            scope[controllerAs] = controllerInstance;\n            scope[controllerAs][resolveAs] = locals;\n          }\n\n          // TODO: Use $view service as a central point for registering component-level hooks\n          // Then, when a component is created, tell the $view service, so it can invoke hooks\n          // $view.componentLoaded(controllerInstance, { $scope: scope, $element: $element });\n          // scope.$on('$destroy', () => $view.componentUnloaded(controllerInstance, { $scope: scope, $element: $element }));\n\n          $element.data('$ngControllerController', controllerInstance);\n          $element.children().data('$ngControllerController', controllerInstance);\n\n          registerControllerCallbacks($transitions, controllerInstance, scope, cfg);\n        }\n\n        // Wait for the component to appear in the DOM\n        if (isString(cfg.viewDecl.component)) {\n          let cmp = cfg.viewDecl.component;\n          let kebobName = kebobString(cmp);\n          let getComponentController = () => {\n            let directiveEl = [].slice.call($element[0].children)\n                .filter((el: Element) => el && el.tagName && el.tagName.toLowerCase() === kebobName) ;\n            return directiveEl && angular.element(directiveEl).data(`$${cmp}Controller`);\n          };\n\n          let deregisterWatch = scope.$watch(getComponentController, function(ctrlInstance) {\n            if (!ctrlInstance) return;\n            registerControllerCallbacks($transitions, ctrlInstance, scope, cfg);\n            deregisterWatch();\n          });\n        }\n\n        link(scope);\n      };\n    }\n  };\n}\n\n/** @hidden */\nlet hasComponentImpl = typeof (angular as any).module('ui.router')['component'] === 'function';\n\n/** @hidden TODO: move these callbacks to $view and/or `/hooks/components.ts` or something */\nfunction registerControllerCallbacks($transitions: TransitionService, controllerInstance: Ng1Controller, $scope: IScope, cfg: Ng1ViewConfig) {\n  // Call $onInit() ASAP\n  if (isFunction(controllerInstance.$onInit) && !(cfg.viewDecl.component && hasComponentImpl)) controllerInstance.$onInit();\n\n  let viewState: Ng1StateDeclaration = tail(cfg.path).state.self;\n\n  var hookOptions: HookRegOptions = { bind: controllerInstance };\n  // Add component-level hook for onParamsChange\n  if (isFunction(controllerInstance.uiOnParamsChanged)) {\n    let resolveContext: ResolveContext = new ResolveContext(cfg.path);\n    let viewCreationTrans = resolveContext.getResolvable('$transition$').data;\n\n    // Fire callback on any successful transition\n    const paramsUpdated = ($transition$: Transition) => {\n      // Exit early if the $transition$ is the same as the view was created within.\n      // Exit early if the $transition$ will exit the state the view is for.\n      if ($transition$ === viewCreationTrans || $transition$.exiting().indexOf(viewState) !== -1) return;\n\n      let toParams = $transition$.params(\"to\") as TypedMap<any>;\n      let fromParams = $transition$.params<TypedMap<any>>(\"from\") as TypedMap<any>;\n      let toSchema: Param[] = $transition$.treeChanges().to.map((node: PathNode) => node.paramSchema).reduce(unnestR, []);\n      let fromSchema: Param[] = $transition$.treeChanges().from.map((node: PathNode) => node.paramSchema).reduce(unnestR, []);\n\n      // Find the to params that have different values than the from params\n      let changedToParams = toSchema.filter((param: Param) => {\n        let idx = fromSchema.indexOf(param);\n        return idx === -1 || !fromSchema[idx].type.equals(toParams[param.id], fromParams[param.id]);\n      });\n\n      // Only trigger callback if a to param has changed or is new\n      if (changedToParams.length) {\n        let changedKeys: string[] = changedToParams.map(x => x.id);\n        // Filter the params to only changed/new to params.  `$transition$.params()` may be used to get all params.\n        var newValues = filter(toParams, (val, key) => changedKeys.indexOf(key) !== -1);\n        controllerInstance.uiOnParamsChanged(newValues, $transition$);\n      }\n    };\n    $scope.$on('$destroy', <any> $transitions.onSuccess({}, paramsUpdated, hookOptions));\n  }\n\n  // Add component-level hook for uiCanExit\n  if (isFunction(controllerInstance.uiCanExit)) {\n    var criteria = {exiting: viewState.name};\n    $scope.$on('$destroy', <any> $transitions.onBefore(criteria, controllerInstance.uiCanExit, hookOptions));\n  }\n}\n\nangular.module('ui.router.state').directive('uiView', <any> uiView);\nangular.module('ui.router.state').directive('uiView', <any> $ViewDirectiveFill);\n","/** @module ng1 */ /** */\nimport { ng as angular } from \"./angular\";\nimport { IServiceProviderFactory } from \"angular\";\nimport IAnchorScrollService = angular.IAnchorScrollService;\nimport ITimeoutService = angular.ITimeoutService;\n\nexport interface UIViewScrollProvider {\n  /**\n   * Uses standard anchorScroll behavior\n   *\n   * Reverts [[$uiViewScroll]] back to using the core [`$anchorScroll`](http://docs.angularjs.org/api/ng.$anchorScroll)\n   * service for scrolling based on the url anchor.\n   */\n  useAnchorScroll(): void;\n}\n\n\n/** @hidden */\nfunction $ViewScrollProvider() {\n\n  var useAnchorScroll = false;\n\n  this.useAnchorScroll = function () {\n    useAnchorScroll = true;\n  };\n\n  this.$get = ['$anchorScroll', '$timeout', function ($anchorScroll: IAnchorScrollService, $timeout: ITimeoutService): Function {\n    if (useAnchorScroll) {\n      return $anchorScroll;\n    }\n\n    return function ($element: JQuery) {\n      return $timeout(function () {\n        $element[0].scrollIntoView();\n      }, 0, false);\n    };\n  }];\n}\n\nangular.module('ui.router.state').provider('$uiViewScroll', <IServiceProviderFactory> $ViewScrollProvider);\n",{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/common/coreservices.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/common/glob.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/common/queue.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/transition/rejectFactory.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/transition/interface.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/state/targetState.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/transition/transitionHook.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/path/node.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/path/pathFactory.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/resolve/resolvable.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/resolve/interface.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/resolve/resolveContext.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/url/urlMatcherFactory.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/state/stateObject.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/url/urlRule.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/hooks/resolve.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/hooks/views.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/hooks/url.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/hooks/redirectTo.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/transition/transitionEventType.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/transition/transitionService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/view/view.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/state/stateMatcher.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/state/stateQueueManager.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/state/stateRegistry.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/state/stateService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/params/stateParams.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/globals.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/url/urlService.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/router.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/transition/transition.ts"},{"errno":-2,"code":"ENOENT","syscall":"open","path":"/Users/christhielen/projects/ui-router/node_modules/ui-router-core/src/interface.ts"},"/**\n * @hidden\n * @module ng1\n */ /** */\ndeclare var angular;\nimport * as ng_from_import from \"angular\";\nlet ng_from_global = angular;\n\nexport const ng = (ng_from_import && ng_from_import.module) ? ng_from_import : ng_from_global;\n","/** @module ng1 */ /** for typedoc */\nimport {\n    val, isObject, createProxyFunctions, BuilderFunction, StateRegistry, StateService, OnInvalidCallback\n} from \"ui-router-core\";\nimport { Ng1StateDeclaration } from \"./interface\";\n\n/**\n * @ngdoc object\n * @name ui.router.state.$stateProvider\n *\n * @requires ui.router.router.$urlRouterProvider\n * @requires ui.router.util.$urlMatcherFactoryProvider\n *\n * @description\n * The new `$stateProvider` works similar to Angular's v1 router, but it focuses purely\n * on state.\n *\n * A state corresponds to a \"place\" in the application in terms of the overall UI and\n * navigation. A state describes (via the controller / template / view properties) what\n * the UI looks like and does at that place.\n *\n * States often have things in common, and the primary way of factoring out these\n * commonalities in this model is via the state hierarchy, i.e. parent/child states aka\n * nested states.\n *\n * The `$stateProvider` provides interfaces to declare these states for your app.\n */\nexport class StateProvider {\n  constructor(private stateRegistry: StateRegistry, private stateService: StateService) {\n    createProxyFunctions(val(StateProvider.prototype), this, val(this));\n  }\n\n  /**\n   * @ngdoc function\n   * @name ui.router.state.$stateProvider#decorator\n   * @methodOf ui.router.state.$stateProvider\n   *\n   * @description\n   * Allows you to extend (carefully) or override (at your own peril) the\n   * `stateBuilder` object used internally by `$stateProvider`. This can be used\n   * to add custom functionality to ui-router, for example inferring templateUrl\n   * based on the state name.\n   *\n   * When passing only a name, it returns the current (original or decorated) builder\n   * function that matches `name`.\n   *\n   * The builder functions that can be decorated are listed below. Though not all\n   * necessarily have a good use case for decoration, that is up to you to decide.\n   *\n   * In addition, users can attach custom decorators, which will generate new\n   * properties within the state's internal definition. There is currently no clear\n   * use-case for this beyond accessing internal states (i.e. $state.$current),\n   * however, expect this to become increasingly relevant as we introduce additional\n   * meta-programming features.\n   *\n   * **Warning**: Decorators should not be interdependent because the order of\n   * execution of the builder functions in non-deterministic. Builder functions\n   * should only be dependent on the state definition object and super function.\n   *\n   *\n   * Existing builder functions and current return values:\n   *\n   * - **parent** `{object}` - returns the parent state object.\n   * - **data** `{object}` - returns state data, including any inherited data that is not\n   *   overridden by own values (if any).\n   * - **url** `{object}` - returns a {@link ui.router.util.type:UrlMatcher UrlMatcher}\n   *   or `null`.\n   * - **navigable** `{object}` - returns closest ancestor state that has a URL (aka is\n   *   navigable).\n   * - **params** `{object}` - returns an array of state params that are ensured to\n   *   be a super-set of parent's params.\n   * - **views** `{object}` - returns a views object where each key is an absolute view\n   *   name (i.e. \"viewName@stateName\") and each value is the config object\n   *   (template, controller) for the view. Even when you don't use the views object\n   *   explicitly on a state config, one is still created for you internally.\n   *   So by decorating this builder function you have access to decorating template\n   *   and controller properties.\n   * - **ownParams** `{object}` - returns an array of params that belong to the state,\n   *   not including any params defined by ancestor states.\n   * - **path** `{string}` - returns the full path from the root down to this state.\n   *   Needed for state activation.\n   * - **includes** `{object}` - returns an object that includes every state that\n   *   would pass a `$state.includes()` test.\n   *\n   * @example\n   * <pre>\n   * // Override the internal 'views' builder with a function that takes the state\n   * // definition, and a reference to the internal function being overridden:\n   * $stateProvider.decorator('views', function (state, parent) {\n   *   let result = {},\n   *       views = parent(state);\n   *\n   *   angular.forEach(views, function (config, name) {\n   *     let autoName = (state.name + '.' + name).replace('.', '/');\n   *     config.templateUrl = config.templateUrl || '/partials/' + autoName + '.html';\n   *     result[name] = config;\n   *   });\n   *   return result;\n   * });\n   *\n   * $stateProvider.state('home', {\n   *   views: {\n   *     'contact.list': { controller: 'ListController' },\n   *     'contact.item': { controller: 'ItemController' }\n   *   }\n   * });\n   *\n   * // ...\n   *\n   * $state.go('home');\n   * // Auto-populates list and item views with /partials/home/contact/list.html,\n   * // and /partials/home/contact/item.html, respectively.\n   * </pre>\n   *\n   * @param {string} name The name of the builder function to decorate.\n   * @param {object} func A function that is responsible for decorating the original\n   * builder function. The function receives two parameters:\n   *\n   *   - `{object}` - state - The state config object.\n   *   - `{object}` - super - The original builder function.\n   *\n   * @return {object} $stateProvider - $stateProvider instance\n   */\n  decorator(name: string, func: BuilderFunction) {\n    return this.stateRegistry.decorator(name, func) || this;\n  }\n\n  /**\n   * @ngdoc function\n   * @name ui.router.state.$stateProvider#state\n   * @methodOf ui.router.state.$stateProvider\n   *\n   * @description\n   * Registers a state configuration under a given state name. The stateConfig object\n   * has the following acceptable properties.\n   *\n   * <a id='template'></a>\n   *\n   * - **`template`** - {string|function=} - html template as a string or a function that returns\n   *   an html template as a string which should be used by the uiView directives. This property\n   *   takes precedence over templateUrl.\n   *\n   *   If `template` is a function, it will be called with the following parameters:\n   *\n   *   - {array.&lt;object&gt;} - state parameters extracted from the current $location.path() by\n   *     applying the current state\n   *\n   * <a id='templateUrl'></a>\n   *\n   * - **`templateUrl`** - {string|function=} - path or function that returns a path to an html\n   *   template that should be used by uiView.\n   *\n   *   If `templateUrl` is a function, it will be called with the following parameters:\n   *\n   *   - {array.&lt;object&gt;} - state parameters extracted from the current $location.path() by\n   *     applying the current state\n   *\n   * <a id='templateProvider'></a>\n   *\n   * - **`templateProvider`** - {function=} - Provider function that returns HTML content\n   *   string.\n   *\n   * <a id='controller'></a>\n   *\n   * - **`controller`** - {string|function=} -  Controller fn that should be associated with newly\n   *   related scope or the name of a registered controller if passed as a string.\n   *\n   * <a id='controllerProvider'></a>\n   *\n   * - **`controllerProvider`** - {function=} - Injectable provider function that returns\n   *   the actual controller or string.\n   *\n   * <a id='controllerAs'></a>\n   *\n   * - **`controllerAs`**  {string=}  A controller alias name. If present the controller will be\n   *   published to scope under the controllerAs name.\n   *\n   * <a id='resolve'></a>\n   *\n   * - **`resolve`** - {object.&lt;string, function&gt;=} - An optional map of dependencies which\n   *   should be injected into the controller. If any of these dependencies are promises,\n   *   the router will wait for them all to be resolved or one to be rejected before the\n   *   controller is instantiated. If all the promises are resolved successfully, the values\n   *   of the resolved promises are injected and $stateChangeSuccess event is fired. If any\n   *   of the promises are rejected the $stateChangeError event is fired. The map object is:\n   *\n   *   - key - {string}: name of dependency to be injected into controller\n   *   - factory - {string|function}: If string then it is alias for service. Otherwise if function,\n   *     it is injected and return value it treated as dependency. If result is a promise, it is\n   *     resolved before its value is injected into controller.\n   *\n   * <a id='url'></a>\n   *\n   * - **`url`** - {string=} - A url with optional parameters. When a state is navigated or\n   *   transitioned to, the `$stateParams` service will be populated with any\n   *   parameters that were passed.\n   *\n   * <a id='params'></a>\n   *\n   * - **`params`** - {object=} - An array of parameter names or regular expressions. Only\n   *   use this within a state if you are not using url. Otherwise you can specify your\n   *   parameters within the url. When a state is navigated or transitioned to, the\n   *   $stateParams service will be populated with any parameters that were passed.\n   *\n   * <a id='views'></a>\n   *\n   * - **`views`** - {object=} - Use the views property to set up multiple views or to target views\n   *   manually/explicitly.\n   *\n   * <a id='abstract'></a>\n   *\n   * - **`abstract`** - {boolean=} - An abstract state will never be directly activated,\n   *   but can provide inherited properties to its common children states.\n   *\n   * <a id='onEnter'></a>\n   *\n   * - **`onEnter`** - {object=} - Callback function for when a state is entered. Good way\n   *   to trigger an action or dispatch an event, such as opening a dialog.\n   * If minifying your scripts, make sure to use the `['injection1', 'injection2', function(injection1, injection2){}]` syntax.\n   *\n   * <a id='onExit'></a>\n   *\n   * - **`onExit`** - {object=} - Callback function for when a state is exited. Good way to\n   *   trigger an action or dispatch an event, such as opening a dialog.\n   * If minifying your scripts, make sure to use the `['injection1', 'injection2', function(injection1, injection2){}]` syntax.\n   *\n   * <a id='reloadOnSearch'></a>\n   *\n   * - **`reloadOnSearch = true`** - {boolean=} - If `false`, will not retrigger the same state\n   *   just because a search/query parameter has changed (via $location.search() or $location.hash()).\n   *   Useful for when you'd like to modify $location.search() without triggering a reload.\n   *\n   * <a id='data'></a>\n   *\n   * - **`data`** - {object=} - Arbitrary data object, useful for custom configuration.\n   *\n   * @example\n   * <pre>\n   * // Some state name examples\n   *\n   * // stateName can be a single top-level name (must be unique).\n   * $stateProvider.state(\"home\", {});\n   *\n   * // Or it can be a nested state name. This state is a child of the\n   * // above \"home\" state.\n   * $stateProvider.state(\"home.newest\", {});\n   *\n   * // Nest states as deeply as needed.\n   * $stateProvider.state(\"home.newest.abc.xyz.inception\", {});\n   *\n   * // state() returns $stateProvider, so you can chain state declarations.\n   * $stateProvider\n   *   .state(\"home\", {})\n   *   .state(\"about\", {})\n   *   .state(\"contacts\", {});\n   * </pre>\n   *\n   * @param {string} name A unique state name, e.g. \"home\", \"about\", \"contacts\".\n   * To create a parent/child state use a dot, e.g. \"about.sales\", \"home.newest\".\n   * @param {object} definition State configuration object.\n   */\n  state(name: string, definition: Ng1StateDeclaration): StateProvider;\n  state(definition: Ng1StateDeclaration): StateProvider;\n  state(name: any, definition?: any) {\n    if (isObject(name)) {\n      definition = name;\n    } else {\n      definition.name = name;\n    }\n    this.stateRegistry.register(definition);\n    return this;\n  }\n\n  /**\n   * Registers an invalid state handler\n   *\n   * This is a passthrough to [[StateService.onInvalid]] for ng1.\n   */\n\n  onInvalid(callback: OnInvalidCallback): Function {\n    return this.stateService.onInvalid(callback);\n  }\n}\n","/** @module ng1 */ /** */\nimport {\n    State, TransitionStateHookFn, HookResult, Transition, services, ResolveContext, extend, BuilderFunction\n} from \"ui-router-core\";\nimport { getLocals } from \"../services\";\n\n/**\n * This is a [[StateBuilder.builder]] function for angular1 `onEnter`, `onExit`,\n * `onRetain` callback hooks on a [[Ng1StateDeclaration]].\n *\n * When the [[StateBuilder]] builds a [[State]] object from a raw [[StateDeclaration]], this builder\n * ensures that those hooks are injectable for angular-ui-router (ng1).\n */\nexport const getStateHookBuilder = (hookName: \"onEnter\"|\"onExit\"|\"onRetain\") =>\nfunction stateHookBuilder(state: State, parentFn: BuilderFunction): TransitionStateHookFn {\n  let hook = state[hookName];\n  let pathname = hookName === 'onExit' ? 'from' : 'to';\n\n  function decoratedNg1Hook(trans: Transition, state: State): HookResult {\n    let resolveContext = new ResolveContext(trans.treeChanges(pathname));\n    let locals = extend(getLocals(resolveContext), { $state$: state, $transition$: trans });\n    return services.$injector.invoke(hook, this, locals);\n  }\n\n  return hook ? decoratedNg1Hook : undefined;\n};\n","/**\n * @internalapi\n * @module ng1\n */ /** */\nimport { LocationConfig, LocationServices, UIRouter, ParamType } from \"ui-router-core\";\nimport { val, createProxyFunctions, removeFrom, isObject } from \"ui-router-core\";\nimport { ILocationService, ILocationProvider } from \"angular\";\n\n/**\n * Implements UI-Router LocationServices and LocationConfig using Angular 1's $location service\n */\nexport class Ng1LocationServices implements LocationConfig, LocationServices {\n  private $locationProvider: ILocationProvider;\n  private $location: ILocationService;\n  private $sniffer;\n\n  path;\n  search;\n  hash;\n  hashPrefix;\n  port;\n  protocol;\n  host;\n  baseHref;\n\n  // .onChange() registry\n  private _urlListeners: Function[] = [];\n\n  dispose() { }\n\n  constructor($locationProvider: ILocationProvider) {\n    this.$locationProvider = $locationProvider;\n    let _lp = val($locationProvider);\n    createProxyFunctions(_lp, this, _lp, ['hashPrefix']);\n  }\n\n  onChange(callback: Function) {\n    this._urlListeners.push(callback);\n    return () => removeFrom(this._urlListeners)(callback);\n  }\n\n  html5Mode() {\n    let html5Mode: any = this.$locationProvider.html5Mode();\n    html5Mode = isObject(html5Mode) ? html5Mode.enabled : html5Mode;\n    return html5Mode && this.$sniffer.history;\n  }\n\n  url(newUrl?: string, replace = false, state?) {\n    if (newUrl) this.$location.url(newUrl);\n    if (replace) this.$location.replace();\n    if (state) this.$location.state(state);\n    return this.$location.url();\n  }\n\n  _runtimeServices($rootScope, $location: ILocationService, $sniffer, $browser) {\n    this.$location = $location;\n    this.$sniffer = $sniffer;\n\n    // Bind $locationChangeSuccess to the listeners registered in LocationService.onChange\n    $rootScope.$on(\"$locationChangeSuccess\", evt => this._urlListeners.forEach(fn => fn(evt)));\n    let _loc = val($location);\n    let _browser = val($browser);\n\n    // Bind these LocationService functions to $location\n    createProxyFunctions(_loc, this, _loc, [\"replace\", \"path\", \"search\", \"hash\"]);\n    // Bind these LocationConfig functions to $location\n    createProxyFunctions(_loc, this, _loc, ['port', 'protocol', 'host']);\n    // Bind these LocationConfig functions to $browser\n    createProxyFunctions(_browser, this, _browser, ['baseHref']);\n  }\n\n  /**\n   * Applys ng1-specific path parameter encoding\n   *\n   * The Angular 1 `$location` service is a bit weird.\n   * It doesn't allow slashes to be encoded/decoded bi-directionally.\n   *\n   * See the writeup at https://github.com/angular-ui/ui-router/issues/2598\n   *\n   * This code patches the `path` parameter type so it encoded/decodes slashes as ~2F\n   *\n   * @param router\n   */\n  static monkeyPatchPathParameterType(router: UIRouter) {\n    let pathType: ParamType = router.urlMatcherFactory.type('path');\n\n    pathType.encode = (val: any) =>\n        val != null ? val.toString().replace(/(~|\\/)/g, m => ({ '~': '~~', '/': '~2F' }[m])) : val;\n\n    pathType.decode = (val: string) =>\n        val != null ? val.toString().replace(/(~~|~2F)/g, m => ({ '~~': '~', '~2F': '/' }[m])) : val;\n\n  }\n}\n","/** @module url */ /** */\nimport {\n    UIRouter, UrlRouter, LocationServices, $InjectorLike, BaseUrlRule, UrlRule, UrlRuleType, UrlRuleHandlerFn, UrlMatcher,\n    IInjectable\n} from \"ui-router-core\";\nimport { services, isString, isFunction, isArray, identity } from \"ui-router-core\";\n\nexport interface RawNg1RuleFunction {\n  ($injector: $InjectorLike, $location: LocationServices): string|void;\n}\n\n/**\n * Manages rules for client-side URL\n *\n * This class manages the router rules for what to do when the URL changes.\n *\n * ## Deprecation warning\n *\n * Use [[UrlService]]\n *\n * This provider remains for backwards compatibility.\n */\nexport class UrlRouterProvider {\n  /** @hidden */ _router: UIRouter;\n  /** @hidden */ _urlRouter: UrlRouter;\n\n  /** @hidden */\n  constructor(router: UIRouter) {\n    this._router = router;\n    this._urlRouter = router.urlRouter;\n  }\n\n  /** @hidden */\n  $get() {\n    let urlRouter = this._urlRouter;\n    urlRouter.update(true);\n    if (!urlRouter.interceptDeferred) urlRouter.listen();\n    return urlRouter;\n  }\n\n  /**\n   * Registers a url handler function.\n   *\n   * Registers a low level url handler (a `rule`).\n   * A rule detects specific URL patterns and returns a redirect, or performs some action.\n   *\n   * If a rule returns a string, the URL is replaced with the string, and all rules are fired again.\n   *\n   * #### Example:\n   * ```js\n   * var app = angular.module('app', ['ui.router.router']);\n   *\n   * app.config(function ($urlRouterProvider) {\n   *   // Here's an example of how you might allow case insensitive urls\n   *   $urlRouterProvider.rule(function ($injector, $location) {\n   *     var path = $location.path(),\n   *         normalized = path.toLowerCase();\n   *\n   *     if (path !== normalized) {\n   *       return normalized;\n   *     }\n   *   });\n   * });\n   * ```\n   *\n   * @param ruleFn\n   * Handler function that takes `$injector` and `$location` services as arguments.\n   * You can use them to detect a url and return a different url as a string.\n   *\n   * @return [[UrlRouterProvider]] (`this`)\n   */\n  rule(ruleFn: RawNg1RuleFunction): UrlRouterProvider {\n    if (!isFunction(ruleFn)) throw new Error(\"'rule' must be a function\");\n\n    const match = () =>\n        ruleFn(services.$injector, this._router.locationService);\n\n    let rule = new BaseUrlRule(match, identity);\n    this._urlRouter.rule(rule);\n    return this;\n  };\n\n  /**\n   * Defines the path or behavior to use when no url can be matched.\n   *\n   * #### Example:\n   * ```js\n   * var app = angular.module('app', ['ui.router.router']);\n   *\n   * app.config(function ($urlRouterProvider) {\n   *   // if the path doesn't match any of the urls you configured\n   *   // otherwise will take care of routing the user to the\n   *   // specified url\n   *   $urlRouterProvider.otherwise('/index');\n   *\n   *   // Example of using function rule as param\n   *   $urlRouterProvider.otherwise(function ($injector, $location) {\n   *     return '/a/valid/url';\n   *   });\n   * });\n   * ```\n   *\n   * @param rule\n   * The url path you want to redirect to or a function rule that returns the url path or performs a `$state.go()`.\n   * The function version is passed two params: `$injector` and `$location` services, and should return a url string.\n   *\n   * @return {object} `$urlRouterProvider` - `$urlRouterProvider` instance\n   */\n  otherwise(rule: string | RawNg1RuleFunction): UrlRouterProvider {\n    let urlRouter = this._urlRouter;\n\n    if (isString(rule)) {\n      urlRouter.otherwise(rule);\n    } else if (isFunction(rule)) {\n      urlRouter.otherwise(() => rule(services.$injector, this._router.locationService));\n    } else {\n      throw new Error(\"'rule' must be a string or function\");\n    }\n\n    return this;\n  };\n\n  /**\n   * Registers a handler for a given url matching.\n   *\n   * If the handler is a string, it is\n   * treated as a redirect, and is interpolated according to the syntax of match\n   * (i.e. like `String.replace()` for `RegExp`, or like a `UrlMatcher` pattern otherwise).\n   *\n   * If the handler is a function, it is injectable.\n   * It gets invoked if `$location` matches.\n   * You have the option of inject the match object as `$match`.\n   *\n   * The handler can return\n   *\n   * - **falsy** to indicate that the rule didn't match after all, then `$urlRouter`\n   *   will continue trying to find another one that matches.\n   * - **string** which is treated as a redirect and passed to `$location.url()`\n   * - **void** or any **truthy** value tells `$urlRouter` that the url was handled.\n   *\n   * @example\n   * ```js\n   *\n   * var app = angular.module('app', ['ui.router.router']);\n   *\n   * app.config(function ($urlRouterProvider) {\n   *   $urlRouterProvider.when($state.url, function ($match, $stateParams) {\n   *     if ($state.$current.navigable !== state ||\n   *         !equalForKeys($match, $stateParams) {\n   *      $state.transitionTo(state, $match, false);\n   *     }\n   *   });\n   * });\n   * ```\n   *\n   * @param what A pattern string to match, compiled as a [[UrlMatcher]].\n   * @param handler The path (or function that returns a path) that you want to redirect your user to.\n   * @param ruleCallback [optional] A callback that receives the `rule` registered with [[UrlMatcher.rule]]\n   *\n   * Note: the handler may also invoke arbitrary code, such as `$state.go()`\n   */\n  when(what: (RegExp|UrlMatcher|string), handler: string|IInjectable) {\n    if (isArray(handler) || isFunction(handler)) {\n      handler = UrlRouterProvider.injectableHandler(this._router, handler);\n    }\n\n    this._urlRouter.when(what, handler as any);\n    return this;\n  };\n\n  static injectableHandler(router: UIRouter, handler): UrlRuleHandlerFn {\n    return match =>\n        services.$injector.invoke(handler, null, { $match: match, $stateParams: router.globals.params });\n  }\n\n  /**\n   * Disables monitoring of the URL.\n   *\n   * Call this method before UI-Router has bootstrapped.\n   * It will stop UI-Router from performing the initial url sync.\n   *\n   * This can be useful to perform some asynchronous initialization before the router starts.\n   * Once the initialization is complete, call [[listen]] to tell UI-Router to start watching and synchronizing the URL.\n   *\n   * #### Example:\n   * ```js\n   * var app = angular.module('app', ['ui.router']);\n   *\n   * app.config(function ($urlRouterProvider) {\n   *   // Prevent $urlRouter from automatically intercepting URL changes;\n   *   $urlRouterProvider.deferIntercept();\n   * })\n   *\n   * app.run(function (MyService, $urlRouter, $http) {\n   *   $http.get(\"/stuff\").then(function(resp) {\n   *     MyService.doStuff(resp.data);\n   *     $urlRouter.listen();\n   *     $urlRouter.sync();\n   *   });\n   * });\n   * ```\n   *\n   * @param defer Indicates whether to defer location change interception.\n   *        Passing no parameter is equivalent to `true`.\n   */\n  deferIntercept(defer?: boolean) {\n    this._urlRouter.deferIntercept(defer);\n  };\n}\n","/**\n * Main entry point for angular 1.x build\n * @module ng1\n */ /** */\n\nimport * as core from \"ui-router-core\";\nexport { core };\nexport * from \"ui-router-core\";\n\nexport * from \"./interface\";\nexport * from \"./services\";\nexport * from \"./statebuilders/views\";\nexport * from \"./stateProvider\";\n\nimport \"./injectables\";\nimport \"./directives/stateDirectives\";\nimport \"./stateFilters\";\nimport \"./directives/viewDirective\";\nimport \"./viewScroll\";\n\nexport default \"ui.router\";\n"],"names":["fn","args","length","func_args_length","apply","curried","concat","slice","arguments","initial_args","start","i","result","this","call","_i","funcs","compose","reverse","fn1","fn2","fnName","obj","struct","x","val","isArray","head","tail","filter","not","isString","isFunction","source","target","bind","fnNames","latebind","bindFunction","makeLateRebindFn","Object","keys","reduce","acc","name","array","indexOf","idx","splice","arr","push","opts","defaultsList","defaults","merge","extend","pick","dst","objs","forEach","value","key","hasOwnProperty","first","second","path","n","predicate","objCopy","pickOmitImpl","inArray","restArgs","notInArray","item","collection","propName","map","prop","callback","accept","predicateOrMap","errMsg","Error","arrayArgs","min","Math","Array","ignored","memo","keyValTuple","undefined","src","dest","cb","_this","to","from","toObj","identity","_copyProps","o1","o2","t1","t2","tup","all","_arraysEq","isDate","getTime","isRegExp","toString","predicates","any","b","_equals","a1","a2","arrayTuples","t","viewData","id","creationContext","fqn","input","isNumber","Category","state","criterion","_state","globStrings","toMatch","glob","Glob","matches","matchFn","matchGlobs","registry","transitionService","eventType","matchObject","options","registeredHook","RegisteredHook","hooks","_deregistered","removeFrom","_registeredHooks","hookRegistrationFn","reverseDepthSort","l","r","factor","depthDelta","node","hook","priority","type","mode","isDefined","allTruthyMode","arrayWrap","arrayUnwrap","val1","val2","left","right","paramTypeFn","wrapperFn","arrayEqualsHandler","arrayHandler","dynamic","pattern","inherit","is","$arrayMode","cfg","isShorthand","$$fn","isInjectable","urlType","location","paramTypes","DefType","CONFIG","PATH","SEARCH","ParamType","config","isOptional","defaultPolicy","squash","arrayMode","replace","configuredKeys","string","param","surroundPattern","makeDefaultType","def","valToString","defaultTypeBase","encode","decode","String","equals","a","ParamTypes","prototype","query","hash","int","parseInt","isNullOrUndefined","bool","Boolean","date","getFullYear","getMonth","getDate","join","match","capture","exec","Date","isNaN","valueOf","json","toJson","fromJson","url","isHtml5","absolute","baseHref","hookName","transition","hookFn","states","router","stateRegistry","register","lazyLoadFn","lazyLoad","promise","success","$$state","error","err","services","$q","reject","when","then","updateStateRegistry","self","parent","data","includes","objects2Tuples","resolveObj","resolvePolicies","token","deps","policy","annotate","$injector","strictDi","isResolveLiteral","resolveFn","isLikeNg2Provider","provide","useValue","useFactory","useExisting","useClass","isTupleFromObj","p","literal2Resolvable","Resolvable","dependencies","tuple2Resolvable","pipe","tuple","item2Resolvable","stringify","decl","resolve","items","resolvePolicy","max","str","substr","camelCase","$1","toLowerCase","fnStr","fnToString","namedFunctionMatch","toStr","_fn","o","isObject","seen","stringifyPattern","JSON","format","delim","re","RegExp","split","pushR","templateFactory","view","get","Ng1ViewConfig","tplKeys","ctrlKeys","compKeys","nonCompKeys","allKeys","views","viewsObject","$default","component","hasAnyKey","resolveAs","$type","$context","$name","normalized","ViewService","normalizeUIViewTarget","$uiViewName","uiViewName","$uiViewContextAnchor","uiViewContextAnchor","cmpDefs","getBindings","unnestR","$locationProvider","$location","$browser","$sniffer","$rootScope","$http","$templateCache","ng1LocationService","_runtimeServices","UIRouter","stateProvider","StateProvider","stateService","decorator","ng1ViewsBuilder","getStateHookBuilder","viewService","_pluginapi","_viewConfigFactory","getNg1ViewConfigFactory","locationService","locationConfig","Ng1LocationServices","monkeyPatchPathParameterType","$get","$inject","$uiRouter","resolvables","resolvable","$watch","trace","approximateDigests","ref","parsed","paramsOnly","paramExpr","el","$uiView","inheritedData","parse","$state","$element","uiState","current","uiStateOpts","defaultOpts","href","uiStateParams","isSvg","isForm","nodeName","attr","isAnchor","toUpperCase","clickable","$timeout","getDef","e","button","which","ctrlKey","metaKey","shiftKey","go","preventDefault","ignorePreventDefaultCount","cancel","relative","stateContext","$current","isFilter","params","$stateful","includesFilter","$compile","$controller","$transitions","$view","getControllerAs","getResolveAs","restrict","compile","tElement","initial","html","empty","scope","contents","$cfg","viewDecl","getTemplate","noop","resolveCtx","ResolveContext","traceUIViewFill","link","controller","controllerAs","locals","getLocals","controllerInstance","$scope","children","registerControllerCallbacks","cmp_1","kebobName_1","kebobString","getComponentController","directiveEl","tagName","angular","element","deregisterWatch_1","ctrlInstance","$onInit","hasComponentImpl","viewState","hookOptions","uiOnParamsChanged","resolveContext","viewCreationTrans_1","getResolvable","paramsUpdated","$transition$","exiting","toParams","fromParams","toSchema","treeChanges","paramSchema","fromSchema","changedToParams","changedKeys_1","newValues","$on","onSuccess","uiCanExit","criteria","onBefore","useAnchorScroll","$anchorScroll","scrollIntoView","propEq","curry","ctor","constructor","eq","other","v","tis","isUndefined","isNull","or","isPromise","and","notImplemented","fnname","w","window","copy","_copy","_forEach","_extend","extra","_inArray","_removeFrom","pushTo","_pushTo","deregAll","functions","mergeR","mapObj","values","allTrueR","elem","anyTrueR","flattenR","uniqR","unnest","flatten","assertPredicate","assertFn","assertMap","pairs","sortBy","propFn","checkFn","composeSort","sortFns","prev","silenceUncaughtInPromise","catch","silentRejection","text","regexpString","seg","regexp","test","_items","_limit","Queue","shift","size","RejectType","message","detail","Rejection","detailString","d","_transitionRejection","rejection","SUPERSEDED","redirected","superseded","INVALID","IGNORED","ABORTED","ERROR","viewConfigString","viewConfig","$id","Trace","enabled","categories","k","normalizedCat","category","_enabled","_set","trans","TRANSITION","tid","transitionStr","console","log","step","HOOK","event","context","functionToString","maxLength","hookResult","transitionOptions","hookResultStr","RESOLVE","pathStr","resolvableStr","reason","finalState","UIVIEW","padString","uiViewString","traceUIViewEvent","VIEWCONFIG","TransitionHookPhase","TransitionHookScope","_identifier","_definition","_params","_options","TargetState","base","stateName","defaultOptions","traceData","rejectIfSuperseded","TransitionHook","traceHookInvocation","toPromise","errorHandler","getErrorHandler","resultHandler","getResultHandler","handleHookResult","traceHookResult","aborted","isTargetState","_a","invokeHook","results","hooks_1","isTransitionRejectionPromise","chain","defaultErrorHandler","errored","tranSvc","matchCriteria","nodes","matching","matchState","_getPathTypes","_getDefaultMatchCriteria","paths","mn","pathtype","isStateHook","STATE","_matchingNodes","_getMatchingNodes","allMatched","every","toState","fromState","baseHookOptions","HookBuilder","phase","_getEvents","buildHooks","hookType","matchingHooks","getMatchingHooks","makeTransitionHooks","matchingNodes","criteriaMatchPath","transitionHook","sort","tupleSort","reverseSort","isCreate","hookPhase","CREATE","registries","reg","getHooks","sub","isSearch","ArrayType","hasOwn","urlMatcherFactory","arrayDefaults","arrayParamNomenclature","unwrapShorthand","getType","getArrayMode","$asArray","raw","getSquashPolicy","defaultSquashPolicy","getReplace","Param","$$getDefaultValue","defaultValue","invoke","$replace","replacement","$normalize","encoded","applyPairs","values1","values2","changed","validates","stateOrPath","PathNode","paramValues","parameters","res","clone","getParamVal","paramDef","pDef","find","paramValsEq","parameter","pathA","pathB","ignoreDynamicParams","changedParams","PathFactory","targetState","applyRawParams","fromPath","toPath","buildPath","inheritParams","viewDecls","subPath","viewConfigs","createViewConfig","toKeys","toNode","toParamVals","incomingParamVals","omit","fromParamVals","nodeParamVals","noInherit","ownParamVals","makeInheritedParamsNode","reloadState","retainedNode","cloned","keep","staticParams","nodesMatch","node1","node2","retained","entering","retainedWithToParams","applyToParams","elementIdx","defaultResolvePolicy","async","arg1","resolved","literal","thisPolicy","statePolicy","getResolvableDependencies","getDependencies","invokeResolveFn","resolvedDeps","waitForRx","observable$","cached","cache","take","findNode","maybeWaitForRx","getPolicy","applyResolvedValue","resolvedValue","traceResolvableResolved","LAZY","EAGER","WAIT","NOWAIT","RXWAIT","ALL_WHENS","EAGER_WHENS","NATIVE_INJECTOR_TOKEN","_path","newResolvables","whenOption","matchedWhens","traceResolvePath","matchesPolicy","acceptedVals","whenOrAsync","promises","nodeResolvables","nowait","wait","subContext","getResult","_injector","UIInjectorImpl","availableResolvables","getDependency","fromInjector","injector","getNative","native","memoizeTo","paramFactory","strict","caseInsensitive","paramMap","m","segment","placeholder","searchPlaceholder","last","patterns","checkParamErrors","UrlMatcher","nameValidator","matchDetails","makeRegexpType","substring","index","_segments","lastIndex","search","fromSearch","_compiled","quoteRegExp","_children","_cache","reverseString","unquoteDashes","allReversed","allParams","pathParams","searchParams","nPathSegments","urlm","j","decodePathArray","validParamVal","isDefaultValue","urlMatchers","pathSegmentsAndParams","queryParams","pathString","encodeDashes","encodeURIComponent","queryString","c","charCodeAt","matcher","staticSegments","splitOnSlash","splitOnDelim","segments","joinNeighborsR","aSegments","bSegments","weight","cmp","weightPair","makeType","definition","types","defaultTypes","definitionFn","typeQueue","enqueue","_flushTypeQueue","initDefaultTypes","_isStrictMode","_isCaseInsensitive","fromConfig","UrlMatcherFactory","_defaultSquashPolicy","_getConfig","object","dispose","State","root","matchingKeys","inherited","UrlRuleFactory","what","handler","makeRule","_what","fromUrlMatcher","fromRegExp","BaseUrlRule","rule","urlMatcher","optional","matched","_handler","details","matchPriority","globals","transitionTo","global","sticky","redirectUrlTo","Number","defaultRuleSortFn","getMatcher","URLMATCHER","REGEXP","RAW","OTHER","compare","_router","urlRuleFactory","createProxyFunctions","UrlRouter","listen","_rules","_otherwiseFn","compareFn","_sortFn","rules","best","checkRule","evt","defaultPrevented","$url","urlService","applyResult","newurl","isDef","_stopFn","onChange","sync","read","html5Mode","hashPrefix","appendBasePath","slash","port","protocol","host","isUrlRule","_id","removeRule","handlerFn","create","defer","interceptDeferred","eagerResolvePath","resolvePath","registerEagerResolvePath","onStart","lazyResolveState","registerLazyResolveState","onEnter","loadEnteringViews","enteringViews","load","registerLoadEnteringViews","onFinish","activateViews","exitingViews","vc","deactivateViewConfig","activateViewConfig","registerActivateViews","updateUrl","$urlRouter","urlRouter","navigable","urlOptions","update","registerUpdateUrl","redirectToHook","redirect","redirectTo","handleResult","registerRedirectToHook","onExitHook","makeEnterExitRetainHook","registerOnExitHook","onExit","onRetainHook","registerOnRetainHook","onRetain","onEnterHook","registerOnEnterHook","lazyLoadHook","originalTransition","orig","identifier","parts","lazyLoadState","retryTransition","registerLazyLoadHook","hookOrder","HANDLE_RESULT","REJECT_ERROR","defaultTransOpts","notify","reload","custom","_deregisterHookFns","_defineDefaultPaths","_defineDefaultEvents","_registerDefaultTransitionHooks","TransitionService","hooksArray","Transition","Phase","TH","_criteriaPaths","_defineEvent","IGNORE_RESULT","THROW_ERROR","BEFORE","ASYNC","SUCCESS","LOG_ERROR","_definePathType","TransitionEventType","_eventTypes","makeEvent","transitionHookTypes","cmpByPhase","hookScope","fns","eagerResolve","lazyResolve","loadViews","_rootViewContext","_registeredUIViews","_uiViews","_activeViewConfigs","_viewConfigs","_rootContext","viewType","factory","_viewConfigFactories","cfgFactory","cfgs","traceViewServiceEvent","uiView","count","uiViewsByFqn","uiv","vcSegments","uivSegments","negOffset","fqnToFirstSegment","uiViewContext","depthCompare","depthFn","posNeg","matchingConfigPair","matchingConfigs","viewConfigDepth","configureUIView","configUpdated","uiViewDepth","traceViewServiceUIViewEvent","uiViews","fqnMatches","rawViewName","viewAtContext","relativeViewNameSugar","charAt","relativeMatch","anchor","_states","StateMatcher","stateOrName","isStr","isRelative","baseState","splitName","pathLength","relName","parseUrl","getUrlBuilder","$urlMatcherFactoryProvider","stateDec","paramConfig","reloadOnSearch","isMatcher","append","getNavigableBuilder","isRoot","getParamsBuilder","makeConfigParam","urlParams","nonUrlParams","parentName","builders","nameBuilder","selfBuilder","parentBuilder","dataBuilder","pathBuilder","includesBuilder","resolvablesBuilder","StateBuilder","parentFn","lastSegment","pop","$registry","builder","listeners","queue","StateQueueManager","pluck","flush","registered","orphans","previousQueueLength","build","orphanIdx","existingState","deregister","attachRoute","listener","s","abstract","stateQueue","_registerRoot","StateRegistry","rootStateDef","#","_root","stateDefinition","getChildren","deregistered","$ur","deregisteredStates","_deregisterTree","found","func","$error$","stack","getters","boundFns","StateService","invalidCallbacks","nextCallback","callbackQueue","dequeue","invalid","callbackResult","checkForRedirect","invokeNextCallback","makeTargetState","latestThing","transitionHistory","peekTail","latest","valid","defautGoOpts","transOpts","latestSuccess","successfulTransitions","rootPath","transHistory","currentPath","getCurrentPath","exists","_handleInvalidTargetState","rejectedTransitionHandler","run","transitionToPromise","schema","fromString","include","defaultHrefOpts","lossy","$inherit","nav","_defaultErrorHandler","StateParams","newParams","$to","parentParams","parents","ancestors","inheritList","beforeNewTransition","updateGlobalState","clearCurrentTransition","makeStub","locationServicesFns","locationConfigFns","umfFns","rulesFns","syncFns","lateBind","locationServices","umf","UrlService","urlParts","_routerInstance","locationServiceStub","locationConfigStub","Globals","disposable","_disposables","plugin","pluginInstance","_plugins","pluginName","stateSelf","_deferred","_targetState","_transitionCount","buildToPath","_treeChanges","createTransitionHookRegFns","onCreateHooks","hookBuilder","buildHooksForPhase","runAllHooks","applyViewConfigs","applyRootResolvables","enteringStates","rootResolvables","rootNode","addResolvables","$from","pathname","freeze","pathName","getTokens","topath","targetNode","redirectedFrom","rf","redirects","redirectOpts","newOptions","newTransition","originalEnteringNodes","redirectEnteringNodes","nodeIsReloading","matchingEnteringNodes","tc","pathsDiffer","nodeSchemas","toValues","fromValues","tuples","toVals","fromVals","changes","_changedParams","onBeforeHooks","syncResult","runOnBeforeHooks","rejectReason","traceTransitionIgnored","transitionSuccess","traceSuccess","onSuccessHooks","transitionError","traceError","_error","onErrorHooks","traceTransitionStart","appendHookToChain","nextHook","asyncHooks","fromStateOrName","toStateOrName","avoidEmptyHash","toValid","stringifyPatternFn","beforeAfterSubstr","char","UIRouterPluginBase","ng_from_global","ng","ng_from_import","ng_from_import.module","makeComponentTemplate","bindings","template","getController","provider","controllerProvider","providerFn","version","minor","$templateRequest","has","TemplateFactory","_useHttp","defaultTemplate","asTemplate","asComponent","templateUrl","fromUrl","templateProvider","fromProvider","componentProvider","fromComponentProvider","headers","Accept","response","prefix","attributeTpl","attrName","resolveName","arrayIdxStr","attrs","getComponentBindings","kebobName","scopeBindings","bindToController","bindingsObj","onInvalid","$state$","decoratedNg1Hook","_lp","_urlListeners","history","newUrl","_loc","_browser","pathType","~","/","~~","~2F","_urlRouter","UrlRouterProvider","ruleFn","otherwise","injectableHandler","$match","$stateParams","deferIntercept","module","mod_init","mod_util","mod_rtr","mod_state","mod_main","getProviderFor","serviceName","$urp","service","runBlock","getUrlRouterProvider","urlRouterProvider","getStateProvider","watchDigests","$urlMatcherFactory","uiSref","ctx","tokens","waitPolicy","require","uiSrefActive","unlinkInfoFn","active","$$addStateInfo","$set","getTypeInfo","rawDef","processedDef","parseStateRef","uiSrefOpts","$eval","onStatesChanged","clickHook","on","off","inputAttrs","watchDeregFns","field","$observe","expr","newval","$interpolate","$attrs","stateParams","activeClass","stateInfo","splitClasses","getClasses","stateList","allClasses","activeEqClass","fuzzyClasses","exactlyMatchesAny","exactClasses","addClasses","removeClasses","cls","$evalAsync","className","addClass","removeClass","uiSrefActiveEq","addState","newState","updateAfterTransition","directive","$IsStateFilter","$IncludedByStateFilter","$animate","$uiViewScroll","enter","leave","config1","config2","rootData","terminal","transclude","tAttrs","$transclude","configsEqual","traceUIViewConfigUpdated","activeUIView","updateView","previousEl","remove","currentScope","$destroy","currentEl","_viewData_1","renderer","$$animLeave","newScope","$new","animEnter","animLeave","$uiViewData","$uiViewAnim","$animEnter","$animLeave","$emit","autoScrollExp","cleanupLastView","onloadExp","unregister","getRenderer","configUpdatedCallback","registerUIView","$ViewDirectiveFill","$ViewScrollProvider"],"mappings":"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"}