!function(a,b){"use strict";var c=function(a,b,c){var d;return function(){function g(){c||a.apply(e,f),d=null}var e=this,f=arguments;d?clearTimeout(d):c&&a.apply(e,f),d=setTimeout(g,b||100)}};jQuery.fn[b]=function(a){return a?this.bind("resize",c(a)):this.trigger(b)}}(jQuery,"smartresize"),function(a){"use strict";function e(){this.reset()}var d,b=document.documentElement.style,c=b.textWrap||b.WebkitTextWrap||b.MozTextWrap||b.MsTextWrap||b.OTextWrap;e.prototype.reset=function(){this.index=0,this.width=0};var f=function(a,b){var e,c=/\s(?![^<]*>)/g;if(!d)for(d=[];null!==(e=c.exec(a));)d.push(e.index);return-1!==d.indexOf(b)},g=function(b){b.find('br[data-owner="balance-text"]').replaceWith(" ");var c=b.find('span[data-owner="balance-text"]');if(c.length>0){var d="";c.each(function(){d+=a(this).text(),a(this).remove()}),b.html(d)}},h=function(a){return b=a.get(0).currentStyle||window.getComputedStyle(a.get(0),null),"justify"===b.textAlign},i=function(b,c,d){c=a.trim(c);var e=c.split(" ").length;if(c+=" ",2>e)return c;var f=a("<span></span>").html(c);b.append(f);var g=f.width();f.remove();var h=Math.floor((d-g)/(e-1));return f.css("word-spacing",h+"px").attr("data-owner","balance-text"),a("<div></div>").append(f).html()},j=function(a,b){return 0===b||b===a.length||f(a,b-1)&&!f(a,b)},k=function(a,b,c,d,e,f,g){for(var h;;){for(;!j(b,f);)f+=e;if(a.html(b.substr(0,f)),h=a.width(),0>e?d>=h||0>=h||0===f:h>=d||h>=c||f===b.length)break;f+=e}g.index=f,g.width=h},l=function(a,b){var c=document.createElement("div");c.style.display="block",c.style.position="absolute",c.style.bottom="0",c.style.right="0",c.style.width="0px",c.style.height="0px",c.style.margin="0",c.style.padding="0",c.style.visibility="hidden",c.style.overflow="hidden";var d=document.createElement("span");d.style.fontSize="2000px",d.innerHTML="&nbsp;",c.appendChild(d),a.append(c);var e=d.getBoundingClientRect();c.parentNode.removeChild(c);var f=e.height/e.width;return b/f},m=[".balance-text"],n=function(){var b=m.join(",");a(b).balanceText(!0)};a.fn.balanceTextUpdate=n,a.fn.balanceText=function(b){var f=this.selector;return b||-1!==m.indexOf(f)||m.push(f),c?this:this.each(function(){var b=a(this),c=5e3;g(b);var f="";b.attr("style")&&b.attr("style").indexOf("line-height")>=0&&(f=b.css("line-height")),b.css("line-height","normal");var j=b.width(),m=b.height(),n=b.css("white-space"),o=b.css("float"),p=b.css("display"),q=b.css("position");b.css({"white-space":"nowrap","float":"none",display:"inline",position:"static"});var r=b.width(),s=b.height(),t="pre-wrap"===n?0:l(b,s);if(j>0&&r>j&&c>r){for(var u=b.html(),v="",w="",x=h(b),y=Math.round(m/s),z=y;z>1;){d=null;var A=Math.round((r+t)/z-t),B=Math.round((u.length+1)/z)-1,C=new e;k(b,u,j,A,-1,B,C);var D=new e;B=C.index,k(b,u,j,A,1,B,D),C.reset(),B=D.index,k(b,u,j,A,-1,B,C);var E;E=0===C.index?D.index:j<D.width||C.index===D.index?C.index:Math.abs(A-C.width)<Math.abs(D.width-A)?C.index:D.index,w=u.substr(0,E),x?v+=i(b,w,j):(v+=w.replace(/\s$/,""),v+='<br data-owner="balance-text" />'),u=u.substr(E),z--,b.html(u),r=b.width()}x?b.html(v+i(b,u,j)):b.html(v+u)}b.css({position:q,display:p,"float":o,"white-space":n,"line-height":f})})},a(window).ready(n),a(window).smartresize(n)}(jQuery);