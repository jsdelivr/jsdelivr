/*!
 * vue-validator v2.0.0-alpha.3
 * (c) 2015 kazuya kawaguchi
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue-validator"]=e():t["vue-validator"]=e()}(this,function(){return function(t){function e(a){if(i[a])return i[a].exports;var n=i[a]={exports:{},id:a,loaded:!1};return t[a].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t){arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.installed?void(0,r.warn)("already installed."):(o["default"].Vue=t,(0,l["default"])(t),(0,d["default"])(t),(0,h["default"])(t),void(0,c["default"])(t))}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n;var r=i(1),o=a(r),u=i(2),l=a(u),s=i(4),d=a(s),f=i(5),c=a(f),v=i(7),h=a(v);t.exports=e["default"]},function(t,e){"use strict";function i(t,e){window.console&&(console.warn("[vue-validator] "+t),e&&console.warn(e.stack))}function a(t,e,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)e.call(i||t[a],t[a],a);else if(u.Vue.util.isPlainObject(t))for(var n in t)n in t&&e.call(i||t[n],t[n],n)}function n(t,e){var i=u.Vue.util.indexOf(t,e);return~i?t.splice(i,1):null}function r(t,e){return t?t.getAttribute(e):null}function o(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!1),t.dispatchEvent(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.warn=i,e.each=a,e.pull=n,e.attr=r,e.trigger=o;var u={};e["default"]=u},function(t,e,i){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=a(n);e["default"]=function(t){t.config._assetTypes.push("validator"),t.options.validators=r;var e=t.config.optionMergeStrategies;e&&(e.validators=e.methods),t.validator=function(e,i){return i?void(t.options.validators[e]=i):t.options.validators[e]}},t.exports=e["default"]},function(t,e){"use strict";function i(t){return Array.isArray(t)?t.length>0:"number"==typeof t||"function"==typeof t?!0:"boolean"==typeof t?t:"string"==typeof t?t.length>0:null!==t&&"object"==typeof t?Object.keys(t).length>0:null===t||void 0===t?!1:void 0}function a(t,e){if("string"!=typeof e)return!1;var i=e.match(new RegExp("^/(.*?)/([gimy]*)$"));return i?new RegExp(i[1],i[2]).test(t):!1}function n(t,e){return"string"==typeof t&&l(e,10)&&t.length>=parseInt(e,10)}function r(t,e){return"string"==typeof t&&l(e,10)&&t.length<=parseInt(e,10)}function o(t,e){return!isNaN(+t)&&!isNaN(+e)&&+t>=+e}function u(t,e){return!isNaN(+t)&&!isNaN(+e)&&+e>=+t}function l(t){return/^(-?[1-9]\d*|0)$/.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.required=i,e.pattern=a,e.minlength=n,e.maxlength=r,e.min=o,e.max=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=t.prototype._init;t.prototype._init=function(t){this._validatorMaps||(this._validatorMaps=Object.create(null)),e.call(this,t)};var i=t.prototype._destroy;t.prototype._destroy=function(){i.apply(this,arguments),this._validatorMaps=null}},t.exports=e["default"]},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(6),o=a(r);e["default"]=function(t){var e=t.util;t.directive("validate",{params:["group"],bind:function(){var t=this.vm,i=t.$options._validator;if(!i)return void(0,n.warn)("TODO: should be implemented error message");var a=this.validator=this.vm._validatorMaps[i],r=this.validation=new o["default"](this);a.addValidation(r),this.params.group&&a.addGroupValidation(this.params.group,r),this.on("blur",e.bind(this.validation.listener,this.validation)),this.on("input",e.bind(this.validation.listener,this.validation))},update:function(t,i){t&&(e.isPlainObject(t)?this.handleObject(t):this.handleSingle(t),this.validator.validate(this.validation))},handleSingle:function(t){var e=Object.keys(this.validation.validates)[0];this.validation.updateValidate(e,t)},handleObject:function(t){var i=this;(0,n.each)(t,function(t,a){e.isPlainObject(t)?"rule"in t&&i.validation.updateValidate(a,t.rule):i.validation.updateValidate(a,t)},this)},unbind:function(){this.validator&&this.validation&&(this.params.group&&this.validator.removeGroupValidation(this.params.group,this.validation),this.validator.removeValidation(this.validation),this.validator=null,this.validation=null)}})},t.exports=e["default"]},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),o=i(1),u=a(o),l=function(){function t(e){n(this,t),this.model=e.arg,this.el=e.el,this.dir=e,this.init=e.el.value,this.touched=!1,this.dirty=!1,this.modified=!1,this.validates=this._buildValidates(e)}return r(t,[{key:"_buildValidates",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=u["default"].Vue.util.resolveAsset,a=u["default"].Vue.util.camelize,n=Object.create(null),r=t.modifiers;for(var o in r){var l=i(t.vm.$options,"validators",a(o));l&&(n[o]={arg:e,fn:l})}return n}},{key:"updateValidate",value:function(t,e,i){this.validates[t]&&(this.validates[t].arg=e,i&&(this.validates[t].fn=i))}},{key:"listener",value:function(t){(!t.relatedTarget||"A"!==t.relatedTarget.tagName&&"BUTTON"!==t.relatedTarget.tagName)&&("blur"===t.type&&(this.touched=!0),this.dirty||this.el.value===this.init||(this.dirty=!0),this.modified=this.el.value!==this.init,this.dir.validator.validate())}},{key:"validate",value:function(){var t=this,e=u["default"].Vue.util.extend,i={},a=!0;return(0,o.each)(this.validates,function(e,n){var r=e.fn(t.el.value,e.arg);r||(a=!1),i[n]=!r},this),(0,o.trigger)(this.el,a?"valid":"invalid"),e(i,{valid:a,invalid:!a,touched:this.touched,untouched:!this.touched,dirty:this.dirty,pristine:!this.dirty,modified:this.modified}),i}}]),t}();e["default"]=l,t.exports=e["default"]},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(8),o=a(r);e["default"]=function(t){var e=t.util,i=t.FragmentFactory,a=t.directive("if");t.elementDirective("validator",{params:["name","groups"],bind:function(){if(!this.params.name)return void(0,n.warn)("TODO: should be implemented validator:bind name params nothing error");var t=this.validatorName="$"+this.params.name;if(!this.vm._validatorMaps)return void(0,n.warn)("TODO: should be implemented error message");var i=[];this.params.groups&&(e.isArray(this.params.groups)?i=this.params.groups:e.isPlainObject(this.params.groups)||"string"!=typeof this.params.groups||i.push(this.params.groups));var a=this.validator=new o["default"](t,this,i);a.enableReactive(),a.setupScope(),this.anchor=e.createAnchor("vue-validator"),e.replace(this.el,this.anchor),this.insert(t),this.vm.$on("hook:compiled",function(){a.validate()})},insert:function(t){e.extend(this.vm.$options,{_validator:t}),this.factory=new i(this.vm,this.el.innerHTML),a.insert.call(this)},unbind:function(){a.unbind.call(this),this.validator.disableReactive(),this.validatorName&&(this.validatorName=null,this.validator=null)}})},t.exports=e["default"]},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),o=i(1),u=a(o),l=function(){function t(e,i,a){var r=this;n(this,t),this.name=e,this.scope={},this._dir=i,this._validations=[],this._groups=a,this._groupValidations=Object.create(null),(0,o.each)(a,function(t){r._groupValidations[t]=[]},this)}return r(t,[{key:"enableReactive",value:function(){u["default"].Vue.util.defineReactive(this._dir.vm,this.name,this.scope),this._dir.vm._validatorMaps[this.name]=this}},{key:"disableReactive",value:function(){this._dir.vm._validatorMaps[this.name]=null,this._dir.vm[this.name]=null}},{key:"addValidation",value:function(t){this._validations.push(t)}},{key:"removeValidation",value:function(t){u["default"].Vue.util["delete"](this.scope,t.model),(0,o.pull)(this._validations,t)}},{key:"addGroupValidation",value:function(t,e){var i=this._groupValidations[t];i&&i.push(e)}},{key:"removeGroupValidation",value:function(t,e){var i=this._groupValidations[t];i&&(0,o.pull)(i,e)}},{key:"validate",value:function(t){var e=this;(0,o.each)(this._validations,function(t,i){var a=t.validate();u["default"].Vue.util.set(e.scope,t.model,a)},this)}},{key:"setupScope",value:function(){var t=this;this._defineProperties(this._validations,this.scope),(0,o.each)(this._groups,function(e){var i=t._groupValidations[e],a=Object.create(null);u["default"].Vue.util.set(t.scope,e,a),t._defineProperties(i,a)},this)}},{key:"_defineProperties",value:function(t,e){var i=this,a=u["default"].Vue.util.bind;(0,o.each)({valid:{fn:this._defineValid,arg:t},invalid:{fn:this._defineInvalid,arg:e},touched:{fn:this._defineTouched,arg:t},untouched:{fn:this._defineUntouched,arg:e},modified:{fn:this._defineModified,arg:t},dirty:{fn:this._defineDirty,arg:t},pristine:{fn:this._definePristine,arg:e}},function(t,n){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){return a(t.fn,i)(t.arg)}})},this)}},{key:"_walkValidations",value:function(t,e,i){var a=this,n=i;return(0,o.each)(t,function(t,r){if(n!==!i&&Object.prototype.hasOwnProperty.call(a.scope,t.model)){var o=a.scope[t.model];o&&o[e]===!i&&(n=!i)}},this),n}},{key:"_defineValid",value:function(t){return this._walkValidations(t,"valid",!0)}},{key:"_defineInvalid",value:function(t){return!t.valid}},{key:"_defineTouched",value:function(t){return this._walkValidations(t,"touched",!1)}},{key:"_defineUntouched",value:function(t){return!t.touched}},{key:"_defineModified",value:function(t){return this._walkValidations(t,"modified",!1)}},{key:"_defineDirty",value:function(t){return this._walkValidations(t,"dirty",!1)}},{key:"_definePristine",value:function(t){return!t.dirty}}]),t}();e["default"]=l,t.exports=e["default"]}])});