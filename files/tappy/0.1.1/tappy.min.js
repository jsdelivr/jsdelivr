!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.tappy=t()}}(function(){return function t(e,n,r){function o(a,f){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!f&&u)return u(a,!0);if(i)return i(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var p=n[a]={exports:{}};e[a][0].call(p.exports,function(t){var n=e[a][1][t];return o(n?n:t)},p,p.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e){function n(t,e,n){var r,o;if("number"==typeof t._tap||"number"==typeof e._tap)throw new Error("Can't compare Rhythms before calling done()");return o=t.length,o!==e.length?!1:(t=t._taps,e=e._taps,n===!0&&(r=t.map(function(t,n){return t/e[n]}).reduce(function(t,e){return t+e})/o,e=e.map(function(t){return t*r})),1-t.reduce(function(t,n,r){var o=e[r],i=Math.max(n,o),a=Math.min(n,o);return t+(i-a)/i},0)/o)}function r(){var t,e,n,r,i,a=Array.prototype.slice.call(arguments);if(a.some(function(t){return"number"==typeof t._tap}))throw new Error("Can't combine Rhythms before calling done()");if(r=a.reduce(function(t,e){return t+e._weight},0),t=a.shift(),n=t.length,a.some(function(t){return t.length!==n}))throw new Error("Can't combine Rhythms of different lengths");return e=t._weight,i=t._taps.map(function(t,n){return(t*e+a.reduce(function(t,e){return t+e._taps[n]*e._weight},0))/r}),new o({length:n,_taps:i,_weight:r})}function o(t){if(null==t)this.length=0,this._prevTap=0,this._curTap=0,this._taps=[],this._weight=1;else if(t.constructor===Array){if(!t.length)throw new Error("Rhythm array cannot be empty");if(t.some(function(t){return"number"!=typeof t||!t}))throw new Error("Rhythm array must only contain non-zero numbers");this.length=t.length+1,this._taps=t,this._weight=1}else{if(!t.hasOwnProperty("length")||!t.hasOwnProperty("_taps")||!t.hasOwnProperty("_weight"))throw new Error("Object passed to Rhythm is poorly formatted");this.length=t.length,this._taps=t._taps,this._weight=t._weight}}var i=t("right-now");o.prototype.tap=function(){var t,e=this._curTap;if("undefined"==typeof e)throw new Error("Can't call tap() after calling done()");return t=this._prevTap=e,e=this._curTap=i(),t&&this._taps.push(e-t||1),this.length++,this},o.prototype.done=function(){if(this.length<2)throw new Error("Can't call done() with less than 2 taps");return delete this._curTap,delete this._prevTap,delete this._nextTap,Object.freeze(this),this},o.prototype.playback=function(t,e){function n(){var e,u;t(o),a>o&&(u=i(),e=u-r-f[o],setTimeout(n,f[++o]-e),r=u)}if("number"==typeof this._curTap)throw new Error("Can't call playback() before calling done()");var r,o=0,a=this.length,f=this._taps;return e&&(f=f.map(function(t){return t*e})),r=i(),n(),this},e.exports={compare:n,average:r,Rhythm:o}},{"right-now":2}],2:[function(t,e){(function(t){e.exports=t.performance&&t.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});