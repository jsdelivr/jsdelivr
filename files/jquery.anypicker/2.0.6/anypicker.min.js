/* ----------------------------------------------------------------------------- 

  AnyPicker - Customizable Picker for Mobile OS
  Version 2.0.6
  Copyright (c)2016 Curious Solutions LLP
  https://curioussolutions.in/libraries/anypicker/content/license.htm
  See License Information in LICENSE file.

 ----------------------------------------------------------------------------- */

!function(){"use strict";function a(a,b){var c=this;c.elem=a;var d=void 0!==b.lang||null!==b.lang?b.lang:$.CalenStyle.defaults.lang,e=$.extend(!0,{},$.AnyPicker.defaults.i18n,$.AnyPicker.i18n[d],b.i18n),f=$.extend(!0,{},$.AnyPicker.defaults);e={i18n:e},f.i18n={},b.i18n={},c.setting=$.extend({},f,b,e),c.tmp=$.extend({},$.AnyPicker.tempDefaults),c.tmp.overlayClass="ap-overlay-"+c.setting.timestamp,c.tmp.overlaySelector="."+c.tmp.overlayClass,c.tmp.sOrientation=c._getDeviceOrientation(),$.CF.isValid(b.headerTitle)&&(c.tmp.headerTitleDefined=!0),$.CF.compareStrings(c.setting.theme,"Android")?($.CF.isValid(b.rowHeight)||(c.setting.rowHeight=50),$.CF.isValid(b.visibleRows)||(c.setting.visibleRows=3)):$.CF.compareStrings(c.setting.theme,"iOS")?($.CF.isValid(b.rowHeight)||(c.setting.rowHeight=36),$.CF.isValid(b.visibleRows)||(c.setting.visibleRows=5),$.CF.isValid(b.viewSections)||(c.setting.viewSections={header:["cancelButton","headerTitle","setButton"],contentTop:[],contentBottom:[],footer:[]}),$.AnyPicker.extra.bIsiPad&&(c.tmp.bIsiPad=!0),c.tmp.bIsiPad&&$.CF.compareStrings(c.setting.layout,"popup")&&(c.setting.layout="popover")):$.CF.compareStrings(c.setting.theme,"Windows")&&(c.setting.layout="popup",c.setting.visibleRows=5,c.setting.rowHeight=100,$.CF.isValid(b.viewSections)||(c.setting.viewSections={header:["headerTitle"],contentTop:[],contentBottom:[],footer:["setButton","cancelButton"]}),$.CF.isValid(b.setButton)&&(c.tmp.bModified.set=!0),$.CF.isValid(b.cancelButton)&&(c.tmp.bModified.cancel=!0),$.CF.isValid(b.nowButton)&&(c.tmp.bModified.now=!0),$.CF.isValid(b.clearButton)&&(c.tmp.bModified.clear=!0)),c.tmp.iExt=Math.floor(c.setting.visibleRows/2),c.tmp.sDir=c.setting.rtl?"rtl":"ltr",$.AnyPicker.extra.dToday=c._getCurrentDate(),null===c.tmp.selectedDate&&(c.tmp.selectedDate=$.AnyPicker.extra.dToday),0===c.setting.maxYear&&(c.setting.maxYear=$.AnyPicker.extra.dToday.getFullYear()),$.CF.isValid(c.setting.components)&&0===c.tmp.numOfComp&&(c.tmp.numOfComp=c.setting.components.length),$.AnyPicker.extra.sStartEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerDown":"pointerdown":$.AnyPicker.extra.bIsTouchDevice?"touchstart":"mousedown touchstart",$.AnyPicker.extra.sMoveEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerMove":"pointermove":$.AnyPicker.extra.bIsTouchDevice?"touchmove":"mousemove touchmove",$.AnyPicker.extra.sEndEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerUp":"pointerup":$.AnyPicker.extra.bIsTouchDevice?"touchend":"mouseup touchend",$.AnyPicker.extra.sLeaveEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerLeave":"pointerleave":$.AnyPicker.extra.bIsTouchDevice?null:"mouseleave",$.AnyPicker.extra.sCancelEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerCancel":"pointercancel":null,$.AnyPicker.extra.sOutEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerOut":"pointerout":null}$.CF={setPropertiesStyle:function(a,b){var c=window.getComputedStyle(document.documentElement,"");for(var d in b)if(void 0!==c[b[d]]){var e="";return-1!==b[d].search("Webkit")?e="-webkit-":-1!==b[d].search("Moz")?e="-moz-":-1!==b[d].search("O")?e="-o-":-1!==b[d].search("ms")&&(e="-ms-"),e+a}},testProperties:function(a,b,c){var d=window.getComputedStyle(document.documentElement,"");for(var e in b)if(void 0!==d[b[e]])return c?b[e]:!0;return c?"":!1},compareDataType:function(a,b){return typeof a===b.toLocaleLowerCase()?!0:!1},compareStrings:function(a,b){return null!==a&&void 0!==a&&null!==b&&void 0!==b?"string"==typeof a&&"string"==typeof b&&a.toLocaleLowerCase()===b.toLocaleLowerCase()?!0:!1:null===a&&null===b||void 0===a&&void 0===b?!0:!1},isValid:function(a){return void 0!==a&&null!==a&&""!==a?!0:!1}},$.AnyPicker=$.AnyPicker||{name:"AnyPicker",version:"2.0.3",i18n:{},defaults:{mode:"datetime",parent:"body",layout:"popup",hAlign:"left",vAlign:"bottom",relativeTo:null,inputElement:null,inputChangeEvent:"onSet",lang:"",rtl:!1,animationDuration:500,setButton:{markup:"<a id='ap-button-set' class='ap-button'>Set</a>",markupContentWindows:"<span class='ap-button-icon ap-icon-set'></span><span class='ap-button-text'>set</span>",type:"Button"},clearButton:{markup:"<a id='ap-button-clear' class='ap-button'>Clear</a>",markupContentWindows:"<span class='ap-button-icon ap-icon-clear'></span><span class='ap-button-text'>clear</span>",type:"Button"},nowButton:{markup:"<a id='ap-button-now' class='ap-button'>Now</a>",markupContentWindows:"<span class='ap-button-icon ap-icon-now'></span><span class='ap-button-text'>now</span>",type:"Button"},cancelButton:{markup:"<a id='ap-button-cancel' class='ap-button'>Cancel</a>",markupContentWindows:"<span class='ap-button-icon ap-icon-cancel'></span><span class='ap-button-text'>cancel</span>",type:"Button"},headerTitle:{markup:"<span class='ap-header__title'>Select</span>",type:"Text",contentBehaviour:"Static",format:""},viewSections:{header:["headerTitle"],contentTop:[],contentBottom:[],footer:["cancelButton","setButton"]},i18n:{headerTitle:"Select",setButton:"Set",clearButton:"Clear",nowButton:"Now",cancelButton:"Cancel",dateSwitch:"Date",timeSwitch:"Time"},theme:"Default",onInit:null,onBeforeShowPicker:null,onShowPicker:null,onBeforeHidePicker:null,onHidePicker:null,parseInput:null,formatOutput:null,setOutput:null,onSetOutput:null},tempDefaults:{sOrientation:"portrait",overlayClass:"",overlaySelector:"",iExt:2,dir:"ltr",sElemTag:"",oElemValid:{bIsInput:!1,bIsListItem:!1,bIsSelect:!1},sInputElemTag:"",oInputElemValid:{bIsInput:!1,bIsListItem:!1,bIsSelect:!1},prevActive:null,bFirst:!0,sDateTimeTab:"date",iCompDragStart:0,headerTitleDefined:!1,bIsiPad:!1,bModified:{set:!1,cancel:!1,clear:!1,now:!1},tabKey:!1},extra:{sArrModes:["select","datetime"],sArrLayout:["popup","relative","fixed","inline"],sArrHAlign:["left","center","right"],sArrVAlign:["top","middle","bottom"],sArrViewSections:["header","contentTop","contentBottom","footer"],oArrInputChangeEvent:["onChange","onSet"],sArrThemes:["Default","iOS","Android","Windows"],bIsTouchDevice:"ontouchstart"in document.documentElement,sClickHandler:("ontouchstart"in document.documentElement,"click"),sClickHandlerButtons:"ontouchstart"in document.documentElement?"touchstart":"click",bHasCSS3D:$.CF.testProperties("perspective",["WebkitPerspective","MozPerspective","OPerspective","msPerspective","perspective","perspectiveProperty"],!1),sCSSTransform:$.CF.testProperties("transform",["WebkitTransform","MozTransform","OTransform","msTransform","transform"],!0),sCSSTransformStyle:$.CF.setPropertiesStyle("transform",["WebkitTransform","MozTransform","OTransform","msTransform","transform"]),sCSSTransition:$.CF.testProperties("transition",["WebkitTransition","MozTransition","OTransition","msTransition","transition"],!0),bHasCSSAnimation:$.CF.testProperties("animation",["WebkitAnimation","MozAnimation","OAnimation","msAnimation","animation"],!1),sMouseWheel:"onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],bHasIE10Pointer:window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,bHasPointer:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,bIsiPad:null!==navigator.userAgent.match(/iPad/i)}},function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(b){b.fn.AnyPicker=function(c){var d,e,f=b(this).data(),g=Object.keys(f);if(null===c||void 0===c)if(g.length>0){for(d in g)if(e=g[d],-1!==e.search("plugin_AnyPicker_"))return f[e]}else console.log("No AnyPicker Object Defined For This Element");else{if("string"!=typeof c)return this.each(function(){var h=(new Date).getTime();if(b.data(this,"plugin_AnyPicker_"+h))if(g.length>0){for(d in g)if(e=g[d],-1!==e.search("plugin_AnyPicker_"))return f[e]}else console.log("No AnyPicker Object Defined For This Element");else c.timestamp=h,f=new a(this,c),b.data(this,"plugin_AnyPicker_"+h,f),f.init()});if(null!==f||void 0!==f)if(g.length>0){if("destroy"===c)if(g.length>0){for(d in g)if(e=g[d],-1!==e.search("plugin_AnyPicker_")){f=f[e],b(window).off("blur."+f.setting.timestamp);var h=b(f.setting.inputElement);b(h).off("focus."+f.setting.timestamp),b(h).off("blur."+f.setting.timestamp),b(".ap-overlay-"+e.replace("plugin_AnyPicker_","")).remove(),b(this).removeData(e);break}}else console.log("No AnyPicker Object Defined For This Element")}else console.log("No AnyPicker Object Defined For This Element")}}}),a.prototype={init:function(){var a=this;if($.CF.isValid(a.elem)&&(a.tmp.sElemTag=$(a.elem).prop("tagName").toLowerCase(),"input"===a.tmp.sElemTag?a.tmp.oElemValid.bIsInput=!0:"ul"===a.tmp.sElemTag||"ol"===a.tmp.sElemTag||"dl"===a.tmp.sElemTag?a.tmp.oElemValid.bIsListItem=!0:"select"===a.tmp.sElemTag&&(a.tmp.oElemValid.bIsSelect=!0)),$.CF.isValid(a.setting.inputElement)?(a.tmp.sInputElemTag=$(a.setting.inputElement).prop("tagName").toLowerCase(),"input"===a.tmp.sInputElemTag?a.tmp.oInputElemValid.bIsInput=!0:"ul"===a.tmp.sInputElemTag||"ol"===a.tmp.sInputElemTag||"dl"===a.tmp.sInputElemTag?a.tmp.oInputElemValid.bIsListItem=!0:"select"===a.tmp.sInputElemTag&&(a.tmp.oInputElemValid.bIsSelect=!0)):$.CF.isValid(a.elem)&&(a.setting.inputElement=a.elem,a.tmp.sInputElemTag=a.tmp.sElemTag,a.tmp.oInputElemValid=a.tmp.oElemValid),$.CF.compareStrings(a.setting.mode,"select")?a.__setComponentsOfSelect():$.CF.compareStrings(a.setting.mode,"datetime")&&a.__setComponentsOfDateTimePicker(),""!==a.tmp.sInputElemTag&&!a.tmp.oInputElemValid.bIsListItem&&!a.tmp.oInputElemValid.bIsSelect){var b=$(a.setting.inputElement);a.tmp.oInputElemValid.bIsInput?(b.off("focus."+a.setting.timestamp),b.on("focus."+a.setting.timestamp,{apo:a},a._inputElementClicked),b.on("blur."+a.setting.timestamp,function(b){$.AnyPicker.tempDefaults.tabKey&&a.showOrHidePicker(),a.tmp.prevActive=null}),b.on("keydown."+a.setting.timestamp,function(a){"9"===(a.keyCode?a.keyCode:a.which)&&($.AnyPicker.tempDefaults.tabKey=!0)})):(b.off("click."+a.setting.timestamp),b.on("click."+a.setting.timestamp,{apo:a},a._inputElementClicked))}$.CF.isValid(a.setting.onInit)&&a.setting.onInit.call(a)},_inputElementClicked:function(a){a.stopPropagation(),a.preventDefault();var b=a.data.apo;if(document.activeElement!==b.tmp.prevActive||document.activeElement!==b.setting.inputElement)if(b.tmp.prevActive=document.activeElement,""===b.tmp.sInputElemTag||b.tmp.oInputElemValid.bIsListItem||b.tmp.oInputElemValid.bIsSelect)console.log("No InputElement Specified");else{var c,d=$(b.setting.inputElement);if(b.tmp.oInputElemValid.bIsInput)c=d.val();else{var e=d.attr("data-val");c=$.CF.isValid(e)?e:d.text()}$.AnyPicker.tempDefaults.tabKey?($.AnyPicker.tempDefaults.tabKey=!1,setTimeout(function(){b.showOrHidePicker(c)},500)):b.showOrHidePicker(c)}},showOrHidePicker:function(a){var b,c,d,e=this,f=[],g=[];if(void 0!==a&&null!==a)if($.CF.isValid(e.setting.parseInput)){if($.CF.compareStrings(e.setting.mode,"datetime"))e.setting.selectedDate=e.setting.parseInput.call(e,a);else if($.CF.compareStrings(e.setting.mode,"select")){for(f=e.setting.parseInput.call(e,a),b=0;b<f.length;b++)c=f[b],d=e.__getDataSourceValueFromLabel(c,b,!0),g.push({component:b,val:d,label:c});e.tmp.selectedValues.values=g}}else if($.CF.compareStrings(e.setting.mode,"datetime"))e.setting.selectedDate=a;else if($.CF.compareStrings(e.setting.mode,"select")){if(""!==a)for(f=[],g=[],e.tmp.numOfComp>1?f=a.split(" "):f.push(a),b=0;b<f.length;b++)c=f[b],d=e.__getDataSourceValueFromLabel(c,b,!0),g.push({component:b,val:d,label:c});else for(b=0;b<e.tmp.numOfComp;b++){var h=e.setting.dataSource[b].data;c=h[0].label,d=h[0].val,g.push({component:b,val:d,label:c})}e.tmp.selectedValues.values=g}$(e.tmp.overlaySelector).length>0?e._hidePicker():$.CF.isValid(e.setting.onBeforeShowPicker)?e.setting.onBeforeShowPicker.call(e)&&e._showPicker():e._showPicker()},_showPicker:function(){var a=this;a.tmp.sOrientation=a._getDeviceOrientation();var b="",c=($.CF.compareStrings(a.setting.layout,"popup")||$.CF.compareStrings(a.setting.layout,"popover"))&&a.setting.viewSections.header.length>0,d=($.CF.compareStrings(a.setting.layout,"popup")||$.CF.compareStrings(a.setting.layout,"popover"))&&a.setting.viewSections.footer.length>0,e=$.CF.compareStrings(a.setting.layout,"fixed")&&$.CF.compareStrings(a.setting.vAlign,"bottom")&&a.setting.viewSections.footer.length>0,f=$.CF.compareStrings(a.setting.layout,"fixed")&&$.CF.compareStrings(a.setting.vAlign,"top")&&a.setting.viewSections.footer.length>0,g=$.CF.compareStrings(a.setting.mode,"datetime")&&"datetime"===a.tmp.sDateTimeMode,h="ap-layout-"+a.setting.layout,i="ap-theme-"+a.setting.theme.toLowerCase(),j="ap-dir-"+a.tmp.sDir;if($.CF.compareStrings(a.setting.layout,"popover")){var k=$("body").scrollTop(),l=$(window).height(),m=k,n=k+l,o=$.CF.compareStrings(a.setting.rowsNavigation,"scroller")?300:350,p=$(a.setting.inputElement).offset().top-o,q=m>p?!1:!0,r=$(a.setting.inputElement).offset().top+$(a.setting.inputElement).height()+o,s=r>n?!1:!0;a.tmp.sTooltip=s?"bottom":q?"top":a.setting.rtl?"right":"left"}b+="<div class='ap-overlay "+h+" "+a.tmp.overlayClass+" "+i+" "+j+"'>",b+="<div class='ap-bg'>",b+="<div class='ap-cont' dir='"+a.tmp.sDir+"'>",$.CF.isValid(a.tmp.sTooltip)&&(b+="<span class='ap-tooltip ap-tooltip-"+a.tmp.sTooltip+"'></span>"),c&&(b+="<div class='ap-header'>",g&&$.CF.compareStrings(a.setting.theme,"Windows")&&(b+="<div class='ap-content-switch'>",a.setting.rtl?(b+="<span class='ap-content-switch-tab ap-content-switch-time'>"+a.setting.i18n.timeSwitch+"</span>",b+="<span class='ap-content-switch-tab ap-content-switch-date ap-content-switch-selected'>"+a.setting.i18n.dateSwitch+"</span>"):(b+="<span class='ap-content-switch-tab ap-content-switch-date ap-content-switch-selected'>"+a.setting.i18n.dateSwitch+"</span>",b+="<span class='ap-content-switch-tab ap-content-switch-time'>"+a.setting.i18n.timeSwitch+"</span>"),b+="</div>",a.tmp.sDateTimeTab="time"),b+="</div>"),e&&(b+="<div class='ap-footer ap-footer-top'>",$.CF.compareStrings(a.setting.theme,"Default")&&(b+="<div class='ap-button-cont'></div>"),b+="</div>"),b+="<div class='ap-content'>",a.setting.viewSections.contentTop.length>0&&(b+="<div class='ap-content-top'></div>"),g&&!$.CF.compareStrings(a.setting.theme,"Windows")&&(b+="<div class='ap-content-switch'>",a.setting.rtl?(b+="<span class='ap-content-switch-tab ap-content-switch-time'>"+a.setting.i18n.timeSwitch+"</span>",b+="<span class='ap-content-switch-tab ap-content-switch-date ap-content-switch-selected'>"+a.setting.i18n.dateSwitch+"</span>"):(b+="<span class='ap-content-switch-tab ap-content-switch-date ap-content-switch-selected'>"+a.setting.i18n.dateSwitch+"</span>",b+="<span class='ap-content-switch-tab ap-content-switch-time'>"+a.setting.i18n.timeSwitch+"</span>"),b+="</div>",a.tmp.sDateTimeTab="date"),b+="<div class='ap-content-middle'>",b+="<div class='ap-component-section'></div>",b+="</div>",a.setting.viewSections.contentBottom.length>0&&(b+="<div class='ap-content-bottom'></div>"),b+="</div>",(d||f)&&(b+="<div class='ap-footer ap-footer-bottom'>",$.CF.compareStrings(a.setting.theme,"Default")&&(b+="<div class='ap-button-cont'></div>"),b+="</div>"),b+="</div>",b+="</div>",b+="</div>",$(a.setting.parent).append(b),"popover"===a.setting.layout&&$("body").addClass("noscroll"),$.AnyPicker.extra.bHasCSSAnimation?($(a.tmp.overlaySelector).addClass("ap-show"),$(a.tmp.overlaySelector).css({display:"block"}),$.CF.compareStrings(a.setting.layout,"fixed")&&($.CF.compareStrings(a.setting.vAlign,"top")?$(a.tmp.overlaySelector).find(".ap-cont").addClass("ap-top-slide-down"):$.CF.compareStrings(a.setting.vAlign,"bottom")&&$(a.tmp.overlaySelector).find(".ap-cont").addClass("ap-bottom-slide-up")),setTimeout(function(){$(a.tmp.overlaySelector).css({opacity:1}),$(a.tmp.overlaySelector).removeClass("ap-show"),$.CF.compareStrings(a.setting.layout,"fixed")&&($.CF.compareStrings(a.setting.vAlign,"top")?($(a.tmp.overlaySelector).find(".ap-cont").removeClass("ap-top-slide-down"),$(a.tmp.overlaySelector+" .ap-cont").css({top:0})):$.CF.compareStrings(a.setting.vAlign,"bottom")&&($(a.tmp.overlaySelector).find(".ap-cont").removeClass("ap-bottom-slide-up"),$(a.tmp.overlaySelector+" .ap-cont").css({bottom:0})))},a.setting.animationDuration)):$(a.tmp.overlaySelector).show(0),$.CF.isValid(a.setting.onShowPicker)&&a.setting.onShowPicker.call(a),a._adjustPicker(),a._addViewSectionComponents(),a.__initComponents(),a._adjustPicker(),a.tmp.bIsManualDraggingAfterShow=!1,$.CF.compareStrings(a.setting.mode,"datetime")&&"datetime"===a.tmp.sDateTimeMode&&a._setDateTimeTabs(a.tmp.sDateTimeTab)},_hidePicker:function(){var a=this;$(a.tmp.overlaySelector).length>0&&($.CF.isValid(a.setting.onBeforeHidePicker)&&a.setting.onBeforeHidePicker.call(a),$.AnyPicker.extra.bHasCSSAnimation?($(a.tmp.overlaySelector).addClass("ap-hide"),$.CF.compareStrings(a.setting.layout,"fixed")&&($.CF.compareStrings(a.setting.vAlign,"top")?$(a.tmp.overlaySelector).find(".ap-cont").addClass("ap-top-slide-up"):$.CF.compareStrings(a.setting.vAlign,"bottom")&&$(a.tmp.overlaySelector).find(".ap-cont").addClass("ap-bottom-slide-down")),setTimeout(function(){$(a.tmp.overlaySelector).remove()},a.setting.animationDuration)):($(a.tmp.overlaySelector).hide(0),setTimeout(function(){$(a.tmp.overlaySelector).remove()},a.setting.animationDuration)),"popover"===a.setting.layout&&$("body").removeClass("noscroll"),a.tmp.prevActive=null,$.CF.isValid(a.setting.onHidePicker)&&a.setting.onHidePicker.call(a))},_adjustPicker:function(a){var b=this;if($.CF.compareStrings(b.setting.theme,"Windows")){a=$.CF.isValid(a)?parseInt(a):b.tmp.numOfComp;var c,d=$(window).height(),e=$(window).width(),f="portrait"===b._getDeviceOrientation(),g=10;f?b.setting.visibleRows=5:b.setting.visibleRows=3,b.setting.componentsCoverFullWidth||(f?(i=Math.floor(e/3),c=i*a,g=(e-c)/2):(i=Math.floor(d/3),c=i*a,c=d>c?c:d,g=(e-c)/2,e=d),$(b.tmp.overlaySelector).find(".ap-content-middle").css({"padding-left":g,"padding-right":g})),e-=16;var h=Math.floor(d/b.setting.visibleRows),i=Math.floor(e/3);b.setting.componentsCoverFullWidth?(h=Math.floor(d/b.setting.visibleRows),b.setting.rowHeight=h):b.setting.rowHeight=i;var j,k,l=b.setting.rowHeight*b.setting.visibleRows,m=(d-l)/2;$(b.tmp.overlaySelector).find(".ap-content").css({top:m}),m+=2,j=$(b.tmp.overlaySelector).find(".ap-header").height()-m,$(b.tmp.overlaySelector).find(".ap-content-top").css({top:j}),m-=2,k=$(b.tmp.overlaySelector).find(".ap-footer").height()+m,$(b.tmp.overlaySelector).find(".ap-content-bottom").css({bottom:k}),b.tmp.iExt=Math.floor(b.setting.visibleRows/2)}var n=$(null===b.setting.relativeTo?b.setting.inputElement:b.setting.relativeTo),o=n.offset().top,p=n.offset().left,q=n.outerWidth();if($.CF.compareStrings(b.setting.layout,"popover")){var r,s,t,u=$("body").scrollTop(),v=($(window).outerWidth(),$(window).outerHeight(),u),w=$(b.setting.inputElement).offset().top-u,x=$(b.setting.inputElement).outerHeight(),y=w+x,z=$(b.setting.inputElement).offset().left,A=$(b.setting.inputElement).outerWidth(),B=z+A,C=$(b.tmp.overlaySelector).find(".ap-cont").outerWidth(),D=$(b.tmp.overlaySelector).find(".ap-cont").outerHeight(),E=10,F=10;"top"===b.tmp.sTooltip?(r=w-D-E,t=0>r?5:r,s=z+5):"bottom"===b.tmp.sTooltip?(r=y+E,s=z+5,"rtl"===b.tmp.sDir&&(s=B-C)):"left"===b.tmp.sTooltip?(r=w-(D/2-x/2),r=v>r?5:r,s=z+A+5):"right"===b.tmp.sTooltip&&(r=w-(D/2-x/2),r=v>r?5:r,s=z-(C+F)),$(b.tmp.overlaySelector).find(".ap-cont").css({position:"absolute",left:s,top:r})}else if($.CF.compareStrings(b.setting.layout,"inline"))$(b.tmp.overlaySelector).find(".ap-cont").css({position:"absolute",width:q,left:p,top:o});else if($.CF.compareStrings(b.setting.layout,"relative")){n=$(null===b.setting.relativeTo?b.setting.inputElement:b.setting.relativeTo);var G=0,H=$(document).outerWidth(),I=$(".ap-cont").outerWidth(),J=q;q=J>I?I:J,o+=n.outerHeight(),$.CF.compareStrings(b.setting.hAlign,"center")?p=J>q?p+q/2:J===q?p:p-q/2:$.CF.compareStrings(b.setting.hAlign,"right")&&(p-=q),p=G>p?G+5:p;var K=p+q;K>H&&(p>G+5?(p-=K-(H+5),p=G>p?G+5:p,K=p+q,q=K>H?H-10:q):q=H-10),$(b.tmp.overlaySelector).find(".ap-cont").css({position:"absolute","min-width":q,left:p,top:o})}else $.CF.compareStrings(b.setting.layout,"fixed")&&($.CF.compareStrings(b.setting.vAlign,"top")?$(b.tmp.overlaySelector+" .ap-cont").css({top:-1e3}):$.CF.compareStrings(b.setting.vAlign,"bottom")&&$(b.tmp.overlaySelector+" .ap-cont").css({bottom:-1e3}))},_addViewSectionComponents:function(){var a,b,c=this,d=$.CF.compareStrings(c.setting.theme,"Windows");for(a=0;a<$.AnyPicker.extra.sArrViewSections.length;a++){var e=$.AnyPicker.extra.sArrViewSections[a],f=c.setting.viewSections[e];if(f.length>0)for(b=0;b<f.length;b++){var g=f[b],h=c.setting[g]||null,i=$(h.markup);if(d&&$.CF.isValid(h.markupContentWindows)&&i.html(h.markupContentWindows),void 0!==h&&null!==h&&""!==h){if($.CF.compareStrings(e,"header"))$(c.tmp.overlaySelector).find(".ap-header").append(i),$.CF.compareStrings(h.type,"Button")&&$.CF.compareDataType(h.action,"function")&&i.on("click."+c.setting.timestamp,{apo:c},h.action);else if($.CF.compareStrings(e,"contentTop"))$(c.tmp.overlaySelector).find(".ap-content-top").append(i),$.CF.compareStrings(h.type,"Button")&&$.CF.compareDataType(h.action,"function")&&i.on("click."+c.setting.timestamp,{apo:c},h.action);else if($.CF.compareStrings(e,"contentBottom"))$(c.tmp.overlaySelector).find(".ap-content-bottom").append(i),$.CF.compareStrings(h.type,"Button")&&$.CF.compareDataType(h.action,"function")&&i.on("click."+c.setting.timestamp,{apo:c},h.action);else if($.CF.compareStrings(e,"footer")){var j=$(c.tmp.overlaySelector).find(".ap-button-cont");j.length>0?j.append(i):$(c.tmp.overlaySelector).find(".ap-footer").append(i),$.CF.compareStrings(h.type,"Button")&&$.CF.compareDataType(h.action,"function")&&i.on("click."+c.setting.timestamp,{apo:c},h.action)}$.CF.compareStrings(g,"headerTitle")&&$.CF.compareStrings(h.contentBehaviour,"Static")&&$(c.tmp.overlaySelector).find(".ap-header__title").text(c.setting.i18n.headerTitle),$.CF.compareStrings(g,"setButton")?!d||d&&c.tmp.bModified.set?i.text(c.setting.i18n.setButton):d&&!c.tmp.bModified.set&&i.find(".ap-button-text").text(c.setting.i18n.setButton):$.CF.compareStrings(g,"clearButton")?!d||d&&c.tmp.bModified.clear?i.text(c.setting.i18n.clearButton):d&&!c.tmp.bModified.clear&&i.find(".ap-button-text").text(c.setting.i18n.clearButton):$.CF.compareStrings(g,"nowButton")?!d||d&&c.tmp.bModified.now?i.text(c.setting.i18n.nowButton):d&&!c.tmp.bModified.now&&i.find(".ap-button-text").text(c.setting.i18n.nowButton):$.CF.compareStrings(g,"cancelButton")&&(!d||d&&c.tmp.bModified.cancel?i.text(c.setting.i18n.cancelButton):d&&!c.tmp.bModified.cancel&&i.find(".ap-button-text").text(c.setting.i18n.cancelButton)),$.CF.compareStrings(h.type,"Button")&&($.CF.compareDataType(h.action,"function")||($.CF.compareStrings(g,"setButton")?i.on("click."+c.setting.timestamp,{apo:c},c._setButtonAction):$.CF.compareStrings(g,"clearButton")?i.on("click."+c.setting.timestamp,{apo:c},c._clearButtonAction):$.CF.compareStrings(g,"nowButton")?i.on("click."+c.setting.timestamp,{apo:c},c._nowButtonAction):$.CF.compareStrings(g,"cancelButton")&&i.on("click."+c.setting.timestamp,{apo:c},c._cancelButtonAction)))}}}d&&$(".ap-button-icon, .ap-button-text").click(function(a){$(this).closest(".ap-button").trigger("click")}),$(c.tmp.overlaySelector).find(".ap-button").on("mousedown touchstart",function(a){$(this).addClass("ap-button-active")}).on("mouseup touchend",function(a){$(this).removeClass("ap-button-active")}),$(window).on("blur."+c.setting.timestamp,function(a){c.tmp.prevActive=document.activeElement}),$(c.tmp.overlaySelector).off("click."+c.setting.timestamp),setTimeout(function(){$(c.tmp.overlaySelector).on("click."+c.setting.timestamp,function(a){var b=Date.now()-c.tmp.iCompDragStart;!c.setting.bIsTouched&&b>1e3&&c._hidePicker()})},300),$(c.tmp.overlaySelector).find(".ap-cont, .ap-cont *").on("click."+c.setting.timestamp,function(a){a.stopPropagation()}),$(c.tmp.overlaySelector).find(".ap-content-switch-date").click(function(a){a.stopPropagation(),c._setDateTimeTabs("date")}),$(c.tmp.overlaySelector).find(".ap-content-switch-time").click(function(a){a.stopPropagation(),c._setDateTimeTabs("time")}),$(window).resize(function(){c._adjustOnOrientationChange()})},_setDateTimeTabs:function(a){var b=this,c="date"===a?"time":"date";b.tmp.sDateTimeTab=a,$(b.tmp.overlaySelector).find(".ap-content-switch-tab").removeClass("ap-content-switch-selected"),$(b.tmp.overlaySelector).find(".ap-content-switch-"+a).addClass("ap-content-switch-selected");var d=$(b.tmp.overlaySelector).find("[data-type='"+c+"']"),e=$(b.tmp.overlaySelector).find("[data-type='"+a+"']");d.css("display","none"),e.css("display","table-cell"),$.CF.compareStrings(b.setting.theme,"Windows")&&b._adjustPicker(e.length)},_setOutput:function(){var a=this,b="";if($.CF.isValid(a.setting.formatOutput))b=a.setting.formatOutput.call(a,a.tmp.selectedValues,a.tmp.bIsManualDraggingAfterShow);else if($.CF.compareStrings(a.setting.mode,"select"))for(var c=0;c<a.tmp.numOfComp;c++)0!==c&&(b+=" "),b+=a.tmp.selectedValues.values[c].label;else $.CF.compareStrings(a.setting.mode,"datetime")&&(b=a.formatOutputDates(a.tmp.selectedValues.date,a.tmp.bIsManualDraggingAfterShow));if(a.tmp.oElemValid.bIsListItem||a.tmp.oElemValid.bIsSelect){var d,e;a.tmp.oElemValid.bIsListItem?d="li":a.tmp.oElemValid.bIsSelect&&(d="option"),$(a.elem).find(d).each(function(){e=$(this);var b=e.attr("value")||e.data("value")||e.text();a.tmp.selectedValues.values[0].val===b?a.tmp.oElemValid.bIsSelect?e.attr("selected",!0):a.tmp.oElemValid.bIsListItem&&e.attr("data-selected",!0):a.tmp.oElemValid.bIsSelect?e.attr("selected",!1):a.tmp.oElemValid.bIsListItem&&e.attr("data-selected",!1)})}if($.CF.isValid(a.setting.setOutput))a.setting.setOutput.call(a,b,a.tmp.selectedValues,a.tmp.bIsManualDraggingAfterShow);else{if(null!==a.setting.inputElement){var f=$(a.setting.inputElement);a.tmp.oInputElemValid.bIsInput?f.val(b):f.text(b)}$.CF.isValid(a.setting.onSetOutput)&&a.setting.onSetOutput.call(a,b,a.tmp.selectedValues,a.tmp.bIsManualDraggingAfterShow)}},_clearOutput:function(){var a=this,b=$(a.setting.inputElement);a.tmp.oInputElemValid.bIsInput?b.val(""):b.text("")},_setButtonAction:function(a){var b=a.data.apo;b._setOutput(),b.showOrHidePicker()},_clearButtonAction:function(a){var b=a.data.apo;if(b.tmp.selectedDate=$.AnyPicker.extra.dToday,""!==b.tmp.sInputElemTag&&!b.tmp.oInputElemValid.bIsListItem&&!b.tmp.oInputElemValid.bIsSelect){var c=$(b.setting.inputElement);b.tmp.oInputElemValid.bIsInput?c.val(""):c.text("")}b.showOrHidePicker()},_nowButtonAction:function(a){var b=a.data.apo;$.CF.compareStrings(b.setting.mode,"datetime")&&(b.tmp.selectedDate=b._getCurrentDate(),b._setSelectedAndInvalidValuesForRows())},_cancelButtonAction:function(a){var b=a.data.apo;b.showOrHidePicker()},_getDeviceOrientation:function(){var a=$(window);return a.width()>a.height()?"landscape":"portrait"},_adjustOnOrientationChange:function(){var a=this,b=a._getDeviceOrientation();b!==a.tmp.sOrientation&&($("body").prepend("<div class='ap-loading'>Loading</div>"),a.tmp.sOrientation=b,a._adjustPicker(),a.reloadAllComponents())}},$.AnyPicker=$.extend(!0,$.AnyPicker,{defaults:{components:null,dataSource:null,showComponentLabel:!1,componentsCoverFullWidth:!1,visibleRows:3,maxRows:0,rowHeight:50,rowsNavigation:"scroller",rowView:null,onChange:null},tempDefaults:{numOfComp:0,selectedValues:{},bIsManualDraggingAfterShow:!0,bIsManualDragging:!1,bIsTouched:!1,iTS:0,iPos:0,iPosPrev:0,iPosStop:0,iOffset:0,iOffsetPrev:0,iVelocity:0,iAmplitude:0,oVelocityTicker:null,oScrollTicker:null,iMinTopPos:0,iMaxTopPos:0,oScrollingComp:null,iScrollingComp:-1,iTmConst:100,bEnd:!1},extra:{sArrRowsNavigation:["scroller+buttons","scroller","buttons"]}}),a.prototype=$.extend(a.prototype,{__initComponents:function(){var a=this;a.tmp.bFirst?a.tmp.bFirst=!1:$.CF.compareStrings(a.setting.mode,"select")?a.__setComponentsOfSelect():$.CF.compareStrings(a.setting.mode,"datetime")&&a.__setComponentsOfDateTimePicker();var b=a.tmp.numOfComp||a.setting.components.length;b>0&&(a.setting.components.length>0?a.reloadAllComponents():console.log("For apo.setting.mode \n 1. Select - \n Please set apo.setting.components 2. DateTime - \n Please enter a valid outputDateTimeFormat "))},reloadAllComponents:function(){var a,b=this;for($(b.setting.parent).find(".ap-component-section").html(""),$("body").prepend("<div class='ap-loading'></div>"),a=0;a<b.tmp.numOfComp;a++)b.reloadComponent(a,!1);b.adjustComponents(),b.setSelectedAndInvalidValuesForRows(!0)},reloadComponent:function(a,b){var c,d,e=this,f="",g=e.setting.dataSource[a].data,h=!1,i="ap-component-"+a,j=$(e.setting.parent).find("#"+i),k=e.setting.components[a],l=$.CF.isValid(k.type)?k.type:k.label,m=$.CF.isValid(k.width)?"width: "+k.width:"",n=e.setting.rtl?$.CF.compareStrings(k.textAlign,"left")?"right":$.CF.compareStrings(k.textAlign,"right")?"left":"":k.textAlign,o=$.CF.isValid(n)?"text-align: "+n:"";for(0===j.length&&(f+="<div class='ap-component' id='"+i+"' data-type='"+l+"' "+(""!==m?"style='"+m+";'":"")+">"),$.CF.compareStrings(e.setting.theme,"Windows")||e.setting.showComponentLabel&&(f+="<div class='ap-component-label' "+(""!==o?"style='"+o+";'":"")+">"+k.label+"</div>"),($.CF.compareStrings(e.setting.rowsNavigation,"scroller+buttons")||$.CF.compareStrings(e.setting.rowsNavigation,"buttons"))&&(f+="<div class='ap-component-plus ap-icon-arrow-up-filled' "+(""!==o?"style='"+o+";'":"")+"></div>"),f+="<div class='ap-component-cont' tabindex='0'>",f+="<div class='ap-component-data' role='listbox' aria-label='"+k.label+"'>",c=0;c<e.tmp.iExt;c++)f+="<div class='ap-row ap-row-ext'></div>";for(c=0;c<g.length;c++)h=$.CF.isValid(g[c].selected)?g[c].selected:!1,d=h?"ap-row-selected":"",f+="<div class='ap-row "+d+"' id='ap-row-"+a+"-"+c+"' data-value='"+g[c].val+"' data-label='"+g[c].label+"' role='option' aria-selected='"+h+"' "+(""!==o?"style='"+o+";'":"")+">",$.CF.compareStrings(e.setting.theme,"Windows")&&(f+="<div class='ap-row-bg'>",$.CF.isValid(e.setting.rowView)||(f+="<div class='ap-row-content'>")),f+=$.CF.isValid(e.setting.rowView)?e.setting.rowView.call(e,a,c,g[c]):g[c].label,$.CF.compareStrings(e.setting.theme,"Windows")&&!$.CF.isValid(e.setting.rowView)&&(f+="</div>",f+="<div class='ap-row-label'>",e.setting.showComponentLabel&&(f+=k.label),f+="</div>"),$.CF.compareStrings(e.setting.theme,"Windows")&&(f+="</div>"),f+="</div>";for(c=0;c<e.tmp.iExt;c++)f+="<div class='ap-row ap-row-ext'></div>";f+="</div>",f+="<div class='ap-component-gradient'></div>",f+="<div class='ap-component-selector' id='ap-component-selector-"+a+"'></div>",f+="</div>",($.CF.compareStrings(e.setting.rowsNavigation,"scroller+buttons")||$.CF.compareStrings(e.setting.rowsNavigation,"buttons"))&&(f+="<div class='ap-component-minus ap-icon-arrow-down-filled' "+(""!==o?"style='"+o+";'":"")+"></div>"),0===j.length&&(f+="</div>"),j.length>0?j.html(f):$(e.setting.parent).find(".ap-component-section").append(f),e._bindEventsToComponent(a),(j.length>0||b)&&e.adjustComponents(),b&&e.setSelectedAndInvalidValuesForRows(!0)},_bindEventsToComponent:function(a){var b=this,c=$("#ap-component-"+a),d=c.find(".ap-component-cont"),e={component:a,apo:b};if(($.CF.compareStrings(b.setting.rowsNavigation,"scroller+buttons")||$.CF.compareStrings(b.setting.rowsNavigation,"scroller"))&&(d.on($.AnyPicker.extra.sStartEv+"."+b.setting.timestamp,e,b._onStartDrag),d.on($.AnyPicker.extra.sMoveEv+"."+b.setting.timestamp,e,b._onDrag),$.CF.isValid($.AnyPicker.extra.sEndEv)&&d.on($.AnyPicker.extra.sEndEv+"."+b.setting.timestamp,e,b._onEndDrag),$.CF.isValid($.AnyPicker.extra.sOutEv)&&d.on($.AnyPicker.extra.sOutEv+"."+b.setting.timestamp,e,b._onEndDrag),$.AnyPicker.extra.sMouseWheel.length>0))for(var f=0;f<$.AnyPicker.extra.sMouseWheel.length;f++)d.on($.AnyPicker.extra.sMouseWheel[f]+"."+b.setting.timestamp,e,b._onMouseWheelScroll);

($.CF.compareStrings(b.setting.rowsNavigation,"scroller+buttons")||$.CF.compareStrings(b.setting.rowsNavigation,"buttons"))&&(c.find(".ap-component-plus").on("click."+b.setting.timestamp,e,b._onClickButtonMinus),c.find(".ap-component-minus").on("click."+b.setting.timestamp,e,b._onClickButtonPlus)),d.on("keydown."+b.setting.timestamp,e,b._onKeyDown),d.on("keyup."+b.setting.timestamp,e,b._onKeyUp)},adjustComponents:function(){var a=this,b=$(a.tmp.overlaySelector);if(b.find(".ap-component-cont").css({height:a.setting.rowHeight*a.setting.visibleRows}),b.find(".ap-row, .ap-component-selector").css({height:a.setting.rowHeight,"line-height":a.setting.rowHeight+"px"}),b.find(".ap-row-bg").css({height:a.setting.rowHeight-8}),!$.CF.compareStrings(a.setting.theme,"Windows")){var c=$(".ap-cont").width(),d=$(".ap-cont").height(),e=$(window).width(),f=$(window).height(),g=e,h=f,i=!1,j=!1;if(c>e&&(i=!0,g=c+20),d>f&&(j=!0,h=d+20),(i||j)&&(b.css({position:"absolute",height:h,width:g}),$.CF.compareStrings(a.setting.layout,"fixed")&&$(".ap-cont").css({position:"absolute"})),$.CF.compareStrings(a.setting.layout,"relative")){var k=$(null===a.setting.relativeTo?a.setting.inputElement:a.setting.relativeTo),l=b.find(".ap-cont"),m=k.offset().top+l.height();$.CF.compareStrings(a.setting.vAlign,"top")&&l.css({top:m})}}setTimeout(function(){$(".ap-loading").remove()},0)},_onStartDrag:function(a){var b=a.data.apo;if(b.tmp.bIsManualDragging||(b.tmp.bIsManualDraggingAfterShow=!0,b.tmp.bIsManualDragging=!0),b.tmp.bIsTouched=!0,b.tmp.bEnd=!1,b.tmp.iPos=b._getTouchPosition(a),b.tmp.bFromTouchStart=!0,b._setScrollingData(a),$.CF.compareStrings(b.setting.theme,"Windows")){var c=$(b.tmp.overlaySelector).find("#ap-component-"+b.tmp.iScrollingComp);b.tmp.bIsManualDragging&&($(b.tmp.overlaySelector).find(".ap-component").removeClass("ap-component-modifying"),c.addClass("ap-component-modifying"))}return"mousedown"===a.type&&($(document).on("mousemove."+b.setting.timestamp,a.data,b._onDrag),$(document).on("mouseup."+b.setting.timestamp,a.data,b._onEndDrag)),a.preventDefault(),a.stopPropagation(),!1},_onDrag:function(a){var b,c,d,e,f,g,h=a.data.apo,i=Date.now();if(h._clearScrollTicker(),h.tmp.bIsTouched&&(!$.AnyPicker.extra.bHasPointer||$.AnyPicker.extra.bHasPointer&&(h.tmp.bFromTouchStart||!h.tmp.bFromTouchStart&&i-h.tmp.iTS>1e3))&&(b=h._getTouchPosition(a),i=Date.now(),c=h.tmp.iPos-b,f=c/Math.abs(c),c>2||-2>c)){if($.CF.compareStrings(h.setting.theme,"Windows")){var j=$(h.tmp.overlaySelector).find("#ap-component-"+h.tmp.iScrollingComp),k=j.find(".ap-row");k.attr("aria-selected","false"),k.removeClass("ap-row-selected")}h.tmp.iPosPrev=h.tmp.iPos,h.tmp.iPos=b,d=i-h.tmp.iTS,h.tmp.iTS=i,e=c/d,h.tmp.iTotalDS+=c,g=h.tmp.iPrevDSTS-e,$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bIsTouchDevice?c>10||-10>c?$.CF.compareStrings(h.setting.theme,"iOS")?c=4*h.setting.visibleRows*e:Math.abs(h.tmp.iTotalDS)>100?c=e>.05?$.CF.compareStrings(h.setting.theme,"Windows")?c*d*5:c*d*2:1===f?f*h.setting.rowHeight/2:f*h.setting.rowHeight/1.2:e>.06&&Math.abs(g)>.08?c=$.CF.compareStrings(h.setting.theme,"Windows")?c*d*5:c*d*2:(c>50||-50>c)&&(c=$.CF.compareStrings(h.setting.theme,"Windows")?c*d*5:c*d*2):c=Math.abs(e)>.06&&Math.abs(g)>.08?$.CF.compareStrings(h.setting.theme,"Windows")?c*d*5:c*d*2:1===f?f*h.setting.rowHeight/2:f*h.setting.rowHeight/1.2:(2>c&&c>-2&&0!==c&&(c=5*f),c=c>5||-5>c?h.setting.visibleRows/10*320*e:f*h.setting.rowHeight):(c>10||-10>c)&&(c+=16*h.setting.visibleRows*e),h.tmp.iPrevDSTS=e,h._scrollToPosition("drag",h.tmp.iOffset+c,!1,"#ap-component-"+h.tmp.iScrollingComp+" .ap-component-data"),h.tmp.bFromTouchStart=!1}return a.preventDefault(),a.stopPropagation(),!1},_onEndDrag:function(a){var b=a.data.apo;return b.tmp.bEnd||(b.tmp.bEnd=!0,b.tmp.bIsTouched=!1,b._scrollToPosition("drag",b.tmp.iOffset,!0,"#ap-component-"+b.tmp.iScrollingComp+" .ap-component-data"),"mouseup"===a.type&&($(document).off("mousemove."+b.setting.timestamp,b._onDrag),$(document).off("mouseup."+b.setting.timestamp,b._onEndDrag))),a.preventDefault(),a.stopPropagation(),!1},_onMouseWheelScroll:function(a){var b,c=a.data.apo,d=a.data;return a=a||window.event,d.component!==c.tmp.iScrollingComp&&c._setScrollingData(a),c._clearScrollTicker(),b=a.wheelDelta?a.wheelDelta/3:a.originalEvent.wheelDelta?a.originalEvent.wheelDelta/3:a.detail?-a.detail/3:0,c._scrollToPosition("mouseWheel",c.tmp.iOffset-b,!0,"#ap-component-"+c.tmp.iScrollingComp+" .ap-component-data"),a.preventDefault(),a.stopPropagation(),!1},_onClickButtonPlus:function(a){var b=a.data.apo;a.preventDefault(),a.stopPropagation(),b._setScrollingData(a),b._clearScrollTicker(),b._scrollToPosition("button",b.tmp.iOffset+b.setting.rowHeight,!0,"#ap-component-"+b.tmp.iScrollingComp+" .ap-component-data")},_onClickButtonMinus:function(a){var b=a.data.apo;a.preventDefault(),a.stopPropagation(),b._setScrollingData(a),b._clearScrollTicker(),b._scrollToPosition("button",b.tmp.iOffset-b.setting.rowHeight,!0,"#ap-component-"+b.tmp.iScrollingComp+" .ap-component-data")},_onKeyDown:function(a){var b=a.data.apo;a.preventDefault(),a.stopPropagation(),b._setScrollingData(a),b._clearScrollTicker(),38===a.keyCode?b._scrollToPosition("key",b.tmp.iOffset-b.setting.rowHeight,!0,"#ap-component-"+b.tmp.iScrollingComp+" .ap-component-data"):40===a.keyCode&&b._scrollToPosition("key",b.tmp.iOffset+b.setting.rowHeight,!0,"#ap-component-"+b.tmp.iScrollingComp+" .ap-component-data")},_onKeyUp:function(a){var b=a.data.apo;a.preventDefault(),a.stopPropagation(),b._unsetScrollingData()},_getTouchPosition:function(a){a.data.apo;return a=a.originalEvent||a,a.changedTouches?a.changedTouches[0].pageY:a.pageY},_setScrollingData:function(a){var b=a.data.apo;b.tmp.iScrollingComp=parseInt(a.data.component),b.tmp.oScrollingComp=$("#ap-component-"+a.data.component).find(".ap-component-data"),b.tmp.iMinTopPos=0,b.tmp.iMaxTopPos=$(b.tmp.oScrollingComp).find(".ap-row").length*b.setting.rowHeight-$(b.tmp.oScrollingComp).parent().innerHeight(),b.tmp.iTS=Date.now(),b.tmp.iCompDragStart=b.tmp.iTS,b.tmp.iOffsetStart=Math.abs($(b.tmp.oScrollingComp).position().top),b.tmp.iOffset=b.tmp.iOffsetStart,b.tmp.iOffsetPrev=b.tmp.iOffsetStart,b.tmp.iTimeout=0,b.tmp.iDir=1,b.tmp.iTotalDS=0,b.tmp.iPrevDSTS=0,b._clearScrollTicker()},_unsetScrollingData:function(){var a=this;a.tmp.bIsTouched=!1,a.tmp.iPos=0,a.tmp.iTS=0,a.tmp.iOffset=0,a.tmp.iTimeout=0,a.tmp.iMinTopPos=0,a.tmp.iMaxTopPos=0,a.tmp.oScrollingComp=null,a.tmp.iScrollingComp=-1,a.tmp.iDir=0,a._clearScrollTicker(),$(document).off("mousemove."+a.setting.timestamp),$(document).off("mouseup."+a.setting.timestamp),$(document).off("touchend."+a.setting.timestamp)},_getScrollingData:function(){var a=this,b={};return b.iScrollingComp=a.tmp.iScrollingComp,b.oScrollingComp=a.tmp.oScrollingComp,b.iMinTopPos=a.tmp.iMinTopPos,b.iMaxTopPos=a.tmp.iMaxTopPos,b.iTS=a.tmp.iTS,b.iCompDragStart=a.tmp.iCompDragStart,b.iOffsetStart=a.tmp.iOffsetStart,b.iOffset=a.tmp.iOffset,b.iOffsetPrev=a.tmp.iOffsetPrev,b.iTimeout=a.tmp.iTimeout,b.iDir=a.tmp.iDir,b},_clearScrollTicker:function(){var a=this;clearTimeout(a.tmp.oScrollTicker),a.tmp.oScrollTicker=null},_scrollToPosition:function(a,b,c,d){var e=this,f=e.tmp.iScrollingComp,g=b<e.tmp.iOffset?1:b===e.tmp.iOffset?e.tmp.iDir:-1,h=b%e.setting.rowHeight,i=e.setting.rowHeight/4,j=e.tmp.iOffset,k=.1;e.tmp.iDir=g,c&&(b=0!==h?i>h?b-h:b+(e.setting.rowHeight-h):b);var l=e.tmp.iMinTopPos-e.setting.rowHeight,m=e.tmp.iMaxTopPos+e.setting.rowHeight;if(e.tmp.iOffset=b>e.tmp.iMaxTopPos?m:b<e.tmp.iMinTopPos?l:b,$.AnyPicker.extra.bHasCSS3D){var n=Math.abs(j-e.tmp.iOffset);"drag"===a?n<6*e.setting.rowHeight?k=n/(10*e.setting.rowHeight):(k=n/(10*e.setting.rowHeight),k=.2>=k?.2:k):k=.1,e._performTransition(f,d,e.tmp.iOffset,e.tmp.iTimeout/1e3,e.tmp.iMinTopPos,e.tmp.iMaxTopPos,g,l,m,a,c),e.tmp.iTimeout=e.tmp.iTimeout-(Date.now()-e.tmp.iTS)+1e3*k}else e._performTransition(f,d,e.tmp.iOffset,k,e.tmp.iMinTopPos,e.tmp.iMaxTopPos,g,l,m,a,c)},_performTransition:function(a,b,c,d,e,f,g,h,i,j,k){var l=this,m=$(l.tmp.overlaySelector).find(b).get(0),n=l._getOffset(m,!0),o=Math.abs(n-c),p=o/(10*l.setting.rowHeight);d=d>p?p:d,d=.1>d?.1:d,d=$.AnyPicker.extra.bHasPointer&&l.tmp.bIsTouched&&"auto"===j?0:d,$.AnyPicker.extra.bHasCSS3D?(m.style[$.AnyPicker.extra.sCSSTransition]=$.AnyPicker.extra.sCSSTransformStyle+" "+d+"s ease-out",m.style[$.AnyPicker.extra.sCSSTransform]="translate3d(0px, "+-c+"px, 0px)"):$(m).animate({top:-c},100),l.tmp.iOffset=c;var q=l._getScrollingData();l._performTransitionAfter(q,i,h,j,d,k),l._clearScrollTicker()},_performTransitionAfter:function(a,b,c,d,e,f){var g=this;setTimeout(function(){!f||"drag"!==d&&"mouseWheel"!==d||(g.tmp.oScrollTicker=1,g._scrollToRow(a.iDir,b,c,a.iMinTopPos,a.iMaxTopPos,d));var h=$(a.oScrollingComp).get(0),i="auto"===d?a.iOffset:-g._getOffset(h,!1),j=i<a.iMinTopPos,k=i>a.iMaxTopPos,l=Math.abs(i);j?i=a.iMinTopPos:k&&(i=a.iMaxTopPos),j||k?(e=Math.abs(l-i)/(10*g.setting.rowHeight),$.AnyPicker.extra.bHasCSS3D?(h.style[$.AnyPicker.extra.sCSSTransition]=$.AnyPicker.extra.sCSSTransformStyle+" "+e+"s ease-out",h.style[$.AnyPicker.extra.sCSSTransform]="translate3d(0px, "+-Math.abs(i)+"px, 0px)"):$(h).animate({top:-Math.abs(i)},100),a.iOffset=i,l=i,g._skipDisabledRowAfter(a,l,d,e,f)):(f||l===a.iMinTopPos||l===a.iMaxTopPos)&&g._skipDisabledRow(d,a.iScrollingComp,l,a.iDir)},1e3*e)},_skipDisabledRowAfter:function(a,b,c,d,e){var f=this;setTimeout(function(){var d="auto"===c?b:a.iOffset;(e||d===a.iMinTopPos||d===a.iMaxTopPos)&&f._skipDisabledRow(c,a.iScrollingComp,d,a.iDir)},1e3*d)},_getOffset:function(a,b){var c=$(a).hasClass("ap-component-data")?$(a).css("transform"):$(a).find(".ap-component-data").css("transform"),d=0;if($.CF.isValid(c))if("none"===c)d=0;else{c=c.replace("matrix(",""),c=c.replace(")","");var e=c.split(", ");d=parseInt(e.length>6?e[13]:e[5])}return b?Math.abs(d):d},_scrollToRow:function(a,b,c,d,e,f){var g,h,i,j=this;if(null!==j.tmp.oScrollTicker){var k=$(j.tmp.oScrollingComp).get(0);h=j._getOffset(k,!1),g=h%j.setting.rowHeight,(0!==g||0===g&&(h>d||-e>h))&&(h=Math.abs(h),h=-1===a?h+(j.setting.rowHeight-Math.abs(g)):h+g,h=h>e?e:d>h?d:h,i=.4,$.AnyPicker.extra.bHasCSS3D?(k.style[$.AnyPicker.extra.sCSSTransition]=$.AnyPicker.extra.sCSSTransformStyle+" "+i+"s ease-out",k.style[$.AnyPicker.extra.sCSSTransform]="translate3d(0px, "+-Math.abs(h)+"px, 0px)"):$(k).animate({top:-Math.abs(h)},100),j.tmp.iOffset=h)}},__scrollToSelectedRow:function(){var a,b=this,c=0;for($.CF.compareStrings(b.setting.mode,"datetime")&&b.__setSelectedDateTimeInComponent(),a=0;a<b.tmp.numOfComp;a++){var d=$(b.tmp.overlaySelector).find("#ap-component-"+a+" .ap-row-selected"),e=d.length>0?d[0]:null;if(null!==e){var f=$(e).position().top,g=b.tmp.iExt*b.setting.rowHeight;f=0===f?f:f-g,b.callScrollToPosition(a,b,f,c),c+=200}}},callScrollToPosition:function(a,b,c,d){var e=this,f={};f.data={component:a,apo:b},e._setScrollingData(f),e._scrollToPosition("auto",c,!0,"#ap-component-"+a+" .ap-component-data")},setSelectedAndInvalidValuesForRows:function(a){var b=this;$.CF.compareStrings(b.setting.mode,"select")?b.__disableInvalidRowsOfSelect():$.CF.compareStrings(b.setting.mode,"datetime")&&(a&&b.__setSelectedDateTimeInComponent(),$(b.tmp.overlaySelector).find(".ap-row").removeClass("ap-row-disabled ap-row-invalid ap-row-hidden"),b.__disableInvalidRowsOfDateTimePicker(),b.__setDaysOfMonthInDatePicker()),a&&b.__scrollToSelectedRow()},__changeComponentValue:function(a,b){var c,d,e,f=this,g=(f.setting.components[a],f.setting.dataSource[a].data);for(c=0;c<g.length;c++)d="#ap-row-"+a+"-"+c,e=$(f.tmp.overlaySelector).find(d),g[c].val===b?(g[c].selected=!0,e.attr("aria-selected","true"),e.addClass("ap-row-selected")):(g[c].selected=!1,e.attr("aria-selected","false"),e.removeClass("ap-row-selected"))},_skipDisabledRow:function(a,b,c,d){var e=this,f="#ap-component-"+b+" .ap-component-data",g=$(e.tmp.overlaySelector).find(f).get(0),h=Math.floor(c/e.setting.rowHeight),i="#ap-row-"+b+"-",j=i+h,k=$(g).find(".ap-row").length-2*e.tmp.iExt,l=$(g).find(j).hasClass("ap-row-disabled"),m=-1,n=0,o={},p=!1;if($.CF.isValid(g)&&l){1===d&&(m=e._findRows(b,h,k,g,d),-1===m&&(d=-1,n=1)),-1===d&&(m=e._findRows(b,h,k,g,d),-1===m&&0===n&&(d=1,m=e._findRows(b,h,k,g,d)));var q=-1!==m?$(g).find(i+m).position().top-e.tmp.iExt*e.setting.rowHeight:-1;-1!==m&&c!==q?(p=!0,o.data={component:b,apo:e},e._setScrollingData(o),e._scrollToPosition("auto",q,!0,f)):setTimeout(function(){e._actionsOnComponentStop(a,b,h,c,d)},200)}else setTimeout(function(){e._actionsOnComponentStop(a,b,h,c,d)},200)},_actionsOnComponentStop:function(a,b,c,d,e){var f=this,g=!1,h="";if(f.__setAriaSelectedForRowElement(b,d,e),f._getSelectedValueInComponent(null),$.CF.compareStrings(f.setting.inputChangeEvent,"onChange")&&f._setOutput(),"DynamicFunction"===f.tmp.sHeaderTitleType)h=f.setting.headerTitle.format.call(f.tmp.selectedValues),$(f.tmp.overlaySelector).find(".ap-header__title").text(h);else if("DynamicString"===f.tmp.sHeaderTitleType){if($.CF.compareStrings(f.setting.mode,"select"))for(var i=0;i<f.tmp.numOfComp;i++)0!==i&&(h+=" "),h+=f.tmp.selectedValues.values[i].label;else $.CF.compareStrings(f.setting.mode,"datetime")&&(h=f.formatOutputDates(f.tmp.selectedValues.date,f.tmp.sArrHeaderTitleFormat));var j=!0;f.tmp.bIsManualDragging||(j=!1),j&&$(f.tmp.overlaySelector).find(".ap-header__title").text(h)}"auto"!==a&&$.CF.isValid(f.setting.onChange)&&f.setting.onChange.call(f,b,c,f.tmp.selectedValues,a),g||f.setSelectedAndInvalidValuesForRows(!1)},_findRows:function(a,b,c,d,e){var f;if(-1===e){for(f=b+1;c>f;f++)if(!$(d).find("#ap-row-"+a+"-"+f).hasClass("ap-row-disabled"))return f}else if(1===e)for(f=b-1;f>0;f--)if(!$(d).find("#ap-row-"+a+"-"+f).hasClass("ap-row-disabled"))return f;return-1},_validateSelectedValues:function(){var a=this;if($.CF.compareStrings(a.setting.mode,"datetime")){var b=a.__getSelectedDate(!1);a.__validateSelectedDate(b,!1)}},__setAriaSelectedForRowElement:function(a,b,c){var d,e=this,f=$(e.tmp.overlaySelector).find("#ap-component-"+a);0===b&&(b=e._getOffset(f,!0)),1===c?d=Math.floor(b/e.setting.rowHeight):-1===c&&(d=Math.ceil(b/e.setting.rowHeight));var g=f.find(".ap-row"),h=f.find("#ap-row-"+a+"-"+d);g.attr("aria-selected","false"),g.removeClass("ap-row-selected"),h.attr("aria-selected","true"),h.addClass("ap-row-selected")},_getSelectedValueInComponent:function(a){var b,c,d=this,e=[];if(d.tmp.selectedValues={},$.CF.isValid(a))c=$(d.tmp.overlaySelector).find("#ap-component-"+a+" .ap-row-selected"),e.push({component:a,val:c.data("value"),label:c.data("label")});else for(b=0;b<d.tmp.numOfComp;b++)c=$(d.tmp.overlaySelector).find("#ap-component-"+b+" .ap-row-selected"),e.push({component:b,val:c.data("value"),label:c.data("label")});d.tmp.selectedValues.values=e,$.CF.compareStrings(d.setting.mode,"datetime")&&(d.tmp.selectedValues.date=d.__getSelectedDate(!1),d.tmp.selectedDate=d.tmp.selectedValues.date)},__getDataSourceValueFromLabel:function(a,b,c){var d,e,f,g,h=this,i="";if($.CF.isValid(b))for(f=h.setting.dataSource[b].data,e=0;e<f.length;e++)g=f[e],$.CF.compareStrings(g.label,a)?(i=g.val,c&&(g.selected=!0)):c&&(g.selected=!1),h.setting.dataSource[b].data[e]=g;else for(d=0;d<h.tmp.numOfComp;d++)for(f=h.setting.dataSource[d].data,e=0;e<f.length;e++)g=f[e],$.CF.compareStrings(g.label,a)?(c&&(g.selected=!0),i=g.val):c&&(g.selected=!1);return i},__getValuesOfComponent:function(a,b){var c,d=this,e=null;if("component"===a)if(d.setting.components[b].component===b)e=d.setting.components[b];else for(c=0;c<d.tmp.numOfComp;c++)d.setting.components[c].component===b&&(e=d.setting.components[c]);else if("datasource"===a)if(d.setting.dataSource[b].component===b)e=d.setting.dataSource[b];else for(c=0;c<d.tmp.numOfComp;c++)d.setting.dataSource[c].component===b&&(e=d.setting.dataSource[c]);return e}}),a.prototype=$.extend(a.prototype,{__setComponentsOfSelect:function(){var a=this;if(null===a.setting.dataSource)if(a.tmp.oElemValid.bIsListItem||a.tmp.oElemValid.bIsSelect){var b,c;a.setting.components=[];var d={};d.component=1,d.name=$(a.elem).data("name"),d.label=$(a.elem).data("label"),a.setting.components.push(d);var e=[];a.tmp.oElemValid.bIsListItem?b="li":a.tmp.oElemValid.bIsSelect&&(b="option"),$(a.elem).find(b).each(function(){c=$(this);var b={val:c.attr("value")||c.data("value")||c.text(),label:c.text(),selected:function(){return c.attr("selected")||void 0!==c.attr("data-selected")&&"true"===c.attr("data-selected")?!0:!1},disabled:function(){return c.attr("disabled")||void 0!==c.data("disabled")&&"true"===c.data("disabled")?!0:!1}};b.disabled?b.selected=!1:b.selected&&(a.tmp.selected={val:b.val,displayVal:b.displayVal}),e.push(b)}),a.setting.dataSource=[];var f={};f.component=1,f.data=e,a.setting.dataSource.push(f),a.tmp.numOfComp=1,$.CF.compareStrings(a.setting.headerTitle.contentBehaviour,"Dynamic")&&$.CF.isValid(a.setting.headerTitle.format)&&("function"==typeof a.setting.headerTitle.format?a.tmp.sHeaderTitleType="DynamicFunction":"string"==typeof a.setting.headerTitle.format&&(a.tmp.sHeaderTitleType="DynamicString"))}else console.log("You will have to specify dataSource either as a JSON object or as <ul>, <ol>, <dl> or <select>")},__disableInvalidRowsOfSelect:function(){var a,b,c=this,d=c.setting.dataSource[0].data;for(a=0;a<d.length;a++)b=$.CF.isValid(d[a].disabled),b&&d[a].disabled===!0&&$(c.elem).find("#ap-row-0-"+a).addClass("ap-row-disabled")}}),$.AnyPicker=$.extend(!0,$.AnyPicker,{defaults:{selectedDate:null,i18n:{veryShortDays:["Su","Mo","Tu","We","Th","Fr","Sa"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fullDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],numbers:["0","1","2","3","4","5","6","7","8","9"],meridiem:{a:["a","p"],aa:["am","pm"],A:["A","P"],AA:["AM","PM"]},componentLabels:{date:"Date",day:"Day",month:"Month",year:"Year",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem"}},inputDateTimeFormat:"",dateTimeFormat:"dd-MM-yyyy hh:mm AA",tzOffset:"",maxValue:null,minValue:null,maxYear:0,disableValues:{},intervals:{h:1,m:1,s:1},roundOff:!0},tempDefaults:{oMinMax:{},oArrPDisable:{},sDateTimeMode:"",sArrDateTimeFormat:[],sDateTimeRegex:"",diffDateTimeFormats:!1,sArrInputDateTimeFormat:[],sInputDateTimeRegex:"",sHeaderTitleType:"Static",sArrHeaderTitleFormat:[],dPrevDate:null},extra:{dToday:new Date,iMS:{m:6e4,h:36e5,d:864e5,w:6048e5},sFormatRegex:/(\[[^\[]*\])|(\\)?(MMMM|MMM|MM?|DDDD|DDD|DD|D|dd?|yyyy|YYYY|yy|YY|y|Y|aa?|AA?|hh?|HH?|mm?|ss?|x|X|zz?|ZZ?|.)/g,en:{veryShortDays:["Su","Mo","Tu","We","Th","Fr","Sa"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fullDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],numbers:["0","1","2","3","4","5","6","7","8","9"],meridiem:{a:["a","p"],aa:["am","pm"],A:["A","P"],AA:["PM","PM"]}},sArrDateComponents:["d","dd","DD","DDD","DDDD","M","MM","MMM","MMMM","y","yy","yyyy","Y","YY","YYYY","h","hh","H","HH","m","mm","s","ss","AA","A","aa","a"],sArrDateTimeModes:["date","time","datetime"]}}),a.prototype=$.extend(a.prototype,{_isSupportedFormat:function(a){return-1!==a.search($.AnyPicker.extra.sFormatRegex,"")},__setComponentsOfDateTimePicker:function(){var a,b,c=this;c.setting.components=[],c.tmp.numOfComp=0,c.setting.dataSource=[];var d=-1!==c.setting.dateTimeFormat.search(/D|d|M|y|Y/,""),e=-1!==c.setting.dateTimeFormat.search(/H|h|m|s|A|a/,"");c.tmp.sDateTimeMode=d&&e?"datetime":d?"date":e?"time":"",$.CF.isValid(c.setting.dateTimeFormat)?$.CF.isValid(c.setting.inputDateTimeFormat)?c.tmp.diffDateTimeFormats=c.setting.dateTimeFormat!==c.setting.inputDateTimeFormat:(c.setting.inputDateTimeFormat=c.setting.dateTimeFormat,c.tmp.diffDateTimeFormats=!1):console.log("Invalid DateTimeFormat"),c.tmp.sArrDateTimeFormat=c._setDateTimeFormatComponentsArray(c.setting.dateTimeFormat),c.tmp.diffDateTimeFormats&&(c.tmp.sArrInputDateTimeFormat=c._setDateTimeFormatComponentsArray(c.setting.inputDateTimeFormat)),c.tmp.sDateTimeRegex=c._createDateTimeRegex(c.tmp.sArrDateTimeFormat),c.tmp.diffDateTimeFormats&&(c.tmp.sInputDateTimeRegex=c._createDateTimeRegex(c.tmp.sArrInputDateTimeFormat)),c.setSelectedDate(c.setting.selectedDate),c.parseDisableValues();var f=c.setting.dateTimeFormat.match(/(MMMM).*(dd|d).*(yyyy|YYYY)/);if(c.tmp.sArrDateTimeFormat.length>0)for(a=0;a<c.tmp.sArrDateTimeFormat.length;a++)b=c.tmp.sArrDateTimeFormat[a],-1!==b.search(/D|d|M|y|Y|H|h|m|s|A|a/,"g")&&c._setComponentAndDataSourceForFormat(b,{MMMMddYYYY:f});c.tmp.headerTitleDefined||!$.CF.compareStrings(c.setting.mode,"datetime")||$.CF.compareStrings(c.setting.theme,"iOS")||(c.setting.headerTitle.contentBehaviour="Dynamic","datetime"===c.tmp.sDateTimeMode?c._formatContains(c.tmp.sArrDateTimeFormat,["d","M","y|Y","h","m"],"and")&&c._formatContains(c.tmp.sArrDateTimeFormat,["a","A"],"or")?c.setting.headerTitle.format="dd.MM.yyyy, hh:mm "+c._getFormatForComponent("meridiem"):c._formatContains(c.tmp.sArrDateTimeFormat,["d","M","y|Y","H","m"],"and")?c.setting.headerTitle.format="dd.MM.yyyy, HH:mm":c.setting.headerTitle.format=c.setting.dateTimeFormat:"date"===c.tmp.sDateTimeMode?c._formatContains(c.tmp.sArrDateTimeFormat,["d","M","y|Y"],"and")?c.setting.headerTitle.format="DDD, MMM dd, yyyy":c.setting.headerTitle.format=c.setting.dateTimeFormat:"time"===c.tmp.sDateTimeMode&&(c._formatContains(c.tmp.sArrDateTimeFormat,["h","m"],"and")&&c._formatContains(c.tmp.sArrDateTimeFormat,["a","A"],"or")?c.setting.headerTitle.format="hh:mm "+c._getFormatForComponent("meridiem"):c._formatContains(c.tmp.sArrDateTimeFormat,["H","m"],"and")?c.setting.headerTitle.format="HH:mm":c.setting.headerTitle.format=c.setting.dateTimeFormat)),$.CF.compareStrings(c.setting.headerTitle.contentBehaviour,"Dynamic")&&$.CF.isValid(c.setting.headerTitle.format)&&("function"==typeof c.setting.headerTitle.format?c.tmp.sHeaderTitleType="DynamicFunction":"string"==typeof c.setting.headerTitle.format&&(c.tmp.sHeaderTitleType="DynamicString",c.tmp.sArrHeaderTitleFormat=c._matchRegex($.AnyPicker.extra.sFormatRegex,c.setting.headerTitle.format)))},setSelectedDate:function(a){var b=this;if($.CF.isValid(a)){if("string"==typeof a?b.tmp.selectedDate=b._parseInputDateTime(a):"[object Date]"===Object.prototype.toString.call(a)&&(b.setting.selectedDate=b.formatOutputDates(a),b.tmp.selectedDate=new Date(a)),null!==b.setting.inputElement){var c=$(b.setting.inputElement);b.tmp.oInputElemValid.bIsInput?c.val(b.setting.selectedDate):c.text(b.setting.selectedDate)}}else b.tmp.selectedDate=new Date($.AnyPicker.extra.dToday)},setMinimumDate:function(a){var b=this;b.setting.minValue=a,b.parseDisableValues()},setMaximumDate:function(a){var b=this;b.setting.maxValue=a,b.parseDisableValues()},_getFormatForComponent:function(a){for(var b=this,c=0;c<b.tmp.numOfComp;c++){var d=b.setting.components[c];if(d.name===a)return d.format}},_formatContains:function(a,b,c){var d,e,f,g=[];for(d=0;d<b.length;d++){var h=b[d],i=!1;for(e=0;e<a.length;e++){var j=a[e];if($.CF.isValid(j)&&$.CF.isValid(h)&&-1!==j.search(new RegExp(h),"")){i=!0;break}}g.push(i)}if("and"===c){for(f=!0,d=0;d<g.length;d++)if(g[d]!==!0){f=!1;break}}else if("or"===c)for(f=!1,d=0;d<g.length;d++)if(g[d]===!0){f=!0;break}return f},_setComponentAndDataSourceForFormat:function(a,b){var c=this,d={},e={},f=c._isSupportedFormat(a);f&&("d"===a||"dd"===a?(d.name="date",d.label=c.setting.i18n.componentLabels.date,d.type="date",$.CF.compareStrings(c.setting.theme,"iOS")&&b.MMMMddYYYY&&(d.width="24%",d.textAlign="right")):"DD"===a||"DDD"===a||"DDDD"===a?(d.name="day",d.label=c.setting.i18n.componentLabels.day,d.type="date"):"M"===a||"MM"===a||"MMM"===a||"MMMM"===a?(d.name="month",d.label=c.setting.i18n.componentLabels.month,d.type="date",$.CF.compareStrings(c.setting.theme,"iOS")&&b.MMMMddYYYY&&(d.width="46%",d.textAlign="left")):"y"===a||"Y"===a||"yyyy"===a||"Y"===a||"YYYY"===a?(d.name="year",d.label=c.setting.i18n.componentLabels.year,d.type="date",$.CF.compareStrings(c.setting.theme,"iOS")&&b.MMMMddYYYY&&(d.width="30%",d.textAlign="right")):"H"===a||"HH"===a||"h"===a||"hh"===a?(d.name="hours",d.label=c.setting.i18n.componentLabels.hours,d.type="time"):"m"===a||"mm"===a?(d.name="minutes",d.label=c.setting.i18n.componentLabels.minutes,d.type="time"):"s"===a||"ss"===a?(d.name="seconds",d.label=c.setting.i18n.componentLabels.seconds,d.type="time"):"aa"===a||"a"===a||"AA"===a||"A"===a?(d.name="meridiem",d.label=c.setting.i18n.componentLabels.meridiem,d.type="time"):console.log("Picker Component for "+a+" can noot be added because the format you specified as  "+a+"  cannot be parsed using this function. If you want to parse it, please add the condition in the _setComponentAndDataSourceForFormat function."),d.format=a,d.component=c.tmp.numOfComp,c.setting.components.push(d),e.component=d.component,e.data=c.__setDataSourceArrayForComponent(d.name,a),c.setting.dataSource.push(e),c.tmp.numOfComp++)},__setDataSourceArrayForComponent:function(a,b){var c,d,e,f,g,h,i,j=this,k=[],l=j.getDateObject(j.tmp.selectedDate),m=null,n=null;if($.CF.isValid(j.tmp.oMinMax.min)&&(m=j.getDateObject(j.tmp.oMinMax.min)),$.CF.isValid(j.tmp.oMinMax.max)&&(n=j.getDateObject(j.tmp.oMinMax.max)),"day"===a){if("DD"===b)for(d=0;d<$.AnyPicker.extra.en.veryShortDays.length;d++)k.push({val:d,label:j.setting.i18n.veryShortDays[d]});else if("DDD"===b)for(d=0;d<$.AnyPicker.extra.en.shortDays.length;d++)k.push({val:d,label:j.setting.i18n.shortDays[d]});else if("DDDD"===b)for(d=0;d<$.AnyPicker.extra.en.fullDays.length;d++)k.push({val:d,label:j.setting.i18n.fullDays[d]})}else if("date"===a)for(e=31,f=1,g=e,$.CF.isValid(m)&&$.CF.isValid(n)&&m.y===n.y&&m.M===n.M&&(f=m.d,g=n.d),d=f;g>=d;d++)"d"===b?c=0:"dd"===b&&(c=2),k.push({val:d,label:j.getNumberStringInFormat(d,c,!0)});else if("month"===a){if(f=1,g=12,$.CF.isValid(m)&&$.CF.isValid(n)&&m.y===n.y&&(f=m.M,g=n.M,("M"===b||"MM"===b)&&(f++,g++)),"M"===b||"MM"===b)for("M"===b?c=0:"MM"===b&&(c=2),d=f;g>=d;d++)k.push({val:d-1,label:j.getNumberStringInFormat(d,c,!0)});else if("MMM"===b)for(d=f;g>=d;d++)k.push({val:d-1,label:j.setting.i18n.shortMonths[d-1]});else if("MMMM"===b)for(d=f;g>=d;d++)k.push({val:d-1,label:j.setting.i18n.fullMonths[d-1]})}else if("year"===a)for(h=0===j.setting.maxRows?50:j.setting.maxRows,i=Math.floor(h/2),f=$.CF.isValid(m)?m.y:h%2===0?l.y-i-1:l.y-i,g=$.CF.isValid(n)?n.y:l.y+i,d=f;g>=d;d++)k.push({val:d,label:j.getNumberStringInFormat(d,0,!0)});else if("hours"===a){var o=[],p=0;if(!j.setting.roundOff)for(p=l.H;p-j.setting.intervals.h>=0;)p-=j.setting.intervals.h;for("h"===b||"hh"===b?(o=[12,1,2,3,4,5,6,7,8,9,10,11],p%=12,p=0===p?12:p,f=o.indexOf(p),g=11):("H"===b||"HH"===b)&&(f=p,g=23),"h"===b||"H"===b?c=0:("hh"===b||"HH"===b)&&(c=2),d=f;g>=d;d+=j.setting.intervals.h)"h"===b||"hh"===b?k.push({val:o[d],label:j.getNumberStringInFormat(o[d],c,!0)}):("H"===b||"HH"===b)&&k.push({val:d,label:j.getNumberStringInFormat(d,c,!0)})}else if("minutes"===a){var q=0;if(!j.setting.roundOff)for(q=l.m;q-j.setting.intervals.m>=0;)q-=j.setting.intervals.m;for("m"===b?c=0:"mm"===b&&(c=2),d=q;60>d;d+=j.setting.intervals.m)k.push({val:d,label:j.getNumberStringInFormat(d,c,!0)})}else if("seconds"===a){var r=0;if(!j.setting.roundOff)for(r=l.s;r-j.setting.intervals.s>=0;)r-=j.setting.intervals.s;for("s"===b?c=0:"ss"===b&&(c=2),d=r;60>d;d+=j.setting.intervals.s)k.push({val:d,label:j.getNumberStringInFormat(d,c,!0)})}else if("meridiem"===a)for(d=0;2>d;d++)k.push({val:d,label:j.setting.i18n.meridiem[b][d]});return k},_setDateTimeFormatComponentsArray:function(a){var b,c=this,d=c._matchRegex($.AnyPicker.extra.sFormatRegex,a),e="",f=[];for(b=0;b<d.length;b++){var g=d[b];g.match(/[a-zA-Z0-9]/)?(""!==e&&(f.push(e),e=""),f.push(g)):e+=g}return""!==e&&(f.push(e),e=""),f},_createDateTimeRegex:function(a){var b,c,d,e=this,f="",g="(\\[[^\\[]*\\])|(\\\\)?",h="|.";for(f+=g,b=0;b<a.length;b++)c=a[b],f=e._getRegexComponentForFormat(f,c);return f+=h,d=new RegExp(f,"g")},_getRegexComponentForFormat:function(a,b){var c=this;return"d"===b||"dd"===b?a+="(\\d{1,2})":"DD"===b?(a+="(",a+=c.setting.i18n.veryShortDays.join("|"),a+=")"):"DDD"===b?(a+="(",a+=c.setting.i18n.shortDays.join("|"),a+=")"):"DDDD"===b?(a+="(",a+=c.setting.i18n.fullDays.join("|"),a+=")"):"M"===b||"MM"===b?a+="(\\d{1,2})":"MMM"===b?(a+="(",a+=c.setting.i18n.shortMonths.join("|"),a+=")"):"MMMM"===b?(a+="(",a+=c.setting.i18n.fullMonths.join("|"),a+=")"):$.CF.compareStrings(b,"y")||$.CF.compareStrings(b,"yyyy")?a+="(\\d{1,4})":$.CF.compareStrings(b,"yy")?a+="(\\d{2})":$.CF.compareStrings(b,"h")||$.CF.compareStrings(b,"hh")?a+="(\\d{1,2})":"m"===b||"mm"===b?a+="(\\d{1,2})":"s"===b||"ss"===b?a+="(\\d{1,2})":"a"===b||"aa"===b||"A"===b||"AA"===b?(a+="(","a"===b?a+=c.setting.i18n.meridiem.a.join("|"):"aa"===b?a+=c.setting.i18n.meridiem.aa.join("|"):"A"===b?a+=c.setting.i18n.meridiem.A.join("|"):"AA"===b&&(a+=c.setting.i18n.meridiem.AA.join("|")),a+=")"):a+="/"===b||"-"===b||"."===b||" "===b||":"===b||","===b?"(/|-|.| |:|,)":"("+b+")",a},_matchRegex:function(a,b){for(var c=[],d=[];null!==(d=a.exec(b));){for(var e=3;e<d.length;e++)c.push(d[e]);d.index===a.lastIndex&&a.lastIndex++}return c},_parseInputDateTime:function(a){var b,c,d,e,f,g,h=this,i=null,j={};if("string"==typeof a){for(g=h.tmp.diffDateTimeFormats?h.tmp.sArrInputDateTimeFormat:h.tmp.sArrDateTimeFormat,f=h.tmp.diffDateTimeFormats?h.tmp.sInputDateTimeRegex:h.tmp.sDateTimeRegex,e=h._matchRegex(f,a),b=0;b<g.length;b++)c=g[b],d=e[b],-1!==c.search(/D|d|M|y|Y|H|h|m|s|A|a/,"")&&(j=h._setInputDateTimeValue(c,d,j));$.CF.isValid(j.h)&&(($.CF.compareStrings(j.me,"AM")||$.CF.compareStrings(j.sm,"A"))&&12===j.h?j.H=0:($.CF.compareStrings(j.me,"PM")||$.CF.compareStrings(j.sm,"P"))&&j.h<12?j.H=j.h+12:j.H=j.h),i=h.setDateInFormat({iDate:j},"")}else"[object Date]"===Object.prototype.toString.call(a)&&(i=new Date(a));return i},_setInputDateTimeValue:function(a,b,c){var d=this;if(d._isSupportedFormat(a))if("d"===a||"dd"===a)c.d=parseInt(b);else if("M"===a||"MM"===a)c.M=parseInt(b)-1;else if("MMM"===a)c.M=d.setting.i18n.shortMonths.indexOf(b);else if("MMMM"===a)c.M=d.setting.i18n.fullMonths.indexOf(b);else if($.CF.compareStrings(a,"yy")){c.y=parseInt(b);var e=d.setting.maxYear/100,f=d.setting.maxYear%100;c.y>f?c.y=100*(e-1)+c.y:c.y=100*e+c.y}else $.CF.compareStrings(a,"y")||$.CF.compareStrings(a,"yyyy")?c.y=parseInt(b):"H"===a||"HH"===a?c.H=parseInt(b):"h"===a||"hh"===a?c.h=parseInt(b):"m"===a||"mm"===a?c.m=parseInt(b):"s"===a||"ss"===a?c.s=parseInt(b):"a"===a||"A"===a?$.CF.isValid(b)&&(-1!==b.search(/A/gi,"")?c.me="A":-1!==b.search(/P/gi,"")&&(c.me="P")):("aa"===a||"AA"===a)&&$.CF.isValid(b)&&(-1!==b.search(/AM/gi,"")?c.me="AM":-1!==b.search(/PM/gi,"")&&(c.me="PM"));return c},formatOutputDates:function(a,b){var c,d,e,f,g=this,h="";for(e=$.CF.isValid(b)?"string"==typeof b?g._setDateTimeFormatComponentsArray(b):b:g.tmp.diffDateTimeFormats?g.tmp.sArrInputDateTimeFormat:g.tmp.sArrDateTimeFormat,f=g.getDateObject(a),d=0;d<e.length;d++)if(c=e[d],"dd"===c)h+=g.getNumberStringInFormat(f.d,2,!0);else if("d"===c)h+=g.getNumberStringInFormat(f.d,0,!0);else if("DDDD"===c)h+=g.setting.i18n.fullDays[f.D];else if("DDD"===c)h+=g.setting.i18n.shortDays[f.D];else if("DD"===c)h+=g.setting.i18n.veryShortDays[f.D];else if("MMMM"===c)h+=g.setting.i18n.fullMonths[f.M];else if("MMM"===c)h+=g.setting.i18n.shortMonths[f.M];else if("MM"===c)h+=g.getNumberStringInFormat(f.M+1,2,!0);else if("M"===c)h+=g.getNumberStringInFormat(f.M+1,0,!0);else if($.CF.compareStrings(c,"yyyy"))h+=g.getNumberStringInFormat(f.y,4,!0);else if($.CF.compareStrings(c,"yy")){var i=Math.floor(f.y/10)%10*10+f.y%10;h+=g.getNumberStringInFormat(i,2,!0)}else h+=$.CF.compareStrings(c,"y")?g.getNumberStringInFormat(f.y,4,!0):"hh"===c?g.getNumberStringInFormat(f.h,2,!0):"h"===c?g.getNumberStringInFormat(f.h,0,!0):"HH"===c?g.getNumberStringInFormat(f.H,2,!0):"H"===c?g.getNumberStringInFormat(f.H,0,!0):"mm"===c?g.getNumberStringInFormat(f.m,2,!0):"m"===c?g.getNumberStringInFormat(f.m,0,!0):"ss"===c?g.getNumberStringInFormat(f.s,2,!0):"s"===c?g.getNumberStringInFormat(f.s,0,!0):"aa"===c?f.me:"a"===c?f.sm:"AA"===c?f.me.toUpperCase():"A"===c?f.sm.toUpperCase():c;

return h},parseDisableValues:function(){var a=this;a.tmp.oMinMax={min:null,max:null},a.tmp.oArrPDisable={day:[],date:[],time:[],datetime:[]};var b,c,d;if($.CF.isValid(a.setting.minValue)){var e=a._parseInputDateTime(a.setting.minValue);$.CF.isValid(e)&&(a.tmp.oMinMax.min=e)}if($.CF.isValid(a.setting.maxValue)){var f=a._parseInputDateTime(a.setting.maxValue);$.CF.isValid(f)&&(a.tmp.oMinMax.max=f)}var g=!1;if($.CF.isValid(a.tmp.oMinMax.min)&&$.CF.isValid(a.tmp.oMinMax.max)?("date"===a.tmp.sDateTimeMode?a.compareDates(a.tmp.selectedDate,a.tmp.oMinMax.min)>=1&&a.compareDates(a.tmp.selectedDate,a.tmp.oMinMax.max)<=-1||(g=!0):"time"===a.tmp.sDateTimeMode?a.compareTimes(a.tmp.selectedDate,a.tmp.oMinMax.min)>=1&&a.compareTimes(a.tmp.selectedDate,a.tmp.oMinMax.max)<=-1||(g=!0):"datetime"===a.tmp.sDateTimeMode&&(a.compareDateTimes(a.tmp.selectedDate,a.tmp.oMinMax.min)>=1&&a.compareDateTimes(a.tmp.selectedDate,a.tmp.oMinMax.max)<=-1||(g=!0)),g&&(a.setting.selectedDate=new Date(a.tmp.oMinMax.min),a.tmp.selectedDate=new Date(a.tmp.oMinMax.min))):$.CF.isValid(a.tmp.oMinMax.min)?("date"===a.tmp.sDateTimeMode?a.compareDates(a.tmp.selectedDate,a.tmp.oMinMax.min)<-1&&(g=!0):"time"===a.tmp.sDateTimeMode?a.compareTimes(a.tmp.selectedDate,a.tmp.oMinMax.min)<-1&&(g=!0):"datetime"===a.tmp.sDateTimeMode&&a.compareDateTimes(a.tmp.selectedDate,a.tmp.oMinMax.min)<-1&&(g=!0),g&&(a.setting.selectedDate=new Date(a.tmp.oMinMax.min),a.tmp.selectedDate=new Date(a.tmp.oMinMax.min))):$.CF.isValid(a.tmp.oMinMax.max)&&("date"===a.tmp.sDateTimeMode?a.compareDates(a.tmp.selectedDate,a.tmp.oMinMax.max)>1&&(g=!0):"time"===a.tmp.sDateTimeMode?a.compareTimes(a.tmp.selectedDate,a.tmp.oMinMax.max)>1&&(g=!0):"datetime"===a.tmp.sDateTimeMode&&a.compareDateTimes(a.tmp.selectedDate,a.tmp.oMinMax.max)>1&&(g=!0),g&&(a.setting.selectedDate=new Date(a.tmp.oMinMax.max),a.tmp.selectedDate=new Date(a.tmp.oMinMax.max))),"date"===a.tmp.sDateTimeMode?a.tmp.oArrPDisable.date.push(a.tmp.oMinMax):"time"===a.tmp.sDateTimeMode?a.tmp.oArrPDisable.time.push({day:[],val:[a.tmp.oMinMax]}):"datetime"===a.tmp.sDateTimeMode&&a.tmp.oArrPDisable.datetime.push(a.tmp.oMinMax),$.CF.isValid(a.setting.disableValues)){if($.CF.isValid(a.setting.disableValues.day)&&a.setting.disableValues.day.length>0)for(b=0;b<a.setting.disableValues.day.length;b++)a.setting.disableValues.day[b]>=0&&a.setting.disableValues.day[b]<=6&&a.tmp.oArrPDisable.day.push(a.setting.disableValues.day[b]);if($.CF.isValid(a.setting.disableValues.date)&&a.setting.disableValues.date.length>0)for(b=0;b<a.setting.disableValues.date.length;b++){var h=a.setting.disableValues.date[b],i=null;if($.CF.isValid(h.val)){var j=a._parseInputDateTime(h.val);$.CF.isValid(j)&&(null===i&&(i={}),i.val=j)}if($.CF.isValid(h.start)){var k=a._parseInputDateTime(h.start);$.CF.isValid(k)&&(null===i&&(i={}),i.start=k)}if($.CF.isValid(h.end)){var l=a._parseInputDateTime(h.end);$.CF.isValid(l)&&(null===i&&(i={}),i.end=l)}$.CF.isValid(i)&&a.tmp.oArrPDisable.date.push(i)}if($.CF.isValid(a.setting.disableValues.time)&&a.setting.disableValues.time.length>0)for(c=0;c<a.setting.disableValues.time.length;c++){var m=a.setting.disableValues.time[c],n=$.CF.isValid(m.day)&&m.day.length>0,o=$.CF.isValid(m.val)&&m.val.length>0;if(o){var p=[];for(d=0;d<m.val.length;d++){var q=m.val[d],r=null;if($.CF.isValid(q.val)){var s=a._parseInputDateTime(q.val);$.CF.isValid(s)&&(null===r&&(r={}),r.val=q)}if($.CF.isValid(q.start)){var t=a._parseInputDateTime(q.start);$.CF.isValid(t)&&(null===r&&(r={}),r.start=t)}if($.CF.isValid(q.end)){var u=a._parseInputDateTime(q.end);$.CF.isValid(u)&&(null===r&&(r={}),r.end=u)}$.CF.isValid(r)&&p.push(r)}p.length>0&&a.tmp.oArrPDisable.time.push({day:n?m.day:[],val:p})}}if($.CF.isValid(a.setting.disableValues.datetime)&&a.setting.disableValues.datetime.length>0)for(c=0;c<a.setting.disableValues.datetime.length;c++){var v=a.setting.disableValues.datetime[c],w=null;if($.CF.isValid(v.val)){var x=a._parseInputDateTime(v.val);$.CF.isValid(x)&&(null===w&&(w={}),w.val=x)}if($.CF.isValid(v.start)){var y=a._parseInputDateTime(v.start);$.CF.isValid(y)&&(null===w&&(w={}),w.start=y)}if($.CF.isValid(v.end)){var z=a._parseInputDateTime(v.end);$.CF.isValid(z)&&(null===w&&(w={}),w.end=z)}$.CF.isValid(w)&&a.tmp.oArrPDisable.datetime.push(w)}}else console.log("Invalid value for AnyPicker plugin option disableValues")},__setSelectedDateTimeInComponent:function(){var a,b,c=this,d="",e=c.getDateObject(c.tmp.selectedDate);for(a=0;a<c.tmp.numOfComp;a++)b=c.setting.components[a],"date"===b.name?d=e.d:"day"===b.name?d=e.D:"month"===b.name?d=e.M:"year"===b.name?d=e.y:"hours"===b.name?"h"===b.format||"hh"===b.format?d=e.h:("H"===b.format||"HH"===b.format)&&(d=e.H):"minutes"===b.name?d=e.m:"seconds"===b.name?d=e.s:"meridiem"===b.name&&("a"===e.sm?d=0:"p"===e.sm&&(d=1)),c.__changeComponentValue(a,d)},__disableInvalidRowsOfDateTimePicker:function(){var a,b,c,d,e,f,g,h,i,j=this;if(1===j.tmp.numOfComp){if(f=j.setting.components[0],g=f.name,h=f.format,i=j.setting.dataSource[0].data,"day"===g)for(a=0;a<i.length;a++)for(b=0;b<j.tmp.oArrPDisable.day.length;b++)j.tmp.oArrPDisable.day[b]===i[b].val&&$(j.elem).find("#ap-row-0-"+a).addClass("ap-row-disabled ap-row-invalid")}else for(e=j.__getSelectedDate(!0)[1],a=0;a<j.setting.dataSource.length;a++){var k=j.setting.dataSource[a];for(b=0;b<k.data.length;b++){var l={d:1,M:0,y:0,H:0,h:0,m:0,s:0,sm:0};for(c=0;c<j.tmp.numOfComp;c++)c===a?(d=k.data[b].val,f=j.setting.components[c],g=f.name,h=f.format):(d=e[c],f=j.setting.components[c],g=f.name,h=f.format),"date"===g?l.d=parseInt(d):"month"===g?l.M=parseInt(d):"year"===g?l.y=parseInt(d):"hours"===g?"h"===h||"hh"===h?(l.h=parseInt(d),l.H=-1):("H"===h||"HH"===h)&&(l.H=parseInt(d)):"minutes"===g?l.m=parseInt(d):"seconds"===g?l.s=parseInt(d):"meridiem"===g&&(l.sm=parseInt(d));-1===l.H&&(l.H=1===l.sm?12===l.h?12:l.h+12:12===l.h?0:l.h);var m=j.setDateInFormat({iDate:l},""),n=j.__validateSelectedDate(m,!0,!1);n||$("#ap-component-"+a).find("#ap-row-"+a+"-"+b).addClass("ap-row-disabled ap-row-invalid")}}},__getSelectedDate:function(a){var b,c,d,e,f,g=this,h=g.getDateObject(g.tmp.selectedDate),i={},j=0,k=[];for(b=0;b<g.tmp.numOfComp;b++)c=g.setting.components[b],d=$(g.tmp.overlaySelector).find("#ap-component-"+b+" .ap-row-selected"),e=d.length>0?d[0]:null,f=parseInt($(e).data("value")),k.push(f),"date"===c.name?h.d=isNaN(f)?h.d:f:"day"===c.name?h.D=isNaN(f)?h.D:f:"month"===c.name?h.M=isNaN(f)?h.M:f:"year"===c.name?h.y=isNaN(f)?h.y:f:"hours"===c.name?"h"===c.format||"hh"===c.format?(h.h=isNaN(f)?h.h:f,h.H=-1):h.H=isNaN(f)?h.H:f:"minutes"===c.name?h.m=isNaN(f)?h.m:f:"seconds"===c.name?h.s=isNaN(f)?h.s:f:"meridiem"===c.name&&(j=isNaN(f)?"a"===h.sm?0:1:f);-1===h.H&&(h.H=1===j?12===h.h?12:h.h+12:12===h.h?0:h.h);var l=g._getNumberOfDaysOfMonth(h.M,h.y);return h.d>l&&(h.d=l),i=g.setDateInFormat({iDate:h},""),a?[i,k]:i},__validateSelectedDate:function(a,b,c){var d=this,e=d.getDateObject(a);if($.CF.isValid(d.tmp.oArrPDisable)){var f,g,h,i,j,k,l,m="datetime"===d.tmp.sDateTimeMode||"date"===d.tmp.sDateTimeMode,n="datetime"===d.tmp.sDateTimeMode||"time"===d.tmp.sDateTimeMode,o=!1,p=!0;if(!o&&m&&d.tmp.oArrPDisable.day.length>0)for(f=0;f<d.tmp.oArrPDisable.day.length;f++)if(d.tmp.oArrPDisable.day[f]===e.D){0===d.compareDates(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(c,a,"day"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}if(!o&&m&&d.tmp.oArrPDisable.date.length>0)for(f=0;f<d.tmp.oArrPDisable.date.length;f++)if(k=d.tmp.oArrPDisable.date[f],$.CF.isValid(k.val)){if(0===d.compareDates(a,k.val)){0===d.compareDates(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(c,a,"date"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(k.start)&&$.CF.isValid(k.end)){if(d.compareDates(a,k.start)>=0&&d.compareDates(a,k.end)<=0){0===d.compareDates(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(c,k.start,"date"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(k.start)){if(d.compareDates(a,k.start)>=0){0===d.compareDates(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(!0,k.start,"date"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(k.end)){if(d.compareDates(a,k.end)<=0){0===d.compareDates(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(!1,k.end,"date"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(k.min)&&$.CF.isValid(k.max)){if(h=d.compareDates(a,k.min)<0,i=d.compareDates(a,k.max)>0,j=h?!0:i?!1:!0,h||i){0===d.compareDates(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(j,k.min,"date"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(k.min)){if(d.compareDates(a,k.min)<0){0===d.compareDates(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(!1,k.min,"date"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(k.max)&&d.compareDates(a,k.max)>0){0===d.compareDates(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(!0,k.max,"date"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}if(!o&&n&&d.tmp.oArrPDisable.time.length>0)for(f=0;f<d.tmp.oArrPDisable.time.length;f++){var q=d.tmp.oArrPDisable.time[f],r=!1;if($.CF.isValid(q.day)&&q.day.length>0)for(g=0;g<q.day.length&&!(r=q.day[g]===e.D);g++);else r=!0;if(r)for(g=0;g<q.val.length;g++)if(l=q.val[g],$.CF.isValid(l.val)){if(0===d.compareTimes(a,l.val)){0===d.compareTimes(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(c,a,"time"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(l.start)&&$.CF.isValid(l.end)){if(d.compareTimes(a,l.start)>=0&&d.compareTimes(a,l.end)<=0){0===d.compareTimes(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(c,l.start,"time"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(l.start)){if(d.compareTimes(a,l.start)>=0){0===d.compareTimes(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(!0,l.start,"time"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(l.end)){if(d.compareTimes(a,l.end)<=0){0===d.compareTimes(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(!1,l.end,"time"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(l.min)&&$.CF.isValid(l.max)){if(h=d.compareTimes(a,l.min)<0,i=d.compareTimes(a,l.max)>0,j=h?!0:i?!1:!0,h||i){0===d.compareTimes(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(j,l.min,"time"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(l.min)){if(d.compareTimes(a,l.min)<0){0===d.compareTimes(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(!1,l.min,"time"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(l.max)&&d.compareTimes(a,l.max)>0){0===d.compareTimes(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(!0,l.max,"time"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}if(!o&&n&&d.tmp.oArrPDisable.datetime.length>0)for(f=0;f<d.tmp.oArrPDisable.datetime.length;f++)if(k=d.tmp.oArrPDisable.datetime[f],$.CF.isValid(k.val)){if(0===d.compareDateTimes(a,k.val)){0===d.compareDateTimes(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(c,a,"datetime"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(k.start)&&$.CF.isValid(k.end)){if(d.compareDateTimes(a,k.start)>=0&&d.compareDateTimes(a,k.end)<=0){0===d.compareDateTimes(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(c,k.start,"datetime"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(k.start)){if(d.compareDateTimes(a,k.start)>=0){0===d.compareDateTimes(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(!0,k.start,"datetime"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(k.end)){if(d.compareDateTimes(a,k.end)<=0){0===d.compareDateTimes(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(!1,k.end,"datetime"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(k.min)&&$.CF.isValid(k.max)){if(h=d.compareDateTimes(a,k.min)<0,i=d.compareDateTimes(a,k.max)>0,j=h?!0:i?!1:!0,h||i){0===d.compareDateTimes(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(j,k.min,"datetime"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(k.min)){if(d.compareDateTimes(a,k.min)<0){0===d.compareDateTimes(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(!1,k.min,"datetime"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}}else if($.CF.isValid(k.max)&&d.compareDateTimes(a,k.max)>0){0===d.compareDateTimes(a,d.tmp.selectedDate)?(o=!0,a=d._findValidSelectedDate(!0,k.max,"datetime"),d.tmp.selectedDate=new Date(a),d.__scrollToSelectedRow()):b?p=!1:d.__scrollToSelectedRow();break}if(b)return p}else if(b)return!0},_findValidSelectedDate:function(a,b,c){var d=this;if("day"===c||"date"===c){$.CF.isValid(d.setting.minValue)&&d.compareDates(d.setting.minValue,b)>=0&&(b=new Date(d.setting.minValue),a=!1),$.CF.isValid(d.setting.maxValue)&&d.compareDates(d.setting.maxValue,b)<=0&&(b=new Date(d.setting.maxValue),a=!0);do if(b=new Date(a?b.getTime()-$.AnyPicker.extra.iMS.d:b.getTime()+$.AnyPicker.extra.iMS.d),d.__validateSelectedDate(b,!0,!1)&&(!$.CF.isValid(d.setting.minValue)||$.CF.isValid(d.setting.minValue)&&d.compareDates(d.setting.minValue,b)<=0)&&(!$.CF.isValid(d.setting.maxValue)||$.CF.isValid(d.setting.maxValue)&&d.compareDates(d.setting.maxValue,b)>=0))return b;while((!$.CF.isValid(d.setting.minValue)||$.CF.isValid(d.setting.minValue)&&d.compareDates(d.setting.minValue,b)<=0)&&(!$.CF.isValid(d.setting.maxValue)||$.CF.isValid(d.setting.maxValue)&&d.compareDates(d.setting.maxValue,b)>=0))}else if("time"===c){$.CF.isValid(d.setting.minValue)&&d.compareTimes(d.setting.minValue,b)>=0&&(b=new Date(d.setting.minValue),a=!1),$.CF.isValid(d.setting.maxValue)&&d.compareTimes(d.setting.maxValue,b)<=0&&(b=new Date(d.setting.maxValue),a=!0);do if(b=new Date(a?b.getTime()-$.AnyPicker.extra.iMS.m*d.setting.intervals.m:b.getTime()+$.AnyPicker.extra.iMS.m*d.setting.intervals.m),d.__validateSelectedDate(b,!0,!1)&&(!$.CF.isValid(d.setting.minValue)||$.CF.isValid(d.setting.minValue)&&d.compareTimes(d.setting.minValue,b)<=0)&&(!$.CF.isValid(d.setting.maxValue)||$.CF.isValid(d.setting.maxValue)&&d.compareTimes(d.setting.maxValue,b)>=0))return b;while((!$.CF.isValid(d.setting.minValue)||$.CF.isValid(d.setting.minValue)&&d.compareTimes(d.setting.minValue,b)<=0)&&(!$.CF.isValid(d.setting.maxValue)||$.CF.isValid(d.setting.maxValue)&&d.compareTimes(d.setting.maxValue,b)>=0))}else if("datetime"===c){$.CF.isValid(d.setting.minValue)&&d.compareDateTimes(d.setting.minValue,b)>=0&&(b=new Date(d.setting.minValue),a=!1),$.CF.isValid(d.setting.maxValue)&&d.compareDateTimes(d.setting.maxValue,b)<=0&&(b=new Date(d.setting.maxValue),a=!0);do if(b=new Date(a?b.getTime()-$.AnyPicker.extra.iMS.m*d.setting.intervals.m:b.getTime()+$.AnyPicker.extra.iMS.m*d.setting.intervals.m),d.__validateSelectedDate(b,!0,!1)&&(!$.CF.isValid(d.setting.minValue)||$.CF.isValid(d.setting.minValue)&&d.compareDateTimes(d.setting.minValue,b)<=0)&&(!$.CF.isValid(d.setting.maxValue)||$.CF.isValid(d.setting.maxValue)&&d.compareDateTimes(d.setting.maxValue,b)>=0))return b;while((!$.CF.isValid(d.setting.minValue)||$.CF.isValid(d.setting.minValue)&&d.compareDateTimes(d.setting.minValue,b)<=0)&&(!$.CF.isValid(d.setting.maxValue)||$.CF.isValid(d.setting.maxValue)&&d.compareDateTimes(d.setting.maxValue,b)>=0))}return $.CF.isValid(d.setting.minValue)?d.setting.minValue:void 0},__setDaysOfMonthInDatePicker:function(){var a,b,c=this,d=null,e=null;for(a=0;a<c.tmp.numOfComp;a++)b=c.setting.components[a],"date"===b.name&&(d=b.component,e=b.format);if(null!==d){var f=c.getDateObject(c.tmp.selectedDate),g=c._getNumberOfDaysOfMonth(f.M,f.y),h=!1;for(a=g+1;31>=a;a++){var i=$("#ap-component-"+d).find("#ap-row-"+d+"-"+(a-1));i.addClass("ap-row-disabled ap-row-hidden"),h||(h="true"===i.attr("aria-selected")?!0:!1)}if(h){var j=new Date(f.y,f.M,g,f.H,f.m,f.s,f.ms);c.__validateSelectedDate(j,!1,!0),c.__scrollToSelectedRow()}}},setDateInFormat:function(a,b){var c=this;void 0===a.date&&void 0===a.iDate&&(a.date=c._getCurrentDate()),void 0===a.iDate?a.iDate={d:a.date.getDate(),M:a.date.getMonth(),y:a.date.getFullYear(),H:a.date.getHours(),m:a.date.getMinutes(),s:a.date.getSeconds(),ms:a.date.getMilliseconds()}:a.iDate={d:void 0!==a.iDate.d?a.iDate.d:1,M:void 0!==a.iDate.M?a.iDate.M:$.AnyPicker.extra.dToday.getMonth(),y:void 0!==a.iDate.y?a.iDate.y:$.AnyPicker.extra.dToday.getFullYear(),H:void 0!==a.iDate.H?a.iDate.H:0,m:void 0!==a.iDate.m?a.iDate.m:0,s:void 0!==a.iDate.s?a.iDate.s:0,ms:void 0!==a.iDate.ms?a.iDate.ms:0};var d;return $.CF.isValid(b)?"START"===b?d=new Date(a.iDate.y,a.iDate.M,a.iDate.d,0,0,0,0):"END"===b&&(d=new Date(a.iDate.y,a.iDate.M,a.iDate.d,23,59,59,999)):d=new Date(a.iDate.y,a.iDate.M,a.iDate.d,a.iDate.H,a.iDate.m,a.iDate.s,a.iDate.ms),d},_getCurrentDate:function(){var a=this,b=a.getDateByAddingOutputTZOffset(a.convertToUTC(new Date),a.setting.tzOffset);return b},convertToUTC:function(a,b){var c=this;return new Date(a.getTime()-(void 0===b||""===b||null===b?-(a.getTimezoneOffset()*$.AnyPicker.extra.iMS.m):c._getTZOffsetInMS(b)))},_getTZOffsetInMS:function(a){var b=this,c=0;if(void 0===a||""===a||null===a)c=-($.AnyPicker.extra.dToday.getTimezoneOffset()*$.AnyPicker.extra.iMS.m);else{var d=b._matchRegex(/^([+|-]{1})([0-1]{0,1}[0-9]{1}):([0-6]{0,1}[0-9]{1})$/,a);c=parseInt(d[2])*$.AnyPicker.extra.iMS.h+parseInt(d[3])*$.AnyPicker.extra.iMS.m,c="+"===d[1]?c:-c}return c},getDateByAddingOutputTZOffset:function(a,b){var c=this;return new Date(a.getTime()+c._getTZOffsetInMS(b))},normalizeDateTimeWithOffset:function(a,b,c){var d=this;return d.getDateByAddingOutputTZOffset(d.convertToUTC(a,b),c)},_getNumberOfDaysOfMonth:function(a,b){var c=[31,28,31,30,31,30,31,31,30,31,30,31],d=[31,29,31,30,31,30,31,31,30,31,30,31];return b%4===0?d[a]:c[a]},_normalizeDateTime:function(a,b,c){var d,e=this,f={d:a.getDate(),M:a.getMonth(),y:a.getFullYear(),H:a.getHours(),m:a.getMinutes(),s:a.getSeconds()};switch(c){case"s":"START"===b?d=new Date(f.y,f.M,f.d,f.H,f.m,0,0):"END"===b&&(d=new Date(f.y,f.M,f.d,f.H,f.m,59,999));break;case"m":"START"===b?d=new Date(f.y,f.M,f.d,f.H,0,0,0):"END"===b&&(d=new Date(f.y,f.M,f.d,f.H,59,59,999));break;case"h":case"T":"START"===b?d=new Date(f.y,f.M,f.d,0,0,0,0):"END"===b&&(d=new Date(f.y,f.M,f.d,23,59,59,999));break;case"d":case"dE":"START"===b?d=new Date(f.y,f.M,1,0,0,0,0):"END"===b&&(d=new Date(f.y,f.M,e._getNumberOfDaysOfMonth(f.M,f.y),0,0,0,0));break;case"M":case"ME":case"y":case"yE":"START"===b?d=new Date(f.y,0,1,0,0,0,0):"END"===b&&(d=new Date(f.y,11,e._getNumberOfDaysOfMonth(11,f.y),0,0,0,0))}return("dE"===c||"ME"===c||"yE"===c)&&(d=e._normalizeDateTime(d,"END","T")),d},_getDifference:function(a,b,c){var d,e=b.getTime()-c.getTime();return"ms"===a?d=e:"s"===a?d=e/$.AnyPicker.extra.iMS.s:"m"===a?d=e/$.AnyPicker.extra.iMS.m:"h"===a?d=e/$.AnyPicker.extra.iMS.h:"d"===a?d=e/$.AnyPicker.extra.iMS.d:"M"===a?d=e/$.AnyPicker.extra.iMS.m:"y"===a&&(d=e/$.AnyPicker.extra.iMS.y),d},compareDates:function(a,b){var c=this;a=c._normalizeDateTime(a,"START","T"),b=c._normalizeDateTime(b,"START","T");var d=c._getDifference("d",a,b);return 0===d?d:d/Math.abs(d)},compareDateTimes:function(a,b){var c=this,d=c._getDifference("m",a,b);return 0===d?d:d/Math.abs(d)},compareTimes:function(a,b){var c=this,d=new Date($.AnyPicker.extra.dToday),e=new Date($.AnyPicker.extra.dToday);return d.setHours(a.getHours()),d.setMinutes(a.getMinutes()),d.setSeconds(a.getSeconds()),e.setHours(b.getHours()),e.setMinutes(b.getMinutes()),e.setSeconds(b.getSeconds()),c.compareDateTimes(d,e)},getNumberStringInFormat:function(a,b,c){var d,e=this,f="",g=a.toString(),h=g.length;if(0!==b)for(d=0;b-h>d;d++)f+=c?e.setting.i18n.numbers[0]:"0";if(c)for(d=0;h>d;d++)f+=e.setting.i18n.numbers[parseInt(g.charAt(d))];else f+=g;return f},getDateObject:function(a){var b={D:a.getDay(),d:a.getDate(),M:a.getMonth(),y:a.getFullYear(),H:a.getHours(),m:a.getMinutes(),s:a.getSeconds(),ms:a.getMilliseconds()};return b.h=b.H>12?b.H-12:0===b.H?12:b.H,b.me=b.H<12?"am":"pm",b.sm=b.H<12?"a":"p",b}})}();