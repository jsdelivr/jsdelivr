{"version":3,"sources":["support/test/element/canvas/todataurl/webp.js"],"names":["document","definition","Pledge","testTodataurl","defered","defer","then","sample","createElement","toDataURL","indexOf","resolve","reject","pledge","provide"],"mappings":"CAgBC,SAASA,GACT,YAEA,SAASC,GAAWC,EAAQC,GAC3B,GAAIC,GAAUF,EAAOG,OAerB,OAbAF,GAAcG,KACb,WACC,GAAIC,GAASP,EAASQ,cAAc,SAE6B,KAA9DD,EAAOE,UAAU,cAAcC,QAAQ,mBACzCN,EAAQO,UAERP,EAAQQ,UAGVR,EAAQQ,QAGFR,EAAQS,OAGhBC,SAAU,iBAAkB,gBAAkBb,IAC7CD","file":"webp.js","sourcesContent":["/**\n * Qoopido support/test/element/canvas/todataurl/webp\n *\n * Copyright (c) 2015 Dirk Lueth\n *\n * Dual licensed under the MIT and GPL licenses.\n *  - http://www.opensource.org/licenses/mit-license.php\n *  - http://www.gnu.org/copyleft/gpl.html\n *\n * @author Dirk Lueth <info@qoopido.com>\n *\n * @use /demand/pledge\n *\n * @require ../todataurl\n */\n\n(function(document) {\n\t'use strict';\n\n\tfunction definition(Pledge, testTodataurl) {\n\t\tvar defered = Pledge.defer();\n\n\t\ttestTodataurl.then(\n\t\t\tfunction() {\n\t\t\t\tvar sample = document.createElement('canvas');\n\n\t\t\t\tif(sample.toDataURL('image/webp').indexOf('data:image/webp') === 0) {\n\t\t\t\t\tdefered.resolve();\n\t\t\t\t} else {\n\t\t\t\t\tdefered.reject();\n\t\t\t\t}\n\t\t\t},\n\t\t\tdefered.reject\n\t\t);\n\n\t\treturn defered.pledge;\n\t}\n\n\tprovide([ '/demand/pledge', '../todataurl' ], definition);\n}(document));"]}