(function(window,undefined){"use strict";var cssremunit=function(){var div=document.createElement("div");div.style.cssText="font-size: 1rem;";return/rem/.test(div.style.fontSize)},isStyleSheet=function(){var styles=document.getElementsByTagName("link"),filteredStyles=[];for(var i=0;i<styles.length;i++){if(styles[i].rel.toLowerCase()==="stylesheet"&&styles[i].getAttribute("data-norem")===null){filteredStyles.push(styles[i])}}return filteredStyles},processSheets=function(){var links=[];sheets=isStyleSheet();sheets.og=sheets.length;for(var i=0;i<sheets.length;i++){links[i]=sheets[i].href;xhr(links[i],matchCSS,i)}},matchCSS=function(response,i){var clean=removeComments(removeMediaQueries(response.responseText)),pattern=/[\w\d\s\-\/\\\[\]:,.'"*()<>+~%#^$_=|@]+\{[\w\d\s\-\/\\%#:;,.'"*()]+\d*\.?\d+rem[\w\d\s\-\/\\%#:;,.'"*()]*\}/g,current=clean.match(pattern),remPattern=/\d*\.?\d+rem/g,remCurrent=clean.match(remPattern);if(current!==null&&current.length!==0){found=found.concat(current);foundProps=foundProps.concat(remCurrent)}if(i===sheets.og-1){buildCSS()}},buildCSS=function(){var pattern=/[\w\d\s\-\/\\%#:,.'"*()]+\d*\.?\d+rem[\w\d\s\-\/\\%#:,.'"*()]*[;}]/g;for(var i=0;i<found.length;i++){rules=rules+found[i].substr(0,found[i].indexOf("{")+1);var current=found[i].match(pattern);for(var j=0;j<current.length;j++){rules=rules+current[j];if(j===current.length-1&&rules[rules.length-1]!=="}"){rules=rules+"\n}"}}}parseCSS()},parseCSS=function(){var remSize;for(var i=0;i<foundProps.length;i++){remSize=parseFloat(foundProps[i].substr(0,foundProps[i].length-3));css[i]=Math.round(remSize*fontSize)+"px"}loadCSS()},loadCSS=function(){for(var i=0;i<css.length;i++){if(css[i]){rules=rules.replace(foundProps[i],css[i])}}var remcss=document.createElement("style");remcss.setAttribute("type","text/css");remcss.id="remReplace";document.getElementsByTagName("head")[0].appendChild(remcss);if(remcss.styleSheet){remcss.styleSheet.cssText=rules}else{remcss.appendChild(document.createTextNode(rules))}},xhr=function(url,callback,i){try{var xhr=getXMLHttpRequest();xhr.open("GET",url,true);xhr.send();var ie=function(){var undef,v=3,div=document.createElement("div"),all=div.getElementsByTagName("i");while(div.innerHTML="<!--[if gt IE "+ ++v+"]><i></i><![endif]-->",all[0]);return v>4?v:undef}();if(ie>=7){xhr.onreadystatechange=function(){if(xhr.readyState===4){callback(xhr,i)}}}else{xhr.onreadystatechange=new function(){if(xhr.readyState===4){callback(xhr,i)}}}}catch(e){if(window.XDomainRequest){var xdr=new XDomainRequest;xdr.open("get",url);xdr.onload=function(){callback(xdr,i)};xdr.onerror=function(){return false};xdr.send()}}},removeComments=function(css){var start=css.search(/\/\*/),end=css.search(/\*\//);if(start>-1&&end>start){css=css.substring(0,start)+css.substring(end+2);return removeComments(css)}else{return css}},mediaQuery=function(){if(window.matchMedia||window.msMatchMedia){return true}return false},removeMediaQueries=function(css){if(!mediaQuery()){while(css.match(/@media/)!==null){var start=css.match(/@media/).index,end=css.match(/\}\s*\}/);css=css.substring(0,start)+css.substring(end.index+end[0].length)}}return css},getXMLHttpRequest=function(){if(window.XMLHttpRequest){return new XMLHttpRequest}else{try{return new ActiveXObject("MSXML2.XMLHTTP")}catch(e1){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e2){}}}};if(!cssremunit()){var rules="",sheets=[],found=[],foundProps=[],css=[],body=document.getElementsByTagName("body")[0],fontSize="";if(body.currentStyle){if(body.currentStyle.fontSize.indexOf("px")>=0){fontSize=body.currentStyle.fontSize.replace("px","")}else if(body.currentStyle.fontSize.indexOf("em")>=0){fontSize=body.currentStyle.fontSize.replace("em","")}else if(body.currentStyle.fontSize.indexOf("pt")>=0){fontSize=body.currentStyle.fontSize.replace("pt","")}else{fontSize=body.currentStyle.fontSize.replace("%","")/100*16}}else if(window.getComputedStyle){fontSize=document.defaultView.getComputedStyle(body,null).getPropertyValue("font-size").replace("px","")}processSheets()}})(window);