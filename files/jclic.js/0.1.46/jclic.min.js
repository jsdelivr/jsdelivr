// JClic.js version 0.1.46 (2017-04-25)
// HTML5 player of JClic activities
// (c) 2000-2017 Catalan Educational Telematic Network (XTEC)
// This program can be freely redistributed under the terms of the European Union Public License
// WARNING: You are reading a minimized version of jclic.js. Full source code is freely available at:
// http://projectestac.github.io/jclic.js

!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===a[b-2]?2:"="===a[b-1]?1:0}function e(a){return 3*a.length/4-d(a)}function f(a){var b,c,e,f,g,h,i=a.length;g=d(a),h=new l(3*i/4-g),e=g>0?i-4:i;var j=0;for(b=0,c=0;b<e;b+=4,c+=3)f=k[a.charCodeAt(b)]<<18|k[a.charCodeAt(b+1)]<<12|k[a.charCodeAt(b+2)]<<6|k[a.charCodeAt(b+3)],h[j++]=f>>16&255,h[j++]=f>>8&255,h[j++]=255&f;return 2===g?(f=k[a.charCodeAt(b)]<<2|k[a.charCodeAt(b+1)]>>4,h[j++]=255&f):1===g&&(f=k[a.charCodeAt(b)]<<10|k[a.charCodeAt(b+1)]<<4|k[a.charCodeAt(b+2)]>>2,h[j++]=f>>8&255,h[j++]=255&f),h}function g(a){return j[a>>18&63]+j[a>>12&63]+j[a>>6&63]+j[63&a]}function h(a,b,c){for(var d,e=[],f=b;f<c;f+=3)d=(a[f]<<16)+(a[f+1]<<8)+a[f+2],e.push(g(d));return e.join("")}function i(a){for(var b,c=a.length,d=c%3,e="",f=[],g=0,i=c-d;g<i;g+=16383)f.push(h(a,g,g+16383>i?i:g+16383));return 1===d?(b=a[c-1],e+=j[b>>2],e+=j[b<<4&63],e+="=="):2===d&&(b=(a[c-2]<<8)+a[c-1],e+=j[b>>10],e+=j[b>>4&63],e+=j[b<<2&63],e+="="),f.push(e),f.join("")}c.byteLength=e,c.toByteArray=f,c.fromByteArray=i;for(var j=[],k=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=m.length;n<o;++n)j[n]=m[n],k[m.charCodeAt(n)]=n;k["-".charCodeAt(0)]=62,k["_".charCodeAt(0)]=63},{}],2:[function(a,b,c){},{}],3:[function(a,b,c){(function(b){"use strict";var d=a("buffer"),e=d.Buffer,f=d.SlowBuffer,g=d.kMaxLength||2147483647;c.alloc=function(a,b,c){if("function"==typeof e.alloc)return e.alloc(a,b,c);if("number"==typeof c)throw new TypeError("encoding must not be number");if("number"!=typeof a)throw new TypeError("size must be a number");if(a>g)throw new RangeError("size is too large");var d=c,f=b;void 0===f&&(d=void 0,f=0);var h=new e(a);if("string"==typeof f)for(var i=new e(f,d),j=i.length,k=-1;++k<a;)h[k]=i[k%j];else h.fill(f);return h},c.allocUnsafe=function(a){if("function"==typeof e.allocUnsafe)return e.allocUnsafe(a);if("number"!=typeof a)throw new TypeError("size must be a number");if(a>g)throw new RangeError("size is too large");return new e(a)},c.from=function(a,c,d){if("function"==typeof e.from&&(!b.Uint8Array||Uint8Array.from!==e.from))return e.from(a,c,d);if("number"==typeof a)throw new TypeError('"value" argument must not be a number');if("string"==typeof a)return new e(a,c);if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer){var f=c;if(1===arguments.length)return new e(a);void 0===f&&(f=0);var g=d;if(void 0===g&&(g=a.byteLength-f),f>=a.byteLength)throw new RangeError("'offset' is out of bounds");if(g>a.byteLength-f)throw new RangeError("'length' is out of bounds");return new e(a.slice(f,f+g))}if(e.isBuffer(a)){var h=new e(a.length);return a.copy(h,0,0,a.length),h}if(a){if(Array.isArray(a)||"undefined"!=typeof ArrayBuffer&&a.buffer instanceof ArrayBuffer||"length"in a)return new e(a);if("Buffer"===a.type&&Array.isArray(a.data))return new e(a.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},c.allocUnsafeSlow=function(a){if("function"==typeof e.allocUnsafeSlow)return e.allocUnsafeSlow(a);if("number"!=typeof a)throw new TypeError("size must be a number");if(a>=g)throw new RangeError("size is too large");return new f(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:29}],4:[function(a,b,c){!function(a,c){void 0!==b?b.exports=c():"function"==typeof define&&"object"==typeof define.amd?define(c):this.clipboard=c()}(0,function(){if("undefined"==typeof document||!document.addEventListener)return null;var a={};return a.copy=function(){function a(){c=!1,d=null,e&&window.getSelection().removeAllRanges(),e=!1}function b(){var a=document.getSelection();if(!document.queryCommandEnabled("copy")&&a.isCollapsed){var b=document.createRange();b.selectNodeContents(document.body),a.removeAllRanges(),a.addRange(b),e=!0}}var c=!1,d=null,e=!1;return document.addEventListener("copy",function(a){if(c){for(var b in d)a.clipboardData.setData(b,d[b]);a.preventDefault()}}),function(e){return new Promise(function(f,g){function h(c){try{if(document.execCommand("copy"))a(),f();else{if(c)throw new Error("Unable to copy. Perhaps it's not available in your browser?");b(),h(!0)}}catch(b){a(),g(b)}}c=!0,d="string"==typeof e?{"text/plain":e}:e instanceof Node?{"text/html":(new XMLSerializer).serializeToString(e)}:e,h(!1)})}}(),a.paste=function(){var a,b,c=!1;return document.addEventListener("paste",function(d){if(c){c=!1,d.preventDefault();var e=a;a=null,e(d.clipboardData.getData(b))}}),function(d){return new Promise(function(e,f){c=!0,a=e,b=d||"text/plain";try{document.execCommand("paste")||(c=!1,f(new Error("Unable to paste. Pasting only works in Internet Explorer at the moment.")))}catch(a){c=!1,f(new Error(a))}})}}(),"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&void 0!==window.clipboardData.setData&&(!function(a){function c(a,b){return function(){a.apply(b,arguments)}}function d(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],j(a,c(f,this),c(g,this))}function e(a){var b=this;return null===this._state?void this._deferreds.push(a):void k(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(b){return void a.reject(b)}a.resolve(d)})}function f(a){try{if(a===this)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var b=a.then;if("function"==typeof b)return void j(c(b,a),c(f,this),c(g,this))}this._state=!0,this._value=a,h.call(this)}catch(a){g.call(this,a)}}function g(a){this._state=!1,this._value=a,h.call(this)}function h(){for(var a=0,b=this._deferreds.length;b>a;a++)e.call(this,this._deferreds[a]);this._deferreds=null}function i(a,b,c,d){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d}function j(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(a){if(d)return;d=!0,c(a)}}var k=d.immediateFn||"function"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)},l=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};d.prototype.catch=function(a){return this.then(null,a)},d.prototype.then=function(a,b){var c=this;return new d(function(d,f){e.call(c,new i(a,b,d,f))})},d.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new d(function(b,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0==--e&&b(a)}catch(a){c(a)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},d.resolve=function(a){return a&&"object"==typeof a&&a.constructor===d?a:new d(function(b){b(a)})},d.reject=function(a){return new d(function(b,c){c(a)})},d.race=function(a){return new d(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},void 0!==b&&b.exports?b.exports=d:a.Promise||(a.Promise=d)}(this),a.copy=function(a){return new Promise(function(b,c){if("string"!=typeof a&&!("text/plain"in a))throw new Error("You must provide a text/plain type.");var d="string"==typeof a?a:a["text/plain"];window.clipboardData.setData("Text",d)?b():c(new Error("Copying was rejected."))})},a.paste=function(){return new Promise(function(a,b){var c=window.clipboardData.getData("Text");c?a(c):b(new Error("Pasting was rejected."))})}),a})},{}],5:[function(a,b,c){a("../modules/web.immediate"),b.exports=a("../modules/_core").setImmediate},{"../modules/_core":9,"../modules/web.immediate":25}],6:[function(a,b,c){b.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},{}],7:[function(a,b,c){var d=a("./_is-object");b.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},{"./_is-object":20}],8:[function(a,b,c){var d={}.toString;b.exports=function(a){return d.call(a).slice(8,-1)}},{}],9:[function(a,b,c){var d=b.exports={version:"2.3.0"};"number"==typeof __e&&(__e=d)},{}],10:[function(a,b,c){var d=a("./_a-function");b.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},{"./_a-function":6}],11:[function(a,b,c){b.exports=!a("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":14}],12:[function(a,b,c){var d=a("./_is-object"),e=a("./_global").document,f=d(e)&&d(e.createElement);b.exports=function(a){return f?e.createElement(a):{}}},{"./_global":15,"./_is-object":20}],13:[function(a,b,c){var d=a("./_global"),e=a("./_core"),f=a("./_ctx"),g=a("./_hide"),h=function(a,b,c){var i,j,k,l=a&h.F,m=a&h.G,n=a&h.S,o=a&h.P,p=a&h.B,q=a&h.W,r=m?e:e[b]||(e[b]={}),s=r.prototype,t=m?d:n?d[b]:(d[b]||{}).prototype;m&&(c=b);for(i in c)(j=!l&&t&&void 0!==t[i])&&i in r||(k=j?t[i]:c[i],r[i]=m&&"function"!=typeof t[i]?c[i]:p&&j?f(k,d):q&&t[i]==k?function(a){var b=function(b,c,d){if(this instanceof a){switch(arguments.length){case 0:return new a;case 1:return new a(b);case 2:return new a(b,c)}return new a(b,c,d)}return a.apply(this,arguments)};return b.prototype=a.prototype,b}(k):o&&"function"==typeof k?f(Function.call,k):k,o&&((r.virtual||(r.virtual={}))[i]=k,a&h.R&&s&&!s[i]&&g(s,i,k)))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,b.exports=h},{"./_core":9,"./_ctx":10,"./_global":15,"./_hide":16}],14:[function(a,b,c){b.exports=function(a){try{return!!a()}catch(a){return!0}}},{}],15:[function(a,b,c){var d=b.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},{}],16:[function(a,b,c){var d=a("./_object-dp"),e=a("./_property-desc");b.exports=a("./_descriptors")?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},{"./_descriptors":11,"./_object-dp":21,"./_property-desc":22}],17:[function(a,b,c){b.exports=a("./_global").document&&document.documentElement},{"./_global":15}],18:[function(a,b,c){b.exports=!a("./_descriptors")&&!a("./_fails")(function(){return 7!=Object.defineProperty(a("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":11,"./_dom-create":12,"./_fails":14}],19:[function(a,b,c){b.exports=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}},{}],20:[function(a,b,c){b.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},{}],21:[function(a,b,c){var d=a("./_an-object"),e=a("./_ie8-dom-define"),f=a("./_to-primitive"),g=Object.defineProperty;c.f=a("./_descriptors")?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(a){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},{"./_an-object":7,"./_descriptors":11,"./_ie8-dom-define":18,"./_to-primitive":24}],22:[function(a,b,c){b.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},{}],23:[function(a,b,c){var d,e,f,g=a("./_ctx"),h=a("./_invoke"),i=a("./_html"),j=a("./_dom-create"),k=a("./_global"),l=k.process,m=k.setImmediate,n=k.clearImmediate,o=k.MessageChannel,p=0,q={},r=function(){var a=+this;if(q.hasOwnProperty(a)){var b=q[a];delete q[a],b()}},s=function(a){r.call(a.data)};m&&n||(m=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);return q[++p]=function(){h("function"==typeof a?a:Function(a),b)},d(p),p},n=function(a){delete q[a]},"process"==a("./_cof")(l)?d=function(a){l.nextTick(g(r,a,1))}:o?(e=new o,f=e.port2,e.port1.onmessage=s,d=g(f.postMessage,f,1)):k.addEventListener&&"function"==typeof postMessage&&!k.importScripts?(d=function(a){k.postMessage(a+"","*")},k.addEventListener("message",s,!1)):d="onreadystatechange"in j("script")?function(a){i.appendChild(j("script")).onreadystatechange=function(){i.removeChild(this),r.call(a)}}:function(a){setTimeout(g(r,a,1),0)}),b.exports={set:m,clear:n}},{"./_cof":8,"./_ctx":10,"./_dom-create":12,"./_global":15,"./_html":17,"./_invoke":19}],24:[function(a,b,c){var d=a("./_is-object");b.exports=function(a,b){if(!d(a))return a;var c,e;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;if("function"==typeof(c=a.valueOf)&&!d(e=c.call(a)))return e;if(!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":20}],25:[function(a,b,c){var d=a("./_export"),e=a("./_task");d(d.G+d.B,{setImmediate:e.set,clearImmediate:e.clear})},{"./_export":13,"./_task":23}],26:[function(a,b,c){(function(a){function b(a){return Array.isArray?Array.isArray(a):"[object Array]"===q(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"==typeof a}function j(a){return void 0===a}function k(a){return"[object RegExp]"===q(a)}function l(a){return"object"==typeof a&&null!==a}function m(a){return"[object Date]"===q(a)}function n(a){return"[object Error]"===q(a)||a instanceof Error}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||void 0===a}function q(a){return Object.prototype.toString.call(a)}c.isArray=b,c.isBoolean=d,c.isNull=e,c.isNullOrUndefined=f,c.isNumber=g,c.isString=h,c.isSymbol=i,c.isUndefined=j,c.isRegExp=k,c.isObject=l,c.isDate=m,c.isError=n,c.isFunction=o,c.isPrimitive=p,c.isBuffer=a.isBuffer}).call(this,{isBuffer:a("../../is-buffer/index.js")})},{"../../is-buffer/index.js":49}],27:[function(a,b,c){(function(d,e){!function(a,d){"object"==typeof c&&void 0!==b?b.exports=d():"function"==typeof define&&define.amd?define(d):a.ES6Promise=d()}(this,function(){"use strict";function b(a){return"function"==typeof a||"object"==typeof a&&null!==a}function c(a){return"function"==typeof a}function f(a){T=a}function g(a){U=a}function h(){return void 0!==S?function(){S(j)}:i()}function i(){var a=setTimeout;return function(){return a(j,1)}}function j(){for(var a=0;a<R;a+=2){(0,$[a])($[a+1]),$[a]=void 0,$[a+1]=void 0}R=0}function k(a,b){var c=arguments,d=this,e=new this.constructor(m);void 0===e[aa]&&F(e);var f=d._state;return f?function(){var a=c[f-1];U(function(){return C(f,e,a,d._result)})}():y(d,e,a,b),e}function l(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(m);return u(c,a),c}function m(){}function n(){return new TypeError("You cannot resolve a promise with itself")}function o(){return new TypeError("A promises callback cannot return that same promise.")}function p(a){try{return a.then}catch(a){return ea.error=a,ea}}function q(a,b,c,d){try{a.call(b,c,d)}catch(a){return a}}function r(a,b,c){U(function(a){var d=!1,e=q(c,b,function(c){d||(d=!0,b!==c?u(a,c):w(a,c))},function(b){d||(d=!0,x(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,x(a,e))},a)}function s(a,b){b._state===ca?w(a,b._result):b._state===da?x(a,b._result):y(b,void 0,function(b){return u(a,b)},function(b){return x(a,b)})}function t(a,b,d){b.constructor===a.constructor&&d===k&&b.constructor.resolve===l?s(a,b):d===ea?(x(a,ea.error),ea.error=null):void 0===d?w(a,b):c(d)?r(a,b,d):w(a,b)}function u(a,c){a===c?x(a,n()):b(c)?t(a,c,p(c)):w(a,c)}function v(a){a._onerror&&a._onerror(a._result),z(a)}function w(a,b){a._state===ba&&(a._result=b,a._state=ca,0!==a._subscribers.length&&U(z,a))}function x(a,b){a._state===ba&&(a._state=da,a._result=b,U(v,a))}function y(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+ca]=c,e[f+da]=d,0===f&&a._state&&U(z,a)}function z(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d=void 0,e=void 0,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?C(c,d,e,f):e(f);a._subscribers.length=0}}function A(){this.error=null}function B(a,b){try{return a(b)}catch(a){return fa.error=a,fa}}function C(a,b,d,e){var f=c(d),g=void 0,h=void 0,i=void 0,j=void 0;if(f){if(g=B(d,e),g===fa?(j=!0,h=g.error,g.error=null):i=!0,b===g)return void x(b,o())}else g=e,i=!0;b._state!==ba||(f&&i?u(b,g):j?x(b,h):a===ca?w(b,g):a===da&&x(b,g))}function D(a,b){try{b(function(b){u(a,b)},function(b){x(a,b)})}catch(b){x(a,b)}}function E(){return ga++}function F(a){a[aa]=ga++,a._state=void 0,a._result=void 0,a._subscribers=[]}function G(a,b){this._instanceConstructor=a,this.promise=new a(m),this.promise[aa]||F(this.promise),Q(b)?(this._input=b,this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&w(this.promise,this._result))):x(this.promise,H())}function H(){return new Error("Array Methods must be provided an Array")}function I(a){return new G(this,a).promise}function J(a){var b=this;return new b(Q(a)?function(c,d){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(new TypeError("You must pass an array to race."))})}function K(a){var b=this,c=new b(m);return x(c,a),c}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function M(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function N(a){this[aa]=E(),this._result=this._state=void 0,this._subscribers=[],m!==a&&("function"!=typeof a&&L(),this instanceof N?D(this,a):M())}function O(){var a=void 0;if(void 0!==e)a=e;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(a){throw new Error("polyfill failed because global object is unavailable in this environment")}var b=a.Promise;if(b){var c=null;try{c=Object.prototype.toString.call(b.resolve())}catch(a){}if("[object Promise]"===c&&!b.cast)return}a.Promise=N}var P=void 0;P=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var Q=P,R=0,S=void 0,T=void 0,U=function(a,b){$[R]=a,$[R+1]=b,2===(R+=2)&&(T?T(j):_())},V="undefined"!=typeof window?window:void 0,W=V||{},X=W.MutationObserver||W.WebKitMutationObserver,Y="undefined"==typeof self&&void 0!==d&&"[object process]"==={}.toString.call(d),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$=new Array(1e3),_=void 0;_=Y?function(){return function(){return d.nextTick(j)}}():X?function(){var a=0,b=new X(j),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}():Z?function(){var a=new MessageChannel;return a.port1.onmessage=j,function(){return a.port2.postMessage(0)}}():void 0===V&&"function"==typeof a?function(){try{var b=a,c=b("vertx");return S=c.runOnLoop||c.runOnContext,h()}catch(a){return i()}}():i();var aa=Math.random().toString(36).substring(16),ba=void 0,ca=1,da=2,ea=new A,fa=new A,ga=0;return G.prototype._enumerate=function(){for(var a=this.length,b=this._input,c=0;this._state===ba&&c<a;c++)this._eachEntry(b[c],c)},G.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===l){var e=p(a);if(e===k&&a._state!==ba)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===N){var f=new c(m);t(f,a,e),this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){return b(a)}),b)}else this._willSettleAt(d(a),b)},G.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===ba&&(this._remaining--,a===da?x(d,c):this._result[b]=c),0===this._remaining&&w(d,this._result)},G.prototype._willSettleAt=function(a,b){var c=this;y(a,void 0,function(a){return c._settledAt(ca,b,a)},function(a){return c._settledAt(da,b,a)})},N.all=I,N.race=J,N.resolve=l,N.reject=K,N._setScheduler=f,N._setAsap=g,N._asap=U,N.prototype={constructor:N,then:k,catch:function(a){return this.then(null,a)}},N.polyfill=O,N.Promise=N,N})}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:106}],28:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if((b=arguments[1])instanceof Error)throw b;var k=new Error('Uncaught, unspecified "error" event. ('+b+")");throw k.context=b,k}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(g(c))for(f=Array.prototype.slice.call(arguments,1),j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f);return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned&&(c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners)&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace()),this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){return this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(e(b))return 1;if(b)return b.length}return 0},d.listenerCount=function(a,b){return a.listenerCount(b)}},{}],29:[function(a,b,c){(function(b){"use strict";function d(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(a,b){if(d()<b)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=f.prototype):(null===a&&(a=new f(b)),a.length=b),a}function f(a,b,c){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(a,b,c);if("number"==typeof a){if("string"==typeof b)throw new Error("If encoding is specified then the first argument must be a string");return j(this,a)}return g(this,a,b,c)}function g(a,b,c,d){if("number"==typeof b)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?m(a,b,c,d):"string"==typeof b?k(a,b,c):n(a,b)}function h(a){if("number"!=typeof a)throw new TypeError('"size" argument must be a number');if(a<0)throw new RangeError('"size" argument must not be negative')}function i(a,b,c,d){return h(b),b<=0?e(a,b):void 0!==c?"string"==typeof d?e(a,b).fill(c,d):e(a,b).fill(c):e(a,b)}function j(a,b){if(h(b),a=e(a,b<0?0:0|o(b)),!f.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;++c)a[c]=0;return a}function k(a,b,c){if("string"==typeof c&&""!==c||(c="utf8"),!f.isEncoding(c))throw new TypeError('"encoding" must be a valid string encoding');var d=0|q(b,c);a=e(a,d);var g=a.write(b,c);return g!==d&&(a=a.slice(0,g)),a}function l(a,b){var c=b.length<0?0:0|o(b.length);a=e(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function m(a,b,c,d){if(b.byteLength,c<0||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");return b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d),f.TYPED_ARRAY_SUPPORT?(a=b,a.__proto__=f.prototype):a=l(a,b),a}function n(a,b){if(f.isBuffer(b)){var c=0|o(b.length);return a=e(a,c),0===a.length?a:(b.copy(a,0,0,c),a)}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||X(b.length)?e(a,0):l(a,b);if("Buffer"===b.type&&$(b.data))return l(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function o(a){if(a>=d())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d().toString(16)+" bytes");return 0|a}function p(a){return+a!=a&&(a=0),f.alloc(+a)}function q(a,b){if(f.isBuffer(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":case void 0:return S(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return V(a).length;default:if(d)return S(a).length;b=(""+b).toLowerCase(),d=!0}}function r(a,b,c){var d=!1;if((void 0===b||b<0)&&(b=0),b>this.length)return"";if((void 0===c||c>this.length)&&(c=this.length),c<=0)return"";if(c>>>=0,b>>>=0,c<=b)return"";for(a||(a="utf8");;)switch(a){case"hex":return G(this,b,c);case"utf8":case"utf-8":return C(this,b,c);case"ascii":return E(this,b,c);case"latin1":case"binary":return F(this,b,c);case"base64":return B(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function s(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function t(a,b,c,d,e){if(0===a.length)return-1;if("string"==typeof c?(d=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,isNaN(c)&&(c=e?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(e)return-1;c=a.length-1}else if(c<0){if(!e)return-1;c=0}if("string"==typeof b&&(b=f.from(b,d)),f.isBuffer(b))return 0===b.length?-1:u(a,b,c,d,e);if("number"==typeof b)return b&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):u(a,[b],c,d,e);throw new TypeError("val must be string, number or Buffer")}function u(a,b,c,d,e){function f(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}var g=1,h=a.length,i=b.length;if(void 0!==d&&("ucs2"===(d=String(d).toLowerCase())||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return-1;g=2,h/=2,i/=2,c/=2}var j;if(e){var k=-1;for(j=c;j<h;j++)if(f(a,j)===f(b,-1===k?0:j-k)){if(-1===k&&(k=j),j-k+1===i)return k*g}else-1!==k&&(j-=j-k),k=-1}else for(c+i>h&&(c=h-i),j=c;j>=0;j--){for(var l=!0,m=0;m<i;m++)if(f(a,j+m)!==f(b,m)){l=!1;break}if(l)return j}return-1}function v(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d))>e&&(d=e):d=e;var f=b.length;if(f%2!=0)throw new TypeError("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;++g){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))return g;a[c+g]=h}return g}function w(a,b,c,d){return W(S(b,a.length-c),a,c,d)}function x(a,b,c,d){return W(T(b),a,c,d)}function y(a,b,c,d){return x(a,b,c,d)}function z(a,b,c,d){return W(V(b),a,c,d)}function A(a,b,c,d){return W(U(b,a.length-c),a,c,d)}function B(a,b,c){return 0===b&&c===a.length?Y.fromByteArray(a):Y.fromByteArray(a.slice(b,c))}function C(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128==(192&i)&&(l=(31&f)<<6|63&i)>127&&(g=l);break;case 3:i=a[e+1],j=a[e+2],128==(192&i)&&128==(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j)>2047&&(l<55296||l>57343)&&(g=l);break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128==(192&i)&&128==(192&j)&&128==(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k)>65535&&l<1114112&&(g=l)}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return D(d)}function D(a){var b=a.length;if(b<=_)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=_));return c}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}function F(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}function G(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;++f)e+=R(a[f]);return e}function H(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function I(a,b,c){if(a%1!=0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function J(a,b,c,d,e,g){if(!f.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<g)throw new RangeError('"value" argument is out of bounds');if(c+d>a.length)throw new RangeError("Index out of range")}function K(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;++e)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function L(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;++e)a[c+e]=b>>>8*(d?e:3-e)&255}function M(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError("Index out of range")
;if(c<0)throw new RangeError("Index out of range")}function N(a,b,c,d,e){return e||M(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(a,b,c,d,23,4),c+4}function O(a,b,c,d,e){return e||M(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(a,b,c,d,52,8),c+8}function P(a){if(a=Q(a).replace(aa,""),a.length<2)return"";for(;a.length%4!=0;)a+="=";return a}function Q(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function R(a){return a<16?"0"+a.toString(16):a.toString(16)}function S(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=65536+(e-55296<<10|c-56320)}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function T(a){for(var b=[],c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}function U(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);++g)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function V(a){return Y.toByteArray(P(a))}function W(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function X(a){return a!==a}var Y=a("base64-js"),Z=a("ieee754"),$=a("isarray");c.Buffer=f,c.SlowBuffer=p,c.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:function(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()&&"function"==typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(a){return!1}}(),c.kMaxLength=d(),f.poolSize=8192,f._augment=function(a){return a.__proto__=f.prototype,a},f.from=function(a,b,c){return g(null,a,b,c)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(a,b,c){return i(null,a,b,c)},f.allocUnsafe=function(a){return j(null,a)},f.allocUnsafeSlow=function(a){return j(null,a)},f.isBuffer=function(a){return!(null==a||!a._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,g=Math.min(c,d);e<g;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:d<c?1:0},f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,b){if(!$(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return f.alloc(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;var d=f.allocUnsafe(b),e=0;for(c=0;c<a.length;++c){var g=a[c];if(!f.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(d,e),e+=g.length}return d},f.byteLength=q,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var a=this.length;if(a%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)s(this,b,b+1);return this},f.prototype.swap32=function(){var a=this.length;if(a%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)s(this,b,b+3),s(this,b+1,b+2);return this},f.prototype.swap64=function(){var a=this.length;if(a%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)s(this,b,b+7),s(this,b+1,b+6),s(this,b+2,b+5),s(this,b+3,b+4);return this},f.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?C(this,0,a):r.apply(this,arguments)},f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===f.compare(this,a)},f.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},f.prototype.compare=function(a,b,c,d,e){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===e&&(e=this.length),b<0||c>a.length||d<0||e>this.length)throw new RangeError("out of range index");if(d>=e&&b>=c)return 0;if(d>=e)return-1;if(b>=c)return 1;if(b>>>=0,c>>>=0,d>>>=0,e>>>=0,this===a)return 0;for(var g=e-d,h=c-b,i=Math.min(g,h),j=this.slice(d,e),k=a.slice(b,c),l=0;l<i;++l)if(j[l]!==k[l]){g=j[l],h=k[l];break}return g<h?-1:h<g?1:0},f.prototype.includes=function(a,b,c){return-1!==this.indexOf(a,b,c)},f.prototype.indexOf=function(a,b,c){return t(this,a,b,c,!0)},f.prototype.lastIndexOf=function(a,b,c){return t(this,a,b,c,!1)},f.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b|=0,isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0)}var e=this.length-b;if((void 0===c||c>e)&&(c=e),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(var f=!1;;)switch(d){case"hex":return v(this,a,b,c);case"utf8":case"utf-8":return w(this,a,b,c);case"ascii":return x(this,a,b,c);case"latin1":case"binary":return y(this,a,b,c);case"base64":return z(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,a,b,c);default:if(f)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),f=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;f.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c)<0&&(a=0):a>c&&(a=c),b<0?(b+=c)<0&&(b=0):b>c&&(b=c),b<a&&(b=a);var d;if(f.TYPED_ARRAY_SUPPORT)d=this.subarray(a,b),d.__proto__=f.prototype;else{var e=b-a;d=new f(e,void 0);for(var g=0;g<e;++g)d[g]=this[g+a]}return d},f.prototype.readUIntLE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},f.prototype.readUIntBE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},f.prototype.readUInt8=function(a,b){return b||I(a,1,this.length),this[a]},f.prototype.readUInt16LE=function(a,b){return b||I(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUInt16BE=function(a,b){return b||I(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUInt32LE=function(a,b){return b||I(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},f.prototype.readUInt32BE=function(a,b){return b||I(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},f.prototype.readIntBE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},f.prototype.readInt8=function(a,b){return b||I(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},f.prototype.readInt16LE=function(a,b){b||I(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt16BE=function(a,b){b||I(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt32LE=function(a,b){return b||I(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,b){return b||I(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,b){return b||I(a,4,this.length),Z.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,b){return b||I(a,4,this.length),Z.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,b){return b||I(a,8,this.length),Z.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,b){return b||I(a,8,this.length),Z.read(this,a,!1,52,8)},f.prototype.writeUIntLE=function(a,b,c,d){if(a=+a,b|=0,c|=0,!d){J(this,a,b,c,Math.pow(2,8*c)-1,0)}var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},f.prototype.writeUIntBE=function(a,b,c,d){if(a=+a,b|=0,c|=0,!d){J(this,a,b,c,Math.pow(2,8*c)-1,0)}var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},f.prototype.writeUInt8=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,1,255,0),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},f.prototype.writeUInt16LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):K(this,a,b,!0),b+2},f.prototype.writeUInt16BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):K(this,a,b,!1),b+2},f.prototype.writeUInt32LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):L(this,a,b,!0),b+4},f.prototype.writeUInt32BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):L(this,a,b,!1),b+4},f.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);J(this,a,b,c,e-1,-e)}var f=0,g=1,h=0;for(this[b]=255&a;++f<c&&(g*=256);)a<0&&0===h&&0!==this[b+f-1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);J(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0;for(this[b+f]=255&a;--f>=0&&(g*=256);)a<0&&0===h&&0!==this[b+f+1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeInt8=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,1,127,-128),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},f.prototype.writeInt16LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):K(this,a,b,!0),b+2},f.prototype.writeInt16BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):K(this,a,b,!1),b+2},f.prototype.writeInt32LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):L(this,a,b,!0),b+4},f.prototype.writeInt32BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):L(this,a,b,!1),b+4},f.prototype.writeFloatLE=function(a,b,c){return N(this,a,b,!0,c)},f.prototype.writeFloatBE=function(a,b,c){return N(this,a,b,!1,c)},f.prototype.writeDoubleLE=function(a,b,c){return O(this,a,b,!0,c)},f.prototype.writeDoubleBE=function(a,b,c){return O(this,a,b,!1,c)},f.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,g=d-c;if(this===a&&c<b&&b<d)for(e=g-1;e>=0;--e)a[e+b]=this[e+c];else if(g<1e3||!f.TYPED_ARRAY_SUPPORT)for(e=0;e<g;++e)a[e+b]=this[e+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+g),b);return g},f.prototype.fill=function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),1===a.length){var e=a.charCodeAt(0);e<256&&(a=e)}if(void 0!==d&&"string"!=typeof d)throw new TypeError("encoding must be a string");if("string"==typeof d&&!f.isEncoding(d))throw new TypeError("Unknown encoding: "+d)}else"number"==typeof a&&(a&=255);if(b<0||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0);var g;if("number"==typeof a)for(g=b;g<c;++g)this[g]=a;else{var h=f.isBuffer(a)?a:S(new f(a,d).toString()),i=h.length;for(g=0;g<c-b;++g)this[g+b]=h[g%i]}return this};var aa=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:46,isarray:50}],30:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){for(var c=Object.getOwnPropertyNames(b),d=0;d<c.length;d++){var e=c[d],f=Object.getOwnPropertyDescriptor(b,e);f&&f.configurable&&void 0===a[e]&&Object.defineProperty(a,e,f)}return a}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):e(a,b))}function i(a,b){for(var c=a.indexOf(b);-1!==c;)a.splice(c,1),c=a.indexOf(b)}Object.defineProperty(c,"__esModule",{value:!0});var j=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},k=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=a("./utils"),m=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(l),n=a("./logger"),o=d(n),p=a("./EventEmitter"),q=d(p),r=function(a){function b(c,d,e){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};f(this,b);var i=g(this,a.call(this));return i.backend=c,i.store=d,i.services=e,i.options=h,i.logger=o.default.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(e,h.backend,h),i}return h(b,a),b.prototype.queueLoad=function(a,b,c){var d=this,e=[],f=[],g=[],h=[];return a.forEach(function(a){var c=!0;b.forEach(function(b){var g=a+"|"+b;d.store.hasResourceBundle(a,b)?d.state[g]=2:d.state[g]<0||(1===d.state[g]?f.indexOf(g)<0&&f.push(g):(d.state[g]=1,c=!1,f.indexOf(g)<0&&f.push(g),e.indexOf(g)<0&&e.push(g),h.indexOf(b)<0&&h.push(b)))}),c||g.push(a)}),(e.length||f.length)&&this.queue.push({pending:f,loaded:{},errors:[],callback:c}),{toLoad:e,pending:f,toLoadLanguages:g,toLoadNamespaces:h}},b.prototype.loaded=function(a,b,c){var d=this,e=a.split("|"),f=k(e,2),g=f[0],h=f[1];b&&this.emit("failedLoading",g,h,b),c&&this.store.addResourceBundle(g,h,c),this.state[a]=b?-1:2,this.queue.forEach(function(c){m.pushPath(c.loaded,[g],h),i(c.pending,a),b&&c.errors.push(b),0!==c.pending.length||c.done||(d.emit("loaded",c.loaded),c.errors.length?c.callback(c.errors):c.callback(),c.done=!0)}),this.queue=this.queue.filter(function(a){return!a.done})},b.prototype.read=function(a,b,c,d,e,f){var g=this;if(d||(d=0),e||(e=250),!a.length)return f(null,{});this.backend[c](a,b,function(h,i){if(h&&i&&d<5)return void setTimeout(function(){g.read.call(g,a,b,c,++d,2*e,f)},e);f(h,i)})},b.prototype.load=function(a,b,c){var d=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();var e=j({},this.backend.options,this.options.backend);"string"==typeof a&&(a=this.services.languageUtils.toResolveHierarchy(a)),"string"==typeof b&&(b=[b]);var f=this.queueLoad(a,b,c);if(!f.toLoad.length)return void(f.pending.length||c());if(e.allowMultiLoading&&this.backend.readMulti)this.read(f.toLoadLanguages,f.toLoadNamespaces,"readMulti",null,null,function(a,b){a&&d.logger.warn("loading namespaces "+f.toLoadNamespaces.join(", ")+" for languages "+f.toLoadLanguages.join(", ")+" via multiloading failed",a),!a&&b&&d.logger.log("loaded namespaces "+f.toLoadNamespaces.join(", ")+" for languages "+f.toLoadLanguages.join(", ")+" via multiloading",b),f.toLoad.forEach(function(c){var e=c.split("|"),f=k(e,2),g=f[0],h=f[1],i=m.getPath(b,[g,h]);if(i)d.loaded(c,a,i);else{var j="loading namespace "+h+" for language "+g+" via multiloading failed";d.loaded(c,j),d.logger.error(j)}})});else{var g=function(a){var b=this,c=a.split("|"),d=k(c,2),e=d[0],f=d[1];this.read(e,f,"read",null,null,function(c,d){c&&b.logger.warn("loading namespace "+f+" for language "+e+" failed",c),!c&&d&&b.logger.log("loaded namespace "+f+" for language "+e,d),b.loaded(a,c,d)})};f.toLoad.forEach(function(a){g.call(d,a)})}},b.prototype.reload=function(a,b){var c=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var d=j({},this.backend.options,this.options.backend);if("string"==typeof a&&(a=this.services.languageUtils.toResolveHierarchy(a)),"string"==typeof b&&(b=[b]),d.allowMultiLoading&&this.backend.readMulti)this.read(a,b,"readMulti",null,null,function(d,e){d&&c.logger.warn("reloading namespaces "+b.join(", ")+" for languages "+a.join(", ")+" via multiloading failed",d),!d&&e&&c.logger.log("reloaded namespaces "+b.join(", ")+" for languages "+a.join(", ")+" via multiloading",e),a.forEach(function(a){b.forEach(function(b){var f=m.getPath(e,[a,b]);if(f)c.loaded(a+"|"+b,d,f);else{var g="reloading namespace "+b+" for language "+a+" via multiloading failed";c.loaded(a+"|"+b,g),c.logger.error(g)}})})});else{var e=function(a){var b=this,c=a.split("|"),d=k(c,2),e=d[0],f=d[1];this.read(e,f,"read",null,null,function(c,d){c&&b.logger.warn("reloading namespace "+f+" for language "+e+" failed",c),!c&&d&&b.logger.log("reloaded namespace "+f+" for language "+e,d),b.loaded(a,c,d)})};a.forEach(function(a){b.forEach(function(b){e.call(c,a+"|"+b)})})}},b.prototype.saveMissing=function(a,b,c,d){this.backend&&this.backend.create&&this.backend.create(a,b,c,d),a&&a[0]&&this.store.addResource(a[0],b,c,d)},b}(q.default);c.default=r},{"./EventEmitter":32,"./logger":42,"./utils":44}],31:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){for(var c=Object.getOwnPropertyNames(b),d=0;d<c.length;d++){var e=c[d],f=Object.getOwnPropertyDescriptor(b,e);f&&f.configurable&&void 0===a[e]&&Object.defineProperty(a,e,f)}return a}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):e(a,b))}Object.defineProperty(c,"__esModule",{value:!0});var i=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},j=a("./utils"),k=(function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a}(j),a("./logger")),l=d(k),m=a("./EventEmitter"),n=d(m),o=function(a){function b(c,d,e){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};f(this,b);var i=g(this,a.call(this));return i.cache=c,i.store=d,i.services=e,i.options=h,i.logger=l.default.create("cacheConnector"),i.cache&&i.cache.init&&i.cache.init(e,h.cache,h),i}return h(b,a),b.prototype.load=function(a,b,c){var d=this;if(!this.cache)return c&&c();var e=i({},this.cache.options,this.options.cache);"string"==typeof a&&(a=this.services.languageUtils.toResolveHierarchy(a)),"string"==typeof b&&(b=[b]),e.enabled?this.cache.load(a,function(b,e){if(b&&d.logger.error("loading languages "+a.join(", ")+" from cache failed",b),e)for(var f in e)for(var g in e[f])if("i18nStamp"!==g){var h=e[f][g];h&&d.store.addResourceBundle(f,g,h)}c&&c()}):c&&c()},b.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},b}(n.default);c.default=o},{"./EventEmitter":32,"./logger":42,"./utils":44}],32:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(){d(this,a),this.observers={}}return a.prototype.on=function(a,b){var c=this;a.split(" ").forEach(function(a){c.observers[a]=c.observers[a]||[],c.observers[a].push(b)})},a.prototype.off=function(a,b){var c=this;this.observers[a]&&this.observers[a].forEach(function(){if(b){var d=c.observers[a].indexOf(b);d>-1&&c.observers[a].splice(d,1)}else delete c.observers[a]})},a.prototype.emit=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];if(this.observers[a]){[].concat(this.observers[a]).forEach(function(a){a.apply(void 0,c)})}if(this.observers["*"]){[].concat(this.observers["*"]).forEach(function(b){var d;b.apply(b,(d=[a]).concat.apply(d,c))})}},a}();c.default=e},{}],33:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f=a("./utils"),g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(f),h=a("./logger"),i=function(a){return a&&a.__esModule?a:{default:a}}(h),j=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,a),this.logger=i.default.create("interpolator"),this.init(b,!0)}return a.prototype.init=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=a,this.format=a.interpolation&&a.interpolation.format||function(a){return a},this.escape=a.interpolation&&a.interpolation.escape||g.escape),a.interpolation||(a.interpolation={escapeValue:!0});var b=a.interpolation;this.escapeValue=void 0===b.escapeValue||b.escapeValue,this.prefix=b.prefix?g.regexEscape(b.prefix):b.prefixEscaped||"{{",this.suffix=b.suffix?g.regexEscape(b.suffix):b.suffixEscaped||"}}",this.formatSeparator=b.formatSeparator?b.formatSeparator:b.formatSeparator||",",this.unescapePrefix=b.unescapeSuffix?"":b.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":b.unescapeSuffix||"",this.nestingPrefix=b.nestingPrefix?g.regexEscape(b.nestingPrefix):b.nestingPrefixEscaped||g.regexEscape("$t("),this.nestingSuffix=b.nestingSuffix?g.regexEscape(b.nestingSuffix):b.nestingSuffixEscaped||g.regexEscape(")"),this.resetRegExp()},a.prototype.reset=function(){this.options&&this.init(this.options)},a.prototype.resetRegExp=function(){var a=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(a,"g");var b=this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(b,"g");var c=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(c,"g")},a.prototype.interpolate=function(a,b,c){function d(a){return a.replace(/\$/g,"$$$$")}var e=this,f=void 0,h=void 0,i=function(a){if(a.indexOf(e.formatSeparator)<0)return g.getPath(b,a);var d=a.split(e.formatSeparator),f=d.shift().trim(),h=d.join(e.formatSeparator).trim();return e.format(g.getPath(b,f),h,c)};for(this.resetRegExp();f=this.regexpUnescape.exec(a);){var j=i(f[1].trim());a=a.replace(f[0],j),this.regexpUnescape.lastIndex=0}for(;f=this.regexp.exec(a);)h=i(f[1].trim()),"string"!=typeof h&&(h=g.makeString(h)),h||(this.logger.warn("missed to pass in variable "+f[1]+" for interpolating "+a),h=""),h=d(this.escapeValue?this.escape(h):h),a=a.replace(f[0],h),this.regexp.lastIndex=0;return a},a.prototype.nest=function(a,b){function c(a){if(a.indexOf(",")<0)return a;var b=a.split(",");a=b.shift();var c=b.join(",");c=this.interpolate(c,i),c=c.replace(/'/g,'"');try{i=JSON.parse(c)}catch(b){this.logger.error("failed parsing options string in nesting for key "+a,b)}return a}var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=void 0,h=void 0,i=e({},d);for(i.applyPostProcessor=!1;f=this.nestingRegexp.exec(a);)h=b(c.call(this,f[1].trim()),i),"string"!=typeof h&&(h=g.makeString(h)),h||(this.logger.warn("missed to pass in variable "+f[1]+" for interpolating "+a),h=""),a=a.replace(f[0],h),this.regexp.lastIndex=0;return a},a}();c.default=j},{"./logger":42,"./utils":44}],34:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){return a.charAt(0).toUpperCase()+a.slice(1)}Object.defineProperty(c,"__esModule",{value:!0});var f=a("./logger"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(b){d(this,a),this.options=b,this.whitelist=this.options.whitelist||!1,this.logger=g.default.create("languageUtils")}return a.prototype.getScriptPartFromCode=function(a){if(!a||a.indexOf("-")<0)return null;var b=a.split("-");return 2===b.length?null:(b.pop(),this.formatLanguageCode(b.join("-")))},a.prototype.getLanguagePartFromCode=function(a){if(!a||a.indexOf("-")<0)return a;var b=a.split("-");return this.formatLanguageCode(b[0])},a.prototype.formatLanguageCode=function(a){if("string"==typeof a&&a.indexOf("-")>-1){var b=["hans","hant","latn","cyrl","cans","mong","arab"],c=a.split("-");return this.options.lowerCaseLng?c=c.map(function(a){return a.toLowerCase()}):2===c.length?(c[0]=c[0].toLowerCase(),c[1]=c[1].toUpperCase(),b.indexOf(c[1].toLowerCase())>-1&&(c[1]=e(c[1].toLowerCase()))):3===c.length&&(c[0]=c[0].toLowerCase(),2===c[1].length&&(c[1]=c[1].toUpperCase()),"sgn"!==c[0]&&2===c[2].length&&(c[2]=c[2].toUpperCase()),b.indexOf(c[1].toLowerCase())>-1&&(c[1]=e(c[1].toLowerCase())),b.indexOf(c[2].toLowerCase())>-1&&(c[2]=e(c[2].toLowerCase()))),c.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a},a.prototype.isWhitelisted=function(a){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(a=this.getLanguagePartFromCode(a)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(a)>-1},a.prototype.getFallbackCodes=function(a,b){if(!a)return[];if("string"==typeof a&&(a=[a]),"[object Array]"===Object.prototype.toString.apply(a))return a;if(!b)return a.default||[];var c=a[b];return c||(c=a[this.getScriptPartFromCode(b)]),c||(c=a[this.formatLanguageCode(b)]),c||(c=a.default),c||[]},a.prototype.toResolveHierarchy=function(a,b){var c=this,d=this.getFallbackCodes(b||this.options.fallbackLng||[],a),e=[],f=function(a){a&&(c.isWhitelisted(a)?e.push(a):c.logger.warn("rejecting non-whitelisted language code: "+a))};return"string"==typeof a&&a.indexOf("-")>-1?("languageOnly"!==this.options.load&&f(this.formatLanguageCode(a)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&f(this.getScriptPartFromCode(a)),"currentOnly"!==this.options.load&&f(this.getLanguagePartFromCode(a))):"string"==typeof a&&f(this.formatLanguageCode(a)),d.forEach(function(a){e.indexOf(a)<0&&f(c.formatLanguageCode(a))}),e},a}();c.default=h},{"./logger":42}],35:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(){var a={};return h.forEach(function(b){b.lngs.forEach(function(c){return a[c]={numbers:b.nr,plurals:i[b.fc]}})}),a}Object.defineProperty(c,"__esModule",{value:!0});var f=a("./logger"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","es_ar","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt","pt_br","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],i={1:function(a){return Number(a>1)},2:function(a){return Number(1!=a)},3:function(a){return 0},4:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&a%10<=4&&(a%100<10||a%100>=20)?1:2)},5:function(a){return Number(0===a?0:1==a?1:2==a?2:a%100>=3&&a%100<=10?3:a%100>=11?4:5)},6:function(a){return Number(1==a?0:a>=2&&a<=4?1:2)},7:function(a){return Number(1==a?0:a%10>=2&&a%10<=4&&(a%100<10||a%100>=20)?1:2)},8:function(a){return Number(1==a?0:2==a?1:8!=a&&11!=a?2:3)},9:function(a){return Number(a>=2)},10:function(a){return Number(1==a?0:2==a?1:a<7?2:a<11?3:4)},11:function(a){return Number(1==a||11==a?0:2==a||12==a?1:a>2&&a<20?2:3)},12:function(a){return Number(a%10!=1||a%100==11)},13:function(a){return Number(0!==a)},14:function(a){return Number(1==a?0:2==a?1:3==a?2:3)},15:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&(a%100<10||a%100>=20)?1:2)},16:function(a){return Number(a%10==1&&a%100!=11?0:0!==a?1:2)},17:function(a){return Number(1==a||a%10==1?0:1)},18:function(a){return Number(0==a?0:1==a?1:2)},19:function(a){return Number(1==a?0:0===a||a%100>1&&a%100<11?1:a%100>10&&a%100<20?2:3)},20:function(a){return Number(1==a?0:0===a||a%100>0&&a%100<20?1:2)},21:function(a){return Number(a%100==1?1:a%100==2?2:a%100==3||a%100==4?3:0)}},j=function(){function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d(this,a),this.languageUtils=b,this.options=c,this.logger=g.default.create("pluralResolver"),this.rules=e()}return a.prototype.addRule=function(a,b){this.rules[a]=b},a.prototype.getRule=function(a){return this.rules[this.languageUtils.getLanguagePartFromCode(a)]},a.prototype.needsPlural=function(a){var b=this.getRule(a);return!(b&&b.numbers.length<=1)},a.prototype.getSuffix=function(a,b){var c=this,d=this.getRule(a);if(d){if(1===d.numbers.length)return"";var e=d.noAbs?d.plurals(b):d.plurals(Math.abs(b)),f=d.numbers[e];this.options.simplifyPluralSuffix&&2===d.numbers.length&&1===d.numbers[0]&&(2===f?f="plural":1===f&&(f=""));var g=function(){return c.options.prepend&&f.toString()?c.options.prepend+f.toString():f.toString()}
;return"v1"===this.options.compatibilityJSON?1===f?"":"number"==typeof f?"_plural_"+f.toString():g():"v2"===this.options.compatibilityJSON||2===d.numbers.length&&1===d.numbers[0]?g():2===d.numbers.length&&1===d.numbers[0]?g():this.options.prepend&&e.toString()?this.options.prepend+e.toString():e.toString()}return this.logger.warn("no plural rule found for: "+a),""},a}();c.default=j},{"./logger":42}],36:[function(a,b,c){"use strict";function d(a,b){for(var c=Object.getOwnPropertyNames(b),d=0;d<c.length;d++){var e=c[d],f=Object.getOwnPropertyDescriptor(b,e);f&&f.configurable&&void 0===a[e]&&Object.defineProperty(a,e,f)}return a}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):d(a,b))}Object.defineProperty(c,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=a("./EventEmitter"),j=function(a){return a&&a.__esModule?a:{default:a}}(i),k=a("./utils"),l=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(k),m=function(a){function b(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};e(this,b);var g=f(this,a.call(this));return g.data=c,g.options=d,g}return g(b,a),b.prototype.addNamespaces=function(a){this.options.ns.indexOf(a)<0&&this.options.ns.push(a)},b.prototype.removeNamespaces=function(a){var b=this.options.ns.indexOf(a);b>-1&&this.options.ns.splice(b,1)},b.prototype.getResource=function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},e=d.keySeparator||this.options.keySeparator;void 0===e&&(e=".");var f=[a,b];return c&&"string"!=typeof c&&(f=f.concat(c)),c&&"string"==typeof c&&(f=f.concat(e?c.split(e):c)),a.indexOf(".")>-1&&(f=a.split(".")),l.getPath(this.data,f)},b.prototype.addResource=function(a,b,c,d){var e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},f=this.options.keySeparator;void 0===f&&(f=".");var g=[a,b];c&&(g=g.concat(f?c.split(f):c)),a.indexOf(".")>-1&&(g=a.split("."),d=b,b=g[1]),this.addNamespaces(b),l.setPath(this.data,g,d),e.silent||this.emit("added",a,b,c,d)},b.prototype.addResources=function(a,b,c){for(var d in c)"string"==typeof c[d]&&this.addResource(a,b,d,c[d],{silent:!0});this.emit("added",a,b,c)},b.prototype.addResourceBundle=function(a,b,c,d,e){var f=[a,b];a.indexOf(".")>-1&&(f=a.split("."),d=c,c=b,b=f[1]),this.addNamespaces(b);var g=l.getPath(this.data,f)||{};d?l.deepExtend(g,c,e):g=h({},g,c),l.setPath(this.data,f,g),this.emit("added",a,b,c)},b.prototype.removeResourceBundle=function(a,b){this.hasResourceBundle(a,b)&&delete this.data[a][b],this.removeNamespaces(b),this.emit("removed",a,b)},b.prototype.hasResourceBundle=function(a,b){return void 0!==this.getResource(a,b)},b.prototype.getResourceBundle=function(a,b){return b||(b=this.options.defaultNS),"v1"===this.options.compatibilityAPI?h({},this.getResource(a,b)):this.getResource(a,b)},b.prototype.toJSON=function(){return this.data},b}(j.default);c.default=m},{"./EventEmitter":32,"./utils":44}],37:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){for(var c=Object.getOwnPropertyNames(b),d=0;d<c.length;d++){var e=c[d],f=Object.getOwnPropertyDescriptor(b,e);f&&f.configurable&&void 0===a[e]&&Object.defineProperty(a,e,f)}return a}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):f(a,b))}Object.defineProperty(c,"__esModule",{value:!0});var j=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},l=a("./logger"),m=e(l),n=a("./EventEmitter"),o=e(n),p=a("./postProcessor"),q=e(p),r=a("./compatibility/v1"),s=d(r),t=a("./utils"),u=d(t),v=function(a){function b(c){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(this,b);var e=h(this,a.call(this));return u.copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],c,e),e.options=d,e.logger=m.default.create("translator"),e}return i(b,a),b.prototype.changeLanguage=function(a){a&&(this.language=a)},b.prototype.exists=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};return"v1"===this.options.compatibilityAPI&&(b=s.convertTOptions(b)),void 0!==this.resolve(a,b)},b.prototype.extractFromKey=function(a,b){var c=b.nsSeparator||this.options.nsSeparator;void 0===c&&(c=":");var d=b.keySeparator||this.options.keySeparator||".",e=b.ns||this.options.defaultNS;if(c&&a.indexOf(c)>-1){var f=a.split(c);(c!==d||c===d&&this.options.ns.indexOf(f[0])>-1)&&(e=f.shift()),a=f.join(d)}return"string"==typeof e&&(e=[e]),{key:a,namespaces:e}},b.prototype.translate=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==(void 0===b?"undefined":k(b))?b=this.options.overloadTranslationOptionHandler(arguments):"v1"===this.options.compatibilityAPI&&(b=s.convertTOptions(b)),void 0===a||null===a||""===a)return"";"number"==typeof a&&(a=String(a)),"string"==typeof a&&(a=[a]);var c=b.keySeparator||this.options.keySeparator||".",d=this.extractFromKey(a[a.length-1],b),e=d.key,f=d.namespaces,g=f[f.length-1],h=b.lng||this.language,i=b.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&"cimode"===h.toLowerCase()){if(i){return g+(b.nsSeparator||this.options.nsSeparator)+e}return e}var l=this.resolve(a,b),m=Object.prototype.toString.apply(l),n=["[object Number]","[object Function]","[object RegExp]"],o=void 0!==b.joinArrays?b.joinArrays:this.options.joinArrays;if(l&&"string"!=typeof l&&n.indexOf(m)<0&&(!o||"[object Array]"!==m)){if(!b.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(e,l,b):"key '"+e+" ("+this.language+")' returned an object instead of string.";if(b.keySeparator||this.options.keySeparator){var p="[object Array]"===m?[]:{};for(var q in l)l.hasOwnProperty(q)&&(p[q]=this.translate(""+e+c+q,j({},b,{joinArrays:!1,ns:f})));l=p}}else if(o&&"[object Array]"===m)(l=l.join(o))&&(l=this.extendTranslation(l,e,b));else{var r=!1,t=!1;if(this.isValidLookup(l)||void 0===b.defaultValue||(r=!0,l=b.defaultValue),this.isValidLookup(l)||(t=!0,l=e),t||r){this.logger.log("missingKey",h,g,e,l);var u=[],v=this.languageUtils.getFallbackCodes(this.options.fallbackLng,b.lng||this.language);if("fallback"===this.options.saveMissingTo&&v&&v[0])for(var w=0;w<v.length;w++)u.push(v[w]);else"all"===this.options.saveMissingTo?u=this.languageUtils.toResolveHierarchy(b.lng||this.language):u.push(b.lng||this.language);this.options.saveMissing&&(this.options.missingKeyHandler?this.options.missingKeyHandler(u,g,e,l):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(u,g,e,l)),this.emit("missingKey",u,g,e,l)}l=this.extendTranslation(l,e,b),t&&l===e&&this.options.appendNamespaceToMissingKey&&(l=g+":"+e),t&&this.options.parseMissingKeyHandler&&(l=this.options.parseMissingKeyHandler(l))}return l},b.prototype.extendTranslation=function(a,b,c){var d=this;c.interpolation&&this.interpolator.init(j({},c,{interpolation:j({},this.options.interpolation,c.interpolation)}));var e=c.replace&&"string"!=typeof c.replace?c.replace:c;this.options.interpolation.defaultVariables&&(e=j({},this.options.interpolation.defaultVariables,e)),a=this.interpolator.interpolate(a,e,this.language),a=this.interpolator.nest(a,function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return d.translate.apply(d,b)},c),c.interpolation&&this.interpolator.reset();var f=c.postProcess||this.options.postProcess,g="string"==typeof f?[f]:f;return void 0!==a&&g&&g.length&&!1!==c.applyPostProcessor&&(a=q.default.handle(g,a,b,c,this)),a},b.prototype.resolve=function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=void 0;return"string"==typeof a&&(a=[a]),a.forEach(function(a){if(!b.isValidLookup(d)){var e=b.extractFromKey(a,c),f=e.key,g=e.namespaces;b.options.fallbackNS&&(g=g.concat(b.options.fallbackNS));var h=void 0!==c.count&&"string"!=typeof c.count,i=void 0!==c.context&&"string"==typeof c.context&&""!==c.context,j=c.lngs?c.lngs:b.languageUtils.toResolveHierarchy(c.lng||b.language);g.forEach(function(a){b.isValidLookup(d)||j.forEach(function(e){if(!b.isValidLookup(d)){var g=f,j=[g],k=void 0;h&&(k=b.pluralResolver.getSuffix(e,c.count)),h&&i&&j.push(g+k),i&&j.push(g+=""+b.options.contextSeparator+c.context),h&&j.push(g+=k);for(var l=void 0;l=j.pop();)b.isValidLookup(d)||(d=b.getResource(e,a,l,c))}})})}}),d},b.prototype.isValidLookup=function(a){return!(void 0===a||!this.options.returnNull&&null===a||!this.options.returnEmptyString&&""===a)},b.prototype.getResource=function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(a,b,c,d)},b}(o.default);c.default=v},{"./EventEmitter":32,"./compatibility/v1":38,"./logger":42,"./postProcessor":43,"./utils":44}],38:[function(a,b,c){"use strict";function d(a){return a.interpolation={unescapeSuffix:"HTML"},a.interpolation.prefix=a.interpolationPrefix||"__",a.interpolation.suffix=a.interpolationSuffix||"__",a.interpolation.escapeValue=a.escapeInterpolation||!1,a.interpolation.nestingPrefix=a.reusePrefix||"$t(",a.interpolation.nestingSuffix=a.reuseSuffix||")",a}function e(a){return a.resStore&&(a.resources=a.resStore),a.ns&&a.ns.defaultNs?(a.defaultNS=a.ns.defaultNs,a.ns=a.ns.namespaces):a.defaultNS=a.ns||"translation",a.fallbackToDefaultNS&&a.defaultNS&&(a.fallbackNS=a.defaultNS),a.saveMissing=a.sendMissing,a.saveMissingTo=a.sendMissingTo||"current",a.returnNull=!a.fallbackOnNull,a.returnEmptyString=!a.fallbackOnEmpty,a.returnObjects=a.returnObjectTrees,a.joinArrays="\n",a.returnedObjectHandler=a.objectTreeKeyHandler,a.parseMissingKeyHandler=a.parseMissingKey,a.appendNamespaceToMissingKey=!0,a.nsSeparator=a.nsseparator||":",a.keySeparator=a.keyseparator||".","sprintf"===a.shortcutFunction&&(a.overloadTranslationOptionHandler=function(a){for(var b=[],c=1;c<a.length;c++)b.push(a[c]);return{postProcess:"sprintf",sprintf:b}}),a.whitelist=a.lngWhitelist,a.preload=a.preload,"current"===a.load&&(a.load="currentOnly"),"unspecific"===a.load&&(a.load="languageOnly"),a.backend=a.backend||{},a.backend.loadPath=a.resGetPath||"locales/__lng__/__ns__.json",a.backend.addPath=a.resPostPath||"locales/add/__lng__/__ns__",a.backend.allowMultiLoading=a.dynamicLoad,a.cache=a.cache||{},a.cache.prefix="res_",a.cache.expirationTime=6048e5,a.cache.enabled=!!a.useLocalStorage,a=d(a),a.defaultVariables&&(a.interpolation.defaultVariables=a.defaultVariables),a}function f(a){return a=d(a),a.joinArrays="\n",a}function g(a){return(a.interpolationPrefix||a.interpolationSuffix||a.escapeInterpolation)&&(a=d(a)),a.nsSeparator=a.nsseparator,a.keySeparator=a.keyseparator,a.returnObjects=a.returnObjectTrees,a}function h(a){a.lng=function(){return j.default.deprecate("i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup."),a.services.languageUtils.toResolveHierarchy(a.language)[0]},a.preload=function(b,c){j.default.deprecate("i18next.preload() can be replaced with i18next.loadLanguages()"),a.loadLanguages(b,c)},a.setLng=function(b,c,d){if(j.default.deprecate("i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace."),"function"==typeof c&&(d=c,c={}),c||(c={}),!0===c.fixLng&&d)return d(null,a.getFixedT(b));a.changeLanguage(b,d)},a.addPostProcessor=function(b,c){j.default.deprecate("i18next.addPostProcessor() can be replaced by i18next.use({ type: 'postProcessor', name: 'name', process: fc })"),a.use({type:"postProcessor",name:b,process:c})}}Object.defineProperty(c,"__esModule",{value:!0}),c.convertAPIOptions=e,c.convertJSONOptions=f,c.convertTOptions=g,c.appendBackwardsAPI=h;var i=a("../logger"),j=function(a){return a&&a.__esModule?a:{default:a}}(i)},{"../logger":42}],39:[function(a,b,c){"use strict";function d(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,saveMissingTo:"fallback",missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(a){return{defaultValue:a[1]}},interpolation:{escapeValue:!0,format:function(a,b,c){return a},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",defaultVariables:void 0}}}function e(a){return"string"==typeof a.ns&&(a.ns=[a.ns]),"string"==typeof a.fallbackLng&&(a.fallbackLng=[a.fallbackLng]),"string"==typeof a.fallbackNS&&(a.fallbackNS=[a.fallbackNS]),a.whitelist&&a.whitelist.indexOf("cimode")<0&&a.whitelist.push("cimode"),a}Object.defineProperty(c,"__esModule",{value:!0}),c.get=d,c.transformOptions=e},{}],40:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){for(var c=Object.getOwnPropertyNames(b),d=0;d<c.length;d++){var e=c[d],f=Object.getOwnPropertyDescriptor(b,e);f&&f.configurable&&void 0===a[e]&&Object.defineProperty(a,e,f)}return a}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):e(a,b))}function i(){}Object.defineProperty(c,"__esModule",{value:!0});var j=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},k=a("./logger"),l=d(k),m=a("./EventEmitter"),n=d(m),o=a("./ResourceStore"),p=d(o),q=a("./Translator"),r=d(q),s=a("./LanguageUtils"),t=d(s),u=a("./PluralResolver"),v=d(u),w=a("./Interpolator"),x=d(w),y=a("./BackendConnector"),z=d(y),A=a("./CacheConnector"),B=d(A),C=a("./defaults"),D=a("./postProcessor"),E=d(D),F=a("./compatibility/v1"),G=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(F),H=function(a){function b(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments[1];f(this,b);var e=g(this,a.call(this));if(e.options=(0,C.transformOptions)(c),e.services={},e.logger=l.default,e.modules={external:[]},d&&!e.isInitialized&&!c.isClone){var h;if(!e.options.initImmediate)return h=e.init(c,d),g(e,h);setTimeout(function(){e.init(c,d)},0)}return e}return h(b,a),b.prototype.init=function(a,b){function c(a){if(a)return"function"==typeof a?new a:a}var d=this;if("function"==typeof a&&(b=a,a={}),a||(a={}),"v1"===a.compatibilityAPI?this.options=j({},(0,C.get)(),(0,C.transformOptions)(G.convertAPIOptions(a)),{}):"v1"===a.compatibilityJSON?this.options=j({},(0,C.get)(),(0,C.transformOptions)(G.convertJSONOptions(a)),{}):this.options=j({},(0,C.get)(),this.options,(0,C.transformOptions)(a)),b||(b=i),!this.options.isClone){this.modules.logger?l.default.init(c(this.modules.logger),this.options):l.default.init(null,this.options);var e=new t.default(this.options);this.store=new p.default(this.options.resources,this.options);var f=this.services;f.logger=l.default,f.resourceStore=this.store,f.resourceStore.on("added removed",function(a,b){f.cacheConnector.save()}),f.languageUtils=e,f.pluralResolver=new v.default(e,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f.interpolator=new x.default(this.options),f.backendConnector=new z.default(c(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),e=1;e<b;e++)c[e-1]=arguments[e];d.emit.apply(d,[a].concat(c))}),f.backendConnector.on("loaded",function(a){f.cacheConnector.save()}),f.cacheConnector=new B.default(c(this.modules.cache),f.resourceStore,f,this.options),f.cacheConnector.on("*",function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),e=1;e<b;e++)c[e-1]=arguments[e];d.emit.apply(d,[a].concat(c))}),this.modules.languageDetector&&(f.languageDetector=c(this.modules.languageDetector),f.languageDetector.init(f,this.options.detection,this.options)),this.translator=new r.default(this.services,this.options),this.translator.on("*",function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),e=1;e<b;e++)c[e-1]=arguments[e];d.emit.apply(d,[a].concat(c))}),this.modules.external.forEach(function(a){a.init&&a.init(d)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(a){d[a]=function(){return this.store[a].apply(this.store,arguments)}}),"v1"===this.options.compatibilityAPI&&G.appendBackwardsAPI(this);var g=function(){d.changeLanguage(d.options.lng,function(a,c){d.isInitialized=!0,d.logger.log("initialized",d.options),d.emit("initialized",d.options),b(a,c)})};return this.options.resources||!this.options.initImmediate?g():setTimeout(g,0),this},b.prototype.loadResources=function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if(this.options.resources)b(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return b();var c=[],d=function(b){if(b){a.services.languageUtils.toResolveHierarchy(b).forEach(function(a){c.indexOf(a)<0&&c.push(a)})}};if(this.language)d(this.language);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(a){return d(a)})}this.options.preload&&this.options.preload.forEach(function(a){return d(a)}),this.services.cacheConnector.load(c,this.options.ns,function(){a.services.backendConnector.load(c,a.options.ns,b)})}},b.prototype.reloadResources=function(a,b){a||(a=this.languages),b||(b=this.options.ns),this.services.backendConnector.reload(a,b)},b.prototype.use=function(a){return"backend"===a.type&&(this.modules.backend=a),"cache"===a.type&&(this.modules.cache=a),("logger"===a.type||a.log&&a.warn&&a.error)&&(this.modules.logger=a),"languageDetector"===a.type&&(this.modules.languageDetector=a),"postProcessor"===a.type&&E.default.addPostProcessor(a),"3rdParty"===a.type&&this.modules.external.push(a),this},b.prototype.changeLanguage=function(a,b){var c=this,d=function(d){a&&(c.emit("languageChanged",a),c.logger.log("languageChanged",a)),b&&b(d,function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];return c.t.apply(c,b)})};!a&&this.services.languageDetector&&(a=this.services.languageDetector.detect()),a&&(this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.translator.changeLanguage(a),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage(a)),this.loadResources(function(a){d(a)})},b.prototype.getFixedT=function(a,b){var c=this,d=function a(b){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=j({},d);return e.lng=e.lng||a.lng,e.ns=e.ns||a.ns,c.t(b,e)};return d.lng=a,d.ns=b,d},b.prototype.t=function(){return this.translator&&this.translator.translate.apply(this.translator,arguments)},b.prototype.exists=function(){return this.translator&&this.translator.exists.apply(this.translator,arguments)},b.prototype.setDefaultNamespace=function(a){this.options.defaultNS=a},b.prototype.loadNamespaces=function(a,b){var c=this;if(!this.options.ns)return b&&b();"string"==typeof a&&(a=[a]),a.forEach(function(a){c.options.ns.indexOf(a)<0&&c.options.ns.push(a)}),this.loadResources(b)},b.prototype.loadLanguages=function(a,b){"string"==typeof a&&(a=[a]);var c=this.options.preload||[],d=a.filter(function(a){return c.indexOf(a)<0});if(!d.length)return b();this.options.preload=c.concat(d),this.loadResources(b)},b.prototype.dir=function(a){return a||(a=this.language),a?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(a))>=0?"rtl":"ltr":"rtl"},b.prototype.createInstance=function(){return new b(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},b.prototype.cloneInstance=function(){var a=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,e=j({},c,this.options,{isClone:!0}),f=new b(e,d);return["store","services","language"].forEach(function(b){f[b]=a[b]}),f.translator=new r.default(f.services,f.options),f.translator.on("*",function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];f.emit.apply(f,[a].concat(c))}),f.init(e,d),f},b}(n.default);c.default=new H},{"./BackendConnector":30,"./CacheConnector":31,"./EventEmitter":32,"./Interpolator":33,"./LanguageUtils":34,"./PluralResolver":35,"./ResourceStore":36,"./Translator":37,"./compatibility/v1":38,"./defaults":39,"./logger":42,"./postProcessor":43}],41:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.use=c.t=c.setDefaultNamespace=c.on=c.off=c.loadResources=c.loadNamespaces=c.loadLanguages=c.init=c.getFixedT=c.exists=c.dir=c.createInstance=c.cloneInstance=c.changeLanguage=void 0;var d=a("./i18next"),e=function(a){return a&&a.__esModule?a:{default:a}}(d);c.default=e.default;c.changeLanguage=e.default.changeLanguage.bind(e.default),c.cloneInstance=e.default.cloneInstance.bind(e.default),c.createInstance=e.default.createInstance.bind(e.default),c.dir=e.default.dir.bind(e.default),c.exists=e.default.exists.bind(e.default),c.getFixedT=e.default.getFixedT.bind(e.default),c.init=e.default.init.bind(e.default),c.loadLanguages=e.default.loadLanguages.bind(e.default),c.loadNamespaces=e.default.loadNamespaces.bind(e.default),c.loadResources=e.default.loadResources.bind(e.default),c.off=e.default.off.bind(e.default),c.on=e.default.on.bind(e.default),c.setDefaultNamespace=e.default.setDefaultNamespace.bind(e.default),c.t=e.default.t.bind(e.default),c.use=e.default.use.bind(e.default)},{"./i18next":40}],42:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f={type:"logger",log:function(a){this._output("log",a)},warn:function(a){this._output("warn",a)},error:function(a){this._output("error",a)},_output:function(a,b){console&&console[a]&&console[a].apply(console,Array.prototype.slice.call(b))}},g=function(){function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d(this,a),this.init(b,c)}return a.prototype.init=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=b.prefix||"i18next:",this.logger=a||f,this.options=b,this.debug=!1!==b.debug},a.prototype.setDebug=function(a){this.debug=a},a.prototype.log=function(){this.forward(arguments,"log","",!0)},a.prototype.warn=function(){this.forward(arguments,"warn","",!0)},a.prototype.error=function(){this.forward(arguments,"error","")},a.prototype.deprecate=function(){this.forward(arguments,"warn","WARNING DEPRECATED: ",!0)},a.prototype.forward=function(a,b,c,d){d&&!this.debug||("string"==typeof a[0]&&(a[0]=c+this.prefix+" "+a[0]),this.logger[b](a))},a.prototype.create=function(b){return new a(this.logger,e({prefix:this.prefix+":"+b+":"},this.options))},a}();c.default=new g},{}],43:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default={processors:{},addPostProcessor:function(a){this.processors[a.name]=a},handle:function(a,b,c,d,e){var f=this;return a.forEach(function(a){f.processors[a]&&(b=f.processors[a].process(b,c,d,e))}),b}}},{}],44:[function(a,b,c){"use strict";function d(a){return null==a?"":""+a}function e(a,b,c){a.forEach(function(a){b[a]&&(c[a]=b[a])})}function f(a,b,c){function d(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}function e(){return!a||"string"==typeof a}for(var f="string"!=typeof b?[].concat(b):b.split(".");f.length>1;){if(e())return{};var g=d(f.shift());!a[g]&&c&&(a[g]=new c),a=a[g]}return e()?{}:{obj:a,k:d(f.shift())}}function g(a,b,c){var d=f(a,b,Object);d.obj[d.k]=c}function h(a,b,c,d){var e=f(a,b,Object),g=e.obj,h=e.k;g[h]=g[h]||[],d&&(g[h]=g[h].concat(c)),d||g[h].push(c)}function i(a,b){var c=f(a,b),d=c.obj,e=c.k;if(d)return d[e]}function j(a,b,c){for(var d in b)d in a?"string"==typeof a[d]||a[d]instanceof String||"string"==typeof b[d]||b[d]instanceof String?c&&(a[d]=b[d]):j(a[d],b[d],c):a[d]=b[d];return a}function k(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function l(a){return"string"==typeof a?a.replace(/[&<>"'\/]/g,function(a){return m[a]}):a}Object.defineProperty(c,"__esModule",{value:!0}),c.makeString=d,c.copy=e,c.setPath=g,c.pushPath=h,c.getPath=i,c.deepExtend=j,c.regexEscape=k,c.escape=l;var m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"}},{}],45:[function(a,b,c){b.exports=a("./dist/commonjs/index.js").default},{"./dist/commonjs/index.js":41}],46:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],47:[function(a,b,c){(function(a){"use strict";function c(){k=!0;for(var a,b,c=l.length;c;){for(b=l,l=[],a=-1;++a<c;)b[a]();c=l.length}k=!1}function d(a){1!==l.push(a)||k||e()}var e,f=a.MutationObserver||a.WebKitMutationObserver;if(f){var g=0,h=new f(c),i=a.document.createTextNode("");h.observe(i,{characterData:!0}),e=function(){i.data=g=++g%2}}else if(a.setImmediate||void 0===a.MessageChannel)e="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var b=a.document.createElement("script");b.onreadystatechange=function(){c(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},a.document.documentElement.appendChild(b)}:function(){setTimeout(c,0)};else{var j=new a.MessageChannel;j.port1.onmessage=c,e=function(){j.port2.postMessage(0)}}var k,l=[];b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],49:[function(a,b,c){function d(a){return!!a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}function e(a){return"function"==typeof a.readFloatLE&&"function"==typeof a.slice&&d(a.slice(0,0))}b.exports=function(a){return null!=a&&(d(a)||e(a)||!!a._isBuffer)}},{}],50:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],51:[function(a,b,c){!function(a,c){"use strict";"object"==typeof b&&"object"==typeof b.exports?b.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return c(a)}:c(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";function c(a,b){b=b||ca;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}function d(a){var b=!!a&&"length"in a&&a.length,c=oa.type(a);return"function"!==c&&!oa.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function e(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function f(a,b,c){return oa.isFunction(b)?oa.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?oa.grep(a,function(a){return a===b!==c}):"string"!=typeof b?oa.grep(a,function(a){return ha.call(b,a)>-1!==c}):va.test(b)?oa.filter(b,a,c):(b=oa.filter(b,a),oa.grep(a,function(a){return ha.call(b,a)>-1!==c&&1===a.nodeType}))}function g(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function h(a){var b={};return oa.each(a.match(Aa)||[],function(a,c){b[c]=!0}),b}function i(a){return a}function j(a){throw a}function k(a,b,c,d){var e;try{a&&oa.isFunction(e=a.promise)?e.call(a).done(b).fail(c):a&&oa.isFunction(e=a.then)?e.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(a){c.apply(void 0,[a])}}function l(){ca.removeEventListener("DOMContentLoaded",l),a.removeEventListener("load",l),oa.ready()}function m(){this.expando=oa.expando+m.uid++}function n(a){return"true"===a||"false"!==a&&("null"===a?null:a===+a+""?+a:Ha.test(a)?JSON.parse(a):a)}function o(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Ia,"-$&").toLowerCase(),"string"==typeof(c=a.getAttribute(d))){try{c=n(c)}catch(a){}Ga.set(a,b,c)}else c=void 0;return c}function p(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return oa.css(a,b,"")
},i=h(),j=c&&c[3]||(oa.cssNumber[b]?"":"px"),k=(oa.cssNumber[b]||"px"!==j&&+i)&&Ka.exec(oa.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do{f=f||".5",k/=f,oa.style(a,b,k+j)}while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function q(a){var b,c=a.ownerDocument,d=a.nodeName,e=Oa[d];return e||(b=c.body.appendChild(c.createElement(d)),e=oa.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),Oa[d]=e,e)}function r(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=Fa.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&Ma(d)&&(e[f]=q(d))):"none"!==c&&(e[f]="none",Fa.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}function s(a,b){var c;return c=void 0!==a.getElementsByTagName?a.getElementsByTagName(b||"*"):void 0!==a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&e(a,b)?oa.merge([a],c):c}function t(a,b){for(var c=0,d=a.length;c<d;c++)Fa.set(a[c],"globalEval",!b||Fa.get(b[c],"globalEval"))}function u(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;n<o;n++)if((f=a[n])||0===f)if("object"===oa.type(f))oa.merge(m,f.nodeType?[f]:f);else if(Ta.test(f)){for(g=g||l.appendChild(b.createElement("div")),h=(Qa.exec(f)||["",""])[1].toLowerCase(),i=Sa[h]||Sa._default,g.innerHTML=i[1]+oa.htmlPrefilter(f)+i[2],k=i[0];k--;)g=g.lastChild;oa.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));for(l.textContent="",n=0;f=m[n++];)if(d&&oa.inArray(f,d)>-1)e&&e.push(f);else if(j=oa.contains(f.ownerDocument,f),g=s(l.appendChild(f),"script"),j&&t(g),c)for(k=0;f=g[k++];)Ra.test(f.type||"")&&c.push(f);return l}function v(){return!0}function w(){return!1}function x(){try{return ca.activeElement}catch(a){}}function y(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)y(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),!1===e)e=w;else if(!e)return a;return 1===f&&(g=e,e=function(a){return oa().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=oa.guid++)),a.each(function(){oa.event.add(this,b,e,d,c)})}function z(a,b){return e(a,"table")&&e(11!==b.nodeType?b:b.firstChild,"tr")?oa(">tbody",a)[0]||a:a}function A(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function B(a){var b=$a.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function C(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(Fa.hasData(a)&&(f=Fa.access(a),g=Fa.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)oa.event.add(b,e,j[e][c])}Ga.hasData(a)&&(h=Ga.access(a),i=oa.extend({},h),Ga.set(b,i))}}function D(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Pa.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function E(a,b,d,e){b=fa.apply([],b);var f,g,h,i,j,k,l=0,m=a.length,n=m-1,o=b[0],p=oa.isFunction(o);if(p||m>1&&"string"==typeof o&&!na.checkClone&&Za.test(o))return a.each(function(c){var f=a.eq(c);p&&(b[0]=o.call(this,c,f.html())),E(f,b,d,e)});if(m&&(f=u(b,a[0].ownerDocument,!1,a,e),g=f.firstChild,1===f.childNodes.length&&(f=g),g||e)){for(h=oa.map(s(f,"script"),A),i=h.length;l<m;l++)j=f,l!==n&&(j=oa.clone(j,!0,!0),i&&oa.merge(h,s(j,"script"))),d.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,oa.map(h,B),l=0;l<i;l++)j=h[l],Ra.test(j.type||"")&&!Fa.access(j,"globalEval")&&oa.contains(k,j)&&(j.src?oa._evalUrl&&oa._evalUrl(j.src):c(j.textContent.replace(_a,""),k))}return a}function F(a,b,c){for(var d,e=b?oa.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||oa.cleanData(s(d)),d.parentNode&&(c&&oa.contains(d.ownerDocument,d)&&t(s(d,"script")),d.parentNode.removeChild(d));return a}function G(a,b,c){var d,e,f,g,h=a.style;return c=c||cb(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||oa.contains(a.ownerDocument,a)||(g=oa.style(a,b)),!na.pixelMarginRight()&&bb.test(g)&&ab.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function H(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function I(a){if(a in ib)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=hb.length;c--;)if((a=hb[c]+b)in ib)return a}function J(a){var b=oa.cssProps[a];return b||(b=oa.cssProps[a]=I(a)||a),b}function K(a,b,c){var d=Ka.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function L(a,b,c,d,e){var f,g=0;for(f=c===(d?"border":"content")?4:"width"===b?1:0;f<4;f+=2)"margin"===c&&(g+=oa.css(a,c+La[f],!0,e)),d?("content"===c&&(g-=oa.css(a,"padding"+La[f],!0,e)),"margin"!==c&&(g-=oa.css(a,"border"+La[f]+"Width",!0,e))):(g+=oa.css(a,"padding"+La[f],!0,e),"padding"!==c&&(g+=oa.css(a,"border"+La[f]+"Width",!0,e)));return g}function M(a,b,c){var d,e=cb(a),f=G(a,b,e),g="border-box"===oa.css(a,"boxSizing",!1,e);return bb.test(f)?f:(d=g&&(na.boxSizingReliable()||f===a.style[b]),"auto"===f&&(f=a["offset"+b[0].toUpperCase()+b.slice(1)]),(f=parseFloat(f)||0)+L(a,b,c||(g?"border":"content"),d,e)+"px")}function N(a,b,c,d,e){return new N.prototype.init(a,b,c,d,e)}function O(){kb&&(!1===ca.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(O):a.setTimeout(O,oa.fx.interval),oa.fx.tick())}function P(){return a.setTimeout(function(){jb=void 0}),jb=oa.now()}function Q(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=La[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function R(a,b,c){for(var d,e=(U.tweeners[b]||[]).concat(U.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function S(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&Ma(a),q=Fa.get(a,"fxshow");c.queue||(g=oa._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,oa.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],lb.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||oa.style(a,d)}if((i=!oa.isEmptyObject(b))||!oa.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=Fa.get(a,"display")),k=oa.css(a,"display"),"none"===k&&(j?k=j:(r([a],!0),j=a.style.display||j,k=oa.css(a,"display"),r([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===oa.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=Fa.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&r([a],!0),m.done(function(){p||r([a]),Fa.remove(a,"fxshow");for(d in n)oa.style(a,d,n[d])})),i=R(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function T(a,b){var c,d,e,f,g;for(c in a)if(d=oa.camelCase(c),e=b[d],f=a[c],Array.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=oa.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function U(a,b,c){var d,e,f=0,g=U.prefilters.length,h=oa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=jb||P(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(i||h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:oa.extend({},b),opts:oa.extend(!0,{specialEasing:{},easing:oa.easing._default},c),originalProperties:b,originalOptions:c,startTime:jb||P(),duration:c.duration,tweens:[],createTween:function(b,c){var d=oa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(T(k,j.opts.specialEasing);f<g;f++)if(d=U.prefilters[f].call(j,a,k,j.opts))return oa.isFunction(d.stop)&&(oa._queueHooks(j.elem,j.opts.queue).stop=oa.proxy(d.stop,d)),d;return oa.map(k,R,j),oa.isFunction(j.opts.start)&&j.opts.start.call(a,j),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always),oa.fx.timer(oa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j}function V(a){return(a.match(Aa)||[]).join(" ")}function W(a){return a.getAttribute&&a.getAttribute("class")||""}function X(a,b,c,d){var e;if(Array.isArray(b))oa.each(b,function(b,e){c||vb.test(a)?d(a,e):X(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==oa.type(b))d(a,b);else for(e in b)X(a+"["+e+"]",b[e],c,d)}function Y(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(Aa)||[];if(oa.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Z(a,b,c,d){function e(h){var i;return f[h]=!0,oa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Cb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function $(a,b){var c,d,e=oa.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&oa.extend(!0,a,d),a}function _(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function aa(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}var ba=[],ca=a.document,da=Object.getPrototypeOf,ea=ba.slice,fa=ba.concat,ga=ba.push,ha=ba.indexOf,ia={},ja=ia.toString,ka=ia.hasOwnProperty,la=ka.toString,ma=la.call(Object),na={},oa=function(a,b){return new oa.fn.init(a,b)},pa=function(a,b){return b.toUpperCase()};oa.fn=oa.prototype={jquery:"3.2.1",constructor:oa,length:0,toArray:function(){return ea.call(this)},get:function(a){return null==a?ea.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=oa.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return oa.each(this,a)},map:function(a){return this.pushStack(oa.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ea.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:ga,sort:ba.sort,splice:ba.splice},oa.extend=oa.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||oa.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(oa.isPlainObject(d)||(e=Array.isArray(d)))?(e?(e=!1,f=c&&Array.isArray(c)?c:[]):f=c&&oa.isPlainObject(c)?c:{},g[b]=oa.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},oa.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===oa.type(a)},isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=oa.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==ja.call(a))&&(!(b=da(a))||"function"==typeof(c=ka.call(b,"constructor")&&b.constructor)&&la.call(c)===ma)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ia[ja.call(a)]||"object":typeof a},globalEval:function(a){c(a)},camelCase:function(a){return a.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,pa)},each:function(a,b){var c,e=0;if(d(a))for(c=a.length;e<c&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},trim:function(a){return null==a?"":(a+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(d(Object(a))?oa.merge(c,"string"==typeof a?[a]:a):ga.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:ha.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d=[],e=0,f=a.length,g=!c;e<f;e++)!b(a[e],e)!==g&&d.push(a[e]);return d},map:function(a,b,c){var e,f,g=0,h=[];if(d(a))for(e=a.length;g<e;g++)null!=(f=b(a[g],g,c))&&h.push(f);else for(g in a)null!=(f=b(a[g],g,c))&&h.push(f);return fa.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),oa.isFunction(a))return d=ea.call(arguments,2),e=function(){return a.apply(b||this,d.concat(ea.call(arguments)))},e.guid=a.guid=a.guid||oa.guid++,e},now:Date.now,support:na}),"function"==typeof Symbol&&(oa.fn[Symbol.iterator]=ba[Symbol.iterator]),oa.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){ia["[object "+b+"]"]=b.toLowerCase()});var qa=function(a){function b(a,b,c,d){var e,f,g,h,i,k,m,n=b&&b.ownerDocument,o=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==o&&9!==o&&11!==o)return c;if(!d&&((b?b.ownerDocument||b:N)!==F&&E(b),b=b||F,H)){if(11!==o&&(i=pa.exec(a)))if(e=i[1]){if(9===o){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(n&&(g=n.getElementById(e))&&L(b,g)&&g.id===e)return c.push(g),c}else{if(i[2])return Y.apply(c,b.getElementsByTagName(a)),c;if((e=i[3])&&u.getElementsByClassName&&b.getElementsByClassName)return Y.apply(c,b.getElementsByClassName(e)),c}if(u.qsa&&!S[a+" "]&&(!I||!I.test(a))){if(1!==o)n=b,m=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(ta,ua):b.setAttribute("id",h=M),k=y(a),f=k.length;f--;)k[f]="#"+h+" "+l(k[f]);m=k.join(","),n=qa.test(a)&&j(b.parentNode)||b}if(m)try{return Y.apply(c,n.querySelectorAll(m)),c}catch(a){}finally{h===M&&b.removeAttribute("id")}}}return A(a.replace(fa,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>v.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[M]=!0,a}function e(a){var b=F.createElement("fieldset");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)v.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&wa(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function i(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function j(a){return a&&void 0!==a.getElementsByTagName&&a}function k(){}function l(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function m(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=P++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[O,h];if(i){for(;b=b[d];)if((1===b.nodeType||g)&&a(b,c,i))return!0}else for(;b=b[d];)if(1===b.nodeType||g)if(l=b[M]||(b[M]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===O&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function n(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function o(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function p(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function q(a,b,c,e,f,g){return e&&!e[M]&&(e=q(e)),f&&!f[M]&&(f=q(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],q=g.length,r=d||o(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:p(r,m,a,h,i),t=c?f||(d?a:q||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=p(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?$(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=p(t===g?t.splice(q,t.length):t),f?f(null,g,t,i):Y.apply(g,t)})}function r(a){for(var b,c,d,e=a.length,f=v.relative[a[0].type],g=f||v.relative[" "],h=f?1:0,i=m(function(a){return a===b},g,!0),j=m(function(a){return $(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==B)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=v.relative[a[h].type])k=[m(n(k),c)];else{if(c=v.filter[a[h].type].apply(null,a[h].matches),c[M]){for(d=++h;d<e&&!v.relative[a[d].type];d++);return q(h>1&&n(k),h>1&&l(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(fa,"$1"),c,h<d&&r(a.slice(h,d)),d<e&&r(a=a.slice(d)),d<e&&l(a))}k.push(c)}return n(k)}function s(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",q=d&&[],r=[],s=B,t=d||f&&v.find.TAG("*",j),u=O+=null==s?1:Math.random()||.1,w=t.length;for(j&&(B=g===F||g||j);o!==w&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===F||(E(k),h=!H);m=a[l++];)if(m(k,g||F,h)){i.push(k);break}j&&(O=u)}e&&((k=!m&&k)&&n--,d&&q.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(q,r,g,h);if(d){if(n>0)for(;o--;)q[o]||r[o]||(r[o]=W.call(i));r=p(r)}Y.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(O=u,B=s),q};return e?d(g):g}var t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M="sizzle"+1*new Date,N=a.document,O=0,P=0,Q=c(),R=c(),S=c(),T=function(a,b){return a===b&&(D=!0),0},U={}.hasOwnProperty,V=[],W=V.pop,X=V.push,Y=V.push,Z=V.slice,$=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},_="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",aa="[\\x20\\t\\r\\n\\f]",ba="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ca="\\["+aa+"*("+ba+")(?:"+aa+"*([*^$|!~]?=)"+aa+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ba+"))|)"+aa+"*\\]",da=":("+ba+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ca+")*)|.*)\\)|)",ea=new RegExp(aa+"+","g"),fa=new RegExp("^"+aa+"+|((?:^|[^\\\\])(?:\\\\.)*)"+aa+"+$","g"),ga=new RegExp("^"+aa+"*,"+aa+"*"),ha=new RegExp("^"+aa+"*([>+~]|"+aa+")"+aa+"*"),ia=new RegExp("="+aa+"*([^\\]'\"]*?)"+aa+"*\\]","g"),ja=new RegExp(da),ka=new RegExp("^"+ba+"$"),la={ID:new RegExp("^#("+ba+")"),CLASS:new RegExp("^\\.("+ba+")"),TAG:new RegExp("^("+ba+"|[*])"),ATTR:new RegExp("^"+ca),PSEUDO:new RegExp("^"+da),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+aa+"*(even|odd|(([+-]|)(\\d*)n|)"+aa+"*(?:([+-]|)"+aa+"*(\\d+)|))"+aa+"*\\)|)","i"),bool:new RegExp("^(?:"+_+")$","i"),needsContext:new RegExp("^"+aa+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+aa+"*((?:-\\d)?\\d*)"+aa+"*\\)|)(?=[^-]|$)","i")},ma=/^(?:input|select|textarea|button)$/i,na=/^h\d$/i,oa=/^[^{]+\{\s*\[native \w/,pa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qa=/[+~]/,ra=new RegExp("\\\\([\\da-f]{1,6}"+aa+"?|("+aa+")|.)","ig"),sa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ta=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ua=function(a,b){return b?"\0"===a?"":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},va=function(){E()},wa=m(function(a){return!0===a.disabled&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{Y.apply(V=Z.call(N.childNodes),N.childNodes),V[N.childNodes.length].nodeType}catch(a){Y={apply:V.length?function(a,b){X.apply(a,Z.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}u=b.support={},x=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},E=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:N;return d!==F&&9===d.nodeType&&d.documentElement?(F=d,G=F.documentElement,H=!x(F),N!==F&&(c=F.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",va,!1):c.attachEvent&&c.attachEvent("onunload",va)),u.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),u.getElementsByTagName=e(function(a){return a.appendChild(F.createComment("")),!a.getElementsByTagName("*").length}),u.getElementsByClassName=oa.test(F.getElementsByClassName),u.getById=e(function(a){return G.appendChild(a).id=M,!F.getElementsByName||!F.getElementsByName(M).length}),u.getById?(v.filter.ID=function(a){var b=a.replace(ra,sa);return function(a){return a.getAttribute("id")===b}},v.find.ID=function(a,b){if(void 0!==b.getElementById&&H){var c=b.getElementById(a);return c?[c]:[]}}):(v.filter.ID=function(a){var b=a.replace(ra,sa);return function(a){var c=void 0!==a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},v.find.ID=function(a,b){if(void 0!==b.getElementById&&H){var c,d,e,f=b.getElementById(a);if(f){if((c=f.getAttributeNode("id"))&&c.value===a)return[f];for(e=b.getElementsByName(a),d=0;f=e[d++];)if((c=f.getAttributeNode("id"))&&c.value===a)return[f]}return[]}}),v.find.TAG=u.getElementsByTagName?function(a,b){return void 0!==b.getElementsByTagName?b.getElementsByTagName(a):u.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},v.find.CLASS=u.getElementsByClassName&&function(a,b){if(void 0!==b.getElementsByClassName&&H)return b.getElementsByClassName(a)},J=[],I=[],(u.qsa=oa.test(F.querySelectorAll))&&(e(function(a){G.appendChild(a).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+aa+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||I.push("\\["+aa+"*(?:value|"+_+")"),a.querySelectorAll("[id~="+M+"-]").length||I.push("~="),a.querySelectorAll(":checked").length||I.push(":checked"),a.querySelectorAll("a#"+M+"+*").length||I.push(".#.+[+~]")}),e(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=F.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&I.push("name"+aa+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&I.push(":enabled",":disabled"),G.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&I.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),I.push(",.*:")})),(u.matchesSelector=oa.test(K=G.matches||G.webkitMatchesSelector||G.mozMatchesSelector||G.oMatchesSelector||G.msMatchesSelector))&&e(function(a){u.disconnectedMatch=K.call(a,"*"),K.call(a,"[s!='']:x"),J.push("!=",da)}),I=I.length&&new RegExp(I.join("|")),J=J.length&&new RegExp(J.join("|")),b=oa.test(G.compareDocumentPosition),L=b||oa.test(G.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},T=b?function(a,b){if(a===b)return D=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c||(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!u.sortDetached&&b.compareDocumentPosition(a)===c?a===F||a.ownerDocument===N&&L(N,a)?-1:b===F||b.ownerDocument===N&&L(N,b)?1:C?$(C,a)-$(C,b):0:4&c?-1:1)}:function(a,b){if(a===b)return D=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===F?-1:b===F?1:e?-1:f?1:C?$(C,a)-$(C,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===N?-1:i[d]===N?1:0},F):F},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==F&&E(a),c=c.replace(ia,"='$1']"),u.matchesSelector&&H&&!S[c+" "]&&(!J||!J.test(c))&&(!I||!I.test(c)))try{var d=K.call(a,c);if(d||u.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return b(c,F,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==F&&E(a),L(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==F&&E(a);var c=v.attrHandle[b.toLowerCase()],d=c&&U.call(v.attrHandle,b.toLowerCase())?c(a,b,!H):void 0;return void 0!==d?d:u.attributes||!H?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.escape=function(a){return(a+"").replace(ta,ua)},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(D=!u.detectDuplicates,C=!u.sortStable&&a.slice(0),a.sort(T),D){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return C=null,a},w=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=w(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=w(b);return c},v=b.selectors={cacheLength:50,createPseudo:d,match:la,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ra,sa),a[3]=(a[3]||a[4]||a[5]||"").replace(ra,sa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return la.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ja.test(c)&&(b=y(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ra,sa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=Q[a+" "];return b||(b=new RegExp("(^|"+aa+")"+a+"("+aa+"|$)"))&&Q(a,function(a){return b.test("string"==typeof a.className&&a.className||void 0!==a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ea," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[M]||(m[M]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===O&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[O,n,t];break}}else if(s&&(m=b,l=m[M]||(m[M]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===O&&j[1],t=n),!1===t)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[M]||(m[M]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[O,t]),m!==b)););return(t-=e)===d||t%d==0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=v.pseudos[a]||v.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[M]?f(c):f.length>1?(e=[a,a,"",c],v.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=$(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=z(a.replace(fa,"$1"));return e[M]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(ra,sa),function(b){return(b.textContent||b.innerText||w(b)).indexOf(a)>-1}}),lang:d(function(a){return ka.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ra,sa).toLowerCase(),function(b){var c;do{if(c=H?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===G},focus:function(a){return a===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:h(!1),disabled:h(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!v.pseudos.empty(a)},header:function(a){return na.test(a.nodeName)},input:function(a){return ma.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:i(function(){return[0]}),last:i(function(a,b){return[b-1]}),eq:i(function(a,b,c){return[c<0?c+b:c]}),even:i(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:i(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:i(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:i(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},v.pseudos.nth=v.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[t]=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}(t);for(t in{submit:!0,reset:!0})v.pseudos[t]=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}(t);return k.prototype=v.filters=v.pseudos,v.setFilters=new k,y=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=R[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=v.preFilter;h;){d&&!(e=ga.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ha.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(fa," ")}),h=h.slice(d.length));for(g in v.filter)!(e=la[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):R(a,i).slice(0)},z=b.compile=function(a,b){var c,d=[],e=[],f=S[a+" "];if(!f){
for(b||(b=y(a)),c=b.length;c--;)f=r(b[c]),f[M]?d.push(f):e.push(f);f=S(a,s(e,d)),f.selector=a}return f},A=b.select=function(a,b,c,d){var e,f,g,h,i,k="function"==typeof a&&a,m=!d&&y(a=k.selector||a);if(c=c||[],1===m.length){if(f=m[0]=m[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&9===b.nodeType&&H&&v.relative[f[1].type]){if(!(b=(v.find.ID(g.matches[0].replace(ra,sa),b)||[])[0]))return c;k&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=la.needsContext.test(a)?0:f.length;e--&&(g=f[e],!v.relative[h=g.type]);)if((i=v.find[h])&&(d=i(g.matches[0].replace(ra,sa),qa.test(f[0].type)&&j(b.parentNode)||b))){if(f.splice(e,1),!(a=d.length&&l(f)))return Y.apply(c,d),c;break}}return(k||z(a,m))(d,b,!H,c,!b||qa.test(a)&&j(b.parentNode)||b),c},u.sortStable=M.split("").sort(T).join("")===M,u.detectDuplicates=!!D,E(),u.sortDetached=e(function(a){return 1&a.compareDocumentPosition(F.createElement("fieldset"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),u.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(_,function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);oa.find=qa,oa.expr=qa.selectors,oa.expr[":"]=oa.expr.pseudos,oa.uniqueSort=oa.unique=qa.uniqueSort,oa.text=qa.getText,oa.isXMLDoc=qa.isXML,oa.contains=qa.contains,oa.escapeSelector=qa.escape;var ra=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&oa(a).is(c))break;d.push(a)}return d},sa=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},ta=oa.expr.match.needsContext,ua=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,va=/^.[^:#\[\.,]*$/;oa.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?oa.find.matchesSelector(d,a)?[d]:[]:oa.find.matches(a,oa.grep(b,function(a){return 1===a.nodeType}))},oa.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(oa(a).filter(function(){for(b=0;b<d;b++)if(oa.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)oa.find(a,e[b],c);return d>1?oa.uniqueSort(c):c},filter:function(a){return this.pushStack(f(this,a||[],!1))},not:function(a){return this.pushStack(f(this,a||[],!0))},is:function(a){return!!f(this,"string"==typeof a&&ta.test(a)?oa(a):a||[],!1).length}});var wa,xa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(oa.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||wa,"string"==typeof a){if(!(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:xa.exec(a))||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof oa?b[0]:b,oa.merge(this,oa.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:ca,!0)),ua.test(d[1])&&oa.isPlainObject(b))for(d in b)oa.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return e=ca.getElementById(d[2]),e&&(this[0]=e,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):oa.isFunction(a)?void 0!==c.ready?c.ready(a):a(oa):oa.makeArray(a,this)}).prototype=oa.fn,wa=oa(ca);var ya=/^(?:parents|prev(?:Until|All))/,za={children:!0,contents:!0,next:!0,prev:!0};oa.fn.extend({has:function(a){var b=oa(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(oa.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&oa(a);if(!ta.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&oa.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?oa.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?ha.call(oa(a),this[0]):ha.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(oa.uniqueSort(oa.merge(this.get(),oa(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),oa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ra(a,"parentNode")},parentsUntil:function(a,b,c){return ra(a,"parentNode",c)},next:function(a){return g(a,"nextSibling")},prev:function(a){return g(a,"previousSibling")},nextAll:function(a){return ra(a,"nextSibling")},prevAll:function(a){return ra(a,"previousSibling")},nextUntil:function(a,b,c){return ra(a,"nextSibling",c)},prevUntil:function(a,b,c){return ra(a,"previousSibling",c)},siblings:function(a){return sa((a.parentNode||{}).firstChild,a)},children:function(a){return sa(a.firstChild)},contents:function(a){return e(a,"iframe")?a.contentDocument:(e(a,"template")&&(a=a.content||a),oa.merge([],a.childNodes))}},function(a,b){oa.fn[a]=function(c,d){var e=oa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=oa.filter(d,e)),this.length>1&&(za[a]||oa.uniqueSort(e),ya.test(a)&&e.reverse()),this.pushStack(e)}});var Aa=/[^\x20\t\r\n\f]+/g;oa.Callbacks=function(a){a="string"==typeof a?h(a):oa.extend({},a);var b,c,d,e,f=[],g=[],i=-1,j=function(){for(e=e||a.once,d=b=!0;g.length;i=-1)for(c=g.shift();++i<f.length;)!1===f[i].apply(c[0],c[1])&&a.stopOnFalse&&(i=f.length,c=!1);a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},k={add:function(){return f&&(c&&!b&&(i=f.length-1,g.push(c)),function b(c){oa.each(c,function(c,d){oa.isFunction(d)?a.unique&&k.has(d)||f.push(d):d&&d.length&&"string"!==oa.type(d)&&b(d)})}(arguments),c&&!b&&j()),this},remove:function(){return oa.each(arguments,function(a,b){for(var c;(c=oa.inArray(b,f,c))>-1;)f.splice(c,1),c<=i&&i--}),this},has:function(a){return a?oa.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||j()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},oa.extend({Deferred:function(b){var c=[["notify","progress",oa.Callbacks("memory"),oa.Callbacks("memory"),2],["resolve","done",oa.Callbacks("once memory"),oa.Callbacks("once memory"),0,"resolved"],["reject","fail",oa.Callbacks("once memory"),oa.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},catch:function(a){return e.then(null,a)},pipe:function(){var a=arguments;return oa.Deferred(function(b){oa.each(c,function(c,d){var e=oa.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&oa.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){function f(b,c,d,e){return function(){var h=this,k=arguments,l=function(){var a,l;if(!(b<g)){if((a=d.apply(h,k))===c.promise())throw new TypeError("Thenable self-resolution");l=a&&("object"==typeof a||"function"==typeof a)&&a.then,oa.isFunction(l)?e?l.call(a,f(g,c,i,e),f(g,c,j,e)):(g++,l.call(a,f(g,c,i,e),f(g,c,j,e),f(g,c,i,c.notifyWith))):(d!==i&&(h=void 0,k=[a]),(e||c.resolveWith)(h,k))}},m=e?l:function(){try{l()}catch(a){oa.Deferred.exceptionHook&&oa.Deferred.exceptionHook(a,m.stackTrace),b+1>=g&&(d!==j&&(h=void 0,k=[a]),c.rejectWith(h,k))}};b?m():(oa.Deferred.getStackHook&&(m.stackTrace=oa.Deferred.getStackHook()),a.setTimeout(m))}}var g=0;return oa.Deferred(function(a){c[0][3].add(f(0,a,oa.isFunction(e)?e:i,a.notifyWith)),c[1][3].add(f(0,a,oa.isFunction(b)?b:i)),c[2][3].add(f(0,a,oa.isFunction(d)?d:j))}).promise()},promise:function(a){return null!=a?oa.extend(a,e):e}},f={};return oa.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=ea.call(arguments),f=oa.Deferred(),g=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?ea.call(arguments):c,--b||f.resolveWith(d,e)}};if(b<=1&&(k(a,f.done(g(c)).resolve,f.reject,!b),"pending"===f.state()||oa.isFunction(e[c]&&e[c].then)))return f.then();for(;c--;)k(e[c],g(c),f.reject);return f.promise()}});var Ba=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;oa.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&Ba.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},oa.readyException=function(b){a.setTimeout(function(){throw b})};var Ca=oa.Deferred();oa.fn.ready=function(a){return Ca.then(a).catch(function(a){oa.readyException(a)}),this},oa.extend({isReady:!1,readyWait:1,ready:function(a){(!0===a?--oa.readyWait:oa.isReady)||(oa.isReady=!0,!0!==a&&--oa.readyWait>0||Ca.resolveWith(ca,[oa]))}}),oa.ready.then=Ca.then,"complete"===ca.readyState||"loading"!==ca.readyState&&!ca.documentElement.doScroll?a.setTimeout(oa.ready):(ca.addEventListener("DOMContentLoaded",l),a.addEventListener("load",l));var Da=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===oa.type(c)){e=!0;for(h in c)Da(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,oa.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(oa(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Ea=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};m.uid=1,m.prototype={cache:function(a){var b=a[this.expando];return b||(b={},Ea(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[oa.camelCase(b)]=c;else for(d in b)e[oa.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][oa.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){Array.isArray(b)?b=b.map(oa.camelCase):(b=oa.camelCase(b),b=b in d?[b]:b.match(Aa)||[]),c=b.length;for(;c--;)delete d[b[c]]}(void 0===b||oa.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!oa.isEmptyObject(b)}};var Fa=new m,Ga=new m,Ha=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ia=/[A-Z]/g;oa.extend({hasData:function(a){return Ga.hasData(a)||Fa.hasData(a)},data:function(a,b,c){return Ga.access(a,b,c)},removeData:function(a,b){Ga.remove(a,b)},_data:function(a,b,c){return Fa.access(a,b,c)},_removeData:function(a,b){Fa.remove(a,b)}}),oa.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=Ga.get(f),1===f.nodeType&&!Fa.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=oa.camelCase(d.slice(5)),o(f,d,e[d])));Fa.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){Ga.set(this,a)}):Da(this,function(b){var c;if(f&&void 0===b){if(void 0!==(c=Ga.get(f,a)))return c;if(void 0!==(c=o(f,a)))return c}else this.each(function(){Ga.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){Ga.remove(this,a)})}}),oa.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=Fa.get(a,b),c&&(!d||Array.isArray(c)?d=Fa.access(a,b,oa.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=oa.queue(a,b),d=c.length,e=c.shift(),f=oa._queueHooks(a,b),g=function(){oa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return Fa.get(a,c)||Fa.access(a,c,{empty:oa.Callbacks("once memory").add(function(){Fa.remove(a,[b+"queue",c])})})}}),oa.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?oa.queue(this[0],a):void 0===b?this:this.each(function(){var c=oa.queue(this,a,b);oa._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&oa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){oa.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=oa.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=Fa.get(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Ja=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ka=new RegExp("^(?:([+-])=|)("+Ja+")([a-z%]*)$","i"),La=["Top","Right","Bottom","Left"],Ma=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&oa.contains(a.ownerDocument,a)&&"none"===oa.css(a,"display")},Na=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Oa={};oa.fn.extend({show:function(){return r(this,!0)},hide:function(){return r(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ma(this)?oa(this).show():oa(this).hide()})}});var Pa=/^(?:checkbox|radio)$/i,Qa=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ra=/^$|\/(?:java|ecma)script/i,Sa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Sa.optgroup=Sa.option,Sa.tbody=Sa.tfoot=Sa.colgroup=Sa.caption=Sa.thead,Sa.th=Sa.td;var Ta=/<|&#?\w+;/;!function(){var a=ca.createDocumentFragment(),b=a.appendChild(ca.createElement("div")),c=ca.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),na.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",na.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var Ua=ca.documentElement,Va=/^key/,Wa=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xa=/^([^.]*)(?:\.(.+)|)/;oa.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Fa.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),e&&oa.find.matchesSelector(Ua,e),c.guid||(c.guid=oa.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return void 0!==oa&&oa.event.triggered!==b.type?oa.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(Aa)||[""],j=b.length;j--;)h=Xa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=oa.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=oa.event.special[n]||{},k=oa.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&oa.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&!1!==l.setup.call(a,d,o,g)||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),oa.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Fa.hasData(a)&&Fa.get(a);if(q&&(i=q.events)){for(b=(b||"").match(Aa)||[""],j=b.length;j--;)if(h=Xa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=oa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,o,q.handle)||oa.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)oa.event.remove(a,n+b[j],c,d,!0);oa.isEmptyObject(i)&&Fa.remove(a,"handle events")}},dispatch:function(a){var b,c,d,e,f,g,h=oa.event.fix(a),i=new Array(arguments.length),j=(Fa.get(this,"events")||{})[h.type]||[],k=oa.event.special[h.type]||{};for(i[0]=h,b=1;b<arguments.length;b++)i[b]=arguments[b];if(h.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,h)){for(g=oa.event.handlers.call(this,h,j),b=0;(e=g[b++])&&!h.isPropagationStopped();)for(h.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!h.isImmediatePropagationStopped();)h.rnamespace&&!h.rnamespace.test(f.namespace)||(h.handleObj=f,h.data=f.data,void 0!==(d=((oa.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,i))&&!1===(h.result=d)&&(h.preventDefault(),h.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,h),h.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||!0!==j.disabled)){for(f=[],g={},c=0;c<i;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?oa(e,this).index(j)>-1:oa.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(oa.Event.prototype,a,{enumerable:!0,configurable:!0,get:oa.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[oa.expando]?a:new oa.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==x()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===x()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&e(this,"input"))return this.click(),!1},_default:function(a){return e(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},oa.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},oa.Event=function(a,b){if(!(this instanceof oa.Event))return new oa.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?v:w,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&oa.extend(this,b),this.timeStamp=a&&a.timeStamp||oa.now(),this[oa.expando]=!0},oa.Event.prototype={constructor:oa.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=v,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=v,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=v,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},oa.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&Va.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&Wa.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},oa.event.addProp),oa.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){oa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||oa.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),oa.fn.extend({on:function(a,b,c,d){return y(this,a,b,c,d)},one:function(a,b,c,d){return y(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,oa(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=w),this.each(function(){oa.event.remove(this,a,c,b)})}});var Ya=/<script|<style|<link/i,Za=/checked\s*(?:[^=]|=\s*.checked.)/i,$a=/^true\/(.*)/,_a=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;oa.extend({htmlPrefilter:function(a){return a.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=oa.contains(a.ownerDocument,a);if(!(na.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||oa.isXMLDoc(a)))for(g=s(h),f=s(a),d=0,e=f.length;d<e;d++)D(f[d],g[d]);if(b)if(c)for(f=f||s(a),g=g||s(h),d=0,e=f.length;d<e;d++)C(f[d],g[d]);else C(a,h);return g=s(h,"script"),g.length>0&&t(g,!i&&s(a,"script")),h},cleanData:function(a){for(var b,c,d,e=oa.event.special,f=0;void 0!==(c=a[f]);f++)if(Ea(c)){if(b=c[Fa.expando]){if(b.events)for(d in b.events)e[d]?oa.event.remove(c,d):oa.removeEvent(c,d,b.handle);c[Fa.expando]=void 0}c[Ga.expando]&&(c[Ga.expando]=void 0)}}}),oa.fn.extend({detach:function(a){return F(this,a,!0)},remove:function(a){return F(this,a)},text:function(a){return Da(this,function(a){return void 0===a?oa.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return E(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){z(this,a).appendChild(a)}})},prepend:function(){return E(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=z(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return E(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return E(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(oa.cleanData(s(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return oa.clone(this,a,b)})},html:function(a){return Da(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Ya.test(a)&&!Sa[(Qa.exec(a)||["",""])[1].toLowerCase()]){a=oa.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(oa.cleanData(s(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return E(this,arguments,function(b){var c=this.parentNode;oa.inArray(this,a)<0&&(oa.cleanData(s(this)),c&&c.replaceChild(b,this))},a)}}),oa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){oa.fn[a]=function(a){for(var c,d=[],e=oa(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),oa(e[g])[b](c),ga.apply(d,c.get());return this.pushStack(d)}});var ab=/^margin/,bb=new RegExp("^("+Ja+")(?!px)[a-z%]+$","i"),cb=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(h){h.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ua.appendChild(g);var b=a.getComputedStyle(h);c="1%"!==b.top,f="2px"===b.marginLeft,d="4px"===b.width,h.style.marginRight="50%",e="4px"===b.marginRight,Ua.removeChild(g),h=null}}var c,d,e,f,g=ca.createElement("div"),h=ca.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",na.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),oa.extend(na,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),d},pixelMarginRight:function(){return b(),e},reliableMarginLeft:function(){return b(),f}}))}();var db=/^(none|table(?!-c[ea]).+)/,eb=/^--/,fb={position:"absolute",visibility:"hidden",display:"block"},gb={letterSpacing:"0",fontWeight:"400"},hb=["Webkit","Moz","ms"],ib=ca.createElement("div").style;oa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=G(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=oa.camelCase(b),i=eb.test(b),j=a.style;if(i||(b=J(h)),g=oa.cssHooks[b]||oa.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:j[b];f=typeof c,"string"===f&&(e=Ka.exec(c))&&e[1]&&(c=p(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(oa.cssNumber[h]?"":"px")),na.clearCloneStyle||""!==c||0!==b.indexOf("background")||(j[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i?j.setProperty(b,c):j[b]=c))}},css:function(a,b,c,d){var e,f,g,h=oa.camelCase(b);return eb.test(b)||(b=J(h)),g=oa.cssHooks[b]||oa.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=G(a,b,d)),"normal"===e&&b in gb&&(e=gb[b]),""===c||c?(f=parseFloat(e),!0===c||isFinite(f)?f||0:e):e}}),oa.each(["height","width"],function(a,b){oa.cssHooks[b]={get:function(a,c,d){if(c)return!db.test(oa.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?M(a,b,d):Na(a,fb,function(){return M(a,b,d)})},set:function(a,c,d){var e,f=d&&cb(a),g=d&&L(a,b,d,"border-box"===oa.css(a,"boxSizing",!1,f),f);return g&&(e=Ka.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=oa.css(a,b)),K(a,c,g)}}}),oa.cssHooks.marginLeft=H(na.reliableMarginLeft,function(a,b){if(b)return(parseFloat(G(a,"marginLeft"))||a.getBoundingClientRect().left-Na(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),oa.each({margin:"",padding:"",border:"Width"},function(a,b){oa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+La[d]+b]=f[d]||f[d-2]||f[0];return e}},ab.test(a)||(oa.cssHooks[a+b].set=K)}),oa.fn.extend({css:function(a,b){return Da(this,function(a,b,c){var d,e,f={},g=0;if(Array.isArray(b)){for(d=cb(a),e=b.length;g<e;g++)f[b[g]]=oa.css(a,b[g],!1,d);return f}return void 0!==c?oa.style(a,b,c):oa.css(a,b)},a,b,arguments.length>1)}}),oa.Tween=N,N.prototype={constructor:N,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||oa.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(oa.cssNumber[c]?"":"px")},cur:function(){var a=N.propHooks[this.prop];return a&&a.get?a.get(this):N.propHooks._default.get(this)},run:function(a){var b,c=N.propHooks[this.prop];return this.options.duration?this.pos=b=oa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=oa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){oa.fx.step[a.prop]?oa.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[oa.cssProps[a.prop]]&&!oa.cssHooks[a.prop]?a.elem[a.prop]=a.now:oa.style(a.elem,a.prop,a.now+a.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},oa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},oa.fx=N.prototype.init,oa.fx.step={};var jb,kb,lb=/^(?:toggle|show|hide)$/,mb=/queueHooks$/;oa.Animation=oa.extend(U,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return p(c.elem,a,Ka.exec(b),c),c}]},tweener:function(a,b){oa.isFunction(a)?(b=a,a=["*"]):a=a.match(Aa);for(var c,d=0,e=a.length;d<e;d++)c=a[d],U.tweeners[c]=U.tweeners[c]||[],U.tweeners[c].unshift(b)},prefilters:[S],prefilter:function(a,b){b?U.prefilters.unshift(a):U.prefilters.push(a)}}),oa.speed=function(a,b,c){var d=a&&"object"==typeof a?oa.extend({},a):{complete:c||!c&&b||oa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!oa.isFunction(b)&&b};return oa.fx.off?d.duration=0:"number"!=typeof d.duration&&(d.duration in oa.fx.speeds?d.duration=oa.fx.speeds[d.duration]:d.duration=oa.fx.speeds._default),null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){oa.isFunction(d.old)&&d.old.call(this),d.queue&&oa.dequeue(this,d.queue)},d},oa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ma).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=oa.isEmptyObject(a),f=oa.speed(b,c,d),g=function(){var b=U(this,oa.extend({},a),f);(e||Fa.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=oa.timers,g=Fa.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&mb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||oa.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=Fa.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=oa.timers,g=d?d.length:0;for(c.finish=!0,oa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),oa.each(["toggle","show","hide"],function(a,b){var c=oa.fn[b];oa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Q(b,!0),a,d,e)}}),oa.each({slideDown:Q("show"),slideUp:Q("hide"),slideToggle:Q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){oa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),oa.timers=[],oa.fx.tick=function(){var a,b=0,c=oa.timers;for(jb=oa.now();b<c.length;b++)(a=c[b])()||c[b]!==a||c.splice(b--,1);c.length||oa.fx.stop(),jb=void 0},oa.fx.timer=function(a){oa.timers.push(a),oa.fx.start()},oa.fx.interval=13,oa.fx.start=function(){kb||(kb=!0,O())},oa.fx.stop=function(){kb=null},oa.fx.speeds={slow:600,fast:200,_default:400},oa.fn.delay=function(b,c){return b=oa.fx?oa.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=ca.createElement("input"),b=ca.createElement("select"),c=b.appendChild(ca.createElement("option"));a.type="checkbox",na.checkOn=""!==a.value,na.optSelected=c.selected,a=ca.createElement("input"),a.value="t",a.type="radio",na.radioValue="t"===a.value}();var nb,ob=oa.expr.attrHandle;oa.fn.extend({attr:function(a,b){return Da(this,oa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){oa.removeAttr(this,a)})}}),oa.extend({attr:function(a,b,c){var d,e,f=a.nodeType
;if(3!==f&&8!==f&&2!==f)return void 0===a.getAttribute?oa.prop(a,b,c):(1===f&&oa.isXMLDoc(a)||(e=oa.attrHooks[b.toLowerCase()]||(oa.expr.match.bool.test(b)?nb:void 0)),void 0!==c?null===c?void oa.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=oa.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!na.radioValue&&"radio"===b&&e(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(Aa);if(e&&1===a.nodeType)for(;c=e[d++];)a.removeAttribute(c)}}),nb={set:function(a,b,c){return!1===b?oa.removeAttr(a,c):a.setAttribute(c,c),c}},oa.each(oa.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ob[b]||oa.find.attr;ob[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=ob[g],ob[g]=e,e=null!=c(a,b,d)?g:null,ob[g]=f),e}});var pb=/^(?:input|select|textarea|button)$/i,qb=/^(?:a|area)$/i;oa.fn.extend({prop:function(a,b){return Da(this,oa.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[oa.propFix[a]||a]})}}),oa.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&oa.isXMLDoc(a)||(b=oa.propFix[b]||b,e=oa.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=oa.find.attr(a,"tabindex");return b?parseInt(b,10):pb.test(a.nodeName)||qb.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),na.optSelected||(oa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),oa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oa.propFix[this.toLowerCase()]=this}),oa.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(oa.isFunction(a))return this.each(function(b){oa(this).addClass(a.call(this,b,W(this)))});if("string"==typeof a&&a)for(b=a.match(Aa)||[];c=this[i++];)if(e=W(c),d=1===c.nodeType&&" "+V(e)+" "){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=V(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(oa.isFunction(a))return this.each(function(b){oa(this).removeClass(a.call(this,b,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(Aa)||[];c=this[i++];)if(e=W(c),d=1===c.nodeType&&" "+V(e)+" "){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=V(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):oa.isFunction(a)?this.each(function(c){oa(this).toggleClass(a.call(this,c,W(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=oa(this),f=a.match(Aa)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||(b=W(this),b&&Fa.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":Fa.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+V(W(c))+" ").indexOf(b)>-1)return!0;return!1}});oa.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=oa.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,oa(this).val()):a,null==e?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=oa.map(e,function(a){return null==a?"":a+""})),(b=oa.valHooks[this.type]||oa.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return(b=oa.valHooks[e.type]||oa.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(/\r/g,""):null==c?"":c)}}}),oa.extend({valHooks:{option:{get:function(a){var b=oa.find.attr(a,"value");return null!=b?b:V(oa.text(a))}},select:{get:function(a){var b,c,d,f=a.options,g=a.selectedIndex,h="select-one"===a.type,i=h?null:[],j=h?g+1:f.length;for(d=g<0?j:h?g:0;d<j;d++)if(c=f[d],(c.selected||d===g)&&!c.disabled&&(!c.parentNode.disabled||!e(c.parentNode,"optgroup"))){if(b=oa(c).val(),h)return b;i.push(b)}return i},set:function(a,b){for(var c,d,e=a.options,f=oa.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=oa.inArray(oa.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),oa.each(["radio","checkbox"],function(){oa.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=oa.inArray(oa(a).val(),b)>-1}},na.checkOn||(oa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var rb=/^(?:focusinfocus|focusoutblur)$/;oa.extend(oa.event,{trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||ca],n=ka.call(b,"type")?b.type:b,o=ka.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||ca,3!==d.nodeType&&8!==d.nodeType&&!rb.test(n+oa.event.triggered)&&(n.indexOf(".")>-1&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[oa.expando]?b:new oa.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:oa.makeArray(c,[b]),l=oa.event.special[n]||{},e||!l.trigger||!1!==l.trigger.apply(d,c))){if(!e&&!l.noBubble&&!oa.isWindow(d)){for(i=l.delegateType||n,rb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||ca)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(Fa.get(g,"events")||{})[b.type]&&Fa.get(g,"handle"),k&&k.apply(g,c),(k=j&&g[j])&&k.apply&&Ea(g)&&(b.result=k.apply(g,c),!1===b.result&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&!1!==l._default.apply(m.pop(),c)||!Ea(d)||j&&oa.isFunction(d[n])&&!oa.isWindow(d)&&(h=d[j],h&&(d[j]=null),oa.event.triggered=n,d[n](),oa.event.triggered=void 0,h&&(d[j]=h)),b.result}},simulate:function(a,b,c){var d=oa.extend(new oa.Event,c,{type:a,isSimulated:!0});oa.event.trigger(d,null,b)}}),oa.fn.extend({trigger:function(a,b){return this.each(function(){oa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return oa.event.trigger(a,b,c,!0)}}),oa.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){oa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),oa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),na.focusin="onfocusin"in a,na.focusin||oa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){oa.event.simulate(b,a.target,oa.event.fix(a))};oa.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=Fa.access(d,b);e||d.addEventListener(a,c,!0),Fa.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=Fa.access(d,b)-1;e?Fa.access(d,b,e):(d.removeEventListener(a,c,!0),Fa.remove(d,b))}}});var sb=a.location,tb=oa.now(),ub=/\?/;oa.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(a){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||oa.error("Invalid XML: "+b),c};var vb=/\[\]$/,wb=/^(?:submit|button|image|reset|file)$/i,xb=/^(?:input|select|textarea|keygen)/i;oa.param=function(a,b){var c,d=[],e=function(a,b){var c=oa.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(Array.isArray(a)||a.jquery&&!oa.isPlainObject(a))oa.each(a,function(){e(this.name,this.value)});else for(c in a)X(c,a[c],b,e);return d.join("&")},oa.fn.extend({serialize:function(){return oa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=oa.prop(this,"elements");return a?oa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!oa(this).is(":disabled")&&xb.test(this.nodeName)&&!wb.test(a)&&(this.checked||!Pa.test(a))}).map(function(a,b){var c=oa(this).val();return null==c?null:Array.isArray(c)?oa.map(c,function(a){return{name:b.name,value:a.replace(/\r?\n/g,"\r\n")}}):{name:b.name,value:c.replace(/\r?\n/g,"\r\n")}}).get()}});var yb=/^(.*?):[ \t]*([^\r\n]*)$/gm,zb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ab=/^(?:GET|HEAD)$/,Bb={},Cb={},Db="*/".concat("*"),Eb=ca.createElement("a");Eb.href=sb.href,oa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:sb.href,type:"GET",isLocal:zb.test(sb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Db,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":oa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?$($(a,oa.ajaxSettings),b):$(oa.ajaxSettings,a)},ajaxPrefilter:Y(Bb),ajaxTransport:Y(Cb),ajax:function(b,c){function d(b,c,d,h){var j,m,n,u,v,w=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(u=_(o,x,d)),u=aa(o,u,x,j),j?(o.ifModified&&(v=x.getResponseHeader("Last-Modified"),v&&(oa.lastModified[f]=v),(v=x.getResponseHeader("etag"))&&(oa.etag[f]=v)),204===b||"HEAD"===o.type?w="nocontent":304===b?w="notmodified":(w=u.state,m=u.data,n=u.error,j=!n)):(n=w,!b&&w||(w="error",b<0&&(b=0))),x.status=b,x.statusText=(c||w)+"",j?r.resolveWith(p,[m,w,x]):r.rejectWith(p,[x,w,n]),x.statusCode(t),t=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[x,o,j?m:n]),s.fireWith(p,[x,w]),l&&(q.trigger("ajaxComplete",[x,o]),--oa.active||oa.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=oa.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?oa(p):oa.event,r=oa.Deferred(),s=oa.Callbacks("once memory"),t=o.statusCode||{},u={},v={},w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h)for(h={};b=yb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=v[a.toLowerCase()]=v[a.toLowerCase()]||a,u[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)x.always(a[x.status]);else for(b in a)t[b]=[t[b],a[b]];return this},abort:function(a){var b=a||w;return e&&e.abort(b),d(0,b),this}};if(r.promise(x),o.url=((b||o.url||sb.href)+"").replace(/^\/\//,sb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(Aa)||[""],null==o.crossDomain){j=ca.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Eb.protocol+"//"+Eb.host!=j.protocol+"//"+j.host}catch(a){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=oa.param(o.data,o.traditional)),Z(Bb,o,c,x),k)return x;l=oa.event&&o.global,l&&0==oa.active++&&oa.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Ab.test(o.type),f=o.url.replace(/#.*$/,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(/%20/g,"+")):(n=o.url.slice(f.length),o.data&&(f+=(ub.test(f)?"&":"?")+o.data,delete o.data),!1===o.cache&&(f=f.replace(/([?&])_=[^&]*/,"$1"),n=(ub.test(f)?"&":"?")+"_="+tb+++n),o.url=f+n),o.ifModified&&(oa.lastModified[f]&&x.setRequestHeader("If-Modified-Since",oa.lastModified[f]),oa.etag[f]&&x.setRequestHeader("If-None-Match",oa.etag[f])),(o.data&&o.hasContent&&!1!==o.contentType||c.contentType)&&x.setRequestHeader("Content-Type",o.contentType),x.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Db+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)x.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(!1===o.beforeSend.call(p,x,o)||k))return x.abort();if(w="abort",s.add(o.complete),x.done(o.success),x.fail(o.error),e=Z(Cb,o,c,x)){if(x.readyState=1,l&&q.trigger("ajaxSend",[x,o]),k)return x;o.async&&o.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},o.timeout));try{k=!1,e.send(u,d)}catch(a){if(k)throw a;d(-1,a)}}else d(-1,"No Transport");return x},getJSON:function(a,b,c){return oa.get(a,b,c,"json")},getScript:function(a,b){return oa.get(a,void 0,b,"script")}}),oa.each(["get","post"],function(a,b){oa[b]=function(a,c,d,e){return oa.isFunction(c)&&(e=e||d,d=c,c=void 0),oa.ajax(oa.extend({url:a,type:b,dataType:e,data:c,success:d},oa.isPlainObject(a)&&a))}}),oa._evalUrl=function(a){return oa.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},oa.fn.extend({wrapAll:function(a){var b;return this[0]&&(oa.isFunction(a)&&(a=a.call(this[0])),b=oa(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return oa.isFunction(a)?this.each(function(b){oa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=oa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=oa.isFunction(a);return this.each(function(c){oa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){oa(this).replaceWith(this.childNodes)}),this}}),oa.expr.pseudos.hidden=function(a){return!oa.expr.pseudos.visible(a)},oa.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},oa.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(a){}};var Fb={0:200,1223:204},Gb=oa.ajaxSettings.xhr();na.cors=!!Gb&&"withCredentials"in Gb,na.ajax=Gb=!!Gb,oa.ajaxTransport(function(b){var c,d;if(na.cors||Gb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Fb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(a){if(c)throw a}},abort:function(){c&&c()}}}),oa.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),oa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return oa.globalEval(a),a}}}),oa.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),oa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=oa("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),ca.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Hb=[],Ib=/(=)\?(?=&|$)|\?\?/;oa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Hb.pop()||oa.expando+"_"+tb++;return this[a]=!0,a}}),oa.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(Ib.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ib.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=oa.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Ib,"$1"+e):!1!==b.jsonp&&(b.url+=(ub.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||oa.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?oa(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Hb.push(e)),g&&oa.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),na.createHTMLDocument=function(){var a=ca.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),oa.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var d,e,f;return b||(na.createHTMLDocument?(b=ca.implementation.createHTMLDocument(""),d=b.createElement("base"),d.href=ca.location.href,b.head.appendChild(d)):b=ca),e=ua.exec(a),f=!c&&[],e?[b.createElement(e[1])]:(e=u([a],b,f),f&&f.length&&oa(f).remove(),oa.merge([],e.childNodes))},oa.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=V(a.slice(h)),a=a.slice(0,h)),oa.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&oa.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?oa("<div>").append(oa.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},oa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){oa.fn[b]=function(a){return this.on(b,a)}}),oa.expr.pseudos.animated=function(a){return oa.grep(oa.timers,function(b){return a===b.elem}).length},oa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=oa.css(a,"position"),l=oa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=oa.css(a,"top"),i=oa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),oa.isFunction(b)&&(b=b.call(a,c,oa.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},oa.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){oa.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),b=f.ownerDocument,c=b.documentElement,e=b.defaultView,{top:d.top+e.pageYOffset-c.clientTop,left:d.left+e.pageXOffset-c.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===oa.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),e(a[0],"html")||(d=a.offset()),d={top:d.top+oa.css(a[0],"borderTopWidth",!0),left:d.left+oa.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-oa.css(c,"marginTop",!0),left:b.left-d.left-oa.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===oa.css(a,"position");)a=a.offsetParent;return a||Ua})}}),oa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;oa.fn[a]=function(d){return Da(this,function(a,d,e){var f;if(oa.isWindow(a)?f=a:9===a.nodeType&&(f=a.defaultView),void 0===e)return f?f[b]:a[d];f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e},a,d,arguments.length)}}),oa.each(["top","left"],function(a,b){oa.cssHooks[b]=H(na.pixelPosition,function(a,c){if(c)return c=G(a,b),bb.test(c)?oa(a).position()[b]+"px":c})}),oa.each({Height:"height",Width:"width"},function(a,b){oa.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){oa.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(!0===e||!0===f?"margin":"border");return Da(this,function(b,c,e){var f;return oa.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?oa.css(b,c,h):oa.style(b,c,e,h)},b,g?e:void 0,g)}})}),oa.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),oa.holdReady=function(a){a?oa.readyWait++:oa.ready(!0)},oa.isArray=Array.isArray,oa.parseJSON=JSON.parse,oa.nodeName=e,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oa});var Jb=a.jQuery,Kb=a.$;return oa.noConflict=function(b){return a.$===oa&&(a.$=Kb),b&&a.jQuery===oa&&(a.jQuery=Jb),oa},b||(a.jQuery=a.$=oa),oa})},{}],52:[function(a,b,c){"use strict";function d(){try{return new window.XMLHttpRequest}catch(a){}}function e(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}var f={};f._getBinaryFromXHR=function(a){return a.response||a.responseText};var g=window.ActiveXObject?function(){return d()||e()}:d;f.getBinaryContent=function(a,b){try{var c=g();c.open("GET",a,!0),"responseType"in c&&(c.responseType="arraybuffer"),c.overrideMimeType&&c.overrideMimeType("text/plain; charset=x-user-defined"),c.onreadystatechange=function(d){var e,g;if(4===c.readyState)if(200===c.status||0===c.status){e=null,g=null;try{e=f._getBinaryFromXHR(c)}catch(a){g=new Error(a)}b(g,e)}else b(new Error("Ajax error for "+a+" : "+this.status+" "+this.statusText),null)},c.send()}catch(a){b(new Error(a),null)}},b.exports=f},{}],53:[function(a,b,c){"use strict";var d=a("./utils"),e=a("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(a){for(var b,c,e,g,h,i,j,k=[],l=0,m=a.length,n=m,o="string"!==d.getTypeOf(a);l<a.length;)n=m-l,o?(b=a[l++],c=l<m?a[l++]:0,e=l<m?a[l++]:0):(b=a.charCodeAt(l++),c=l<m?a.charCodeAt(l++):0,e=l<m?a.charCodeAt(l++):0),g=b>>2,h=(3&b)<<4|c>>4,i=n>1?(15&c)<<2|e>>6:64,j=n>2?63&e:64,k.push(f.charAt(g)+f.charAt(h)+f.charAt(i)+f.charAt(j));return k.join("")},c.decode=function(a){var b,c,d,g,h,i,j,k=0,l=0;if("data:"===a.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");var m=3*a.length/4;if(a.charAt(a.length-1)===f.charAt(64)&&m--,a.charAt(a.length-2)===f.charAt(64)&&m--,m%1!=0)throw new Error("Invalid base64 input, bad content length.");var n;for(n=e.uint8array?new Uint8Array(0|m):new Array(0|m);k<a.length;)g=f.indexOf(a.charAt(k++)),h=f.indexOf(a.charAt(k++)),i=f.indexOf(a.charAt(k++)),j=f.indexOf(a.charAt(k++)),b=g<<2|h>>4,c=(15&h)<<4|i>>2,d=(3&i)<<6|j,n[l++]=b,64!==i&&(n[l++]=c),64!==j&&(n[l++]=d);return n}},{"./support":82,"./utils":84}],54:[function(a,b,c){"use strict";function d(a,b,c,d,e){this.compressedSize=a,this.uncompressedSize=b,this.crc32=c,this.compression=d,this.compressedContent=e}var e=a("./external"),f=a("./stream/DataWorker"),g=a("./stream/DataLengthProbe"),h=a("./stream/Crc32Probe"),g=a("./stream/DataLengthProbe");d.prototype={getContentWorker:function(){var a=new f(e.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new g("data_length")),b=this;return a.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),a},getCompressedWorker:function(){return new f(e.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(a,b,c){return a.pipe(new h).pipe(new g("uncompressedSize")).pipe(b.compressWorker(c)).pipe(new g("compressedSize")).withStreamInfo("compression",b)},b.exports=d},{"./external":58,"./stream/Crc32Probe":77,"./stream/DataLengthProbe":78,"./stream/DataWorker":79}],55:[function(a,b,c){"use strict";var d=a("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(a){return new d("STORE compression")},uncompressWorker:function(){return new d("STORE decompression")}},c.DEFLATE=a("./flate")},{"./flate":59,"./stream/GenericWorker":80}],56:[function(a,b,c){"use strict";function d(a,b,c,d){var e=g,f=d+c;a^=-1;for(var h=d;h<f;h++)a=a>>>8^e[255&(a^b[h])];return-1^a}function e(a,b,c,d){var e=g,f=d+c;a^=-1;for(var h=d;h<f;h++)a=a>>>8^e[255&(a^b.charCodeAt(h))];return-1^a}var f=a("./utils"),g=function(){for(var a,b=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}();b.exports=function(a,b){return void 0!==a&&a.length?"string"!==f.getTypeOf(a)?d(0|b,a,a.length,0):e(0|b,a,a.length,0):0}},{"./utils":84}],57:[function(a,b,c){"use strict";c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],58:[function(a,b,c){"use strict";var d=null;d="undefined"!=typeof Promise?Promise:a("lie"),b.exports={Promise:d}},{lie:104}],59:[function(a,b,c){"use strict";function d(a,b){h.call(this,"FlateWorker/"+a),this._pako=new f[a]({raw:!0,level:b.level||-1}),this.meta={};var c=this;this._pako.onData=function(a){c.push({data:a,meta:c.meta})}}var e="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,f=a("pako"),g=a("./utils"),h=a("./stream/GenericWorker"),i=e?"uint8array":"array";c.magic="\b\0",g.inherits(d,h),d.prototype.processChunk=function(a){this.meta=a.meta,this._pako.push(g.transformTo(i,a.data),!1)},d.prototype.flush=function(){h.prototype.flush.call(this),this._pako.push([],!0)},d.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},c.compressWorker=function(a){return new d("Deflate",a)},c.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":80,"./utils":84,pako:88}],60:[function(a,b,c){"use strict";function d(a,b,c,d){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=c,this.encodeFileName=d,this.streamFiles=a,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var e=a("../utils"),f=a("../stream/GenericWorker"),g=a("../utf8"),h=a("../crc32"),i=a("../signature"),j=function(a,b){var c,d="";for(c=0;c<b;c++)d+=String.fromCharCode(255&a),a>>>=8;return d},k=function(a,b){var c=a;return a||(c=b?16893:33204),(65535&c)<<16},l=function(a,b){return 63&(a||0)},m=function(a,b,c,d,f,m){var n,o,p=a.file,q=a.compression,r=m!==g.utf8encode,s=e.transformTo("string",m(p.name)),t=e.transformTo("string",g.utf8encode(p.name)),u=p.comment,v=e.transformTo("string",m(u)),w=e.transformTo("string",g.utf8encode(u)),x=t.length!==p.name.length,y=w.length!==u.length,z="",A="",B="",C=p.dir,D=p.date,E={crc32:0,compressedSize:0,uncompressedSize:0};b&&!c||(E.crc32=a.crc32,E.compressedSize=a.compressedSize,E.uncompressedSize=a.uncompressedSize);var F=0;b&&(F|=8),r||!x&&!y||(F|=2048);var G=0,H=0;C&&(G|=16),"UNIX"===f?(H=798,G|=k(p.unixPermissions,C)):(H=20,G|=l(p.dosPermissions)),n=D.getUTCHours(),n<<=6,n|=D.getUTCMinutes(),n<<=5,n|=D.getUTCSeconds()/2,o=D.getUTCFullYear()-1980,o<<=4,o|=D.getUTCMonth()+1,o<<=5,o|=D.getUTCDate(),x&&(A=j(1,1)+j(h(s),4)+t,z+="up"+j(A.length,2)+A),y&&(B=j(1,1)+j(h(v),4)+w,z+="uc"+j(B.length,2)+B);var I="";return I+="\n\0",I+=j(F,2),I+=q.magic,I+=j(n,2),I+=j(o,2),I+=j(E.crc32,4),I+=j(E.compressedSize,4),I+=j(E.uncompressedSize,4),I+=j(s.length,2),I+=j(z.length,2),{fileRecord:i.LOCAL_FILE_HEADER+I+s+z,dirRecord:i.CENTRAL_FILE_HEADER+j(H,2)+I+j(v.length,2)+"\0\0\0\0"+j(G,4)+j(d,4)+s+z+v}},n=function(a,b,c,d,f){var g=e.transformTo("string",f(d));return i.CENTRAL_DIRECTORY_END+"\0\0\0\0"+j(a,2)+j(a,2)+j(b,4)+j(c,4)+j(g.length,2)+g},o=function(a){return i.DATA_DESCRIPTOR+j(a.crc32,4)+j(a.compressedSize,4)+j(a.uncompressedSize,4)};e.inherits(d,f),d.prototype.push=function(a){var b=a.meta.percent||0,c=this.entriesCount,d=this._sources.length;this.accumulate?this.contentBuffer.push(a):(this.bytesWritten+=a.data.length,f.prototype.push.call(this,{data:a.data,meta:{currentFile:this.currentFile,percent:c?(b+100*(c-d-1))/c:100}}))},d.prototype.openedSource=function(a){this.currentSourceOffset=this.bytesWritten,this.currentFile=a.file.name;var b=this.streamFiles&&!a.file.dir;if(b){var c=m(a,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(a){this.accumulate=!1;var b=this.streamFiles&&!a.file.dir,c=m(a,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),b)this.push({data:o(a),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var a=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var c=this.bytesWritten-a,d=n(this.dirRecords.length,c,a,this.zipComment,this.encodeFileName);this.push({data:d,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(a){this._sources.push(a);var b=this;return a.on("data",function(a){b.processChunk(a)}),a.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),a.on("error",function(a){b.error(a)}),this},d.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(a){var b=this._sources;if(!f.prototype.error.call(this,a))return!1;for(var c=0;c<b.length;c++)try{b[c].error(a)}catch(a){}return!0},d.prototype.lock=function(){f.prototype.lock.call(this);for(var a=this._sources,b=0;b<a.length;b++)a[b].lock()},b.exports=d},{"../crc32":56,"../signature":75,"../stream/GenericWorker":80,"../utf8":83,"../utils":84}],61:[function(a,b,c){"use strict";var d=a("../compressions"),e=a("./ZipFileWorker"),f=function(a,b){var c=a||b,e=d[c];if(!e)throw new Error(c+" is not a valid compression method !");return e};c.generateWorker=function(a,b,c){var d=new e(b.streamFiles,c,b.platform,b.encodeFileName),g=0;try{a.forEach(function(a,c){g++;var e=f(c.options.compression,b.compression),h=c.options.compressionOptions||b.compressionOptions||{},i=c.dir,j=c.date;c._compressWorker(e,h).withStreamInfo("file",{name:a,dir:i,date:j,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(d)}),d.entriesCount=g}catch(a){d.error(a)}return d}},{"../compressions":55,"./ZipFileWorker":60}],62:[function(a,b,c){"use strict";function d(){if(!(this instanceof d))return new d;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var a=new d;for(var b in this)"function"!=typeof this[b]&&(a[b]=this[b]);return a}}d.prototype=a("./object"),d.prototype.loadAsync=a("./load"),d.support=a("./support"),d.defaults=a("./defaults"),d.version="3.1.3",d.loadAsync=function(a,b){return(new d).loadAsync(a,b)},d.external=a("./external"),b.exports=d},{"./defaults":57,"./external":58,"./load":63,"./object":67,"./support":82}],63:[function(a,b,c){"use strict";function d(a){return new f.Promise(function(b,c){
var d=a.decompressed.getContentWorker().pipe(new i);d.on("error",function(a){c(a)}).on("end",function(){d.streamInfo.crc32!==a.decompressed.crc32?c(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}var e=a("./utils"),f=a("./external"),g=a("./utf8"),e=a("./utils"),h=a("./zipEntries"),i=a("./stream/Crc32Probe"),j=a("./nodejsUtils");b.exports=function(a,b){var c=this;return b=e.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),j.isNode&&j.isStream(a)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):e.prepareContent("the loaded zip file",a,!0,b.optimizedBinaryString,b.base64).then(function(a){var c=new h(b);return c.load(a),c}).then(function(a){var c=[f.Promise.resolve(a)],e=a.files;if(b.checkCRC32)for(var g=0;g<e.length;g++)c.push(d(e[g]));return f.Promise.all(c)}).then(function(a){for(var d=a.shift(),e=d.files,f=0;f<e.length;f++){var g=e[f];c.file(g.fileNameStr,g.decompressed,{binary:!0,optimizedBinaryString:!0,date:g.date,dir:g.dir,comment:g.fileCommentStr.length?g.fileCommentStr:null,unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions,createFolders:b.createFolders})}return d.zipComment.length&&(c.comment=d.zipComment),c})}},{"./external":58,"./nodejsUtils":66,"./stream/Crc32Probe":77,"./utf8":83,"./utils":84,"./zipEntries":85}],64:[function(a,b,c){"use strict";function d(a,b){f.call(this,"Nodejs stream input adapter for "+a),this._upstreamEnded=!1,this._bindStream(b)}var e=a("../utils"),f=a("../stream/GenericWorker");e.inherits(d,f),d.prototype._bindStream=function(a){var b=this;this._stream=a,a.pause(),a.on("data",function(a){b.push({data:a,meta:{percent:0}})}).on("error",function(a){b.isPaused?this.generatedError=a:b.error(a)}).on("end",function(){b.isPaused?b._upstreamEnded=!0:b.end()})},d.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},b.exports=d},{"../stream/GenericWorker":80,"../utils":84}],65:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,b),this._helper=a;var d=this;a.on("data",function(a,b){d.push(a)||d._helper.pause(),c&&c(b)}).on("error",function(a){d.emit("error",a)}).on("end",function(){d.push(null)})}var e=a("readable-stream").Readable;a("util").inherits(d,e),d.prototype._read=function(){this._helper.resume()},b.exports=d},{"readable-stream":68,util:125}],66:[function(a,b,c){(function(a){"use strict";b.exports={isNode:void 0!==a,newBuffer:function(b,c){return new a(b,c)},isBuffer:function(b){return a.isBuffer(b)},isStream:function(a){return a&&"function"==typeof a.on&&"function"==typeof a.pause&&"function"==typeof a.resume}}}).call(this,a("buffer").Buffer)},{buffer:29}],67:[function(a,b,c){"use strict";function d(a){return"[object RegExp]"===Object.prototype.toString.call(a)}var e=a("./utf8"),f=a("./utils"),g=a("./stream/GenericWorker"),h=a("./stream/StreamHelper"),i=a("./defaults"),j=a("./compressedObject"),k=a("./zipObject"),l=a("./generate"),m=a("./nodejsUtils"),n=a("./nodejs/NodejsStreamInputAdapter"),o=function(a,b,c){var d,e=f.getTypeOf(b),h=f.extend(c||{},i);h.date=h.date||new Date,null!==h.compression&&(h.compression=h.compression.toUpperCase()),"string"==typeof h.unixPermissions&&(h.unixPermissions=parseInt(h.unixPermissions,8)),h.unixPermissions&&16384&h.unixPermissions&&(h.dir=!0),h.dosPermissions&&16&h.dosPermissions&&(h.dir=!0),h.dir&&(a=q(a)),h.createFolders&&(d=p(a))&&r.call(this,d,!0);var l="string"===e&&!1===h.binary&&!1===h.base64;c&&void 0!==c.binary||(h.binary=!l),(b instanceof j&&0===b.uncompressedSize||h.dir||!b||0===b.length)&&(h.base64=!1,h.binary=!0,b="",h.compression="STORE",e="string");var o=null;o=b instanceof j||b instanceof g?b:m.isNode&&m.isStream(b)?new n(a,b):f.prepareContent(a,b,h.binary,h.optimizedBinaryString,h.base64);var s=new k(a,o,h);this.files[a]=s},p=function(a){"/"===a.slice(-1)&&(a=a.substring(0,a.length-1));var b=a.lastIndexOf("/");return b>0?a.substring(0,b):""},q=function(a){return"/"!==a.slice(-1)&&(a+="/"),a},r=function(a,b){return b=void 0!==b?b:i.createFolders,a=q(a),this.files[a]||o.call(this,a,null,{dir:!0,createFolders:b}),this.files[a]},s={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(a){var b,c,d;for(b in this.files)this.files.hasOwnProperty(b)&&(d=this.files[b],(c=b.slice(this.root.length,b.length))&&b.slice(0,this.root.length)===this.root&&a(c,d))},filter:function(a){var b=[];return this.forEach(function(c,d){a(c,d)&&b.push(d)}),b},file:function(a,b,c){if(1===arguments.length){if(d(a)){var e=a;return this.filter(function(a,b){return!b.dir&&e.test(a)})}var f=this.files[this.root+a];return f&&!f.dir?f:null}return a=this.root+a,o.call(this,a,b,c),this},folder:function(a){if(!a)return this;if(d(a))return this.filter(function(b,c){return c.dir&&a.test(b)});var b=this.root+a,c=r.call(this,b),e=this.clone();return e.root=c.name,e},remove:function(a){a=this.root+a;var b=this.files[a];if(b||("/"!==a.slice(-1)&&(a+="/"),b=this.files[a]),b&&!b.dir)delete this.files[a];else for(var c=this.filter(function(b,c){return c.name.slice(0,a.length)===a}),d=0;d<c.length;d++)delete this.files[c[d].name];return this},generate:function(a){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(a){var b,c={};try{if(c=f.extend(a||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:e.utf8encode}),c.type=c.type.toLowerCase(),c.compression=c.compression.toUpperCase(),"binarystring"===c.type&&(c.type="string"),!c.type)throw new Error("No output type specified.");f.checkSupport(c.type),"darwin"!==c.platform&&"freebsd"!==c.platform&&"linux"!==c.platform&&"sunos"!==c.platform||(c.platform="UNIX"),"win32"===c.platform&&(c.platform="DOS");var d=c.comment||this.comment||"";b=l.generateWorker(this,c,d)}catch(a){b=new g("error"),b.error(a)}return new h(b,c.type||"string",c.mimeType)},generateAsync:function(a,b){return this.generateInternalStream(a).accumulate(b)},generateNodeStream:function(a,b){return a=a||{},a.type||(a.type="nodebuffer"),this.generateInternalStream(a).toNodejsStream(b)}};b.exports=s},{"./compressedObject":54,"./defaults":57,"./generate":61,"./nodejs/NodejsStreamInputAdapter":64,"./nodejsUtils":66,"./stream/GenericWorker":80,"./stream/StreamHelper":81,"./utf8":83,"./utils":84,"./zipObject":87}],68:[function(a,b,c){b.exports=a("stream")},{stream:120}],69:[function(a,b,c){"use strict";function d(a){e.call(this,a);for(var b=0;b<this.data.length;b++)a[b]=255&a[b]}var e=a("./DataReader");a("../utils").inherits(d,e),d.prototype.byteAt=function(a){return this.data[this.zero+a]},d.prototype.lastIndexOfSignature=function(a){for(var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),e=a.charCodeAt(3),f=this.length-4;f>=0;--f)if(this.data[f]===b&&this.data[f+1]===c&&this.data[f+2]===d&&this.data[f+3]===e)return f-this.zero;return-1},d.prototype.readAndCheckSignature=function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),e=a.charCodeAt(3),f=this.readData(4);return b===f[0]&&c===f[1]&&d===f[2]&&e===f[3]},d.prototype.readData=function(a){if(this.checkOffset(a),0===a)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{"../utils":84,"./DataReader":70}],70:[function(a,b,c){"use strict";function d(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}var e=a("../utils");d.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(a){},readInt:function(a){var b,c=0;for(this.checkOffset(a),b=this.index+a-1;b>=this.index;b--)c=(c<<8)+this.byteAt(b);return this.index+=a,c},readString:function(a){return e.transformTo("string",this.readData(a))},readData:function(a){},lastIndexOfSignature:function(a){},readAndCheckSignature:function(a){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},b.exports=d},{"../utils":84}],71:[function(a,b,c){"use strict";function d(a){e.call(this,a)}var e=a("./Uint8ArrayReader");a("../utils").inherits(d,e),d.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{"../utils":84,"./Uint8ArrayReader":73}],72:[function(a,b,c){"use strict";function d(a){e.call(this,a)}var e=a("./DataReader");a("../utils").inherits(d,e),d.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},d.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},d.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},d.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{"../utils":84,"./DataReader":70}],73:[function(a,b,c){"use strict";function d(a){e.call(this,a)}var e=a("./ArrayReader");a("../utils").inherits(d,e),d.prototype.readData=function(a){if(this.checkOffset(a),0===a)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{"../utils":84,"./ArrayReader":69}],74:[function(a,b,c){"use strict";var d=a("../utils"),e=a("../support"),f=a("./ArrayReader"),g=a("./StringReader"),h=a("./NodeBufferReader"),i=a("./Uint8ArrayReader");b.exports=function(a){var b=d.getTypeOf(a);return d.checkSupport(b),"string"!==b||e.uint8array?"nodebuffer"===b?new h(a):e.uint8array?new i(d.transformTo("uint8array",a)):new f(d.transformTo("array",a)):new g(a)}},{"../support":82,"../utils":84,"./ArrayReader":69,"./NodeBufferReader":71,"./StringReader":72,"./Uint8ArrayReader":73}],75:[function(a,b,c){"use strict";c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\b"},{}],76:[function(a,b,c){"use strict";function d(a){e.call(this,"ConvertWorker to "+a),this.destType=a}var e=a("./GenericWorker"),f=a("../utils");f.inherits(d,e),d.prototype.processChunk=function(a){this.push({data:f.transformTo(this.destType,a.data),meta:a.meta})},b.exports=d},{"../utils":84,"./GenericWorker":80}],77:[function(a,b,c){"use strict";function d(){e.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var e=a("./GenericWorker"),f=a("../crc32");a("../utils").inherits(d,e),d.prototype.processChunk=function(a){this.streamInfo.crc32=f(a.data,this.streamInfo.crc32||0),this.push(a)},b.exports=d},{"../crc32":56,"../utils":84,"./GenericWorker":80}],78:[function(a,b,c){"use strict";function d(a){f.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}var e=a("../utils"),f=a("./GenericWorker");e.inherits(d,f),d.prototype.processChunk=function(a){if(a){var b=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=b+a.data.length}f.prototype.processChunk.call(this,a)},b.exports=d},{"../utils":84,"./GenericWorker":80}],79:[function(a,b,c){"use strict";function d(a){f.call(this,"DataWorker");var b=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,a.then(function(a){b.dataIsReady=!0,b.data=a,b.max=a&&a.length||0,b.type=e.getTypeOf(a),b.isPaused||b._tickAndRepeat()},function(a){b.error(a)})}var e=a("../utils"),f=a("./GenericWorker");e.inherits(d,f),d.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,e.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(e.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var a=null,b=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":a=this.data.substring(this.index,b);break;case"uint8array":a=this.data.subarray(this.index,b);break;case"array":case"nodebuffer":a=this.data.slice(this.index,b)}return this.index=b,this.push({data:a,meta:{percent:this.max?this.index/this.max*100:0}})},b.exports=d},{"../utils":84,"./GenericWorker":80}],80:[function(a,b,c){"use strict";function d(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}d.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,b){return this._listeners[a].push(b),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,b){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,b)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var b=this;return a.on("data",function(a){b.processChunk(a)}),a.on("end",function(){b.end()}),a.on("error",function(a){b.error(a)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,b){return this.extraStreamInfo[a]=b,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},b.exports=d},{}],81:[function(a,b,c){(function(c){"use strict";function d(a,b,c,d){var f=null;switch(a){case"blob":return h.newBlob(c,d);case"base64":return f=e(b,c),k.encode(f);default:return f=e(b,c),h.transformTo(a,f)}}function e(a,b){var d,e=0,f=null,g=0;for(d=0;d<b.length;d++)g+=b[d].length;switch(a){case"string":return b.join("");case"array":return Array.prototype.concat.apply([],b);case"uint8array":for(f=new Uint8Array(g),d=0;d<b.length;d++)f.set(b[d],e),e+=b[d].length;return f;case"nodebuffer":return c.concat(b);default:throw new Error("concat : unsupported type '"+a+"'")}}function f(a,b){return new m.Promise(function(c,e){var f=[],g=a._internalType,h=a._outputType,i=a._mimeType;a.on("data",function(a,c){f.push(a),b&&b(c)}).on("error",function(a){f=[],e(a)}).on("end",function(){try{var a=d(h,g,f,i);c(a)}catch(a){e(a)}f=[]}).resume()})}function g(a,b,c){var d=b;switch(b){case"blob":d="arraybuffer";break;case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=b,this._mimeType=c,h.checkSupport(d),this._worker=a.pipe(new i(d)),a.lock()}catch(a){this._worker=new j("error"),this._worker.error(a)}}var h=a("../utils"),i=a("./ConvertWorker"),j=a("./GenericWorker"),k=a("../base64"),l=a("../support"),m=a("../external"),n=null;if(l.nodestream)try{n=a("../nodejs/NodejsStreamOutputAdapter")}catch(a){}g.prototype={accumulate:function(a){return f(this,a)},on:function(a,b){var c=this;return"data"===a?this._worker.on(a,function(a){b.call(c,a.data,a.meta)}):this._worker.on(a,function(){h.delay(b,arguments,c)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(a){if(h.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new n(this,{objectMode:"nodebuffer"!==this._outputType},a)}},b.exports=g}).call(this,a("buffer").Buffer)},{"../base64":53,"../external":58,"../nodejs/NodejsStreamOutputAdapter":65,"../support":82,"../utils":84,"./ConvertWorker":76,"./GenericWorker":80,buffer:29}],82:[function(a,b,c){(function(b){"use strict";if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,c.nodebuffer=void 0!==b,c.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)c.blob=!1;else{var d=new ArrayBuffer(0);try{c.blob=0===new Blob([d],{type:"application/zip"}).size}catch(a){try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,f=new e;f.append(d),c.blob=0===f.getBlob("application/zip").size}catch(a){c.blob=!1}}}try{c.nodestream=!!a("readable-stream").Readable}catch(a){c.nodestream=!1}}).call(this,a("buffer").Buffer)},{buffer:29,"readable-stream":68}],83:[function(a,b,c){"use strict";function d(){i.call(this,"utf-8 decode"),this.leftOver=null}function e(){i.call(this,"utf-8 encode")}for(var f=a("./utils"),g=a("./support"),h=a("./nodejsUtils"),i=a("./stream/GenericWorker"),j=new Array(256),k=0;k<256;k++)j[k]=k>=252?6:k>=248?5:k>=240?4:k>=224?3:k>=192?2:1;j[254]=j[254]=1;var l=function(a){var b,c,d,e,f,h=a.length,i=0;for(e=0;e<h;e++)c=a.charCodeAt(e),55296==(64512&c)&&e+1<h&&56320==(64512&(d=a.charCodeAt(e+1)))&&(c=65536+(c-55296<<10)+(d-56320),e++),i+=c<128?1:c<2048?2:c<65536?3:4;for(b=g.uint8array?new Uint8Array(i):new Array(i),f=0,e=0;f<i;e++)c=a.charCodeAt(e),55296==(64512&c)&&e+1<h&&56320==(64512&(d=a.charCodeAt(e+1)))&&(c=65536+(c-55296<<10)+(d-56320),e++),c<128?b[f++]=c:c<2048?(b[f++]=192|c>>>6,b[f++]=128|63&c):c<65536?(b[f++]=224|c>>>12,b[f++]=128|c>>>6&63,b[f++]=128|63&c):(b[f++]=240|c>>>18,b[f++]=128|c>>>12&63,b[f++]=128|c>>>6&63,b[f++]=128|63&c);return b},m=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128==(192&a[c]);)c--;return c<0?b:0===c?b:c+j[a[c]]>b?c:b},n=function(a){var b,c,d,e,g=a.length,h=new Array(2*g);for(c=0,b=0;b<g;)if((d=a[b++])<128)h[c++]=d;else if((e=j[d])>4)h[c++]=65533,b+=e-1;else{for(d&=2===e?31:3===e?15:7;e>1&&b<g;)d=d<<6|63&a[b++],e--;e>1?h[c++]=65533:d<65536?h[c++]=d:(d-=65536,h[c++]=55296|d>>10&1023,h[c++]=56320|1023&d)}return h.length!==c&&(h.subarray?h=h.subarray(0,c):h.length=c),f.applyFromCharCode(h)};c.utf8encode=function(a){return g.nodebuffer?h.newBuffer(a,"utf-8"):l(a)},c.utf8decode=function(a){return g.nodebuffer?f.transformTo("nodebuffer",a).toString("utf-8"):(a=f.transformTo(g.uint8array?"uint8array":"array",a),n(a))},f.inherits(d,i),d.prototype.processChunk=function(a){var b=f.transformTo(g.uint8array?"uint8array":"array",a.data);if(this.leftOver&&this.leftOver.length){if(g.uint8array){var d=b;b=new Uint8Array(d.length+this.leftOver.length),b.set(this.leftOver,0),b.set(d,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var e=m(b),h=b;e!==b.length&&(g.uint8array?(h=b.subarray(0,e),this.leftOver=b.subarray(e,b.length)):(h=b.slice(0,e),this.leftOver=b.slice(e,b.length))),this.push({data:c.utf8decode(h),meta:a.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=d,f.inherits(e,i),e.prototype.processChunk=function(a){this.push({data:c.utf8encode(a.data),meta:a.meta})},c.Utf8EncodeWorker=e},{"./nodejsUtils":66,"./stream/GenericWorker":80,"./support":82,"./utils":84}],84:[function(a,b,c){"use strict";function d(a){var b=null;return b=i.uint8array?new Uint8Array(a.length):new Array(a.length),f(a,b)}function e(a){return a}function f(a,b){for(var c=0;c<a.length;++c)b[c]=255&a.charCodeAt(c);return b}function g(a){var b=65536,d=c.getTypeOf(a),e=!0;if("uint8array"===d?e=n.applyCanBeUsed.uint8array:"nodebuffer"===d&&(e=n.applyCanBeUsed.nodebuffer),e)for(;b>1;)try{return n.stringifyByChunk(a,d,b)}catch(a){b=Math.floor(b/2)}return n.stringifyByChar(a)}function h(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];return b}var i=a("./support"),j=a("./base64"),k=a("./nodejsUtils"),l=a("core-js/library/fn/set-immediate"),m=a("./external");c.newBlob=function(a,b){c.checkSupport("blob");try{return new Blob(a,{type:b})}catch(c){try{for(var d=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,e=new d,f=0;f<a.length;f++)e.append(a[f]);return e.getBlob(b)}catch(a){throw new Error("Bug : can't construct the Blob.")}}};var n={stringifyByChunk:function(a,b,c){var d=[],e=0,f=a.length;if(f<=c)return String.fromCharCode.apply(null,a);for(;e<f;)"array"===b||"nodebuffer"===b?d.push(String.fromCharCode.apply(null,a.slice(e,Math.min(e+c,f)))):d.push(String.fromCharCode.apply(null,a.subarray(e,Math.min(e+c,f)))),e+=c;return d.join("")},stringifyByChar:function(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(a){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,k.newBuffer(1)).length}catch(a){return!1}}()}};c.applyFromCharCode=g;var o={};o.string={string:e,array:function(a){return f(a,new Array(a.length))},arraybuffer:function(a){return o.string.uint8array(a).buffer},uint8array:function(a){return f(a,new Uint8Array(a.length))},nodebuffer:function(a){return f(a,k.newBuffer(a.length))}},o.array={string:g,array:e,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return k.newBuffer(a)}},o.arraybuffer={string:function(a){return g(new Uint8Array(a))},array:function(a){return h(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:e,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return k.newBuffer(new Uint8Array(a))}},o.uint8array={string:g,array:function(a){return h(a,new Array(a.length))},arraybuffer:function(a){var b=new Uint8Array(a.length);return a.length&&b.set(a,0),b.buffer},uint8array:e,nodebuffer:function(a){return k.newBuffer(a)}},o.nodebuffer={string:g,array:function(a){return h(a,new Array(a.length))},arraybuffer:function(a){return o.nodebuffer.uint8array(a).buffer},uint8array:function(a){return h(a,new Uint8Array(a.length))},nodebuffer:e},c.transformTo=function(a,b){if(b||(b=""),!a)return b;c.checkSupport(a);var d=c.getTypeOf(b);return o[d][a](b)},c.getTypeOf=function(a){return"string"==typeof a?"string":"[object Array]"===Object.prototype.toString.call(a)?"array":i.nodebuffer&&k.isBuffer(a)?"nodebuffer":i.uint8array&&a instanceof Uint8Array?"uint8array":i.arraybuffer&&a instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(a){if(!i[a.toLowerCase()])throw new Error(a+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(a){var b,c,d="";for(c=0;c<(a||"").length;c++)b=a.charCodeAt(c),d+="\\x"+(b<16?"0":"")+b.toString(16).toUpperCase();return d},c.delay=function(a,b,c){l(function(){a.apply(c||null,b||[])})},c.inherits=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c},c.extend=function(){var a,b,c={};for(a=0;a<arguments.length;a++)for(b in arguments[a])arguments[a].hasOwnProperty(b)&&void 0===c[b]&&(c[b]=arguments[a][b]);return c},c.prepareContent=function(a,b,e,f,g){return m.Promise.resolve(b).then(function(a){return i.blob&&(a instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(a)))&&"undefined"!=typeof FileReader?new m.Promise(function(b,c){var d=new FileReader;d.onload=function(a){b(a.target.result)},d.onerror=function(a){c(a.target.error)},d.readAsArrayBuffer(a)}):a}).then(function(b){var h=c.getTypeOf(b);return h?("arraybuffer"===h?b=c.transformTo("uint8array",b):"string"===h&&(g?b=j.decode(b):e&&!0!==f&&(b=d(b))),b):m.Promise.reject(new Error("The data of '"+a+"' is in an unsupported format !"))})}},{"./base64":53,"./external":58,"./nodejsUtils":66,"./support":82,"core-js/library/fn/set-immediate":5}],85:[function(a,b,c){"use strict";function d(a){this.files=[],this.loadOptions=a}var e=a("./reader/readerFor"),f=a("./utils"),g=a("./signature"),h=a("./zipEntry"),i=(a("./utf8"),a("./support"));d.prototype={checkSignature:function(a){if(!this.reader.readAndCheckSignature(a)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug : unexpected signature ("+f.pretty(b)+", expected "+f.pretty(a)+")")}},isSignature:function(a,b){var c=this.reader.index;this.reader.setIndex(a);var d=this.reader.readString(4),e=d===b;return this.reader.setIndex(c),e},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var a=this.reader.readData(this.zipCommentLength),b=i.uint8array?"uint8array":"array",c=f.transformTo(b,a);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var a,b,c,d=this.zip64EndOfCentralSize-44;0<d;)a=this.reader.readInt(2),b=this.reader.readInt(4),c=this.reader.readData(b),this.zip64ExtensibleData[a]={id:a,length:b,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var a,b;for(a=0;a<this.files.length;a++)b=this.files[a],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var a;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)a=new h({zip64:this.zip64},this.loadOptions),a.readCentralPart(this.reader),this.files.push(a);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var a=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(a<0){throw!this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(a);var b=a;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(a=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(a),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var c=this.centralDirOffset+this.centralDirSize;this.zip64&&(c+=20,c+=12+this.zip64EndOfCentralSize);var d=b-c;if(d>0)this.isSignature(b,g.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(a){this.reader=e(a)},load:function(a){this.prepareReader(a),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=d},{"./reader/readerFor":74,"./signature":75,"./support":82,"./utf8":83,"./utils":84,"./zipEntry":86}],86:[function(a,b,c){"use strict";function d(a,b){this.options=a,this.loadOptions=b}var e=a("./reader/readerFor"),f=a("./utils"),g=a("./compressedObject"),h=a("./crc32"),i=a("./utf8"),j=a("./compressions"),k=a("./support"),l=function(a){for(var b in j)if(j.hasOwnProperty(b)&&j[b].magic===a)return j[b];return null};d.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(a){var b,c;if(a.skip(22),this.fileNameLength=a.readInt(2),c=a.readInt(2),this.fileName=a.readData(this.fileNameLength),a.skip(c),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(b=l(this.compressionMethod)))throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,b,a.readData(this.compressedSize))},readCentralPart:function(a){this.versionMadeBy=a.readInt(2),a.skip(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4);var b=a.readInt(2);if(this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");a.skip(b),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===a&&(this.dosPermissions=63&this.externalFileAttributes),3===a&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(a){if(this.extraFields[1]){var b=e(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),
this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(a){var b,c,d,e=a.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});a.index<e;)b=a.readInt(2),c=a.readInt(2),d=a.readData(c),this.extraFields[b]={id:b,length:c,value:d}},handleUTF8:function(){var a=k.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=i.utf8decode(this.fileName),this.fileCommentStr=i.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(null!==b)this.fileNameStr=b;else{var c=f.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var d=this.findExtraFieldUnicodeComment();if(null!==d)this.fileCommentStr=d;else{var e=f.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(e)}}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var b=e(a.value);return 1!==b.readInt(1)?null:h(this.fileName)!==b.readInt(4)?null:i.utf8decode(b.readData(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var b=e(a.value);return 1!==b.readInt(1)?null:h(this.fileComment)!==b.readInt(4)?null:i.utf8decode(b.readData(a.length-5))}return null}},b.exports=d},{"./compressedObject":54,"./compressions":55,"./crc32":56,"./reader/readerFor":74,"./support":82,"./utf8":83,"./utils":84}],87:[function(a,b,c){"use strict";var d=a("./stream/StreamHelper"),e=a("./stream/DataWorker"),f=a("./utf8"),g=a("./compressedObject"),h=a("./stream/GenericWorker"),i=function(a,b,c){this.name=a,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=b,this._dataBinary=c.binary,this.options={compression:c.compression,compressionOptions:c.compressionOptions}};i.prototype={internalStream:function(a){var b=a.toLowerCase(),c="string"===b||"text"===b;"binarystring"!==b&&"text"!==b||(b="string");var e=this._decompressWorker(),g=!this._dataBinary;return g&&!c&&(e=e.pipe(new f.Utf8EncodeWorker)),!g&&c&&(e=e.pipe(new f.Utf8DecodeWorker)),new d(e,b,"")},async:function(a,b){return this.internalStream(a).accumulate(b)},nodeStream:function(a,b){return this.internalStream(a||"nodebuffer").toNodejsStream(b)},_compressWorker:function(a,b){if(this._data instanceof g&&this._data.compression.magic===a.magic)return this._data.getCompressedWorker();var c=this._decompressWorker();return this._dataBinary||(c=c.pipe(new f.Utf8EncodeWorker)),g.createWorkerFrom(c,a,b)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof h?this._data:new e(this._data)}};for(var j=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],k=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<j.length;l++)i.prototype[j[l]]=k;b.exports=i},{"./compressedObject":54,"./stream/DataWorker":79,"./stream/GenericWorker":80,"./stream/StreamHelper":81,"./utf8":83}],88:[function(a,b,c){"use strict";var d=a("./lib/utils/common").assign,e=a("./lib/deflate"),f=a("./lib/inflate"),g=a("./lib/zlib/constants"),h={};d(h,e,f,g),b.exports=h},{"./lib/deflate":89,"./lib/inflate":90,"./lib/utils/common":91,"./lib/zlib/constants":94}],89:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);this.options=i.assign({level:o,method:q,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},a||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var c=h.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(c!==n)throw new Error(k[c]);if(b.header&&h.deflateSetHeader(this.strm,b.header),b.dictionary){var e;if(e="string"==typeof b.dictionary?j.string2buf(b.dictionary):"[object ArrayBuffer]"===m.call(b.dictionary)?new Uint8Array(b.dictionary):b.dictionary,(c=h.deflateSetDictionary(this.strm,e))!==n)throw new Error(k[c]);this._dict_set=!0}}function e(a,b){var c=new d(b);if(c.push(a,!0),c.err)throw c.msg||k[c.err];return c.result}function f(a,b){return b=b||{},b.raw=!0,e(a,b)}function g(a,b){return b=b||{},b.gzip=!0,e(a,b)}var h=a("./zlib/deflate"),i=a("./utils/common"),j=a("./utils/strings"),k=a("./zlib/messages"),l=a("./zlib/zstream"),m=Object.prototype.toString,n=0,o=-1,p=0,q=8;d.prototype.push=function(a,b){var c,d,e=this.strm,f=this.options.chunkSize;if(this.ended)return!1;d=b===~~b?b:!0===b?4:0,"string"==typeof a?e.input=j.string2buf(a):"[object ArrayBuffer]"===m.call(a)?e.input=new Uint8Array(a):e.input=a,e.next_in=0,e.avail_in=e.input.length;do{if(0===e.avail_out&&(e.output=new i.Buf8(f),e.next_out=0,e.avail_out=f),1!==(c=h.deflate(e,d))&&c!==n)return this.onEnd(c),this.ended=!0,!1;0!==e.avail_out&&(0!==e.avail_in||4!==d&&2!==d)||("string"===this.options.to?this.onData(j.buf2binstring(i.shrinkBuf(e.output,e.next_out))):this.onData(i.shrinkBuf(e.output,e.next_out)))}while((e.avail_in>0||0===e.avail_out)&&1!==c);return 4===d?(c=h.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===n):2!==d||(this.onEnd(n),e.avail_out=0,!0)},d.prototype.onData=function(a){this.chunks.push(a)},d.prototype.onEnd=function(a){a===n&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Deflate=d,c.deflate=e,c.deflateRaw=f,c.gzip=g},{"./utils/common":91,"./utils/strings":92,"./zlib/deflate":96,"./zlib/messages":101,"./zlib/zstream":103}],90:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},a||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||a&&a.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&0==(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var c=g.inflateInit2(this.strm,b.windowBits);if(c!==j.Z_OK)throw new Error(k[c]);this.header=new m,g.inflateGetHeader(this.strm,this.header)}function e(a,b){var c=new d(b);if(c.push(a,!0),c.err)throw c.msg||k[c.err];return c.result}function f(a,b){return b=b||{},b.raw=!0,e(a,b)}var g=a("./zlib/inflate"),h=a("./utils/common"),i=a("./utils/strings"),j=a("./zlib/constants"),k=a("./zlib/messages"),l=a("./zlib/zstream"),m=a("./zlib/gzheader"),n=Object.prototype.toString;d.prototype.push=function(a,b){var c,d,e,f,k,l,m=this.strm,o=this.options.chunkSize,p=this.options.dictionary,q=!1;if(this.ended)return!1;d=b===~~b?b:!0===b?j.Z_FINISH:j.Z_NO_FLUSH,"string"==typeof a?m.input=i.binstring2buf(a):"[object ArrayBuffer]"===n.call(a)?m.input=new Uint8Array(a):m.input=a,m.next_in=0,m.avail_in=m.input.length;do{if(0===m.avail_out&&(m.output=new h.Buf8(o),m.next_out=0,m.avail_out=o),c=g.inflate(m,j.Z_NO_FLUSH),c===j.Z_NEED_DICT&&p&&(l="string"==typeof p?i.string2buf(p):"[object ArrayBuffer]"===n.call(p)?new Uint8Array(p):p,c=g.inflateSetDictionary(this.strm,l)),c===j.Z_BUF_ERROR&&!0===q&&(c=j.Z_OK,q=!1),c!==j.Z_STREAM_END&&c!==j.Z_OK)return this.onEnd(c),this.ended=!0,!1;m.next_out&&(0!==m.avail_out&&c!==j.Z_STREAM_END&&(0!==m.avail_in||d!==j.Z_FINISH&&d!==j.Z_SYNC_FLUSH)||("string"===this.options.to?(e=i.utf8border(m.output,m.next_out),f=m.next_out-e,k=i.buf2string(m.output,e),m.next_out=f,m.avail_out=o-f,f&&h.arraySet(m.output,m.output,e,f,0),this.onData(k)):this.onData(h.shrinkBuf(m.output,m.next_out)))),0===m.avail_in&&0===m.avail_out&&(q=!0)}while((m.avail_in>0||0===m.avail_out)&&c!==j.Z_STREAM_END);return c===j.Z_STREAM_END&&(d=j.Z_FINISH),d===j.Z_FINISH?(c=g.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===j.Z_OK):d!==j.Z_SYNC_FLUSH||(this.onEnd(j.Z_OK),m.avail_out=0,!0)},d.prototype.onData=function(a){this.chunks.push(a)},d.prototype.onEnd=function(a){a===j.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Inflate=d,c.inflate=e,c.inflateRaw=f,c.ungzip=e},{"./utils/common":91,"./utils/strings":92,"./zlib/constants":94,"./zlib/gzheader":97,"./zlib/inflate":99,"./zlib/messages":101,"./zlib/zstream":103}],91:[function(a,b,c){"use strict";var d="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;c.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a},c.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var e={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray)return void a.set(b.subarray(c,c+d),e);for(var f=0;f<d;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f,g;for(d=0,b=0,c=a.length;b<c;b++)d+=a[b].length;for(g=new Uint8Array(d),e=0,b=0,c=a.length;b<c;b++)f=a[b],g.set(f,e),e+=f.length;return g}},f={arraySet:function(a,b,c,d,e){for(var f=0;f<d;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};c.setTyped=function(a){a?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,e)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,f))},c.setTyped(d)},{}],92:[function(a,b,c){"use strict";function d(a,b){if(b<65537&&(a.subarray&&g||!a.subarray&&f))return String.fromCharCode.apply(null,e.shrinkBuf(a,b));for(var c="",d=0;d<b;d++)c+=String.fromCharCode(a[d]);return c}var e=a("./common"),f=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch(a){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){g=!1}for(var h=new e.Buf8(256),i=0;i<256;i++)h[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;h[254]=h[254]=1,c.string2buf=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;f<h;f++)c=a.charCodeAt(f),55296==(64512&c)&&f+1<h&&56320==(64512&(d=a.charCodeAt(f+1)))&&(c=65536+(c-55296<<10)+(d-56320),f++),i+=c<128?1:c<2048?2:c<65536?3:4;for(b=new e.Buf8(i),g=0,f=0;g<i;f++)c=a.charCodeAt(f),55296==(64512&c)&&f+1<h&&56320==(64512&(d=a.charCodeAt(f+1)))&&(c=65536+(c-55296<<10)+(d-56320),f++),c<128?b[g++]=c:c<2048?(b[g++]=192|c>>>6,b[g++]=128|63&c):c<65536?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},c.buf2binstring=function(a){return d(a,a.length)},c.binstring2buf=function(a){for(var b=new e.Buf8(a.length),c=0,d=b.length;c<d;c++)b[c]=a.charCodeAt(c);return b},c.buf2string=function(a,b){var c,e,f,g,i=b||a.length,j=new Array(2*i);for(e=0,c=0;c<i;)if((f=a[c++])<128)j[e++]=f;else if((g=h[f])>4)j[e++]=65533,c+=g-1;else{for(f&=2===g?31:3===g?15:7;g>1&&c<i;)f=f<<6|63&a[c++],g--;g>1?j[e++]=65533:f<65536?j[e++]=f:(f-=65536,j[e++]=55296|f>>10&1023,j[e++]=56320|1023&f)}return d(j,e)},c.utf8border=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128==(192&a[c]);)c--;return c<0?b:0===c?b:c+h[a[c]]>b?c:b}},{"./common":91}],93:[function(a,b,c){"use strict";function d(a,b,c,d){for(var e=65535&a|0,f=a>>>16&65535|0,g=0;0!==c;){g=c>2e3?2e3:c,c-=g;do{e=e+b[d++]|0,f=f+e|0}while(--g);e%=65521,f%=65521}return e|f<<16|0}b.exports=d},{}],94:[function(a,b,c){"use strict";b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],95:[function(a,b,c){"use strict";function d(a,b,c,d){var f=e,g=d+c;a^=-1;for(var h=d;h<g;h++)a=a>>>8^f[255&(a^b[h])];return-1^a}var e=function(){for(var a,b=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}();b.exports=d},{}],96:[function(a,b,c){"use strict";function d(a,b){return a.msg=I[b],b}function e(a){return(a<<1)-(a>4?9:0)}function f(a){for(var b=a.length;--b>=0;)a[b]=0}function g(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out),0!==c&&(E.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))}function h(a,b){F._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,g(a.strm)}function i(a,b){a.pending_buf[a.pending++]=b}function j(a,b){a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=255&b}function k(a,b,c,d){var e=a.avail_in;return e>d&&(e=d),0===e?0:(a.avail_in-=e,E.arraySet(b,a.input,a.next_in,e,c),1===a.state.wrap?a.adler=G(a.adler,b,e,c):2===a.state.wrap&&(a.adler=H(a.adler,b,e,c)),a.next_in+=e,a.total_in+=e,e)}function l(a,b){var c,d,e=a.max_chain_length,f=a.strstart,g=a.prev_length,h=a.nice_match,i=a.strstart>a.w_size-ja?a.strstart-(a.w_size-ja):0,j=a.window,k=a.w_mask,l=a.prev,m=a.strstart+ia,n=j[f+g-1],o=j[f+g];a.prev_length>=a.good_match&&(e>>=2),h>a.lookahead&&(h=a.lookahead);do{if(c=b,j[c+g]===o&&j[c+g-1]===n&&j[c]===j[f]&&j[++c]===j[f+1]){f+=2,c++;do{}while(j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&f<m);if(d=ia-(m-f),f=m-ia,d>g){if(a.match_start=b,g=d,d>=h)break;n=j[f+g-1],o=j[f+g]}}}while((b=l[b&k])>i&&0!=--e);return g<=a.lookahead?g:a.lookahead}function m(a){var b,c,d,e,f,g=a.w_size;do{if(e=a.window_size-a.lookahead-a.strstart,a.strstart>=g+(g-ja)){E.arraySet(a.window,a.window,g,g,0),a.match_start-=g,a.strstart-=g,a.block_start-=g,c=a.hash_size,b=c;do{d=a.head[--b],a.head[b]=d>=g?d-g:0}while(--c);c=g,b=c;do{d=a.prev[--b],a.prev[b]=d>=g?d-g:0}while(--c);e+=g}if(0===a.strm.avail_in)break;if(c=k(a.strm,a.window,a.strstart+a.lookahead,e),a.lookahead+=c,a.lookahead+a.insert>=ha)for(f=a.strstart-a.insert,a.ins_h=a.window[f],a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+ha-1])&a.hash_mask,a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,!(a.lookahead+a.insert<ha)););}while(a.lookahead<ja&&0!==a.strm.avail_in)}function n(a,b){var c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(a.lookahead<=1){if(m(a),0===a.lookahead&&b===J)return sa;if(0===a.lookahead)break}a.strstart+=a.lookahead,a.lookahead=0;var d=a.block_start+c;if((0===a.strstart||a.strstart>=d)&&(a.lookahead=a.strstart-d,a.strstart=d,h(a,!1),0===a.strm.avail_out))return sa;if(a.strstart-a.block_start>=a.w_size-ja&&(h(a,!1),0===a.strm.avail_out))return sa}return a.insert=0,b===M?(h(a,!0),0===a.strm.avail_out?ua:va):(a.strstart>a.block_start&&(h(a,!1),a.strm.avail_out),sa)}function o(a,b){for(var c,d;;){if(a.lookahead<ja){if(m(a),a.lookahead<ja&&b===J)return sa;if(0===a.lookahead)break}if(c=0,a.lookahead>=ha&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ha-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-ja&&(a.match_length=l(a,c)),a.match_length>=ha)if(d=F._tr_tally(a,a.strstart-a.match_start,a.match_length-ha),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=ha){a.match_length--;do{a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ha-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart}while(0!=--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else d=F._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(h(a,!1),0===a.strm.avail_out))return sa}return a.insert=a.strstart<ha-1?a.strstart:ha-1,b===M?(h(a,!0),0===a.strm.avail_out?ua:va):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sa:ta}function p(a,b){for(var c,d,e;;){if(a.lookahead<ja){if(m(a),a.lookahead<ja&&b===J)return sa;if(0===a.lookahead)break}if(c=0,a.lookahead>=ha&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ha-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=ha-1,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-ja&&(a.match_length=l(a,c),a.match_length<=5&&(a.strategy===U||a.match_length===ha&&a.strstart-a.match_start>4096)&&(a.match_length=ha-1)),a.prev_length>=ha&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-ha,d=F._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-ha),a.lookahead-=a.prev_length-1,a.prev_length-=2;do{++a.strstart<=e&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ha-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart)}while(0!=--a.prev_length);if(a.match_available=0,a.match_length=ha-1,a.strstart++,d&&(h(a,!1),0===a.strm.avail_out))return sa}else if(a.match_available){if(d=F._tr_tally(a,0,a.window[a.strstart-1]),d&&h(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return sa}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(d=F._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<ha-1?a.strstart:ha-1,b===M?(h(a,!0),0===a.strm.avail_out?ua:va):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sa:ta}function q(a,b){for(var c,d,e,f,g=a.window;;){if(a.lookahead<=ia){if(m(a),a.lookahead<=ia&&b===J)return sa;if(0===a.lookahead)break}if(a.match_length=0,a.lookahead>=ha&&a.strstart>0&&(e=a.strstart-1,(d=g[e])===g[++e]&&d===g[++e]&&d===g[++e])){f=a.strstart+ia;do{}while(d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&e<f);a.match_length=ia-(f-e),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=ha?(c=F._tr_tally(a,1,a.match_length-ha),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=F._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(h(a,!1),0===a.strm.avail_out))return sa}return a.insert=0,b===M?(h(a,!0),0===a.strm.avail_out?ua:va):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sa:ta}function r(a,b){for(var c;;){if(0===a.lookahead&&(m(a),0===a.lookahead)){if(b===J)return sa;break}if(a.match_length=0,c=F._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(h(a,!1),0===a.strm.avail_out))return sa}return a.insert=0,b===M?(h(a,!0),0===a.strm.avail_out?ua:va):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sa:ta}function s(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e}function t(a){a.window_size=2*a.w_size,f(a.head),a.max_lazy_match=D[a.level].max_lazy,a.good_match=D[a.level].good_length,a.nice_match=D[a.level].nice_length,a.max_chain_length=D[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=ha-1,a.match_available=0,a.ins_h=0}function u(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new E.Buf16(2*fa),this.dyn_dtree=new E.Buf16(2*(2*da+1)),this.bl_tree=new E.Buf16(2*(2*ea+1)),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new E.Buf16(ga+1),this.heap=new E.Buf16(2*ca+1),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new E.Buf16(2*ca+1),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function v(a){var b;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=Z,b=a.state,b.pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=b.wrap?la:qa,a.adler=2===b.wrap?0:1,b.last_flush=J,F._tr_init(b),O):d(a,Q)}function w(a){var b=v(a);return b===O&&t(a.state),b}function x(a,b){return a&&a.state?2!==a.state.wrap?Q:(a.state.gzhead=b,O):Q}function y(a,b,c,e,f,g){if(!a)return Q;var h=1;if(b===T&&(b=6),e<0?(h=0,e=-e):e>15&&(h=2,e-=16),f<1||f>_||c!==$||e<8||e>15||b<0||b>9||g<0||g>X)return d(a,Q);8===e&&(e=9);var i=new u;return a.state=i,i.strm=a,i.wrap=h,i.gzhead=null,i.w_bits=e,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=f+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+ha-1)/ha),i.window=new E.Buf8(2*i.w_size),i.head=new E.Buf16(i.hash_size),i.prev=new E.Buf16(i.w_size),i.lit_bufsize=1<<f+6,i.pending_buf_size=4*i.lit_bufsize,i.pending_buf=new E.Buf8(i.pending_buf_size),i.d_buf=1*i.lit_bufsize,i.l_buf=3*i.lit_bufsize,i.level=b,i.strategy=g,i.method=c,w(a)}function z(a,b){return y(a,b,$,aa,ba,Y)}function A(a,b){var c,h,k,l;if(!a||!a.state||b>N||b<0)return a?d(a,Q):Q;if(h=a.state,!a.output||!a.input&&0!==a.avail_in||h.status===ra&&b!==M)return d(a,0===a.avail_out?S:Q);if(h.strm=a,c=h.last_flush,h.last_flush=b,h.status===la)if(2===h.wrap)a.adler=0,i(h,31),i(h,139),i(h,8),h.gzhead?(i(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),i(h,255&h.gzhead.time),i(h,h.gzhead.time>>8&255),i(h,h.gzhead.time>>16&255),i(h,h.gzhead.time>>24&255),i(h,9===h.level?2:h.strategy>=V||h.level<2?4:0),i(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(i(h,255&h.gzhead.extra.length),i(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(a.adler=H(a.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=ma):(i(h,0),i(h,0),i(h,0),i(h,0),i(h,0),i(h,9===h.level?2:h.strategy>=V||h.level<2?4:0),i(h,wa),h.status=qa);else{var m=$+(h.w_bits-8<<4)<<8,n=-1;n=h.strategy>=V||h.level<2?0:h.level<6?1:6===h.level?2:3,m|=n<<6,0!==h.strstart&&(m|=ka),m+=31-m%31,h.status=qa,j(h,m),0!==h.strstart&&(j(h,a.adler>>>16),j(h,65535&a.adler)),a.adler=1}if(h.status===ma)if(h.gzhead.extra){for(k=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending!==h.pending_buf_size));)i(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=na)}else h.status=na;if(h.status===na)if(h.gzhead.name){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.gzindex=0,h.status=oa)}else h.status=oa;if(h.status===oa)if(h.gzhead.comment){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.status=pa)}else h.status=pa;if(h.status===pa&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&g(a),h.pending+2<=h.pending_buf_size&&(i(h,255&a.adler),i(h,a.adler>>8&255),a.adler=0,h.status=qa)):h.status=qa),0!==h.pending){if(g(a),0===a.avail_out)return h.last_flush=-1,O}else if(0===a.avail_in&&e(b)<=e(c)&&b!==M)return d(a,S);if(h.status===ra&&0!==a.avail_in)return d(a,S);if(0!==a.avail_in||0!==h.lookahead||b!==J&&h.status!==ra){var o=h.strategy===V?r(h,b):h.strategy===W?q(h,b):D[h.level].func(h,b);if(o!==ua&&o!==va||(h.status=ra),o===sa||o===ua)return 0===a.avail_out&&(h.last_flush=-1),O;if(o===ta&&(b===K?F._tr_align(h):b!==N&&(F._tr_stored_block(h,0,0,!1),b===L&&(f(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),g(a),0===a.avail_out))return h.last_flush=-1,O}return b!==M?O:h.wrap<=0?P:(2===h.wrap?(i(h,255&a.adler),i(h,a.adler>>8&255),i(h,a.adler>>16&255),i(h,a.adler>>24&255),i(h,255&a.total_in),i(h,a.total_in>>8&255),i(h,a.total_in>>16&255),i(h,a.total_in>>24&255)):(j(h,a.adler>>>16),j(h,65535&a.adler)),g(a),h.wrap>0&&(h.wrap=-h.wrap),0!==h.pending?O:P)}function B(a){var b;return a&&a.state?(b=a.state.status)!==la&&b!==ma&&b!==na&&b!==oa&&b!==pa&&b!==qa&&b!==ra?d(a,Q):(a.state=null,b===qa?d(a,R):O):Q}function C(a,b){var c,d,e,g,h,i,j,k,l=b.length;if(!a||!a.state)return Q;if(c=a.state,2===(g=c.wrap)||1===g&&c.status!==la||c.lookahead)return Q;for(1===g&&(a.adler=G(a.adler,b,l,0)),c.wrap=0,l>=c.w_size&&(0===g&&(f(c.head),c.strstart=0,c.block_start=0,c.insert=0),k=new E.Buf8(c.w_size),E.arraySet(k,b,l-c.w_size,c.w_size,0),b=k,l=c.w_size),h=a.avail_in,i=a.next_in,j=a.input,a.avail_in=l,a.next_in=0,a.input=b,m(c);c.lookahead>=ha;){d=c.strstart,e=c.lookahead-(ha-1);do{c.ins_h=(c.ins_h<<c.hash_shift^c.window[d+ha-1])&c.hash_mask,c.prev[d&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=d,d++}while(--e);c.strstart=d,c.lookahead=ha-1,m(c)}return c.strstart+=c.lookahead,c.block_start=c.strstart,c.insert=c.lookahead,c.lookahead=0,c.match_length=c.prev_length=ha-1,c.match_available=0,a.next_in=i,a.input=j,a.avail_in=h,c.wrap=g,O}var D,E=a("../utils/common"),F=a("./trees"),G=a("./adler32"),H=a("./crc32"),I=a("./messages"),J=0,K=1,L=3,M=4,N=5,O=0,P=1,Q=-2,R=-3,S=-5,T=-1,U=1,V=2,W=3,X=4,Y=0,Z=2,$=8,_=9,aa=15,ba=8,ca=286,da=30,ea=19,fa=2*ca+1,ga=15,ha=3,ia=258,ja=ia+ha+1,ka=32,la=42,ma=69,na=73,oa=91,pa=103,qa=113,ra=666,sa=1,ta=2,ua=3,va=4,wa=3;D=[new s(0,0,0,0,n),new s(4,4,8,4,o),new s(4,5,16,8,o),new s(4,6,32,32,o),new s(4,4,16,16,p),new s(8,16,32,32,p),new s(8,16,128,128,p),new s(8,32,128,256,p),new s(32,128,258,1024,p),new s(32,258,258,4096,p)],c.deflateInit=z,c.deflateInit2=y,c.deflateReset=w,c.deflateResetKeep=v,c.deflateSetHeader=x,c.deflate=A,c.deflateEnd=B,c.deflateSetDictionary=C,c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":91,"./adler32":93,"./crc32":95,"./messages":101,"./trees":102}],97:[function(a,b,c){"use strict";function d(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}b.exports=d},{}],98:[function(a,b,c){"use strict";b.exports=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;c=a.state,d=a.next_in,z=a.input,e=d+(a.avail_in-5),f=a.next_out,A=a.output,g=f-(b-a.avail_out),h=f+(a.avail_out-257),i=c.dmax,j=c.wsize,k=c.whave,l=c.wnext,m=c.window,n=c.hold,o=c.bits,p=c.lencode,q=c.distcode,r=(1<<c.lenbits)-1,s=(1<<c.distbits)-1;a:do{o<15&&(n+=z[d++]<<o,o+=8,n+=z[d++]<<o,o+=8),t=p[n&r];b:for(;;){if(u=t>>>24,n>>>=u,o-=u,0===(u=t>>>16&255))A[f++]=65535&t;else{if(!(16&u)){if(0==(64&u)){t=p[(65535&t)+(n&(1<<u)-1)];continue b}if(32&u){c.mode=12;break a}a.msg="invalid literal/length code",c.mode=30;break a}v=65535&t,u&=15,u&&(o<u&&(n+=z[d++]<<o,o+=8),v+=n&(1<<u)-1,n>>>=u,o-=u),o<15&&(n+=z[d++]<<o,o+=8,n+=z[d++]<<o,o+=8),t=q[n&s];c:for(;;){if(u=t>>>24,n>>>=u,o-=u,!(16&(u=t>>>16&255))){if(0==(64&u)){t=q[(65535&t)+(n&(1<<u)-1)];continue c}a.msg="invalid distance code",c.mode=30;break a}if(w=65535&t,u&=15,o<u&&(n+=z[d++]<<o,(o+=8)<u&&(n+=z[d++]<<o,o+=8)),(w+=n&(1<<u)-1)>i){a.msg="invalid distance too far back",c.mode=30;break a}if(n>>>=u,o-=u,u=f-g,w>u){if((u=w-u)>k&&c.sane){a.msg="invalid distance too far back",c.mode=30;break a}if(x=0,y=m,0===l){if(x+=j-u,u<v){v-=u;do{A[f++]=m[x++]}while(--u);x=f-w,y=A}}else if(l<u){if(x+=j+l-u,(u-=l)<v){v-=u;do{A[f++]=m[x++]}while(--u);if(x=0,l<v){u=l,v-=u;do{A[f++]=m[x++]}while(--u);x=f-w,y=A}}}else if(x+=l-u,u<v){v-=u;do{A[f++]=m[x++]}while(--u);x=f-w,y=A}for(;v>2;)A[f++]=y[x++],A[f++]=y[x++],A[f++]=y[x++],v-=3;v&&(A[f++]=y[x++],v>1&&(A[f++]=y[x++]))}else{x=f-w;do{A[f++]=A[x++],A[f++]=A[x++],A[f++]=A[x++],v-=3}while(v>2);v&&(A[f++]=A[x++],v>1&&(A[f++]=A[x++]))}break}}break}}while(d<e&&f<h);v=o>>3,d-=v,o-=v<<3,n&=(1<<o)-1,a.next_in=d,a.next_out=f,a.avail_in=d<e?e-d+5:5-(d-e),a.avail_out=f<h?h-f+257:257-(f-h),c.hold=n,c.bits=o}},{}],99:[function(a,b,c){"use strict";function d(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg="",b.wrap&&(a.adler=1&b.wrap),b.mode=L,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new s.Buf32(pa),b.distcode=b.distdyn=new s.Buf32(qa),b.sane=1,b.back=-1,D):G}function g(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,f(a)):G}function h(a,b){var c,d;return a&&a.state?(d=a.state,b<0?(c=0,b=-b):(c=1+(b>>4),b<48&&(b&=15)),b&&(b<8||b>15)?G:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,g(a))):G}function i(a,b){var c,d;return a?(d=new e,a.state=d,d.window=null,c=h(a,b),c!==D&&(a.state=null),c):G}function j(a){return i(a,ra)}function k(a){if(sa){var b;for(q=new s.Buf32(512),r=new s.Buf32(32),b=0;b<144;)a.lens[b++]=8;for(;b<256;)a.lens[b++]=9;for(;b<280;)a.lens[b++]=7;for(;b<288;)a.lens[b++]=8;for(w(y,a.lens,0,288,q,0,a.work,{bits:9}),b=0;b<32;)a.lens[b++]=5;w(z,a.lens,0,32,r,0,a.work,{bits:5}),sa=!1}a.lencode=q,a.lenbits=9,a.distcode=r,a.distbits=5}function l(a,b,c,d){var e,f=a.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new s.Buf8(f.wsize)),d>=f.wsize?(s.arraySet(f.window,b,c-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>d&&(e=d),s.arraySet(f.window,b,c-d,e,f.wnext),d-=e,d?(s.arraySet(f.window,b,c-d,d,0),f.wnext=d,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function m(a,b){var c,e,f,g,h,i,j,m,n,o,p,q,r,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa=0,Ba=new s.Buf8(4),Ca=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return G;c=a.state,c.mode===W&&(c.mode=X),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,o=i,p=j,xa=D;a:for(;;)switch(c.mode){case L:if(0===c.wrap){c.mode=X;break}for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(2&c.wrap&&35615===m){c.check=0,Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=u(c.check,Ba,2,0),m=0,n=0,c.mode=M;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&m)<<8)+(m>>8))%31){a.msg="incorrect header check",c.mode=ma;break}if((15&m)!==K){a.msg="unknown compression method",c.mode=ma;break}if(m>>>=4,n-=4,wa=8+(15&m),0===c.wbits)c.wbits=wa;else if(wa>c.wbits){a.msg="invalid window size",c.mode=ma;break}c.dmax=1<<wa,a.adler=c.check=1,c.mode=512&m?U:W,m=0,n=0;break;case M:for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.flags=m,(255&c.flags)!==K){a.msg="unknown compression method",c.mode=ma;break}if(57344&c.flags){a.msg="unknown header flags set",c.mode=ma;break}c.head&&(c.head.text=m>>8&1),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,
c.check=u(c.check,Ba,2,0)),m=0,n=0,c.mode=N;case N:for(;n<32;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.time=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,Ba[2]=m>>>16&255,Ba[3]=m>>>24&255,c.check=u(c.check,Ba,4,0)),m=0,n=0,c.mode=O;case O:for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.xflags=255&m,c.head.os=m>>8),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=u(c.check,Ba,2,0)),m=0,n=0,c.mode=P;case P:if(1024&c.flags){for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length=m,c.head&&(c.head.extra_len=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=u(c.check,Ba,2,0)),m=0,n=0}else c.head&&(c.head.extra=null);c.mode=Q;case Q:if(1024&c.flags&&(q=c.length,q>i&&(q=i),q&&(c.head&&(wa=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),s.arraySet(c.head.extra,e,g,q,wa)),512&c.flags&&(c.check=u(c.check,e,q,g)),i-=q,g+=q,c.length-=q),c.length))break a;c.length=0,c.mode=R;case R:if(2048&c.flags){if(0===i)break a;q=0;do{wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.name+=String.fromCharCode(wa))}while(wa&&q<i);if(512&c.flags&&(c.check=u(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.name=null);c.length=0,c.mode=S;case S:if(4096&c.flags){if(0===i)break a;q=0;do{wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.comment+=String.fromCharCode(wa))}while(wa&&q<i);if(512&c.flags&&(c.check=u(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.comment=null);c.mode=T;case T:if(512&c.flags){for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(65535&c.check)){a.msg="header crc mismatch",c.mode=ma;break}m=0,n=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=W;break;case U:for(;n<32;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}a.adler=c.check=d(m),m=0,n=0,c.mode=V;case V:if(0===c.havedict)return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,F;a.adler=c.check=1,c.mode=W;case W:if(b===B||b===C)break a;case X:if(c.last){m>>>=7&n,n-=7&n,c.mode=ja;break}for(;n<3;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}switch(c.last=1&m,m>>>=1,n-=1,3&m){case 0:c.mode=Y;break;case 1:if(k(c),c.mode=ca,b===C){m>>>=2,n-=2;break a}break;case 2:c.mode=_;break;case 3:a.msg="invalid block type",c.mode=ma}m>>>=2,n-=2;break;case Y:for(m>>>=7&n,n-=7&n;n<32;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if((65535&m)!=(m>>>16^65535)){a.msg="invalid stored block lengths",c.mode=ma;break}if(c.length=65535&m,m=0,n=0,c.mode=Z,b===C)break a;case Z:c.mode=$;case $:if(q=c.length){if(q>i&&(q=i),q>j&&(q=j),0===q)break a;s.arraySet(f,e,g,q,h),i-=q,g+=q,j-=q,h+=q,c.length-=q;break}c.mode=W;break;case _:for(;n<14;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.nlen=257+(31&m),m>>>=5,n-=5,c.ndist=1+(31&m),m>>>=5,n-=5,c.ncode=4+(15&m),m>>>=4,n-=4,c.nlen>286||c.ndist>30){a.msg="too many length or distance symbols",c.mode=ma;break}c.have=0,c.mode=aa;case aa:for(;c.have<c.ncode;){for(;n<3;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.lens[Ca[c.have++]]=7&m,m>>>=3,n-=3}for(;c.have<19;)c.lens[Ca[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,ya={bits:c.lenbits},xa=w(x,c.lens,0,19,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg="invalid code lengths set",c.mode=ma;break}c.have=0,c.mode=ba;case ba:for(;c.have<c.nlen+c.ndist;){for(;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(sa<16)m>>>=qa,n-=qa,c.lens[c.have++]=sa;else{if(16===sa){for(za=qa+2;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m>>>=qa,n-=qa,0===c.have){a.msg="invalid bit length repeat",c.mode=ma;break}wa=c.lens[c.have-1],q=3+(3&m),m>>>=2,n-=2}else if(17===sa){for(za=qa+3;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=3+(7&m),m>>>=3,n-=3}else{for(za=qa+7;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=11+(127&m),m>>>=7,n-=7}if(c.have+q>c.nlen+c.ndist){a.msg="invalid bit length repeat",c.mode=ma;break}for(;q--;)c.lens[c.have++]=wa}}if(c.mode===ma)break;if(0===c.lens[256]){a.msg="invalid code -- missing end-of-block",c.mode=ma;break}if(c.lenbits=9,ya={bits:c.lenbits},xa=w(y,c.lens,0,c.nlen,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg="invalid literal/lengths set",c.mode=ma;break}if(c.distbits=6,c.distcode=c.distdyn,ya={bits:c.distbits},xa=w(z,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,ya),c.distbits=ya.bits,xa){a.msg="invalid distances set",c.mode=ma;break}if(c.mode=ca,b===C)break a;case ca:c.mode=da;case da:if(i>=6&&j>=258){a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,v(a,p),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,c.mode===W&&(c.back=-1);break}for(c.back=0;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(ra&&0==(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.lencode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(ta+qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,c.length=sa,0===ra){c.mode=ia;break}if(32&ra){c.back=-1,c.mode=W;break}if(64&ra){a.msg="invalid literal/length code",c.mode=ma;break}c.extra=15&ra,c.mode=ea;case ea:if(c.extra){for(za=c.extra;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=fa;case fa:for(;Aa=c.distcode[m&(1<<c.distbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(0==(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.distcode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(ta+qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,64&ra){a.msg="invalid distance code",c.mode=ma;break}c.offset=sa,c.extra=15&ra,c.mode=ga;case ga:if(c.extra){for(za=c.extra;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.offset+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg="invalid distance too far back",c.mode=ma;break}c.mode=ha;case ha:if(0===j)break a;if(q=p-j,c.offset>q){if((q=c.offset-q)>c.whave&&c.sane){a.msg="invalid distance too far back",c.mode=ma;break}q>c.wnext?(q-=c.wnext,r=c.wsize-q):r=c.wnext-q,q>c.length&&(q=c.length),pa=c.window}else pa=f,r=h-c.offset,q=c.length;q>j&&(q=j),j-=q,c.length-=q;do{f[h++]=pa[r++]}while(--q);0===c.length&&(c.mode=da);break;case ia:if(0===j)break a;f[h++]=c.length,j--,c.mode=da;break;case ja:if(c.wrap){for(;n<32;){if(0===i)break a;i--,m|=e[g++]<<n,n+=8}if(p-=j,a.total_out+=p,c.total+=p,p&&(a.adler=c.check=c.flags?u(c.check,f,p,h-p):t(c.check,f,p,h-p)),p=j,(c.flags?m:d(m))!==c.check){a.msg="incorrect data check",c.mode=ma;break}m=0,n=0}c.mode=ka;case ka:if(c.wrap&&c.flags){for(;n<32;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(4294967295&c.total)){a.msg="incorrect length check",c.mode=ma;break}m=0,n=0}c.mode=la;case la:xa=E;break a;case ma:xa=H;break a;case na:return I;case oa:default:return G}return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,(c.wsize||p!==a.avail_out&&c.mode<ma&&(c.mode<ja||b!==A))&&l(a,a.output,a.next_out,p-a.avail_out)?(c.mode=na,I):(o-=a.avail_in,p-=a.avail_out,a.total_in+=o,a.total_out+=p,c.total+=p,c.wrap&&p&&(a.adler=c.check=c.flags?u(c.check,f,p,a.next_out-p):t(c.check,f,p,a.next_out-p)),a.data_type=c.bits+(c.last?64:0)+(c.mode===W?128:0)+(c.mode===ca||c.mode===Z?256:0),(0===o&&0===p||b===A)&&xa===D&&(xa=J),xa)}function n(a){if(!a||!a.state)return G;var b=a.state;return b.window&&(b.window=null),a.state=null,D}function o(a,b){var c;return a&&a.state?(c=a.state,0==(2&c.wrap)?G:(c.head=b,b.done=!1,D)):G}function p(a,b){var c,d,e=b.length;return a&&a.state?(c=a.state,0!==c.wrap&&c.mode!==V?G:c.mode===V&&(d=1,(d=t(d,b,e,0))!==c.check)?H:l(a,b,e,e)?(c.mode=na,I):(c.havedict=1,D)):G}var q,r,s=a("../utils/common"),t=a("./adler32"),u=a("./crc32"),v=a("./inffast"),w=a("./inftrees"),x=0,y=1,z=2,A=4,B=5,C=6,D=0,E=1,F=2,G=-2,H=-3,I=-4,J=-5,K=8,L=1,M=2,N=3,O=4,P=5,Q=6,R=7,S=8,T=9,U=10,V=11,W=12,X=13,Y=14,Z=15,$=16,_=17,aa=18,ba=19,ca=20,da=21,ea=22,fa=23,ga=24,ha=25,ia=26,ja=27,ka=28,la=29,ma=30,na=31,oa=32,pa=852,qa=592,ra=15,sa=!0;c.inflateReset=g,c.inflateReset2=h,c.inflateResetKeep=f,c.inflateInit=j,c.inflateInit2=i,c.inflate=m,c.inflateEnd=n,c.inflateGetHeader=o,c.inflateSetDictionary=p,c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":91,"./adler32":93,"./crc32":95,"./inffast":98,"./inftrees":100}],100:[function(a,b,c){"use strict";var d=a("../utils/common"),e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(a,b,c,i,j,k,l,m){var n,o,p,q,r,s,t,u,v,w=m.bits,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=null,I=0,J=new d.Buf16(16),K=new d.Buf16(16),L=null,M=0;for(x=0;x<=15;x++)J[x]=0;for(y=0;y<i;y++)J[b[c+y]]++;for(B=w,A=15;A>=1&&0===J[A];A--);if(B>A&&(B=A),0===A)return j[k++]=20971520,j[k++]=20971520,m.bits=1,0;for(z=1;z<A&&0===J[z];z++);for(B<z&&(B=z),E=1,x=1;x<=15;x++)if(E<<=1,(E-=J[x])<0)return-1;if(E>0&&(0===a||1!==A))return-1;for(K[1]=0,x=1;x<15;x++)K[x+1]=K[x]+J[x];for(y=0;y<i;y++)0!==b[c+y]&&(l[K[b[c+y]]++]=y);if(0===a?(H=L=l,s=19):1===a?(H=e,I-=257,L=f,M-=257,s=256):(H=g,L=h,s=-1),G=0,y=0,x=z,r=k,C=B,D=0,p=-1,F=1<<B,q=F-1,1===a&&F>852||2===a&&F>592)return 1;for(;;){t=x-D,l[y]<s?(u=0,v=l[y]):l[y]>s?(u=L[M+l[y]],v=H[I+l[y]]):(u=96,v=0),n=1<<x-D,o=1<<C,z=o;do{o-=n,j[r+(G>>D)+o]=t<<24|u<<16|v|0}while(0!==o);for(n=1<<x-1;G&n;)n>>=1;if(0!==n?(G&=n-1,G+=n):G=0,y++,0==--J[x]){if(x===A)break;x=b[c+l[y]]}if(x>B&&(G&q)!==p){for(0===D&&(D=B),r+=z,C=x-D,E=1<<C;C+D<A&&!((E-=J[C+D])<=0);)C++,E<<=1;if(F+=1<<C,1===a&&F>852||2===a&&F>592)return 1;p=G&q,j[p]=B<<24|C<<16|r-k|0}}return 0!==G&&(j[r+G]=x-D<<24|64<<16|0),m.bits=B,0}},{"../utils/common":91}],101:[function(a,b,c){"use strict";b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],102:[function(a,b,c){"use strict";function d(a){for(var b=a.length;--b>=0;)a[b]=0}function e(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length}function f(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b}function g(a){return a<256?fa[a]:fa[256+(a>>>7)]}function h(a,b){a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=b>>>8&255}function i(a,b,c){a.bi_valid>V-c?(a.bi_buf|=b<<a.bi_valid&65535,h(a,a.bi_buf),a.bi_buf=b>>V-a.bi_valid,a.bi_valid+=c-V):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function j(a,b,c){i(a,c[2*b],c[2*b+1])}function k(a,b){var c=0;do{c|=1&a,a>>>=1,c<<=1}while(--b>0);return c>>>1}function l(a){16===a.bi_valid?(h(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}function m(a,b){var c,d,e,f,g,h,i=b.dyn_tree,j=b.max_code,k=b.stat_desc.static_tree,l=b.stat_desc.has_stree,m=b.stat_desc.extra_bits,n=b.stat_desc.extra_base,o=b.stat_desc.max_length,p=0;for(f=0;f<=U;f++)a.bl_count[f]=0;for(i[2*a.heap[a.heap_max]+1]=0,c=a.heap_max+1;c<T;c++)d=a.heap[c],f=i[2*i[2*d+1]+1]+1,f>o&&(f=o,p++),i[2*d+1]=f,d>j||(a.bl_count[f]++,g=0,d>=n&&(g=m[d-n]),h=i[2*d],a.opt_len+=h*(f+g),l&&(a.static_len+=h*(k[2*d+1]+g)));if(0!==p){do{for(f=o-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[o]--,p-=2}while(p>0);for(f=o;0!==f;f--)for(d=a.bl_count[f];0!==d;)(e=a.heap[--c])>j||(i[2*e+1]!==f&&(a.opt_len+=(f-i[2*e+1])*i[2*e],i[2*e+1]=f),d--)}}function n(a,b,c){var d,e,f=new Array(U+1),g=0;for(d=1;d<=U;d++)f[d]=g=g+c[d-1]<<1;for(e=0;e<=b;e++){var h=a[2*e+1];0!==h&&(a[2*e]=k(f[h]++,h))}}function o(){var a,b,c,d,f,g=new Array(U+1);for(c=0,d=0;d<O-1;d++)for(ha[d]=c,a=0;a<1<<_[d];a++)ga[c++]=d;for(ga[c-1]=d,f=0,d=0;d<16;d++)for(ia[d]=f,a=0;a<1<<aa[d];a++)fa[f++]=d;for(f>>=7;d<R;d++)for(ia[d]=f<<7,a=0;a<1<<aa[d]-7;a++)fa[256+f++]=d;for(b=0;b<=U;b++)g[b]=0;for(a=0;a<=143;)da[2*a+1]=8,a++,g[8]++;for(;a<=255;)da[2*a+1]=9,a++,g[9]++;for(;a<=279;)da[2*a+1]=7,a++,g[7]++;for(;a<=287;)da[2*a+1]=8,a++,g[8]++;for(n(da,Q+1,g),a=0;a<R;a++)ea[2*a+1]=5,ea[2*a]=k(a,5);ja=new e(da,_,P+1,Q,U),ka=new e(ea,aa,0,R,U),la=new e(new Array(0),ba,0,S,W)}function p(a){var b;for(b=0;b<Q;b++)a.dyn_ltree[2*b]=0;for(b=0;b<R;b++)a.dyn_dtree[2*b]=0;for(b=0;b<S;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*X]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function q(a){a.bi_valid>8?h(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function r(a,b,c,d){q(a),d&&(h(a,c),h(a,~c)),G.arraySet(a.pending_buf,a.window,b,c,a.pending),a.pending+=c}function s(a,b,c,d){var e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function t(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len&&(e<a.heap_len&&s(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!s(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,e<<=1;a.heap[c]=d}function u(a,b,c){var d,e,f,h,k=0;if(0!==a.last_lit)do{d=a.pending_buf[a.d_buf+2*k]<<8|a.pending_buf[a.d_buf+2*k+1],e=a.pending_buf[a.l_buf+k],k++,0===d?j(a,e,b):(f=ga[e],j(a,f+P+1,b),h=_[f],0!==h&&(e-=ha[f],i(a,e,h)),d--,f=g(d),j(a,f,c),0!==(h=aa[f])&&(d-=ia[f],i(a,d,h)))}while(k<a.last_lit);j(a,X,b)}function v(a,b){var c,d,e,f=b.dyn_tree,g=b.stat_desc.static_tree,h=b.stat_desc.has_stree,i=b.stat_desc.elems,j=-1;for(a.heap_len=0,a.heap_max=T,c=0;c<i;c++)0!==f[2*c]?(a.heap[++a.heap_len]=j=c,a.depth[c]=0):f[2*c+1]=0;for(;a.heap_len<2;)e=a.heap[++a.heap_len]=j<2?++j:0,f[2*e]=1,a.depth[e]=0,a.opt_len--,h&&(a.static_len-=g[2*e+1]);for(b.max_code=j,c=a.heap_len>>1;c>=1;c--)t(a,f,c);e=i;do{c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],t(a,f,1),d=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=d,f[2*e]=f[2*c]+f[2*d],a.depth[e]=(a.depth[c]>=a.depth[d]?a.depth[c]:a.depth[d])+1,f[2*c+1]=f[2*d+1]=e,a.heap[1]=e++,t(a,f,1)}while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],m(a,b),n(f,j,a.bl_count)}function w(a,b,c){var d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),b[2*(c+1)+1]=65535,d=0;d<=c;d++)e=g,g=b[2*(d+1)+1],++h<i&&e===g||(h<j?a.bl_tree[2*e]+=h:0!==e?(e!==f&&a.bl_tree[2*e]++,a.bl_tree[2*Y]++):h<=10?a.bl_tree[2*Z]++:a.bl_tree[2*$]++,h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4))}function x(a,b,c){var d,e,f=-1,g=b[1],h=0,k=7,l=4;for(0===g&&(k=138,l=3),d=0;d<=c;d++)if(e=g,g=b[2*(d+1)+1],!(++h<k&&e===g)){if(h<l)do{j(a,e,a.bl_tree)}while(0!=--h);else 0!==e?(e!==f&&(j(a,e,a.bl_tree),h--),j(a,Y,a.bl_tree),i(a,h-3,2)):h<=10?(j(a,Z,a.bl_tree),i(a,h-3,3)):(j(a,$,a.bl_tree),i(a,h-11,7));h=0,f=e,0===g?(k=138,l=3):e===g?(k=6,l=3):(k=7,l=4)}}function y(a){var b;for(w(a,a.dyn_ltree,a.l_desc.max_code),w(a,a.dyn_dtree,a.d_desc.max_code),v(a,a.bl_desc),b=S-1;b>=3&&0===a.bl_tree[2*ca[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b}function z(a,b,c,d){var e;for(i(a,b-257,5),i(a,c-1,5),i(a,d-4,4),e=0;e<d;e++)i(a,a.bl_tree[2*ca[e]+1],3);x(a,a.dyn_ltree,b-1),x(a,a.dyn_dtree,c-1)}function A(a){var b,c=4093624447;for(b=0;b<=31;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return I;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return J;for(b=32;b<P;b++)if(0!==a.dyn_ltree[2*b])return J;return I}function B(a){ma||(o(),ma=!0),a.l_desc=new f(a.dyn_ltree,ja),a.d_desc=new f(a.dyn_dtree,ka),a.bl_desc=new f(a.bl_tree,la),a.bi_buf=0,a.bi_valid=0,p(a)}function C(a,b,c,d){i(a,(L<<1)+(d?1:0),3),r(a,b,c,!0)}function D(a){i(a,M<<1,3),j(a,X,da),l(a)}function E(a,b,c,d){var e,f,g=0;a.level>0?(a.strm.data_type===K&&(a.strm.data_type=A(a)),v(a,a.l_desc),v(a,a.d_desc),g=y(a),e=a.opt_len+3+7>>>3,(f=a.static_len+3+7>>>3)<=e&&(e=f)):e=f=c+5,c+4<=e&&-1!==b?C(a,b,c,d):a.strategy===H||f===e?(i(a,(M<<1)+(d?1:0),3),u(a,da,ea)):(i(a,(N<<1)+(d?1:0),3),z(a,a.l_desc.max_code+1,a.d_desc.max_code+1,g+1),u(a,a.dyn_ltree,a.dyn_dtree)),p(a),d&&q(a)}function F(a,b,c){return a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&b,a.pending_buf[a.l_buf+a.last_lit]=255&c,a.last_lit++,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(ga[c]+P+1)]++,a.dyn_dtree[2*g(b)]++),a.last_lit===a.lit_bufsize-1}var G=a("../utils/common"),H=4,I=0,J=1,K=2,L=0,M=1,N=2,O=29,P=256,Q=P+1+O,R=30,S=19,T=2*Q+1,U=15,V=16,W=7,X=256,Y=16,Z=17,$=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],aa=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ba=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ca=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],da=new Array(2*(Q+2));d(da);var ea=new Array(2*R);d(ea);var fa=new Array(512);d(fa);var ga=new Array(256);d(ga);var ha=new Array(O);d(ha);var ia=new Array(R);d(ia);var ja,ka,la,ma=!1;c._tr_init=B,c._tr_stored_block=C,c._tr_flush_block=E,c._tr_tally=F,c._tr_align=D},{"../utils/common":91}],103:[function(a,b,c){"use strict";function d(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}b.exports=d},{}],104:[function(a,b,c){"use strict";function d(){}function e(a){if("function"!=typeof a)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,a!==d&&i(this,a)}function f(a,b,c){this.promise=a,"function"==typeof b&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),"function"==typeof c&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}function g(a,b,c){o(function(){var d;try{d=b(c)}catch(b){return p.reject(a,b)}d===a?p.reject(a,new TypeError("Cannot resolve promise with itself")):p.resolve(a,d)})}function h(a){var b=a&&a.then;if(a&&("object"==typeof a||"function"==typeof a)&&"function"==typeof b)return function(){b.apply(a,arguments)}}function i(a,b){function c(b){f||(f=!0,p.reject(a,b))}function d(b){f||(f=!0,p.resolve(a,b))}function e(){b(d,c)}var f=!1,g=j(e);"error"===g.status&&c(g.value)}function j(a,b){var c={};try{c.value=a(b),c.status="success"}catch(a){c.status="error",c.value=a}return c}function k(a){return a instanceof this?a:p.resolve(new this(d),a)}function l(a){var b=new this(d);return p.reject(b,a)}function m(a){var b=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var c=a.length,e=!1;if(!c)return this.resolve([]);for(var f=new Array(c),g=0,h=-1,i=new this(d);++h<c;)!function(a,d){function h(a){f[d]=a,++g!==c||e||(e=!0,p.resolve(i,f))}b.resolve(a).then(h,function(a){e||(e=!0,p.reject(i,a))})}(a[h],h);return i}function n(a){var b=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var c=a.length,e=!1;if(!c)return this.resolve([]);for(var f=-1,g=new this(d);++f<c;)!function(a){b.resolve(a).then(function(a){e||(e=!0,p.resolve(g,a))},function(a){e||(e=!0,p.reject(g,a))})}(a[f]);return g}var o=a("immediate"),p={},q=["REJECTED"],r=["FULFILLED"],s=["PENDING"];b.exports=e,e.prototype.catch=function(a){return this.then(null,a)},e.prototype.then=function(a,b){if("function"!=typeof a&&this.state===r||"function"!=typeof b&&this.state===q)return this;var c=new this.constructor(d);if(this.state!==s){g(c,this.state===r?a:b,this.outcome)}else this.queue.push(new f(c,a,b));return c},f.prototype.callFulfilled=function(a){p.resolve(this.promise,a)},f.prototype.otherCallFulfilled=function(a){g(this.promise,this.onFulfilled,a)},f.prototype.callRejected=function(a){p.reject(this.promise,a)},f.prototype.otherCallRejected=function(a){g(this.promise,this.onRejected,a)},p.resolve=function(a,b){var c=j(h,b);if("error"===c.status)return p.reject(a,c.value);var d=c.value;if(d)i(a,d);else{a.state=r,a.outcome=b;for(var e=-1,f=a.queue.length;++e<f;)a.queue[e].callFulfilled(b)}return a},p.reject=function(a,b){a.state=q,a.outcome=b;for(var c=-1,d=a.queue.length;++c<d;)a.queue[c].callRejected(b);return a},e.resolve=k,e.reject=l,e.all=m,e.race=n},{immediate:47}],105:[function(a,b,c){(function(a){"use strict";function c(b,c,d,e){if("function"!=typeof b)throw new TypeError('"callback" argument must be a function');var f,g,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(b);case 2:return a.nextTick(function(){b.call(null,c)});case 3:return a.nextTick(function(){b.call(null,c,d)});case 4:return a.nextTick(function(){b.call(null,c,d,e)});default:for(f=new Array(h-1),g=0;g<f.length;)f[g++]=arguments[g];return a.nextTick(function(){b.apply(null,f)})}}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?b.exports=c:b.exports=a.nextTick}).call(this,a("_process"))},{_process:106}],106:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],107:[function(a,b,c){b.exports=a("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":108}],108:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);j.call(this,a),k.call(this,a),a&&!1===a.readable&&(this.readable=!1),a&&!1===a.writable&&(this.writable=!1),this.allowHalfOpen=!0,a&&!1===a.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",e)}function e(){this.allowHalfOpen||this._writableState.ended||h(f,this)}function f(a){a.end()}var g=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};b.exports=d;var h=a("process-nextick-args"),i=a("core-util-is");i.inherits=a("inherits");var j=a("./_stream_readable"),k=a("./_stream_writable");i.inherits(d,j);for(var l=g(k.prototype),m=0;m<l.length;m++){var n=l[m];d.prototype[n]||(d.prototype[n]=k.prototype[n])}},{"./_stream_readable":110,"./_stream_writable":112,"core-util-is":26,inherits:48,"process-nextick-args":105}],109:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);e.call(this,a)}b.exports=d;var e=a("./_stream_transform"),f=a("core-util-is");f.inherits=a("inherits"),f.inherits(d,e),d.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":111,"core-util-is":26,inherits:48}],110:[function(a,b,c){(function(c){"use strict";function d(a,b,c){if("function"==typeof a.prependListener)return a.prependListener(b,c);a._events&&a._events[b]?F(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c)}function e(b,c){D=D||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof D&&(this.objectMode=this.objectMode||!!b.readableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=~~this.highWaterMark,this.buffer=new O,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=b.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(N||(N=a("string_decoder/").StringDecoder),this.decoder=new N(b.encoding),this.encoding=b.encoding)}function f(b){if(D=D||a("./_stream_duplex"),!(this instanceof f))return new f(b);this._readableState=new e(b,this),this.readable=!0,b&&"function"==typeof b.read&&(this._read=b.read),G.call(this)}function g(a,b,c,d,e){var f=k(b,c);if(f)a.emit("error",f);else if(null===c)b.reading=!1,l(a,b);else if(b.objectMode||c&&c.length>0)if(b.ended&&!e){var g=new Error("stream.push() after EOF");a.emit("error",g)}else if(b.endEmitted&&e){var i=new Error("stream.unshift() after end event");a.emit("error",i)}else{var j;!b.decoder||e||d||(c=b.decoder.write(c),j=!b.objectMode&&0===c.length),e||(b.reading=!1),j||(b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,e?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&m(a))),o(a,b)}else e||(b.reading=!1);return h(b)}function h(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function i(a){return a>=P?a=P:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++),a}function j(a,b){return a<=0||0===b.length&&b.ended?0:b.objectMode?1:a!==a?b.flowing&&b.length?b.buffer.head.data.length:b.length:(a>b.highWaterMark&&(b.highWaterMark=i(a)),a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0))}function k(a,b){var c=null;return I.isBuffer(b)||"string"==typeof b||null===b||void 0===b||a.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c}function l(a,b){if(!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,m(a)}}function m(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(M("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?E(n,a):n(a))}function n(a){M("emit readable"),a.emit("readable"),u(a)}function o(a,b){b.readingMore||(b.readingMore=!0,E(p,a,b))}function p(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(M("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function q(a){return function(){var b=a._readableState;M("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&H(a,"data")&&(b.flowing=!0,u(a))}}function r(a){M("readable nexttick read 0"),a.read(0)}function s(a,b){b.resumeScheduled||(b.resumeScheduled=!0,E(t,a,b))}function t(a,b){b.reading||(M("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),u(a),b.flowing&&!b.reading&&a.read(0)}function u(a){var b=a._readableState;for(M("flow",b.flowing);b.flowing&&null!==a.read(););}function v(a,b){if(0===b.length)return null;var c;return b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear()):c=w(a,b.buffer,b.decoder),c}function w(a,b,c){var d;return a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):d=a===b.head.data.length?b.shift():c?x(a,b):y(a,b),d}function x(a,b){var c=b.head,d=1,e=c.data;for(a-=e.length;c=c.next;){var f=c.data,g=a>f.length?f.length:a;if(g===f.length?e+=f:e+=f.slice(0,a),0===(a-=g)){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}return b.length-=d,e}function y(a,b){var c=J.allocUnsafe(a),d=b.head,e=1;for(d.data.copy(c),a-=d.data.length;d=d.next;){var f=d.data,g=a>f.length?f.length:a;if(f.copy(c,c.length-a,0,g),0===(a-=g)){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}return b.length-=e,c}function z(a){var b=a._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,E(A,b,a))}function A(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function B(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)}function C(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}b.exports=f;var D,E=a("process-nextick-args"),F=a("isarray");f.ReadableState=e;var G,H=(a("events").EventEmitter,function(a,b){return a.listeners(b).length});!function(){try{G=a("stream")}catch(a){}finally{G||(G=a("events").EventEmitter)}}();var I=a("buffer").Buffer,J=a("buffer-shims"),K=a("core-util-is");K.inherits=a("inherits");var L=a("util"),M=void 0;M=L&&L.debuglog?L.debuglog("stream"):function(){};var N,O=a("./internal/streams/BufferList");K.inherits(f,G),f.prototype.push=function(a,b){var c=this._readableState;return c.objectMode||"string"!=typeof a||(b=b||c.defaultEncoding)!==c.encoding&&(a=J.from(a,b),b=""),g(this,c,a,b,!1)},f.prototype.unshift=function(a){return g(this,this._readableState,a,"",!0)},f.prototype.isPaused=function(){return!1===this._readableState.flowing},f.prototype.setEncoding=function(b){return N||(N=a("string_decoder/").StringDecoder),this._readableState.decoder=new N(b),this._readableState.encoding=b,this};var P=8388608;f.prototype.read=function(a){M("read",a),a=parseInt(a,10);var b=this._readableState,c=a;if(0!==a&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return M("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?z(this):m(this),null;if(0===(a=j(a,b))&&b.ended)return 0===b.length&&z(this),null;var d=b.needReadable;M("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&(d=!0,M("length less than watermark",d)),b.ended||b.reading?(d=!1,M("reading or ended",d)):d&&(M("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=j(c,b)));var e;return e=a>0?v(a,b):null,null===e?(b.needReadable=!0,a=0):b.length-=a,0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&z(this)),null!==e&&this.emit("data",e),e},f.prototype._read=function(a){this.emit("error",new Error("_read() is not implemented"))},f.prototype.pipe=function(a,b){function e(a){M("onunpipe"),a===m&&g()}function f(){M("onend"),a.end()}function g(){M("cleanup"),a.removeListener("close",j),a.removeListener("finish",k),a.removeListener("drain",r),a.removeListener("error",i),a.removeListener("unpipe",e),m.removeListener("end",f),m.removeListener("end",g),m.removeListener("data",h),s=!0,!n.awaitDrain||a._writableState&&!a._writableState.needDrain||r()}function h(b){M("ondata"),t=!1,!1!==a.write(b)||t||((1===n.pipesCount&&n.pipes===a||n.pipesCount>1&&-1!==C(n.pipes,a))&&!s&&(M("false write response, pause",m._readableState.awaitDrain),m._readableState.awaitDrain++,t=!0),m.pause())}function i(b){M("onerror",b),l(),a.removeListener("error",i),0===H(a,"error")&&a.emit("error",b)}function j(){a.removeListener("finish",k),l()}function k(){M("onfinish"),a.removeListener("close",j),l()}function l(){M("unpipe"),m.unpipe(a)}var m=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=a;break;case 1:n.pipes=[n.pipes,a];break;default:n.pipes.push(a)}n.pipesCount+=1,M("pipe count=%d opts=%j",n.pipesCount,b);var o=(!b||!1!==b.end)&&a!==c.stdout&&a!==c.stderr,p=o?f:g;n.endEmitted?E(p):m.once("end",p),a.on("unpipe",e);var r=q(m);a.on("drain",r);var s=!1,t=!1;return m.on("data",h),d(a,"error",i),a.once("close",j),a.once("finish",k),a.emit("pipe",m),n.flowing||(M("pipe resume"),m.resume()),a},f.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this),this);if(!a){
var c=b.pipes,d=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var e=0;e<d;e++)c[e].emit("unpipe",this);return this}var f=C(b.pipes,a);return-1===f?this:(b.pipes.splice(f,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this),this)},f.prototype.on=function(a,b){var c=G.prototype.on.call(this,a,b);if("data"===a)!1!==this._readableState.flowing&&this.resume();else if("readable"===a){var d=this._readableState;d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.emittedReadable=!1,d.reading?d.length&&m(this):E(r,this))}return c},f.prototype.addListener=f.prototype.on,f.prototype.resume=function(){var a=this._readableState;return a.flowing||(M("resume"),a.flowing=!0,s(this,a)),this},f.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this},f.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){if(M("wrapped end"),b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(M("wrapped data"),b.decoder&&(e=b.decoder.write(e)),(!b.objectMode||null!==e&&void 0!==e)&&(b.objectMode||e&&e.length)){d.push(e)||(c=!0,a.pause())}});for(var e in a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));return B(["error","close","destroy","pause","resume"],function(b){a.on(b,d.emit.bind(d,b))}),d._read=function(b){M("wrapped _read",b),c&&(c=!1,a.resume())},d},f._fromList=v}).call(this,a("_process"))},{"./_stream_duplex":108,"./internal/streams/BufferList":113,_process:106,buffer:29,"buffer-shims":3,"core-util-is":26,events:28,inherits:48,isarray:50,"process-nextick-args":105,"string_decoder/":121,util:2}],111:[function(a,b,c){"use strict";function d(a){this.afterTransform=function(b,c){return e(a,b,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function e(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("no writecb in Transform class"));d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function f(a){if(!(this instanceof f))return new f(a);h.call(this,a),this._transformState=new d(this);var b=this;this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(a,c){g(b,a,c)}):g(b)})}function g(a,b,c){if(b)return a.emit("error",b);null!==c&&void 0!==c&&a.push(c);var d=a._writableState,e=a._transformState;if(d.length)throw new Error("Calling transform done when ws.length != 0");if(e.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}b.exports=f;var h=a("./_stream_duplex"),i=a("core-util-is");i.inherits=a("inherits"),i.inherits(f,h),f.prototype.push=function(a,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,b)},f.prototype._transform=function(a,b,c){throw new Error("_transform() is not implemented")},f.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},f.prototype._read=function(a){var b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0}},{"./_stream_duplex":108,"core-util-is":26,inherits:48}],112:[function(a,b,c){(function(c){"use strict";function d(){}function e(a,b,c){this.chunk=a,this.encoding=b,this.callback=c,this.next=null}function f(b,c){x=x||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof x&&(this.objectMode=this.objectMode||!!b.writableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var f=!1===b.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){o(c,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new w(this)}function g(b){if(x=x||a("./_stream_duplex"),!(F.call(g,this)||this instanceof x))return new g(b);this._writableState=new f(b,this),this.writable=!0,b&&("function"==typeof b.write&&(this._write=b.write),"function"==typeof b.writev&&(this._writev=b.writev)),B.call(this)}function h(a,b){var c=new Error("write after end");a.emit("error",c),y(b,c)}function i(a,b,c,d){var e=!0,f=!1;return null===c?f=new TypeError("May not write null values to stream"):D.isBuffer(c)||"string"==typeof c||void 0===c||b.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(a.emit("error",f),y(d,f),e=!1),e}function j(a,b,c){return a.objectMode||!1===a.decodeStrings||"string"!=typeof b||(b=E.from(b,c)),b}function k(a,b,c,d,f){c=j(b,c,d),D.isBuffer(c)&&(d="buffer");var g=b.objectMode?1:c.length;b.length+=g;var h=b.length<b.highWaterMark;if(h||(b.needDrain=!0),b.writing||b.corked){var i=b.lastBufferedRequest;b.lastBufferedRequest=new e(c,d,f),i?i.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else l(a,b,!1,g,c,d,f);return h}function l(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function m(a,b,c,d,e){--b.pendingcb,c?y(e,d):e(d),a._writableState.errorEmitted=!0,a.emit("error",d)}function n(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function o(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(n(c),b)m(a,c,d,b,e);else{var f=s(c);f||c.corked||c.bufferProcessing||!c.bufferedRequest||r(a,c),d?z(p,a,c,f,e):p(a,c,f,e)}}function p(a,b,c,d){c||q(a,b),b.pendingcb--,d(),u(a,b)}function q(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function r(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=b.bufferedRequestCount,e=new Array(d),f=b.corkedRequestsFree;f.entry=c;for(var g=0;c;)e[g]=c,c=c.next,g+=1;l(a,b,!0,b.length,e,"",f.finish),b.pendingcb++,b.lastBufferedRequest=null,f.next?(b.corkedRequestsFree=f.next,f.next=null):b.corkedRequestsFree=new w(b)}else{for(;c;){var h=c.chunk,i=c.encoding,j=c.callback;if(l(a,b,!1,b.objectMode?1:h.length,h,i,j),c=c.next,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequestCount=0,b.bufferedRequest=c,b.bufferProcessing=!1}function s(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function t(a,b){b.prefinished||(b.prefinished=!0,a.emit("prefinish"))}function u(a,b){var c=s(b);return c&&(0===b.pendingcb?(t(a,b),b.finished=!0,a.emit("finish")):t(a,b)),c}function v(a,b,c){b.ending=!0,u(a,b),c&&(b.finished?y(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function w(a){var b=this;this.next=null,this.entry=null,this.finish=function(c){var d=b.entry;for(b.entry=null;d;){var e=d.callback;a.pendingcb--,e(c),d=d.next}a.corkedRequestsFree?a.corkedRequestsFree.next=b:a.corkedRequestsFree=b}}b.exports=g;var x,y=a("process-nextick-args"),z=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?setImmediate:y;g.WritableState=f;var A=a("core-util-is");A.inherits=a("inherits");var B,C={deprecate:a("util-deprecate")};!function(){try{B=a("stream")}catch(a){}finally{B||(B=a("events").EventEmitter)}}();var D=a("buffer").Buffer,E=a("buffer-shims");A.inherits(g,B),f.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(f.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(a){}}();var F;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(F=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(a){return!!F.call(this,a)||a&&a._writableState instanceof f}})):F=function(a){return a instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(a,b,c){var e=this._writableState,f=!1;return"function"==typeof b&&(c=b,b=null),D.isBuffer(a)?b="buffer":b||(b=e.defaultEncoding),"function"!=typeof c&&(c=d),e.ended?h(this,c):i(this,e,a,c)&&(e.pendingcb++,f=k(this,e,a,b,c)),f},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||r(this,a))},g.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);return this._writableState.defaultEncoding=a,this},g.prototype._write=function(a,b,c){c(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!==a&&void 0!==a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||v(this,d,c)}}).call(this,a("_process"))},{"./_stream_duplex":108,_process:106,buffer:29,"buffer-shims":3,"core-util-is":26,events:28,inherits:48,"process-nextick-args":105,"util-deprecate":122}],113:[function(a,b,c){"use strict";function d(){this.head=null,this.tail=null,this.length=0}var e=(a("buffer").Buffer,a("buffer-shims"));b.exports=d,d.prototype.push=function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},d.prototype.unshift=function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length},d.prototype.shift=function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},d.prototype.clear=function(){this.head=this.tail=null,this.length=0},d.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c},d.prototype.concat=function(a){if(0===this.length)return e.alloc(0);if(1===this.length)return this.head.data;for(var b=e.allocUnsafe(a>>>0),c=this.head,d=0;c;)c.data.copy(b,d),d+=c.data.length,c=c.next;return b}},{buffer:29,"buffer-shims":3}],114:[function(a,b,c){b.exports=a("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":109}],115:[function(a,b,c){(function(d){var e=function(){try{return a("stream")}catch(a){}}();c=b.exports=a("./lib/_stream_readable.js"),c.Stream=e||c,c.Readable=c,c.Writable=a("./lib/_stream_writable.js"),c.Duplex=a("./lib/_stream_duplex.js"),c.Transform=a("./lib/_stream_transform.js"),c.PassThrough=a("./lib/_stream_passthrough.js"),!d.browser&&"disable"===d.env.READABLE_STREAM&&e&&(b.exports=e)}).call(this,a("_process"))},{"./lib/_stream_duplex.js":108,"./lib/_stream_passthrough.js":109,"./lib/_stream_readable.js":110,"./lib/_stream_transform.js":111,"./lib/_stream_writable.js":112,_process:106}],116:[function(a,b,c){b.exports=a("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":111}],117:[function(a,b,c){b.exports=a("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":112}],118:[function(a,b,c){!function(){"use strict";var a="undefined"==typeof window?{}:window.document,c=void 0!==b&&b.exports,d="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,e=function(){for(var b,c=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],d=0,e=c.length,f={};d<e;d++)if((b=c[d])&&b[1]in a){for(d=0;d<b.length;d++)f[c[0][d]]=b[d];return f}return!1}(),f={request:function(b){var c=e.requestFullscreen;b=b||a.documentElement,/5\.1[.\d]* Safari/.test(navigator.userAgent)?b[c]():b[c](d&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){a[e.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},onchange:function(b){a.addEventListener(e.fullscreenchange,b,!1)},onerror:function(b){a.addEventListener(e.fullscreenerror,b,!1)},raw:e};if(!e)return void(c?b.exports=!1:window.screenfull=!1);Object.defineProperties(f,{isFullscreen:{get:function(){return Boolean(a[e.fullscreenElement])}},element:{enumerable:!0,get:function(){return a[e.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(a[e.fullscreenEnabled])}}}),c?b.exports=f:window.screenfull=f}()},{}],119:[function(a,b,c){!function(a,c){void 0!==b&&b.exports?b.exports=c():"function"==typeof define&&define.amd?define(c):this.$script=c()}(0,function(){function a(a,b){for(var c=0,d=a.length;c<d;++c)if(!b(a[c]))return i;return 1}function b(b,c){a(b,function(a){return!c(a)})}function c(f,g,h){function i(a){return a.call?a():m[a]}function k(){if(!--s){m[r]=1,q&&q();for(var c in o)a(c.split("|"),i)&&!b(o[c],i)&&(o[c]=[])}}f=f[j]?f:[f];var l=g&&g.call,q=l?g:h,r=l?f.join(""):g,s=f.length;return setTimeout(function(){b(f,function a(b,c){return null===b?k():(c||/^https?:\/\//.test(b)||!e||(b=-1===b.indexOf(".js")?e+b+".js":e+b),p[b]?(r&&(n[r]=1),2==p[b]?k():setTimeout(function(){a(b,!0)},0)):(p[b]=1,r&&(n[r]=1),void d(b,k)))})},0),c}function d(a,b){var c,d=g.createElement("script");d.onload=d.onerror=d[l]=function(){d[k]&&!/^c|loade/.test(d[k])||c||(d.onload=d[l]=null,c=1,p[a]=2,b())},d.async=1,d.src=f?a+(-1===a.indexOf("?")?"?":"&")+f:a,h.insertBefore(d,h.lastChild)}var e,f,g=document,h=g.getElementsByTagName("head")[0],i=!1,j="push",k="readyState",l="onreadystatechange",m={},n={},o={},p={};return c.get=d,c.order=function(a,b,d){!function e(f){f=a.shift(),a.length?c(f,e):c(f,b,d)}()},c.path=function(a){e=a},c.urlArgs=function(a){f=a},c.ready=function(d,e,f){d=d[j]?d:[d];var g=[];return!b(d,function(a){m[a]||g[j](a)})&&a(d,function(a){return m[a]})?e():function(a){o[a]=o[a]||[],o[a][j](e),f&&f(g)}(d.join("|")),c},c.done=function(a){c([null],a)},c})},{}],120:[function(a,b,c){function d(){e.call(this)}b.exports=d;var e=a("events").EventEmitter;a("inherits")(d,e),d.Readable=a("readable-stream/readable.js"),d.Writable=a("readable-stream/writable.js"),d.Duplex=a("readable-stream/duplex.js"),d.Transform=a("readable-stream/transform.js"),d.PassThrough=a("readable-stream/passthrough.js"),d.Stream=d,d.prototype.pipe=function(a,b){function c(b){a.writable&&!1===a.write(b)&&j.pause&&j.pause()}function d(){j.readable&&j.resume&&j.resume()}function f(){k||(k=!0,a.end())}function g(){k||(k=!0,"function"==typeof a.destroy&&a.destroy())}function h(a){if(i(),0===e.listenerCount(this,"error"))throw a}function i(){j.removeListener("data",c),a.removeListener("drain",d),j.removeListener("end",f),j.removeListener("close",g),j.removeListener("error",h),a.removeListener("error",h),j.removeListener("end",i),j.removeListener("close",i),a.removeListener("close",i)}var j=this;j.on("data",c),a.on("drain",d),a._isStdio||b&&!1===b.end||(j.on("end",f),j.on("close",g));var k=!1;return j.on("error",h),a.on("error",h),j.on("end",i),j.on("close",i),a.on("close",i),a.emit("pipe",j),a}},{events:28,inherits:48,"readable-stream/duplex.js":107,"readable-stream/passthrough.js":114,"readable-stream/readable.js":115,"readable-stream/transform.js":116,"readable-stream/writable.js":117}],121:[function(a,b,c){function d(a){if(a&&!i(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){this.charReceived=a.length%2,this.charLength=this.charReceived?2:0}function g(a){this.charReceived=a.length%3,this.charLength=this.charReceived?3:0}var h=a("buffer").Buffer,i=h.isEncoding||function(a){switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},j=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};j.prototype.write=function(a){for(var b="";this.charLength;){var c=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,0,c),this.charReceived+=c,this.charReceived<this.charLength)return"";a=a.slice(c,a.length),b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var d=b.charCodeAt(b.length-1);if(!(d>=55296&&d<=56319)){if(this.charReceived=this.charLength=0,0===a.length)return b;break}this.charLength+=this.surrogateSize,b=""}this.detectIncompleteChar(a);var e=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,e),e-=this.charReceived),b+=a.toString(this.encoding,0,e);var e=b.length-1,d=b.charCodeAt(e);if(d>=55296&&d<=56319){var f=this.surrogateSize;return this.charLength+=f,this.charReceived+=f,this.charBuffer.copy(this.charBuffer,f,0,f),a.copy(this.charBuffer,0,0,f),b.substring(0,e)}return b},j.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(b<=2&&c>>4==14){this.charLength=3;break}if(b<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=b},j.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{buffer:29}],122:[function(a,b,c){(function(a){function c(a,b){function c(){if(!e){if(d("throwDeprecation"))throw new Error(b);d("traceDeprecation")?console.trace(b):console.warn(b),e=!0}return a.apply(this,arguments)}if(d("noDeprecation"))return a;var e=!1;return c}function d(b){try{if(!a.localStorage)return!1}catch(a){return!1}var c=a.localStorage[b];return null!=c&&"true"===String(c).toLowerCase()}b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],123:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{dup:48}],124:[function(a,b,c){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],125:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){r=" [Function"+(b.name?": "+b.name:"")+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(d<0)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var v;return v=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(v,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;g<h;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0;return a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||void 0===a}function C(a){return Object.prototype.toString.call(a)}function D(a){return a<10?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),I[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(/%[sdj%]/g,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(a){return"[Circular]"}default:return a}}),h=d[c];c<f;h=d[++c])q(h)||!x(h)?g+=" "+h:g+=" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(!0===b.noDeprecation)return a;var g=!1;return f};var G,H={};c.debuglog=function(a){if(v(G)&&(G=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!H[a])if(new RegExp("\\b"+a+"\\b","i").test(G)){var d=b.pid;H[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else H[a]=function(){};return H[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":124,_process:106,inherits:123}],126:[function(a,b,c){!function(){function a(a,b,c){return a.call.apply(a.bind,arguments)}function c(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function d(b,e,f){return d=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:c,d.apply(null,arguments)}function e(a,b){this.a=a,this.m=b||a,this.c=this.m.document}function f(a,b,c,d){if(b=a.c.createElement(b),c)for(var e in c)c.hasOwnProperty(e)&&("style"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));return d&&b.appendChild(a.c.createTextNode(d)),b}function g(a,b,c){a=a.c.getElementsByTagName(b)[0],a||(a=document.documentElement),a.insertBefore(c,a.lastChild)}function h(a){a.parentNode&&a.parentNode.removeChild(a)}function i(a,b,c){b=b||[],c=c||[];for(var d=a.className.split(/\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}for(b=[],e=0;e<d.length;e+=1){for(f=!1,g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function j(a,b){for(var c=a.className.split(/\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}function k(a){if("string"==typeof a.f)return a.f;var b=a.m.location.protocol;return"about:"==b&&(b=a.a.location.protocol),"https:"==b?"https:":"http:"}function l(a){return a.m.location.hostname||a.a.location.hostname}function m(a,b,c){function d(){j&&e&&h&&(j(i),j=null)}b=f(a,"link",{rel:"stylesheet",href:b,media:"all"});var e=!1,h=!0,i=null,j=c||null;ea?(b.onload=function(){e=!0,d()},b.onerror=function(){e=!0,i=Error("Stylesheet failed to load"),d()}):setTimeout(function(){e=!0,d()},0),g(a,"head",b)}function n(a,b,c,d){var e=a.c.getElementsByTagName("head")[0];if(e){var g=f(a,"script",{src:b}),h=!1;return g.onload=g.onreadystatechange=function(){h||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(h=!0,c&&c(null),g.onload=g.onreadystatechange=null,"HEAD"==g.parentNode.tagName&&e.removeChild(g))},e.appendChild(g),setTimeout(function(){h||(h=!0,c&&c(Error("Script load timeout")))},d||5e3),g}return null}function o(){this.a=0,this.c=null}function p(a){return a.a++,function(){a.a--,r(a)}}function q(a,b){a.c=b,r(a)}function r(a){0==a.a&&a.c&&(a.c(),a.c=null)}function s(a){this.a=a||"-"}function t(a,b){this.c=a,this.f=4,this.a="n";var c=(b||"n4").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function u(a){return x(a)+" "+a.f+"00 300px "+v(a.c)}function v(a){var b=[];a=a.split(/,\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['"]/g,"");-1!=d.indexOf(" ")||/^\d/.test(d)?b.push("'"+d+"'"):b.push(d)}return b.join(",")}function w(a){return a.a+a.f}function x(a){var b="normal";return"o"===a.a?b="oblique":"i"===a.a&&(b="italic"),b}function y(a){var b=4,c="n",d=null;return a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10)))),c+b}function z(a,b){this.c=a,this.f=a.m.document.documentElement,this.h=b,this.a=new s("-"),this.j=!1!==b.events,this.g=!1!==b.classes}function A(a){a.g&&i(a.f,[a.a.c("wf","loading")]),C(a,"loading")}function B(a){if(a.g){var b=j(a.f,a.a.c("wf","active")),c=[],d=[a.a.c("wf","loading")];b||c.push(a.a.c("wf","inactive")),i(a.f,c,d)}C(a,"inactive")}function C(a,b,c){a.j&&a.h[b]&&(c?a.h[b](c.c,w(c)):a.h[b]())}function D(){this.c={}}function E(a,b,c){var d,e=[];for(d in b)if(b.hasOwnProperty(d)){var f=a.c[d];f&&e.push(f(b[d],c))}return e}function F(a,b){this.c=a,this.f=b,this.a=f(this.c,"span",{"aria-hidden":"true"},this.f)}function G(a){g(a.c,"body",a.a)}function H(a){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+v(a.c)+";font-style:"+x(a)+";font-weight:"+a.f+"00;"}function I(a,b,c,d,e,f){this.g=a,this.j=b,this.a=d,this.c=c,this.f=e||3e3,this.h=f||void 0}function J(a,b,c,d,e,f,g){this.v=a,this.B=b,this.c=c,this.a=d,this.s=g||"BESbswy",this.f={},this.w=e||3e3,this.u=f||null,this.o=this.j=this.h=this.g=null,this.g=new F(this.c,this.s),this.h=new F(this.c,this.s),this.j=new F(this.c,this.s),this.o=new F(this.c,this.s),a=new t(this.a.c+",serif",w(this.a)),a=H(a),this.g.a.style.cssText=a,a=new t(this.a.c+",sans-serif",w(this.a)),a=H(a),this.h.a.style.cssText=a,a=new t("serif",w(this.a)),a=H(a),this.j.a.style.cssText=a,a=new t("sans-serif",w(this.a)),a=H(a),this.o.a.style.cssText=a,G(this.g),G(this.h),G(this.j),G(this.o)}function K(){if(null===ga){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);ga=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return ga}function L(a,b,c){for(var d in fa)if(fa.hasOwnProperty(d)&&b===a.f[fa[d]]&&c===a.f[fa[d]])return!0;return!1}function M(a){var b,c=a.g.a.offsetWidth,d=a.h.a.offsetWidth;(b=c===a.f.serif&&d===a.f["sans-serif"])||(b=K()&&L(a,c,d)),b?da()-a.A>=a.w?K()&&L(a,c,d)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?O(a,a.v):O(a,a.B):N(a):O(a,a.v)}function N(a){setTimeout(d(function(){M(this)},a),50)}function O(a,b){setTimeout(d(function(){h(this.g.a),h(this.h.a),h(this.j.a),h(this.o.a),b(this.a)},a),0)}function P(a,b,c){this.c=a,this.a=b,this.f=0,this.o=this.j=!1,this.s=c}function Q(a){0==--a.f&&a.j&&(a.o?(a=a.a,a.g&&i(a.f,[a.a.c("wf","active")],[a.a.c("wf","loading"),a.a.c("wf","inactive")]),C(a,"active")):B(a.a))}function R(a){this.j=a,this.a=new D,this.h=0,this.f=this.g=!0}function S(a,b,c,e,f){var g=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=f||null,h=e||null||{};if(0===c.length&&g)B(b.a);else{b.f+=c.length,g&&(b.j=g);var j,k=[];for(j=0;j<c.length;j++){var l=c[j],m=h[l.c],n=b.a,o=l;if(n.g&&i(n.f,[n.a.c("wf",o.c,w(o).toString(),"loading")]),C(n,"fontloading",o),n=null,null===ha)if(window.FontFace){
var o=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),p=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);ha=o?42<parseInt(o[1],10):!p}else ha=!1;n=ha?new I(d(b.g,b),d(b.h,b),b.c,l,b.s,m):new J(d(b.g,b),d(b.h,b),b.c,l,b.s,a,m),k.push(n)}for(j=0;j<k.length;j++)k[j].start()}},0)}function T(a,b,c){var d=[],e=c.timeout;A(b);var d=E(a.a,c,a.c),f=new P(a.c,b,e);for(a.h=d.length,b=0,c=d.length;b<c;b++)d[b].load(function(b,c,d){S(a,f,b,c,d)})}function U(a,b){this.c=a,this.a=b}function V(a,b,c){var d=k(a.c);return a=(a.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,""),d+"//"+a+"/"+b+".js"+(c?"?v="+c:"")}function W(a,b){this.c=a,this.a=b}function X(a,b,c){this.c=a||b+ia,this.a=[],this.f=[],this.g=c||""}function Y(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(":");3==e.length&&a.f.push(e.pop());var f="";2==e.length&&""!=e[1]&&(f=":"),a.a.push(e.join(f))}}function Z(a){if(0==a.a.length)throw Error("No fonts to load!");if(-1!=a.c.indexOf("kit="))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,"+"));return b=a.c+"?family="+c.join("%7C"),0<a.f.length&&(b+="&subset="+a.f.join(",")),0<a.g.length&&(b+="&text="+encodeURIComponent(a.g)),b}function $(a){this.f=a,this.a=[],this.c={}}function _(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(":"),e=d[0].replace(/\+/g," "),f=["n4"];if(2<=d.length){var g,h=d[1];if(g=[],h)for(var h=h.split(","),i=h.length,j=0;j<i;j++){var k;if(k=h[j],k.match(/^[\w-]+$/)){var l=ma.exec(k.toLowerCase());if(null==l)k="";else{if(k=l[2],k=null==k||""==k?"n":la[k],null==(l=l[1])||""==l)l="4";else var m=ka[l],l=m||(isNaN(l)?"4":l.substr(0,1));k=[k,l].join("")}}else k="";k&&g.push(k)}0<g.length&&(f=g),3==d.length&&(d=d[2],g=[],d=d?d.split(","):g,0<d.length&&(d=ja[d[0]])&&(a.c[e]=d))}for(a.c[e]||(d=ja[e])&&(a.c[e]=d),d=0;d<f.length;d+=1)a.a.push(new t(e,f[d]))}}function aa(a,b){this.c=a,this.a=b}function ba(a,b){this.c=a,this.a=b}function ca(a,b){this.c=a,this.f=b,this.a=[]}var da=Date.now||function(){return+new Date},ea=!!window.FontFace;s.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\W_]+/g,"").toLowerCase());return b.join(this.a)},I.prototype.start=function(){var a=this.c.m.document,b=this,c=da(),d=new Promise(function(d,e){function f(){da()-c>=b.f?e():a.fonts.load(u(b.a),b.h).then(function(a){1<=a.length?d():setTimeout(f,25)},function(){e()})}f()}),e=new Promise(function(a,c){setTimeout(c,b.f)});Promise.race([e,d]).then(function(){b.g(b.a)},function(){b.j(b.a)})};var fa={D:"serif",C:"sans-serif"},ga=null;J.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.o.a.offsetWidth,this.A=da(),M(this)};var ha=null;P.prototype.g=function(a){var b=this.a;b.g&&i(b.f,[b.a.c("wf",a.c,w(a).toString(),"active")],[b.a.c("wf",a.c,w(a).toString(),"loading"),b.a.c("wf",a.c,w(a).toString(),"inactive")]),C(b,"fontactive",a),this.o=!0,Q(this)},P.prototype.h=function(a){var b=this.a;if(b.g){var c=j(b.f,b.a.c("wf",a.c,w(a).toString(),"active")),d=[],e=[b.a.c("wf",a.c,w(a).toString(),"loading")];c||d.push(b.a.c("wf",a.c,w(a).toString(),"inactive")),i(b.f,d,e)}C(b,"fontinactive",a),Q(this)},R.prototype.load=function(a){this.c=new e(this.j,a.context||this.j),this.g=!1!==a.events,this.f=!1!==a.classes,T(this,new z(this.c,a),a)},U.prototype.load=function(a){function b(){if(f["__mti_fntLst"+d]){var c,e=f["__mti_fntLst"+d](),g=[];if(e)for(var h=0;h<e.length;h++){var i=e[h].fontfamily;void 0!=e[h].fontStyle&&void 0!=e[h].fontWeight?(c=e[h].fontStyle+e[h].fontWeight,g.push(new t(i,c))):g.push(new t(i))}a(g)}else setTimeout(function(){b()},50)}var c=this,d=c.a.projectId,e=c.a.version;if(d){var f=c.c.m;n(this.c,V(c,d,e),function(e){e?a([]):(f["__MonotypeConfiguration__"+d]=function(){return c.a},b())}).id="__MonotypeAPIScript__"+d}else a([])},W.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new o;for(b=0,c=d.length;b<c;b++)m(this.c,d[b],p(g));var h=[];for(b=0,c=e.length;b<c;b++)if(d=e[b].split(":"),d[1])for(var i=d[1].split(","),j=0;j<i.length;j+=1)h.push(new t(d[0],i[j]));else h.push(new t(d[0]));q(g,function(){a(h,f)})};var ia="//fonts.googleapis.com/css",ja={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},ka={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},la={i:"i",italic:"i",n:"n",normal:"n"},ma=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,na={Arimo:!0,Cousine:!0,Tinos:!0};aa.prototype.load=function(a){var b=new o,c=this.c,d=new X(this.a.api,k(c),this.a.text),e=this.a.families;Y(d,e);var f=new $(e);_(f),m(c,Z(d),p(b)),q(b,function(){a(f.a,f.c,na)})},ba.prototype.load=function(a){var b=this.a.id,c=this.c.m;b?n(this.c,(this.a.api||"https://use.typekit.net")+"/"+b+".js",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var d=[],e=0;e<b.length;e+=2)for(var f=b[e],g=b[e+1],h=0;h<g.length;h++)d.push(new t(f,g[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(a){}a(d)}},2e3):a([])},ca.prototype.load=function(a){var b=this.f.id,c=this.c.m,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var e=0,f=c.fonts.length;e<f;++e){var g=c.fonts[e];d.a.push(new t(g.name,y("font-weight:"+g.weight+";font-style:"+g.style)))}a(d.a)},n(this.c,k(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+l(this.c)+"/"+b+".js",function(b){b&&a([])})):a([])};var oa=new R(window);oa.a.c.custom=function(a,b){return new W(b,a)},oa.a.c.fontdeck=function(a,b){return new ca(b,a)},oa.a.c.monotype=function(a,b){return new U(b,a)},oa.a.c.typekit=function(a,b){return new ba(b,a)},oa.a.c.google=function(a,b){return new aa(b,a)};var pa={load:d(oa.load,oa)};"function"==typeof define&&define.amd?define(function(){return pa}):void 0!==b&&b.exports?b.exports=pa:(window.WebFont=pa,window.WebFontConfig&&oa.load(window.WebFontConfig))}()},{}],127:[function(a,b,c){b.exports=function(a,b,c){var d={};return d.Font=function(a,b,c,d,e){a&&(this.family=a),"number"==typeof b&&(this.size=b),c&&(this.bold=c),d&&(this.italic=d),e&&(this.variant=e),this._metrics={ascent:-1,descent:-1,height:-1}},d.Font.ALREADY_CALCULATED_FONTS=[],d.Font.SUBSTITUTIONS={abc:"Kalam","a.c.m.e. secret agent":"Permanent Marker","comic sans ms":"Patrick Hand",impact:"Oswald",massallera:"Vibur",memima:"Vibur",memima_n1:"Vibur",memima_n2:"Vibur","memimas-regularalternate":"Vibur",palmemim:"Vibur",zurichcalligraphic:"Felipa"},d.Font.ALREADY_LOADED_FONTS=[],d.Font.checkTree=function(b,e){var f=d.Font.SUBSTITUTIONS;e&&e.ownFonts&&e.ownFonts.forEach(function(a){d.Font.ALREADY_LOADED_FONTS.indexOf(a)<0&&c&&c.load&&(c.load({custom:{families:[a]}}),d.Font.ALREADY_LOADED_FONTS.push(a),delete f[a.trim().toLowerCase()])}),e&&e.fontSubstitutions&&(f=a.extend(Object.create(f),e.fontSubstitutions)),b.find("style[family],font[family]").each(function(){var b=a(this),c=b.attr("family").trim().toLowerCase();if(c in f){var e=f[c];""!==e&&(d.Font.loadGoogleFont(e),b.attr("family",e))}})},d.Font.loadGoogleFont=function(a){a&&d.Font.ALREADY_LOADED_FONTS.indexOf(a)<0&&c&&c.load&&(c.load({google:{families:[a]}}),d.Font.ALREADY_LOADED_FONTS.push(a))},d.Font.loadGoogleFonts=function(a){if(a)for(var b=0;b<a.length;b++)d.Font.loadGoogleFont(a[b])},d.Font.prototype={constructor:d.Font,family:"Arial",size:17,bold:0,italic:0,variant:"",_metrics:{ascent:-1,descent:-1,height:-1},setProperties:function(a){return a.attr("family")&&(this.family=a.attr("family")),a.attr("size")&&(this.size=Number(a.attr("size"))),a.attr("bold")&&(this.bold=b.getBoolean(a.attr("bold"))),a.attr("italic")&&(this.italic=b.getBoolean(a.attr("italic"))),a.attr("variant")&&(this.variant=a.attr("variant")),this},setSize:function(a){var b=this.size;return this.size=a,b!==a&&(this._metrics.height=-1),this},zoom:function(a){return this.setSize(this.size+a)},getHeight:function(){if(this._metrics.height<0){for(var a=0;a<d.Font.ALREADY_CALCULATED_FONTS.length;a++){var b=d.Font.ALREADY_CALCULATED_FONTS[a];if(b.equals(this)){this._metrics.height=b._metrics.height,this._metrics.ascent=b._metrics.ascent,this._metrics.descent=b._metrics.descent;break}}this._metrics.height<0&&(this._calcHeight(),this._metrics.height>0&&d.Font.ALREADY_CALCULATED_FONTS.push(this))}return this._metrics.height},toCss:function(a){return a||(a={}),a["font-family"]=this.family,a["font-size"]=this.size+"px",this.hasOwnProperty("bold")&&(a["font-weight"]=this.bold?"bold":"normal"),this.hasOwnProperty("italic")&&(a["font-style"]=this.italic?"italic":"normal"),this.hasOwnProperty("variant")&&(a["font-variant"]=this.variant),a},cssFont:function(){return(this.italic?"italic ":"normal")+" "+(""===this.variant?"normal":this.variant)+" "+(this.bold?"bold ":"normal")+" "+this.size+"pt "+this.family},_calcHeight:function(){var b=a("<span/>").html("Hg").css(this.toCss()),c=a("<div/>").css({display:"inline-block",width:"1px",height:"0px"}),d=a("<div/>").append(b,c);a("body").append(d);try{c.css({verticalAlign:"baseline"}),this._metrics.ascent=c.offset().top-b.offset().top,c.css({verticalAlign:"bottom"}),this._metrics.height=c.offset().top-b.offset().top,this._metrics.descent=this._metrics.height-this._metrics.ascent}finally{d.remove()}return this},equals:function(a){return this.family===a.family&&this.size===a.size&&this.bold===a.bold&&this.italic===a.italic&&this.variant===a.variant}},d.Gradient=function(a,b,c,d){a&&(this.c1=a),b&&(this.c2=b),"number"==typeof c&&(this.angle=c%360),"number"==typeof d&&(this.cycles=d)},d.Gradient.prototype={constructor:d.Gradient,c1:"white",c2:"black",angle:0,cycles:1,setProperties:function(a){return this.c1=b.checkColor(a.attr("source"),"black"),this.c2=b.checkColor(a.attr("dest"),"white"),this.angle=Number(a.attr("angle")||0)%360,this.cycles=Number(a.attr("cycles")||1),this},getGradient:function(a,b){for(var c=b.getOppositeVertex(),d=a.createLinearGradient(b.pos.x,b.pos.y,c.x,c.y),e=1/Math.max(this.cycles,1),f=0;f<=this.cycles;f++)d.addColorStop(f*e,f%2?this.c1:this.c2);return d},getCss:function(){for(var a="linear-gradient("+(this.angle+90)+"deg, "+this.c1+", "+this.c2,b=1;b<this.cycles;b++)a+=", "+(b%2>0?this.c1:this.c2);return a+=")"},hasTransparency:function(){return b.colorHasTransparency(this.c1)||b.colorHasTransparency(this.c2)}},d.Stroke=function(a,b,c,d){"number"==typeof a&&(this.lineWidth=a),b&&(this.lineCap=b),c&&(this.lineJoin=c),"number"==typeof d&&(this.miterLimit=d)},d.Stroke.prototype={constructor:d.Stroke,lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,setStroke:function(a){return a.lineWidth=this.lineWidth,a.lineCap=this.lineCap,a.lineJoin=this.lineJoin,a.miterLimit=this.miterLimit,a}},d.Point=function(a,b){a instanceof d.Point?(this.x=a.x,this.y=a.y):(this.x=a||0,this.y=b||0)},d.Point.prototype={constructor:d.Point,x:0,y:0,setProperties:function(a){return this.x=Number(a.attr("x")),this.y=Number(a.attr("y")),this},moveBy:function(a){return this.x+=a.x||a.width||0,this.y+=a.y||a.height||0,this},moveTo:function(a,b){return"number"==typeof a?(this.x=a,this.y=b):(this.x=a.x,this.y=a.y),this},multBy:function(a){return this.x*=a.x||a.width||0,this.y*=a.y||a.height||0,this},equals:function(a){return this.x===a.x&&this.y===a.y},distanceTo:function(a){return Math.sqrt(Math.pow(this.x-a.x,2),Math.pow(this.y-a.y,2))},clone:function(){return new d.Point(this)}},d.Dimension=function(a,b){a instanceof d.Point&&b instanceof d.Point?(this.width=b.x-a.x,this.height=b.y-a.y):(this.width=a||0,this.height=b||0)},d.Dimension.prototype={constructor:d.Dimension,width:0,height:0,setProperties:function(a){return this.width=Number(a.attr("width")),this.height=Number(a.attr("height")),this},equals:function(a){return this.width===a.width&&this.height===a.height},multBy:function(a){return this.width*=a.x||a.width||0,this.height*=a.y||a.height||0,this},setDimension:function(a,b){return a instanceof d.Dimension&&(b=a.height,a=a.width),this.width=a,this.height=b,this},getSurface:function(){return this.width*this.height}},d.getQuadraticPoints=function(a,c,e,f){f||(f=b.settings.BEZIER_POINTS);for(var g=[],h=new d.Point,i=new d.Point,j=0;j<f;j++){var k=(j+1)/(f+1);h.x=a.x+(c.x-a.x)*k,h.y=a.y-(a.y-c.y)*k,i.x=c.x+(e.x-c.x)*k,i.y=c.y+(e.y-c.y)*k,g.push(new d.Point(h.x+(i.x-h.x)*k,h.y-(h.y-i.y)*k))}return g},d.getCubicPoints=function(a,c,e,f,g){var h=[];g||(g=b.settings.BEZIER_POINTS);for(var i=d.getQuadraticPoints(a,c,e,g),j=d.getQuadraticPoints(c,e,f,g),k=0;k<g;k++){var l=(k+1)/(g+1);h.push(new d.Point(i[k].x+(j[k].x-i[k].x)*l,i[k].y-(i[0].y-j[0].y)*l))}return h},d.Shape=function(a){this.pos=a||new d.Point},d.Shape.prototype={constructor:d.Shape,pos:new d.Point,moveBy:function(a){return this.pos.moveBy(a),this},moveTo:function(a){return this.pos.moveTo(a),this},getBounds:function(){return new d.Rectangle(this.pos)},equals:function(a){return this.pos.equals(a.pos)},scaleBy:function(a){return this},getShape:function(a){return this.clone().scaleBy(a.dim).moveBy(a.pos)},contains:function(a){return!1},intersects:function(a){return!1},fill:function(a,b){return a.save(),b&&b.getSurface()>0&&(a.beginPath(),a.rect(b.pos.x,b.pos.y,b.dim.width,b.dim.height),a.clip()),this.preparePath(a),a.fill(),a.restore(),a},stroke:function(a){return this.preparePath(a),a.stroke(),a},preparePath:function(a){return a},clip:function(a,b){return this.preparePath(a),a.clip(b||"nonzero"),a},isRect:function(){return!1},toString:function(){return"Shape enclosed in "+this.getBounds().getCoords()}},d.Rectangle=function(a,b,c,e){var f=a,g=b;a instanceof d.Rectangle?(g=new d.Dimension(a.dim.width,a.dim.height),f=new d.Point(a.pos.x,a.pos.y)):a instanceof d.Point?(f=new d.Point(a.x,a.y),b instanceof d.Dimension&&(g=new d.Dimension(b.width,b.height))):a instanceof Array?(f=new d.Point(a[0],a[1]),g=new d.Dimension(a[2]-a[0],a[3]-a[1])):"number"==typeof c&&"number"==typeof e&&(f=new d.Point(a,b),g=new d.Dimension(c,e)),d.Shape.call(this,f),g instanceof d.Dimension?this.dim=g:g instanceof d.Point?this.dim=new d.Dimension(g.x-this.pos.x,g.y-this.pos.y):this.dim=new d.Dimension},d.Rectangle.prototype={constructor:d.Rectangle,dim:new d.Dimension,getBounds:function(){return this},setBounds:function(a){return a||(a=new d.Rectangle),this.pos.x=a.pos.x,this.pos.y=a.pos.y,this.dim.width=a.dim.width,this.dim.height=a.dim.height,this},equals:function(a){return a instanceof d.Rectangle&&this.pos.equals(a.pos)&&this.dim.equals(a.dim)},clone:function(){return new d.Rectangle(this)},scaleBy:function(a){return this.pos.multBy(a),this.dim.multBy(a),this},grow:function(a,b){return this.pos.x-=a,this.pos.y-=b,this.dim.width+=2*a,this.dim.height+=2*b,this},getOppositeVertex:function(){return new d.Point(this.pos.x+this.dim.width,this.pos.y+this.dim.height)},add:function(a){var b=this.getOppositeVertex(),c=a.getBounds().getOppositeVertex();return this.pos.moveTo(Math.min(this.pos.x,a.getBounds().pos.x),Math.min(this.pos.y,a.getBounds().pos.y)),this.dim.setDimension(Math.max(b.x,c.x)-this.pos.x,Math.max(b.y,c.y)-this.pos.y),this},contains:function(a){var b=this.getOppositeVertex();return a.x>=this.pos.x&&a.x<=b.x&&a.y>=this.pos.y&&a.y<=b.y},intersects:function(a){var b=this.pos,c=this.getOppositeVertex(),d=a.pos,e=a.getOppositeVertex();return e.x>=b.x&&d.x<=c.x&&e.y>=b.y&&d.y<=c.y},preparePath:function(a){return a.beginPath(),a.rect(this.pos.x,this.pos.y,this.dim.width,this.dim.height),a},getSurface:function(){return this.dim.getSurface()},isEmpty:function(){return 0===this.getSurface()},isRect:function(){return!0},toString:function(){return"Rectangle "+this.getCoords()},getCoords:function(){return"["+Math.round(this.pos.x)+","+Math.round(this.pos.y)+","+Math.round(this.pos.x+this.dim.width)+","+Math.round(this.pos.y+this.dim.height)+"]"}},d.Rectangle.prototype=a.extend(Object.create(d.Shape.prototype),d.Rectangle.prototype),d.Ellipse=function(a,b,c,e){d.Rectangle.call(this,a,b,c,e)},d.Ellipse.prototype={constructor:d.Ellipse,preparePath:function(a){var b=.5522848*this.dim.width/2,c=.5522848*this.dim.height/2,d=this.pos.x+this.dim.width,e=this.pos.y+this.dim.height,f=this.pos.x+this.dim.width/2,g=this.pos.y+this.dim.height/2;return a.beginPath(),a.moveTo(this.pos.x,g),a.bezierCurveTo(this.pos.x,g-c,f-b,this.pos.y,f,this.pos.y),a.bezierCurveTo(f+b,this.pos.y,d,g-c,d,g),a.bezierCurveTo(d,g+c,f+b,e,f,e),a.bezierCurveTo(f-b,e,this.pos.x,g+c,this.pos.x,g),a.closePath(),a},contains:function(a){var b=d.Rectangle.prototype.contains.call(this,a);if(b){var c=this.dim.width/2,e=this.dim.height/2,f=this.pos.x+c,g=this.pos.y+e;b=Math.pow(a.x-f,2)/Math.pow(c,2)+Math.pow(a.y-g,2)/Math.pow(e,2)<=1}return b},getSurface:function(){return Math.PI*this.dim.width/2*this.dim.height/2},equals:function(a){return a instanceof d.Ellipse&&d.Rectangle.prototype.equals.call(this,a)},clone:function(){return new d.Ellipse(this.pos,this.dim)},isRect:function(){return!1},toString:function(){return"Ellipse enclosed in "+this.getCoords()}},d.Ellipse.prototype=a.extend(Object.create(d.Rectangle.prototype),d.Ellipse.prototype),d.Path=function(a){if(a){this.strokes=[];for(var b=0;b<a.length;b++){var c=a[b];c=new d.PathStroke(c.type||c.action,c.points||c.data),this.strokes.push(c)}}this.enclosing=new d.Rectangle,this.enclosingPoints=[],this.calcEnclosingRect(),d.Shape.call(this,this.enclosing.pos)},d.Path.prototype={constructor:d.Path,strokes:[],enclosing:new d.Rectangle,enclosingPoints:[],clone:function(){for(var a=[],b=0;b<this.strokes.length;b++)a[b]=this.strokes[b].clone();return new d.Path(a)},addStroke:function(a){return this.strokes.push(a),this},calcEnclosingRect:function(){this.enclosingPoints=[];for(var a=new d.Point,b=0;b<this.strokes.length;b++){var c=this.strokes[b],e=c.getEnclosingPoints(a);if(e.length>0)for(var f=0;f<e.length;f++)a=new d.Point(e[f]),this.enclosingPoints.push(a)}var g=this.enclosingPoints.length;g>1&&this.enclosingPoints[0].equals(this.enclosingPoints[g-1])&&(this.enclosingPoints.pop(),g--);for(var h=new d.Point(this.enclosingPoints[0]),i=new d.Point(this.enclosingPoints[0]),j=1;j<g;j++){var k=this.enclosingPoints[j];h.x=Math.min(k.x,h.x),h.y=Math.min(k.y,h.y),i.x=Math.max(k.x,i.x),i.y=Math.max(k.y,i.y)}return this.enclosing.setBounds(new d.Rectangle(h,new d.Dimension(h,i))),this.enclosing},getBounds:function(){return this.enclosing},moveBy:function(a){for(var b=0;b<this.strokes.length;b++)this.strokes[b].moveBy(a);for(var c=0;c<this.enclosingPoints.length;c++)this.enclosingPoints[c].moveBy(a);return this.enclosing.moveBy(a),this},moveTo:function(a){var b=new d.Dimension(a.x-this.pos.x,a.y-this.pos.y);return this.moveBy(b)},equals:function(a){return!1},scaleBy:function(a){for(var b=0;b<this.strokes.length;b++)this.strokes[b].multBy(a);for(var c=0;c<this.enclosingPoints.length;c++)this.enclosingPoints[c].multBy(a);return this.enclosing.scaleBy(a),this},contains:function(a){var b=this.enclosing.contains(a);if(b){for(var c=this.enclosingPoints[0],d=this.enclosingPoints.length,e=0,f=0,g=1;g<=d;g++){var h=this.enclosingPoints[g%d];a.y>Math.min(c.y,h.y)&&a.y<=Math.max(c.y,h.y)&&a.x<=Math.max(c.x,h.x)&&c.y!==h.y&&(e=(a.y-c.y)*(h.x-c.x)/(h.y-c.y)+c.x,(c.x===h.x||a.x<=e)&&f++),c=h}f%2==0&&(b=!1)}return b},intersects:function(a){return this.enclosing.intersects(a)},preparePath:function(a){a.beginPath();for(var b=0;b<this.strokes.length;b++)this.strokes[b].stroke(a);return a}},d.Path.prototype=a.extend(Object.create(d.Shape.prototype),d.Path.prototype),d.PathStroke=function(a,b){if(this.type=a,b&&b.length>0)if(this.points=[],b[0]instanceof d.Point)for(var c=0;c<b.length;c++)this.points.push(new d.Point(b[c].x,b[c].y));else for(var e=0;e<b.length;e+=2)this.points.push(new d.Point(b[e],b[e+1]))},d.PathStroke.prototype={constructor:d.PathStroke,type:"X",points:null,clone:function(){return new d.PathStroke(this.type,this.points)},moveBy:function(a){if(this.points)for(var b=0;b<this.points.length;b++)this.points[b].moveBy(a);return this},multBy:function(a){if(this.points)for(var b=0;b<this.points.length;b++)this.points[b].multBy(a);return this},stroke:function(a){switch(this.type){case"M":a.moveTo(this.points[0].x,this.points[0].y);break;case"L":a.lineTo(this.points[0].x,this.points[0].y);break;case"Q":a.quadraticCurveTo(this.points[0].x,this.points[0].y,this.points[1].x,this.points[1].y);break;case"B":a.bezierCurveTo(this.points[0].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[2].x,this.points[2].y);break;case"X":a.closePath()}return a},getEnclosingPoints:function(a){var b=[];switch(this.type){case"M":case"L":b.push(this.points[0]);break;case"Q":b=d.getQuadraticPoints(a,this.points[0],this.points[1]),b.push(this.points[1]);break;case"B":b=d.getCubicPoints(a,this.points[0],this.points[1],this.points[2]),b.push(this.points[2])}return b}},d.Action=function(a,b){this.name=a,this.actionPerformed=b,this._statusListeners=[]},d.Action.prototype={constructor:d.Action,name:null,description:null,enabled:!1,_statusListeners:null,actionPerformed:function(a,b){return this},processEvent:function(a){return this.actionPerformed(this,a)},addStatusListener:function(a){this._statusListeners.push(a)},removeStatusListener:function(b){this._statusListeners=a.grep(this._statusListeners,function(a){return a!==b})},setEnabled:function(a){this.enabled=a;for(var b=0;b<this._statusListeners.length;b++)this._statusListeners[b].call(this);return this}},d.Timer=function(a,b,c){this.actionPerformed=a,this.interval=b,this.setEnabled(!0===c)},d.Timer.prototype={constructor:d.Timer,interval:0,ticks:0,timer:null,repeats:!0,actionPerformed:function(a){return this},processTimer:function(a){return this.ticks++,this.repeats||this.stop(),this.actionPerformed.call(this)},setEnabled:function(a,b){if(b||(this.ticks=0),!a||null===this.timer){if(a){var c=this;this.timer=window.setInterval(function(){c.processTimer(null)},this.interval)}else null!==this.timer&&(window.clearInterval(this.timer),this.timer=null);return this}},isRunning:function(){return null!==this.timer},start:function(a){return this.setEnabled(!0,a)},stop:function(a){return this.setEnabled(!1,a)}},d.Container=function(a,b,c,e){d.Rectangle.call(this,a,b,c,e)},d.Container.prototype={constructor:d.Container,invalidatedRect:null,invalidate:function(a){return a?null===this.invalidatedRect?this.invalidatedRect=a.clone():this.invalidatedRect.add(a):this.invalidatedRect=null,this},update:function(){return this.updateContent(this.invalidatedRect),this.invalidatedRect&&(this.invalidatedRect=null),this},updateContent:function(a){return this}},d.Container.prototype=a.extend(Object.create(d.Rectangle.prototype),d.Container.prototype),d}(a("jquery"),a("./Utils"),a("webfontloader"))},{"./Utils":134,jquery:51,webfontloader:126}],128:[function(a,b,c){b.exports=function(a,b,c,d,e,f,g,h,i,j,k){var l=b.settings,m=function(a){this.project=a,this.eventSounds=new d(this.project.settings.eventSounds),this.messages={},this.abc={}};return m.CLASSES={"@panels.Menu":m},m.getActivity=function(a,c){var d=null;if(a&&c){var e=(a.attr("class")||"").replace(/^edu\.xtec\.jclic\.activities\./,"@"),f=m.CLASSES[e];f?(d=new f(c),d.setProperties(a)):b.log("error","Unknown activity class: %s",e)}return d},m.prototype={constructor:m,project:null,name:l.DEFAULT_NAME,className:null,code:null,type:null,description:null,margin:l.DEFAULT_MARGIN,bgColor:l.DEFAULT_BG_COLOR,bgGradient:null,tiledBgImg:!1,bgImageFile:null,border:!0,absolutePositioned:!1,absolutePosition:null,includeInReports:!0,reportActions:!1,helpWindow:!1,showSolution:!1,helpMsg:"",eventSounds:null,useOrder:!1,dragCells:!1,skinFileName:null,maxTime:0,countDownTime:!1,maxActions:0,countDownActions:!1,infoUrl:null,infoCmd:null,messages:null,windowSize:new c.Dimension(l.DEFAULT_WIDTH,l.DEFAULT_HEIGHT),transparentBg:!1,activityBgColor:l.DEFAULT_BG_COLOR,activityBgGradient:null,bTimeCounter:!0,bScoreCounter:!0,bActionsCounter:!0,acp:null,abc:null,tgc:null,boxGridPos:"AB",shuffles:l.DEFAULT_SHUFFLES,scramble:{primary:!0,secondary:!0},invAss:!1,setProperties:function(d){var e=this;return a.each(d.get(0).attributes,function(){var a=this.name,c=this.value;switch(a){case"name":c=b.nSlash(c);case"code":case"type":case"description":e[a]=c;break;case"class":e.className=c.replace(/^edu\.xtec\.jclic\.activities\./,"@");break;case"inverse":e.invAss=b.getBoolean(c,!1);break;case"autoJump":case"forceOkToAdvance":case"amongParagraphs":e[a]=b.getBoolean(c,!1)}}),d.children().each(function(){var d=a(this);switch(this.nodeName){case"settings":a.each(d.get(0).attributes,function(){var a=this.name,c=this.value;switch(a){case"infoUrl":case"infoCmd":e[a]=c;break;case"margin":case"maxTime":case"maxActions":e[a]=Number(c);break;case"report":e.includeInReports=b.getBoolean(c,!1);break;case"countDownTime":case"countDownActions":case"reportActions":case"useOrder":case"dragCells":e[a]=b.getBoolean(c,!1)}}),d.children().each(function(){var d=a(this);switch(this.nodeName){case"skin":e.skinFileName=d.attr("file");break;case"helpWindow":e.helpMsg=b.getXmlText(this),e.showSolution=b.getBoolean(d.attr("showSolution"),!1),e.helpWindow=null!==e.helpMsg||e.showSolution;break;case"container":e.bgColor=b.checkColor(d.attr("bgColor"),b.settings.BoxBase.BACK_COLOR),d.children().each(function(){var d=a(this);switch(this.nodeName){case"image":e.bgImageFile=d.attr("name"),e.tiledBgImg=b.getBoolean(d.attr("tiled"),!1);break;case"counters":e.bTimeCounter=b.getBoolean(d.attr("time"),!0),e.bActionsCounter=b.getBoolean(d.attr("actions"),!0),e.bScoreCounter=b.getBoolean(d.attr("score"),!0);break;case"gradient":e.bgGradient=(new c.Gradient).setProperties(d)}});break;case"window":e.activityBgColor=b.checkColor(d.attr("bgColor"),l.DEFAULT_BG_COLOR),e.transparentBg=b.getBoolean(d.attr("transparent"),!1),e.border=b.getBoolean(d.attr("border"),!1),d.children().each(function(){var b=a(this);switch(this.nodeName){case"gradient":e.activityBgGradient=(new c.Gradient).setProperties(b);break;case"position":e.absolutePosition=(new c.Point).setProperties(b),e.absolutePositioned=!0;break;case"size":e.windowSize=(new c.Dimension).setProperties(b)}});break;case"eventSounds":e.eventSounds.setProperties(d)}});break;case"messages":d.children("cell").each(function(){var b=e.readMessage(a(this));e.messages[b.type]=b});break;case"automation":e.acp=h.getProvider(d,e.project);break;case"cells":var m=(new f).setProperties(d,e.project.mediaBag);e.abc[m.id]=m;break;case"scramble":e.shuffles=Number(d.attr("times")),e.scramble.primary=b.getBoolean(d.attr("primary")),e.scramble.secondary=b.getBoolean(d.attr("secondary"));break;case"layout":a.each(d.get(0).attributes,function(){var a=this.name,c=this.value;switch(a){case"position":e.boxGridPos=c;break;case"wildTransparent":case"upperCase":case"checkCase":e[a]=b.getBoolean(c)}});break;case"textGrid":e.tgc=(new i).setProperties(d);break;case"clues":e.clues=[],e.clueItems=[];var n=0;d.children("clue").each(function(){e.clueItems[n]=Number(a(this).attr("id")),e.clues[n]=this.textContent,n++});break;case"checkButton":e.checkButtonText=this.textContent||"check";break;case"prevScreen":e.prevScreen=!0,d.children().each(function(){switch(this.nodeName){case"style":e.prevScreenStyle=(new g).setProperties(a(this));break;case"p":null===e.prevScreenText&&(e.prevScreenText=""),e.prevScreenText+="<p>"+this.textContent+"</p>"}});break;case"evaluator":e.ev=j.getEvaluator(d);break;case"document":e.document=(new k).setProperties(d,e.project.mediaBag)}}),this},readMessage:function(a){var c=(new e).setProperties(a,this.project.mediaBag);return c.type=a.attr("type"),b.isNullOrUndef(c.bb)&&(c.bb=new g(null)),c},initAutoContentProvider:function(){null!==this.acp&&this.acp.init()},prepareMedia:function(b){return this.eventSounds.realize(b,this.project.mediaBag),a.each(this.messages,function(a,c){null!==c&&c.prepareMedia(b)}),a.each(this.abc,function(a,c){null!==c&&c.prepareMedia(b)}),!0},helpSolutionAllowed:function(){return!1},helpWindowAllowed:function(){return this.helpWindow&&(this.helpSolutionAllowed()&&this.showSolution||null!==this.helpMsg)},getMinNumActions:function(){return 0},mustPauseSequence:function(){return 0!==this.getMinNumActions()},canReinit:function(){return!0},hasInfo:function(){return null!==this.infoUrl&&this.infoUrl.length>0||null!==this.infoCmd&&this.infoCmd.length>0},hasRandom:function(){return!1},shuffleAlways:function(){return!1},needsKeyboard:function(){return!1},end:function(){this.eventSounds.close(),this.clear()},clear:function(){},getWindowSize:function(){return new c.Dimension(this.windowSize)},setWindowSize:function(a){this.windowSize=new c.Dimension(a)},getActivityPanel:function(a){return new this.constructor.Panel(this,a)}},m.Panel=function(d,e,f){c.Container.call(this),this.act=d,this.ps=e,this.minimumSize=new c.Dimension(100,100),this.preferredSize=new c.Dimension(500,400),this.$div=f||a("<div/>",{class:"JClicActivity","aria-label":e.getMsg("Activity panel")}),this.accessibleCanvas=b.settings.CANVAS_HITREGIONS,this.act.initAutoContentProvider()},m.Panel.prototype={constructor:m.Panel,act:null,$div:null,$canvas:null,accessibleCanvas:!1,skin:null,$animatedBg:null,$animatedBgB:null,solved:!1,bgImage:null,playing:!1,firstRun:!0,currentItem:0,bc:null,ps:null,minimumSize:null,preferredSize:null,events:["click"],backgroundColor:null,backgroundTransparent:!1,border:null,setBounds:function(a){this.pos.x=a.pos.x,this.pos.y=a.pos.y,this.dim.width=a.dim.width,this.dim.height=a.dim.height,this.invalidate(a),this.$div.css({position:"relative",left:a.pos.x,top:a.pos.y,width:a.dim.width,height:a.dim.height})},buildVisualComponents:function(){if(this.playing=!1,this.skin=null,this.act.skinFileName&&this.act.skinFileName.length>0&&this.act.skinFileName!==this.act.project.settings.skinFileName&&(this.skin=this.act.project.mediaBag.getSkinElement(this.act.skinFileName,this.ps)),this.bgImage=null,this.act.bgImageFile&&this.act.bgImageFile.length>0){var a=this.act.project.mediaBag.getElement(this.act.bgImageFile,!0);a&&(this.bgImage=a.data)}this.backgroundColor=this.act.activityBgColor,this.act.transparentBg&&(this.backgroundTransparent=!0),this.act.border&&(this.border=!0);var b={display:"block","background-color":this.backgroundTransparent?"transparent":this.backgroundColor};this.border&&(b["box-shadow"]="0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12)",b["border-radius"]="2px",b.color="#272727"),this.act.activityBgGradient&&(b["background-image"]=this.act.activityBgGradient.getCss()),this.$div.css(b)},updateContent:function(a){return c.Container.prototype.updateContent.call(this,a)},playEvent:function(a){this.act.eventSounds.play(a)},initActivity:function(){this.playing&&(this.playing=!1,this.ps.reportEndActivity(this.act,this.solved)),this.solved=!1,this.ps.reportNewActivity(this.act,0),this.attachEvents(),this.enableCounters()},startActivity:function(){this.playing=!0},activityReady:function(){},showHelp:function(){},setDimension:function(a){return new c.Dimension(Math.min(a.width,this.act.windowSize.width),Math.min(a.height,this.act.windowSize.height))},attachEvents:function(){for(var b=0;b<this.events.length;b++)this.attachEvent(this.$div,this.events[b]);l.TOUCH_DEVICE||-1!==a.inArray("touchstart",this.events)||this.attachEvent(this.$div,"touchstart")},attachEvent:function(b,c){var d=this;b.on(c,this,function(c){return"touchstart"===c.type&&(l.TOUCH_DEVICE||(l.TOUCH_DEVICE=!0),-1===a.inArray("touchstart",d.events))?void b.off("touchstart"):c.data.processEvent.call(c.data,c)})},processEvent:function(a){return!1},fitTo:function(a,d){var e=new c.Point
;this.act.absolutePositioned&&null!==this.act.absolutePosition&&(e.x=Math.max(0,this.act.absolutePosition.x+a.pos.x),e.y=Math.max(0,this.act.absolutePosition.y+a.pos.y),a.dim.width-=this.act.absolutePosition.x,a.dim.height-=this.act.absolutePosition.y);var f=this.setDimension(new c.Dimension(Math.max(2*this.act.margin+b.settings.MINIMUM_WIDTH,a.dim.width),Math.max(2*this.act.margin+b.settings.MINIMUM_HEIGHT,a.dim.height)));this.act.absolutePositioned||e.moveTo(Math.max(0,a.pos.x+(a.dim.width-f.width)/2),Math.max(0,a.pos.y+(a.dim.height-f.height)/2)),e.x+f.width>d.dim.width&&(e.x=Math.max(0,d.dim.width-f.width)),e.y+f.height>d.dim.height&&(e.y=Math.max(0,d.dim.height-f.height)),this.setBounds(new c.Rectangle(e.x,e.y,f.width,f.height));var g=this;window.setTimeout(function(){g.buildAccessibleComponents()},0)},buildAccessibleComponents:function(){this.accessibleCanvas&&this.$canvas&&this.$canvas.children().length>0&&(this.$canvas.get(0).getContext("2d").clearHitRegions(),this.$canvas.empty())},forceFinishActivity:function(){},finishActivity:function(a){this.playing=!1,this.solved=a,null!==this.bc&&this.bc.end(),a?this.setAndPlayMsg("final","finishedOk"):this.setAndPlayMsg("finalError","finishedError"),this.ps.activityFinished(this.solved),this.ps.reportEndActivity(this.act,this.solved)},setAndPlayMsg:function(a,b){var c=this.act.messages[a];c||(c=null),this.ps.setMsg(c),null===c||null===c.mediaContent?this.playEvent(b):this.ps.playMsg()},end:function(){this.forceFinishActivity(),this.playing&&(null!==this.bc&&this.bc.end(),this.ps.reportEndActivity(this.act,this.solved),this.playing=!1,this.solved=!1),this.clear()},clear:function(){},enableCounters:function(a,b,c){void 0===a&&(a=this.act.bTimeCounter),void 0===b&&(b=this.act.bScoreCounter),void 0===c&&(c=this.act.bActionsCounter),this.ps.setCounterEnabled("time",a),this.act.countDownTime&&this.ps.setCountDown("time",this.act.maxTime),this.ps.setCounterEnabled("score",b),this.ps.setCounterEnabled("actions",c),this.act.countDownActions&&this.ps.setCountDown("actions",this.act.maxActions)},shuffle:function(a,b,c){for(var d=this.act.shuffles,e=d;e>0;){for(var f=e>d?d:e,g=0;g<a.length;g++){var h=a[g];null!==h&&h.scrambleCells(f,c)}e-=d}}},m.Panel.prototype=a.extend(Object.create(c.Container.prototype),m.Panel.prototype),m}(a("jquery"),a("./Utils"),a("./AWT"),a("./media/EventSounds"),a("./boxes/ActiveBoxContent"),a("./boxes/ActiveBagContent"),a("./boxes/BoxBase"),a("./automation/AutoContentProvider"),a("./boxes/TextGridContent"),a("./activities/text/Evaluator"),a("./activities/text/TextActivityDocument"))},{"./AWT":127,"./Utils":134,"./activities/text/Evaluator":145,"./activities/text/TextActivityDocument":150,"./automation/AutoContentProvider":154,"./boxes/ActiveBagContent":164,"./boxes/ActiveBoxContent":167,"./boxes/BoxBase":170,"./boxes/TextGridContent":173,"./media/EventSounds":178,jquery:51}],129:[function(a,b,c){b.exports=(a("./skins/DefaultSkin"),a("./skins/OrangeSkin"),a("./skins/GreenSkin"),a("./skins/BlueSkin"),a("./skins/SimpleSkin"),a("./skins/MiniSkin"),a("./skins/EmptySkin"),a("./shapers/Rectangular"),a("./shapers/Holes"),a("./shapers/JigSaw"),a("./shapers/TriangularJigSaw"),a("./shapers/ClassicJigSaw"),a("./automation/arith/Arith"),a("./activities/text/TextActivityBase"),a("./activities/text/FillInBlanks"),a("./activities/text/OrderText"),a("./activities/text/Complete"),a("./activities/text/IdentifyText"),a("./activities/text/WrittenAnswer"),a("./activities/panels/InformationScreen"),a("./activities/panels/Identify"),a("./activities/panels/Explore"),a("./activities/puzzles/DoublePuzzle"),a("./activities/puzzles/ExchangePuzzle"),a("./activities/puzzles/HolePuzzle"),a("./activities/memory/MemoryGame"),a("./activities/associations/SimpleAssociation"),a("./activities/associations/ComplexAssociation"),a("./activities/textGrid/WordSearch"),a("./activities/textGrid/CrossWord"),a("./report/TCPReporter"),"Deep classes loaded!")},{"./activities/associations/ComplexAssociation":135,"./activities/associations/SimpleAssociation":136,"./activities/memory/MemoryGame":137,"./activities/panels/Explore":138,"./activities/panels/Identify":139,"./activities/panels/InformationScreen":140,"./activities/puzzles/DoublePuzzle":141,"./activities/puzzles/ExchangePuzzle":142,"./activities/puzzles/HolePuzzle":143,"./activities/text/Complete":144,"./activities/text/FillInBlanks":146,"./activities/text/IdentifyText":147,"./activities/text/OrderText":148,"./activities/text/TextActivityBase":149,"./activities/text/WrittenAnswer":151,"./activities/textGrid/CrossWord":152,"./activities/textGrid/WordSearch":153,"./automation/arith/Arith":155,"./report/TCPReporter":190,"./shapers/ClassicJigSaw":191,"./shapers/Holes":192,"./shapers/JigSaw":193,"./shapers/Rectangular":194,"./shapers/TriangularJigSaw":196,"./skins/BlueSkin":197,"./skins/DefaultSkin":199,"./skins/EmptySkin":200,"./skins/GreenSkin":201,"./skins/MiniSkin":202,"./skins/OrangeSkin":203,"./skins/SimpleSkin":204}],130:[function(a,b,c){b.exports={version:"0.1.46 (2017-04-25)",languages:["en","ar","ast","bs","ca","ca_ES@valencia","cs","da","de","el","es","eu","fr","gl","he","it","ja","nl","pt","pt_BR","ru","tr","vec","zh_TW"],messages:{ar:{Version:"",time:"",actions:"",score:"","Next activity":" ","Previous activity":" ","Restart activity":" ",Information:"","Current results":" ","User:":":","Projects:":":",Project:":",sequence:"",activity:"",OK:"","Total:":":"},ast:{Version:"Versin",time:"tiempu",actions:"intentos",score:"marcador","Next activity":"Xera siguiente","Previous activity":"Xera anterior","Restart activity":"Reaniciar xera",Information:"Informacin","Results are not currently being saved":"L'informe nun ta rexistru en nenguna base de datos","Current results":"Informes d'usuariu","Session started:":"Entamu de sesin:","Reports system:":"Sistema d'informes:","User:":"Usuariu:","Projects:":"Proyeutos:","Sequences:":"Secuencies:","Activities done:":"Xeres feches:","Activities solved:":"Xeres correctes:","Global score:":"Puntuacin global:","Total time in activities:":"Tiempu total en xeres:","Actions done:":"Aiciones feches:","No activities done!":"Nenguna informacin sobre xeres!",Project:"Proyeutu:",sequence:"Secuencia",activity:"Xera",OK:"OK",YES:"SI",NO:"NON","Total:":"Total:"},bs:{Version:"Verzija",time:"vrijeme",actions:"pokuaji",score:"rezultat","Next activity":"Sljedea aktivnost","Previous activity":"Prethodna aktivnost","Restart activity":"Ponovno pokreni aktivnost",Information:"Informacije","Current results":"Izvjea korisnika","Session started:":"Sesija zapoeta:","User:":"Korisnik:","Projects:":"Projekti:","Activities done:":"Uraene aktivnosti:","Activities solved:":"Aktivnosti ok:","Global score:":"Ukupan rezultat:","Total time in activities:":"Ukupno vrijeme aktivnosti:","Actions done:":"Uraene aktivnosti:",Project:"Projekt:",sequence:"Sekvenca",activity:"Aktivnost",OK:"Uredu",YES:"DA",NO:"NE","Total:":"Ukupno:"},ca:{Version:"Versi",time:"temps",actions:"accions",score:"encerts","Next activity":"Activitat segent","Previous activity":"Activitat anterior","Restart activity":"Reinicia l'activitat",Information:"Informaci","Results are not currently being saved":"Els resultats no s'estan desant","Current results":"Resultats actuals","Session started:":"Inici de sessi:","Reports system:":"Sistema d'informes:","User:":"Usuari/ria:","Projects:":"Projectes:","Sequences:":"Seqncies:","Activities done:":"Activitats fetes:","Activities solved:":"Activitats resoltes:","Global score:":"Puntuaci global:","(out of all project activities)":"(sobre totes les activitats del projecte)","Total time in activities:":"Temps total en les activitats:","Actions done:":"Accions fetes:","No activities done!":"No heu fet cap activitat!",Project:"Projecte",sequence:"seqncia",activity:"activitat",OK:"OK",YES:"S",NO:"NO","Total:":"Totals:","Select group:":"Seleccioneu el grup:","Select user:":"Seleccioneu l'usuari:",Cancel:"Cancella",Close:"Tanca","Copy data to clipboard":"Copia les dades al porta-retalls","The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor":"Les dades s'han copiat en format HTML. Enganxeu-les a un full de clcul o a un editor de text enriquit.","The data has been copied to clipboard":"Les dades s'han copiat al porta-retalls","not connected":"no connectat","Please wait until the results of your activities are sent to the reports system":"Si us plau, espereu a que els resultats de les vostres activitats s'envin al servidor d'informes","Password:":"Contrasenya:","Incorrect password":"Contrasenya incorrecta","Invalid user":"Usuari/ria incorrecte","Partial score:":"Puntuaci parcial:","(out of played activities)":"(sobre les activitats fetes)","Activities played at least once:":"Activitats fetes almenys una vegada:",Reports:"Informes","Toggle full screen":"Commuta pantalla completa","JClic logo":"Logotip del JClic",message:"missatge","Activity panel":"Tauler d'activitats",cell:"cella",image:"imatge",source:"origen",target:"dest","image fragment":"fragment d'imatge"},"ca_ES@valencia":{Version:"Versi",time:"temps",actions:"accions",score:"encerts","Next activity":"Activitat segent","Previous activity":"Activitat anterior","Restart activity":"Reinicia l'activitat",Information:"Informaci","Results are not currently being saved":"Els resultats no s'estan alant","Current results":"Resultats actuals","Session started:":"Inici de sessi:","Reports system:":"Sistema d'informes:","User:":"Usuari/ria:","Projects:":"Projectes:","Sequences:":"Seqncies:","Activities done:":"Activitats fetes:","Activities solved:":"Activitats resoltes:","Global score:":"Puntuaci global:","Total time in activities:":"Temps total en les activitats:","Actions done:":"Accions fetes:","No activities done!":"No heu fet cap activitat!",Project:"Projecte",sequence:"seqncia",activity:"activitat",OK:"OK",YES:"S",NO:"NO","Total:":"Totals:"},cs:{Version:"Verze",time:"as",actions:"pokus",score:"skre","Next activity":"Dal aktivita","Previous activity":"Pedchoz aktivita","Restart activity":"Restartovat aktivitu",Information:"Informace","Results are not currently being saved":"Zprva nen zaregistrovna v dn DB","Current results":"Uivatelsk sestava","Session started:":"Sezen sputno:","Reports system:":"Systm zprvy:","User:":"Uivatel:","Projects:":"Projekty:","Sequences:":"Sekvence:","Activities done:":"Dokonen aktivity:","Activities solved:":"Aktivity ok:","Global score:":"Celkov skre:","Total time in activities:":"Celkov as aktivit:","Actions done:":"Proveden akce:","No activities done!":"Nebyly nahleny dn aktivity!",Project:"Projekt",sequence:"Sekvence",activity:"Aktivita",OK:"Ok",YES:"ANO",NO:"NE","Total:":"Celkem:"},da:{Version:"Version",time:"tid",actions:"forsg",score:"score","Next activity":"Nste aktivitet","Previous activity":"Forrige aktivitet","Restart activity":"Genstart aktivitet",Information:"Information","Current results":"Bruger rapport","User:":"Bruger:","Projects:":"Projekter:","Sequences:":"Sekvenser:","Activities done:":"Aktiviteter udfrt:","Activities solved:":"Aktiviteter OK:","Global score:":"Global score:","No activities done!":"Ingen aktiviteter rapporteret!",Project:"Projekt",sequence:"Sequence",activity:"Aktivitet",OK:"Ok",YES:"JA",NO:"IKKE","Total:":"Total:"},de:{Version:"Version",time:"Zeit",actions:"Versuche",score:"Ergebnis","Next activity":"Nchste bung","Previous activity":"Vorherige bung","Restart activity":"bung neu starten",Information:"Information","Results are not currently being saved":"Bericht in keiner Datenbank eingetragen","Current results":"Benutzerberichte","Session started:":"Sitzung gestartet:","Reports system:":"Report system:","User:":"User:","Projects:":"Projekte:","Sequences:":"Sequenzen:","Activities done:":"Beendete bungen:","Activities solved:":"Korrekte bungen:","Global score:":"Gesamtpunktezahl:","Total time in activities:":"bungs-Gesamtzeit:","Actions done:":"Durchgefhrte Aktionen:","No activities done!":"Keine bungsberichte vorhanden!",Project:"Projekt",sequence:"Sequenz",activity:"bung",OK:"OK",YES:"JA",NO:"NEIN","Total:":"Gesamt:"},el:{Version:"",time:"",actions:"",score:"","Next activity":" ","Previous activity":" ","Restart activity":" ",Information:"","Results are not currently being saved":"      ","Current results":" ","Session started:":" :","Reports system:":" :","User:":":","Projects:":":","Sequences:":":","Activities done:":" :","Activities solved:":", :","Global score:":" :","Total time in activities:":"  :","Actions done:":"  :","No activities done!":"      !",Project:"",sequence:"",activity:"",OK:"",YES:"",NO:"","Total:":":"},es:{Version:"Versin",time:"tiempo",actions:"acciones",score:"aciertos","Next activity":"Actividad siguiente","Previous activity":"Actividad anterior","Restart activity":"Reiniciar actividad",Information:"Informacin","Results are not currently being saved":"Los resultados no se estn guardando","Current results":"Resultados actuales","Session started:":"Inicio de sesin:","Reports system:":"Sistema de informes:","User:":"Usuario/aria:","Projects:":"Proyectos:","Sequences:":"Secuencias:","Activities done:":"Actividades realizadas:","Activities solved:":"Actividades resueltas:","Global score:":"Puntuacin global:","(out of all project activities)":"(sobre todas las actividades del proyecto)","Total time in activities:":"Tiempo total en las actividades:","Actions done:":"Acciones realizadas:","No activities done!":"No se ha realizado ninguna actividad!",Project:"Proyecto",sequence:"secuencia",activity:"actividad",OK:"OK",YES:"SI",NO:"NO","Total:":"Totales:","Select group:":"Seleccionar grupo:","Select user:":"Seleccionar usuario:",Cancel:"Cancelar",Close:"Cerrar","Copy data to clipboard":"Copiar datos al portapapeles","The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor":"Los datos se han copiado en formato HTML. Puedes pegarlos en una hoja de clculo o en un editor de texto rico.","The data has been copied to clipboard":"Los datos se han copiado al portapapeles","not connected":"no conectado","Please wait until the results of your activities are sent to the reports system":"Por favor, espera mientras los resultados de las actividades se envian al servidor de informes","Password:":"Contrasea:","Incorrect password":"Contrasea incorrecta","Invalid user":"Usuario incorrecto","Partial score:":"Puntuacin parcial:","(out of played activities)":"(sobre las actividades realizadas)","Activities played at least once:":"Actividades realizadas al menos una vez:",Reports:"Informes","Toggle full screen":"Conmutar pantalla completa","JClic logo":"Logotipo de JClic",message:"mensaje","Activity panel":"Panel de actividad",cell:"celda",image:"imagen",source:"origen",target:"destino","image fragment":"fragmento de imagen"},eu:{Version:"Bertsioa",time:"denbora",actions:"saiakerak",score:"puntuazioa","Next activity":"Hurrengo jarduera","Previous activity":"Aurreko jarduera","Restart activity":"Jarduera berriro hasi",Information:"Informazioa","Results are not currently being saved":"Txostena ez dago ezein datu-basetan","Current results":"Erabiltzailearen txostenak","Session started:":"Saio-hasiera:","Reports system:":"Txosten-sistema:","User:":"Erabiltzailea:","Projects:":"Proiektuak:","Sequences:":"Sekuentziak:","Activities done:":"Burututako ekinzak:","Activities solved:":"Jarduera zuzenak:","Global score:":"Jarduera zuzenak:","Total time in activities:":"Jardueretan emandako denbora guztira:","Actions done:":"Burututako ekintzak:","No activities done!":"Ez da jardueren txostenik!",Project:"Proiektua",sequence:"Sekuentzia",activity:"Jarduera",OK:"Ados",YES:"BAI",NO:"EZ","Total:":"Guztira:"},fr:{Version:"Version",time:"temps",actions:"essais",score:"rsultat","Next activity":"Activit suivante","Previous activity":"Activit prcdente","Restart activity":"Recommencer l'activit",Information:"Information","Results are not currently being saved":"Le rapport n'est enregistr dans aucune base de donnes","Current results":"Rapports utilisateur","Session started:":"Session dmarre:","Reports system:":"Report systme:","User:":"Utilisateur:","Projects:":"Projets:","Sequences:":"Squences:","Activities done:":"Activits faites:","Activities solved:":"Activits ok:","Global score:":"Score global:","Total time in activities:":"Temps total sur les activits:","Actions done:":"Actions faites:","No activities done!":"Pas d'activits rapportes!",Project:"Projet",sequence:"squence",activity:"activit",OK:"Ok",YES:"OUI",NO:"NON","Total:":"Total:"},gl:{Version:"Versin",time:"tempo",actions:"intentos",score:"acertos","Next activity":"Seguinte actividade","Previous activity":"Anterior actividade","Restart activity":"Reiniciar a actividade",Information:"Informacin","Results are not currently being saved":"O informe non est rexistrado en ningunha base de datos","Current results":"Informes de usuario","Session started:":"Inicio de sesin:","Reports system:":"Sistema de informes:","User:":"Usuario:","Projects:":"Proxectos:","Sequences:":"Secuencias:","Activities done:":"Actividades realizadas:","Activities solved:":"Actividades correctas:","Global score:":"Puntuacin global:","Total time in activities:":"Tempo total nas actividades:","Actions done:":"Accins efectuadas:","No activities done!":"Non hai informada ningunha actividade!",Project:"Proxecto",sequence:"secuencia",activity:"actividade",OK:"Correcta",YES:"SI",NO:"NON","Total:":"Total:"},he:{Version:"",time:"",actions:"",score:"","Next activity":" ","Previous activity":" ","Restart activity":"  ",Information:"","Results are not currently being saved":"     ","Current results":" ","Session started:":" :","Reports system:":" :","User:":":","Projects:":":","Sequences:":":","Activities done:":" :","Activities solved:":" :","Global score:":" :","Total time in activities:":"  :","Actions done:":" :","No activities done!":"  !",Project:"",sequence:"",activity:"",OK:"",YES:"",NO:"","Total:":" :"},it:{Version:"Versione",time:"tempo",actions:"tentativi",score:"punteggio","Next activity":"Attivit successiva","Previous activity":"Attivit precedente","Restart activity":"Riavvia l'attivit",Information:"Informazioni","Results are not currently being saved":"Rapporto non registrato in alcun database","Current results":"Rapporti utente","Session started:":"Sessione avviata:","Reports system:":"Sistema dei rapporti:","User:":"Utente:","Projects:":"Progetti:","Sequences:":"Sequenze:","Activities done:":"Attivit eseguite:","Activities solved:":"Attivit ok:","Global score:":"Punteggio globale:","Total time in activities:":"Tempo totale nelle attivit:","Actions done:":"Azioni compiute:","No activities done!":"Nessuna attivit a rapporto!",Project:"Progetto",sequence:"sequenza",activity:"attivit",OK:"Ok",YES:"SI",NO:"NO","Total:":"Totale:"},ja:{Version:"",time:"",actions:"",score:"","Next activity":"","Previous activity":"","Restart activity":"",Information:"","Results are not currently being saved":"","Current results":"","Session started:":":","Reports system:":" :","User:":":","Projects:":":","Sequences:":":","Activities done:":":","Activities solved:":":","Global score:":" :","(out of all project activities)":"( )","Total time in activities:":":","Actions done:":":","No activities done!":"!",Project:"",sequence:"",activity:"",OK:"OK",YES:"",NO:"","Total:":":","Select group:":":","Select user:":":",Cancel:"",Close:"","Copy data to clipboard":"","The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor":" HTML   ","The data has been copied to clipboard":"","not connected":"","Please wait until the results of your activities are sent to the reports system":" ","Password:":":","Incorrect password":"","Invalid user":"","Partial score:":":","(out of played activities)":"()","Activities played at least once:":":",Reports:"","Toggle full screen":"","JClic logo":"JClic ",message:"","Activity panel":" ",cell:"",image:"",source:"",target:"","image fragment":""},nl:{Version:"Versie",time:"tijd",actions:"pogingen",score:"punten","Next activity":"Volgende activiteit","Previous activity":"Vorige activiteit","Restart activity":"Herstart activiteit",Information:"Informatie","Results are not currently being saved":"Rapport niet geregistreerd in een DB","Current results":"Gebruikers rapport","Session started:":"Reeks gestart:","Reports system:":"Rapporteer systeem:","User:":"Gebruiker:","Projects:":"Projecten:","Sequences:":"Reeksen:","Activities done:":"Activiteiten klaar:","Activities solved:":"Activiteiten ok:","Global score:":"Puntentotaal:","Total time in activities:":"Totale tijd activiteiten:","Actions done:":"Einde activiteiten:","No activities done!":"Geen activiteiten gerapporteerd!",Project:"Project",sequence:"Volgorde",activity:"Activiteit",OK:"Ok",YES:"JA",NO:"NEE","Total:":"Totaal:"},pt:{Version:"Verso",time:"tempo",actions:"tentativas",score:"acertos","Next activity":"Actividade seguinte","Previous activity":"Actividade anterior","Restart activity":"Reiniciar a actividade",Information:"Informao","Results are not currently being saved":"O relatrio no est registado em nenhuma base de dados","Current results":"Relatrios do utilizador","Session started:":"Incio da sesso:","Reports system:":"Sistema de relatrios:","User:":"Utilizador:","Projects:":"Projectos:","Sequences:":"Sequncias:","Activities done:":"Actividades realizadas:","Activities solved:":"Actividades correctas:","Global score:":"Pontuao global:","Total time in activities:":"Tempo total das actividades:","Actions done:":"Aces efectuadas:","No activities done!":"Nenhuma actividade registada!",Project:"Projecto",sequence:"sequncia",activity:"Actividade",OK:"Correcta",YES:"sim",NO:"no","Total:":"Total:"},pt_BR:{Version:"Verso",time:"tempo",actions:"tentativas",score:"acertos","Next activity":"atividade seguinte","Previous activity":"atividade anterior","Restart activity":"Reiniciar a atividade",Information:"Informao","Results are not currently being saved":"O relatrio no est registrando em nenhuma base de dados","Current results":"relatrios de usurio","Session started:":"Incio da sesso:","Reports system:":"Sistema de relatrios:","User:":"Usurio:","Projects:":"Projetos:","Sequences:":"Sequncias:","Activities done:":"Atividades realizadas:","Activities solved:":"Atividades corretas:","Global score:":"Pontuao geral:","Total time in activities:":"Tempo total das atividades:","Actions done:":"Aes efetuadas:","No activities done!":"Nenhuma atividade registrada!",Project:"Projeto",sequence:"sequncia",activity:"atividade",OK:"Correta",YES:"sim",NO:"no","Total:":"Total:"},ru:{Version:"",time:"",actions:"",score:"","Next activity":" ","Previous activity":" ","Restart activity":" ",Information:"","Results are not currently being saved":"    ","Current results":" ","Session started:":" :","Reports system:":" :","User:":":","Projects:":":","Sequences:":":","Activities done:":" :","Activities solved:":"  :","Global score:":" :","Total time in activities:":"  :","Actions done:":" :","No activities done!":"  !",Project:"",sequence:"",activity:"",OK:"",YES:"",NO:"","Total:":":"},tr:{Version:"Srm",time:"zaman",actions:"Denemeler",score:"sonu","Next activity":"Bir sonraki etkinlik","Previous activity":"Bir nceki etkinlik","Restart activity":"Etkinlii tekrar balat",Information:"Bilgi","Results are not currently being saved":"Rapor herhangi bir veritabannda kaydedilmedi","Current results":"Kullanc raporlar","Session started:":"Oturum balatld","Reports system:":"Sistem raporu:","User:":"Kullanc:","Projects:":"Projeler:","Sequences:":"Etkinlik dizisi","Activities done:":"Etkinlikler balatlyor:","Activities solved:":"Etkinlikler tamam:","Global score:":"Genel sonu:","Total time in activities:":"Etkinlikde geirilen toplam zaman:","Actions done:":"Eylem gerekletiriliyor:","No activities done!":"Etkinlik raporu yok!",Project:"Proje",sequence:"Etkinlik dizisi",activity:"Etkinlik",OK:"Tamam",YES:"Evet",NO:"hibir","Total:":"Toplam:"},vec:{Version:"Version",time:"tenpo",actions:"tentadivi",score:"pontexio","Next activity":"Prsima ativit","Previous activity":"Ativit presedente","Restart activity":"Inva ativit da novo",Information:"Informasion","Results are not currently being saved":"Report no registr inte nisun database","Current results":"Reports utenti","Session started:":"Sesion inviada:","Reports system:":"Sistma de report","User:":"Utente:","Projects:":"Proxti:","Sequences:":"Secuense:","Activities done:":"Ativit fate:","Activities solved:":"Ativit ok:","Global score:":"Pontexio global","Total time in activities:":"Tenpo total so e ativit","Actions done:":"Asion exegue","No activities done!":"No x st report ativit!",Project:"Proxto:",sequence:"secuensa",activity:"Ativit",OK:"Ok",YES:"SI",NO:"NO","Total:":"Total:"},zh_TW:{Version:"",time:"",actions:"",score:"","Next activity":"","Previous activity":"","Restart activity":"",Information:"","Results are not currently being saved":"DB","Current results":"","Session started:":"","Reports system:":":","User:":":","Projects:":"","Sequences:":"","Activities done:":":","Activities solved:":":","Global score:":":","Total time in activities:":":","Actions done:":"","No activities done!":"",Project:"",sequence:"",activity:"",OK:"",YES:"",NO:"","Total:":""}}}},{}],131:[function(a,b,c){"undefined"==typeof define&&(define=function(b,c){for(var d=[],e=0;e<b.length;e++)d.push(a(b[e]));return c.apply(null,d)});var d={};b.exports=function(a,b,c,e,f){if(d={JClicPlayer:b,JClicProject:c,AWT:e,Utils:f,$:a,options:"undefined"==typeof JClicDataOptions?{}:JClicDataOptions,projectFiles:{},currentPlayers:[],loadProject:function(c,e,g){g=f.init(a.extend(Object.create(d.options),g||{}));for(var h=null,i=0;i<d.currentPlayers.length;i++){var j=d.currentPlayers[i];if(j&&j.$topDiv&&j.$topDiv.get(0)===c){f.log("debug","Existing JClicPlayer found in div. I will try to reuse it."),h=j;for(var k in g)if(g.hasOwnProperty(k)&&(!h.options.hasOwnProperty(k)||h.options[k]!==g[k])){f.log("debug","Existing JClicPlayer has diferent options! Creating a new one from scratch."),h=null;break}break}}return h?h.reset():(f.log("debug","Creating a new instance of JClicPlayer"),h=new b(a(c).empty(),g)),e&&h.initReporter().then(function(){h.load(e)}).catch(function(b){f.log("error","Unable to start reporting: %s.\n JClicPlayer will be removed.",b.toString()),a(c).empty().removeAttr("style").append(a("<h2/>").html(h.getMsg("ERROR"))).append(a("<p/>").html(b));var e=d.currentPlayers.indexOf(h);e>=0&&d.currentPlayers.splice(e,1),h=null}),h&&!1!==g.savePlayersRef&&-1===d.currentPlayers.indexOf(h)&&d.currentPlayers.push(h),h}},"undefined"!=typeof window){window.JClicObject=d;var g=function(){for(var a=0;a<d.currentPlayers.length;a++){var b=d.currentPlayers[a];b&&b.skin&&b.skin.fit()}};a(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",g),a(window).resize(g)}return a(function(){var b="undefined"==typeof JClicDataOptions?{}:JClicDataOptions;if(d.options=b,!b.noInit){var c="string"==typeof JClicDataProject?JClicDataProject:"string"==typeof d.projectFile?d.projectFile:null;a(".JClic").each(function(){var e=a(this),f=e.data("project");f&&(c=f);var g=e.data("options");g&&(b=a.extend(Object.create(b),g)),d.loadProject(this,c,b)})}}),d}(a("jquery"),a("./JClicPlayer"),a("./project/JClicProject"),a("./AWT"),a("./Utils"),a("./Deps")),void 0!==b&&(b.exports=d)},{"./AWT":127,"./Deps":129,"./JClicPlayer":132,"./Utils":134,"./project/JClicProject":181,jquery:51}],132:[function(a,b,c){b.exports=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=function(b,c){g.Container.call(this),c=f.init(c),this.options=a.extend(Object.create(this.options),c),this.id="JC"+(65536+Math.round(65535*Math.random())).toString(16).toUpperCase().substr(1),this.$topDiv=b||a("<div/>"),this.$topDiv.css({"text-align":"initial"}),this.$topDiv.parent().is("td")&&this.$topDiv.css({width:c.width||"100%",height:c.height||"100%"}),this.$mainContainer=a("<div/>",{class:"JClicContainer",id:this.id}).css({width:"100%",height:"100%"}).appendTo(this.$topDiv),e.init(this),this.localFS=location&&"file:"===location.protocol,this.$div=a("<div/>",{class:"JClicPlayer"}),this.project=new l,this.activeMediaBag=new i,this.counterVal={score:0,actions:0,time:0},this.bgImageOrigin=new g.Point,this.buildActions(),this.history=new h(this),this.audioEnabled=this.options.audioEnabled,this.navButtonsAlways=this.options.navButtonsAlways,this.defaultSkin=j.getSkin(this.options.skin,this),this.setSkin(j.getSkin("@empty.xml",this)),this.initTimers(),f.log("info","JClicPlayer ready")};return p.prototype={constructor:p,JClicVersion:"0",options:{maxWaitTime:12e4,infoUrlFrame:"_blank",exitUrl:null,audioEnabled:!0,navButtonsAlways:!0,fade:300},id:"JC0000",$div:null,$topDiv:null,$mainContainer:null,fullScreenChecked:!1,project:null,basePath:"",zip:null,localFS:!1,actPanel:null,history:null,skin:null,defaultSkin:null,activeMediaBag:null,reporter:null,actions:{},timer:null,delayedTimer:null,delayedAction:null,counterVal:{score:0,actions:0,time:0},bgImageOrigin:null,audioEnabled:!0,navButtonsDisabled:!1,navButtonsAlways:!1,getUniqueId:function(a){return this.id+"-"+a},buildActions:function(){var b=this;this.actions={next:new g.Action("next",function(){b.history.processJump(b.project.activitySequence.getJump(!1,b.reporter),!1)}),prev:new g.Action("prev",function(){b.history.processJump(b.project.activitySequence.getJump(!0,b.reporter),!1)}),return:new g.Action("return",function(){b.history.pop()}),reset:new g.Action("reset",function(){b.actPanel&&b.actPanel.act.canReinit()&&b.initActivity()}),help:new g.Action("help",function(){null!==b.actPanel&&b.actPanel.showHelp()}),info:new g.Action("info",function(){b.actPanel&&b.actPanel.act.hasInfo()&&(b.actPanel.act.infoUrl?b.displayURL(b.act.infoUrl,!0):b.actPanel.act.infoCmd&&b.runCmd(b.actPanel.act.infoCmd))}),reports:new g.Action("reports",function(){b.showReports()}),audio:new g.Action("audio",function(){b.audioEnabled=!b.audioEnabled,b.audioEnabled||b.stopMedia(),k.prototype.globalEnabled=b.audioEnabled})},
a.each(this.actions,function(a,c){c.addStatusListener(function(){b.skin&&b.skin.actionStatusChanged(this)})})},reset:function(){f.log("info","Restoring player"),this.removeActivity(),this.end(),this.activeMediaBag=new i,this.history.clearHistory(),this.setSkin(null),this.setMsg(null),this.setCounterValue("score",0),this.setCounterValue("actions",0),this.setCounterValue("time",0),this.skin&&this.skin.setWaitCursor("reset")},stop:function(){this.stopMedia(-1)},end:function(){var a=null;return this.stopMedia(),this.closeHelpWindow(),this.reporter&&(a=this.reporter.end(),this.reporter=null),this.actPanel&&(this.actPanel.end(),this.actPanel.$div.remove(),this.actPanel=null),this.project&&(this.project.end(),this.project=null),this.activeMediaBag&&this.activeMediaBag.removeAll(),a||f.Promise.resolve(!0)},initReporter:function(){return this.reporter&&(this.reporter.end(),this.reporter=null),this.reporter=o.getReporter(null,this),this.reporter.init()},initTimers:function(){this.timer&&this.timer.stop();var a=this;this.timer=new g.Timer(function(){a.incCounterValue("time"),a.actPanel&&a.actPanel.act.maxTime>0&&a.actPanel.playing&&a.counterVal.time>=a.actPanel.act.maxTime&&a.actPanel.finishActivity(!1)},1e3,!1),this.delayedTimer&&this.delayedTimer.stop(),this.delayedTimer=new g.Timer(function(){a.delayedAction&&a.delayedAction.processEvent(a.delayedAction,null)},1e3,!1),this.delayedTimer.repeats=!1},showReports:function(){this.skin&&this.skin.showReports(this.reporter)},closeHelpWindow:function(){this.skin&&this.skin._closeDlg(!1)},setSkin:function(a){a||(a=this.project&&this.project.skin?this.project.skin:this.defaultSkin),null===a||null!==this.skin&&a.name===this.skin.name||(a.attach(this),this.skin=a,this.skin.doLayout())},setProject:function(a){this.project&&(this.project!==a&&this.project.end(),this.removeActivity()),this.project=a||new l,this.project.realize(this)},load:function(e,g,h){var i=this;i.forceFinishActivity(),i.setWaitCursor(!0);var j=null;if(e){if("string"==typeof e){var k=f.getPath(this.basePath,e);if(f.endsWith(k,"project.json"))return f.log("info","Loading JSON info from: %s",k),void a.getJSON(k).done(function(a){f.endsWith(a.mainFile,".jclic")?i.load(f.getPath(f.getBasePath(k),a.mainFile),g,h):f.log("error",'Invalid or null "mainFile" specified in %s - "project.json".',k)}).fail(function(a,b,c){var d=b+" ("+c+") while loading "+e;f.log(d),alert("Error!\n"+d)}).always(function(){i.setWaitCursor(!1)});if(f.endsWith(k,".zip"))return i.zip=null,f.log("info","Loading ZIP file: %s",k),void c.getBinaryContent(k,function(a,c){if(a)return i.setWaitCursor(!1),void f.log("error","Error loading ZIP file: %s",a.toString());(new b).loadAsync(c).then(function(a){i.zip=a,i.zip.fullZipPath=k,i.zip.zipBasePath=f.getBasePath(k);var b=null;if(i.zip.files["project.json"])i.zip.files["project.json"].async("string").then(function(a){try{var b=JSON.parse(a);f.endsWith(b.mainFile,".jclic")?i.load(f.getPath(i.zip.zipBasePath,b.mainFile),g,h):f.log("error",'Invalid or null "mainFile" specified in %s - "project.json".',k)}catch(a){f.log("error",'Error reading "project.json" in %s: %s',k,a?"unknown error":a.toString())}}).catch(function(a){f.log("error","Error reading ZIP file: %s",a?"unknown reason":a.toString())});else{for(var c in i.zip.files)if(f.endsWith(c,".jclic")){b=c;break}b?i.load(f.getPath(i.zip.zipBasePath,b),g,h):f.log("error","This ZIP file does not contain any JClic project!")}i.setWaitCursor(!1)}).catch(function(a){f.log("error","Error reading ZIP file: %s",a?"unknown reason":a.toString()),i.setWaitCursor(!1)})});if(i.localFS&&JClicObject&&!JClicObject.projectFiles[k])return d(k+".js",function(){i.load(e,g,h)}),void i.setWaitCursor(!1);var m=function(b){a.get(b,null,null,"xml").done(function(b){if(null===b||"object"!=typeof b)return void f.log("error","Bad data. Project not loaded: %s",e);var c=new l;c.setProperties(a(b).find("JClicProject"),k,i.zip,i.options),f.log("info","Project file loaded and parsed: %s",e);var d=c.mediaBag.buildAll(null,function(){f.log("trace",'"%s" ready.',this.name),i.incProgress(1)});f.log("info","Media elements to be loaded: %d",d),i.setProgress(0,d);var j=0;i.setWaitCursor(!0);var m=window.setInterval(function(){++j>i.options.maxWaitTime/500&&(window.clearInterval(m),i.setProgress(-1),i.setWaitCursor(!1),f.log("error","Error loading media")),-1===c.mediaBag.countWaitingElements()&&(window.clearInterval(m),i.setProgress(-1),i.setWaitCursor(!1),i.load(c,g,h))},500)}).fail(function(a,b,c){var d=b+" ("+c+") while loading "+e;f.log(d),alert("Error!\n"+d)}).always(function(){i.setWaitCursor(!1)})};f.log("info","Loading project: %s",e);var n=k;if(i.zip){var o=f.getRelativePath(n,i.zip.zipBasePath);if(i.zip.files[o])return void i.zip.file(o).async("string").then(function(a){m("data:text/xml;charset=UTF-8,"+a)}).catch(function(a){f.log("error",'Unable to extract "%s" from ZIP file because of: %s',o,a?"unknown reason":a.toString()),i.setWaitCursor(!1)})}else if(i.localFS){if(!JClicObject||!JClicObject.projectFiles[k])return f.log("error","Unable to load: %s.js",k),void i.setWaitCursor(!1);n="data:text/xml;charset=UTF-8,"+JClicObject.projectFiles[k]}return void m(n)}this.setProject(e),g||h||(g="0"),null!==this.reporter&&this.reporter.newSession(e)}if(!f.isNullOrUndef(g)){f.log("info","Loading sequence: %s",g),this.navButtonsDisabled=!1;var p=null;if("string"==typeof g&&(p=this.project.activitySequence.getElementByTag(g,!0)),null===p){var q=parseInt(g,10);"number"==typeof q&&(p=this.project.activitySequence.getElement(q,!0))}null!==p&&(this.reporter&&this.reporter.newSequence(p),h=p.activityName)}if(h){var r=this.project.getActivity(h);r?(f.log("info","Loading activity: %s",h),r.prepareMedia(this),this.project.activitySequence.checkCurrentActivity(r.name),j=r.getActivityPanel(this),j.buildVisualComponents()):f.log("error","Missing activity: %s",h)}if(null!==this.actPanel&&(this.actPanel.end(),this.actPanel.$div.remove(),this.actPanel=null,this.setCounterValue("time",0)),j){if(this.actPanel=j,this.options.fade>0&&this.actPanel.$div.css("display","none"),this.$div.prepend(this.actPanel.$div),this.skin&&this.skin.resetAllCounters(!1),this.actPanel.skin?this.setSkin(this.actPanel.skin):this.project.skin?this.setSkin(this.project.skin):this.setSkin(null),this.skin){var s=this.history.storedElementsCount()>0,t=this.navButtonsAlways?"both":this.navButtonsDisabled?"none":this.project.activitySequence.getNavButtonsFlag();this.actions.next.setEnabled(("fwd"===t||"both"===t)&&this.project.activitySequence.hasNextAct(s)),this.actions.prev.setEnabled(("back"===t||"both"===t)&&this.project.activitySequence.hasPrevAct(s)),this.actions.return.setEnabled(this.history.storedElementsCount()>0),this.actions.help.setEnabled(this.actPanel.act.helpWindowAllowed()),this.actions.reset.setEnabled(this.actPanel.act.canReinit()),this.actions.info.setEnabled(this.actPanel.act.hasInfo())}this.doLayout(),this.initActivity(),this.actPanel.$div.fadeIn(this.options.fade,function(){i.activityReady()})}i.setWaitCursor(!1)},forceFinishActivity:function(){this.timer.stop(),this.delayedTimer.stop(),this.actPanel&&(this.closeHelpWindow(),this.actPanel.forceFinishActivity(),this.stopMedia(),this.activeMediaBag.removeAll())},removeActivity:function(){this.forceFinishActivity(),this.actPanel&&(this.actPanel.end(),this.actPanel.$div.remove(),this.actPanel=null,this.setMsg(null),this.doLayout())},initActivity:function(){this.setWaitCursor(!0),this.timer.stop(),this.delayedTimer.stop(),this.setCounterValue("time",0),this.stopMedia(),this.actPanel&&(this.actPanel.initActivity(),this.timer.start(),this.actPanel.act.mustPauseSequence()||this.startAutoPassTimer(),f.log("info",'Activity "%s" running',this.actPanel.act.name)),this.setWaitCursor(!1)},activityReady:function(){this.actPanel&&(this.actPanel.activityReady(),f.log("info","Activity ready"))},startActivity:function(){this.setWaitCursor(!0),this.actPanel&&this.actPanel.startActivity(),this.setWaitCursor(!1)},doLayout:function(){var a=this.dim.width=this.$div.width(),b=this.dim.height=this.$div.height(),c={"background-color":this.actPanel?this.actPanel.act.bgColor:"azure","background-image":""};if(this.actPanel){var d=this.actPanel.act;if(d.bgGradient&&(c["background-image"]=d.bgGradient.getCss()),d.bgImageFile&&d.bgImageFile.length>0){var e=this;this.project.mediaBag.getElement(d.bgImageFile,!0).getFullPathPromise().then(function(a){e.$div.css({"background-image":"url('"+a+"')","background-repeat":d.tiledBgImg?"repeat":"no-repeat","background-position":d.tiledBgImg?"":"center center"})})}var h=f.settings.BoxBase.AC_MARGIN,i=new g.Rectangle(h,h,a-2*h,b-2*h);this.actPanel.bgImage&&!d.tiledBgImg&&d.absolutePositioned&&(this.bgImageOrigin.x=(a-this.actPanel.bgImage.width)/2,this.bgImageOrigin.y=(b-this.actPanel.bgImage.height)/2,i.pos.moveTo(this.bgImageOrigin),i.dim.width-=this.bgImageOrigin.x-h,i.dim.height-=this.bgImageOrigin.y-h,i.dim.width=Math.min(i.dim.width,a),i.dim.height=Math.min(i.dim.height,b)),this.actPanel.fitTo(i,this)}this.$div.css(c)},playMedia:function(a,b){var c=this,d=null,e=a.mediaFileName;switch(a.mediaType){case"PLAY_AUDIO":case"PLAY_VIDEO":case"PLAY_MIDI":case"RECORD_AUDIO":case"PLAY_RECORDED_AUDIO":if(c.audioEnabled){var g=c.activeMediaBag.getActiveMediaPlayer(a,c.project.mediaBag,c);g&&g.play(b)}break;case"RUN_CLIC_PACKAGE":d=new m("JUMP",e),a.externalParam&&(d.projectPath=a.externalParam),c.history.processJump(d,!0);break;case"RUN_CLIC_ACTIVITY":c.history.push(),c.load(null,null,e);break;case"RETURN":c.history.pop();break;case"EXIT":d=new m("EXIT",e),c.history.processJump(d,!1);break;case"RUN_EXTERNAL":c.runCmd(e);break;case"URL":e&&c.displayURL(e,a.level>1);break;default:f.log("error","Unknown media type: %s",a.mediaType)}},stopMedia:function(a){"number"!=typeof a&&(a=-1),this.activeMediaBag.stopAll(a)},runCmd:function(a){f.log("warn",'Unsupported call to external command: "%s"',a)},activityFinished:function(a){this.closeHelpWindow(),f.log("info","Activity finished"),this.timer.stop(),this.startAutoPassTimer()},startAutoPassTimer:function(){var a=this.project.activitySequence.getCurrentAct();null!==a&&a.delay>0&&!this.delayedTimer.isRunning()&&!this.navButtonsDisabled&&(this.delayedAction=this.actions.next,this.delayedTimer.interval=1e3*a.delay,this.delayedTimer.start())},getMsg:function(a){return a},setMsg:function(a){var b=this.skin?this.skin.getMsgBox():null;b&&(b.clear(),this.skin.invalidate(b).update(),b.setContent(a||n.EMPTY_CONTENT),this.skin.invalidate(b).update(),b.playMedia(this))},playMsg:function(){this.skin&&this.skin.getMsgBox()&&this.skin.getMsgBox().playMedia(this)},setCounterValue:function(a,b){this.counterVal[a]=b,this.skin&&this.skin.counters[a]&&this.skin.counters[a].setValue(b)},getCounterValue:function(a){return this.counterVal[a]},setCounterEnabled:function(a,b){this.skin&&(this.skin.enableCounter(a,b),this.setCountDown(a,0))},incCounterValue:function(a){this.counterVal[a]++;var b=this.actPanel,c=this.skin?this.skin.counters[a]:null;c&&c.setValue(this.counterVal[a]),"actions"===a&&null!==b&&b.act.maxActions>0&&b.playing&&this.counterVal.actions>=b.act.maxActions&&window.setTimeout(function(){b.finishActivity(b.solved)},0)},setCountDown:function(a,b){this.skin&&this.skin.counters[a]&&this.skin.counters[a].setCountDown(b)},setWaitCursor:function(a){this.skin&&this.skin.setWaitCursor(a)},setProgress:function(a,b){this.skin&&this.skin.setProgress(a,b)},incProgress:function(a){this.skin&&this.skin.incProgress(a)},getActiveMediaPlayer:function(a){return this.activeMediaBag&&a?this.activeMediaBag.getActiveMediaPlayer(a,this.project.mediaBag,this):null},reportNewActivity:function(a){var b=this.project.activitySequence.getCurrentAct();this.reporter&&(b.tag===this.reporter.getCurrentSequenceTag()&&this.reporter.newSequence(b),a.includeInReports&&this.reporter.newActivity(a)),this.setCounterValue("actions",0),this.setCounterValue("score",0)},reportNewAction:function(a,b,c,d,e,f){this.reporter&&a.includeInReports&&a.reportActions&&this.reporter.newAction(b,c,d,e),f>=0&&(this.incCounterValue("actions"),this.setCounterValue("score",f))},reportEndActivity:function(a,b){this.reporter&&a.includeInReports&&this.reporter.endActivity(this.counterVal.score,this.counterVal.actions,b)},showHelp:function(a){return!!this.skin&&this.skin.showHelp(a)},displayURL:function(a,b){a&&(b?window.open(a,this.options.infoUrlFrame):this.end().then(function(){window.location.href=a}))},exit:function(a){this.displayURL(a||this.options.exitUrl,!1)},setWindowTitle:function(a){f.log("info","running %s",a)}},p.prototype=a.extend(Object.create(g.Container.prototype),p.prototype),p}(a("jquery"),a("jszip"),a("jszip-utils"),a("scriptjs"),a("./i18n"),a("./Utils"),a("./AWT"),a("./PlayerHistory"),a("./media/ActiveMediaBag"),a("./skins/Skin"),a("./media/EventSounds"),a("./project/JClicProject"),a("./bags/JumpInfo"),a("./boxes/ActiveBoxContent"),a("./report/Reporter"))},{"./AWT":127,"./PlayerHistory":133,"./Utils":134,"./bags/JumpInfo":160,"./boxes/ActiveBoxContent":167,"./i18n":174,"./media/ActiveMediaBag":175,"./media/EventSounds":178,"./project/JClicProject":181,"./report/Reporter":186,"./skins/Skin":205,jquery:51,jszip:62,"jszip-utils":52,scriptjs:119}],133:[function(a,b,c){b.exports=function(a){var b=function(a){this.player=a,this.sequenceStack=[]};return b.prototype={constructor:b,player:null,sequenceStack:[],testMode:!1,storedElementsCount:function(){return this.sequenceStack.length},clearHistory:function(){this.sequenceStack=[0]},HistoryElement:function(a,b,c,d){this.projectPath=a,this.sequence=b,this.activity=c,this.fullZipPath=d},push:function(){if(null!==this.player.project&&null!==this.player.project.path){var a=this.player.project.activitySequence,b=a.currentAct;if(b>=0){if(this.sequenceStack.length>0){var c=this.sequenceStack[this.sequenceStack.length-1];if(c.projectPath===this.player.project.path&&c.activity===b)return}this.sequenceStack.push(new this.HistoryElement(this.player.project.path,a.getSequenceForElement(b),b,this.player.zip?this.player.zip.fullZipPath:null))}}},pop:function(){if(this.sequenceStack.length>0){var b=this.sequenceStack.pop();if(b.projectPath===this.player.project.path&&a.isEquivalent(b.fullZipPath,this.player.zip?this.player.zip.fullZipPath:null))this.player.load(null,b.activity,null);else if(this.testMode&&null!==b.projectPath&&b.projectPath.length>0)a.log("info",'At this point, a jump to "%s" should be performed.',b.projectPath);else{var c=b.fullZipPath||b.projectPath;this.player.load(c,b.activity,null)}}return!0},processJump:function(b,c){var d=!1;if(null!==b&&null!==this.player.project)switch(b.action){case"STOP":break;case"RETURN":d=this.pop();break;case"EXIT":this.testMode?a.log("info","At this point, the program should exit."):this.player.exit(b.sequence);break;case"JUMP":if(b.sequence||b.projectPath)this.testMode&&null!==b.projectPath&&b.projectPath.length>0?a.log("info",'At this point, a jump to "%s" should be performed.',b.projectPath):d=this.jumpToSequence(b.sequence,b.projectPath?a.getPath(this.player.project.basePath,b.projectPath):null,c);else{var e=this.player.project.activitySequence.getElement(b.actNum,!0);null!==e&&(c&&this.push(),this.player.load(null,null,e.activityName),d=!0)}}return d},jumpToSequence:function(b,c,d){if(a.isNullOrUndef(b)&&a.isNullOrUndef(c))return!1;if(a.isNullOrUndef(c)&&(c=this.player.project.path),this.sequenceStack.length>0){var e=this.sequenceStack[this.sequenceStack.length-1];if(!a.isNullOrUndef(b)&&c===e.projectPath){var f=b===e.sequence;if(c===this.player.project.path){var g=this.player.project.activitySequence.getElement(e.activity,!1);f=null!==g&&b===g.tag}if(f)return this.pop()}}return d&&this.push(),c===this.player.project.path?this.player.load(null,b,null):this.player.load(c,b,null),!0}},b}(a("./Utils"))},{"./Utils":134}],134:[function(a,b,c){b.exports=function(a,b,c,d,e,f,g,h,i){b||(b=window.screenfull);var j=c.Promise,k={pkg:{ClipboardJS:d,Promise:j,i18next:e,$:a,JSZip:f,JSZipUtils:g,ScriptJS:h,WebFont:i},Promise:j,getMsg:function(a){return a},LOG_LEVELS:["none","error","warn","info","debug","trace","all"],LOG_PRINT_LABELS:["     ","ERROR","WARN ","INFO ","DEBUG","TRACE","ALL  "],LOG_LEVEL:2,LOG_OPTIONS:{prefix:"JClic",timestamp:!0,popupOnErrors:!1,chainTo:null,pipeTo:null},init:function(a){return a=k.normalizeObject(a),void 0!==a.logLevel&&k.setLogLevel(a.logLevel),"function"==typeof a.chainLogTo&&(k.LOG_OPTIONS.chainTo=a.chainLogTo),"function"==typeof a.pipeLogTo&&(k.LOG_OPTIONS.pipeTo=a.pipeLogTo),a},setLogLevel:function(a){var b=k.LOG_LEVELS.indexOf(a);b>=0&&(k.LOG_LEVEL=b)},log:function(a,b){var c=k.LOG_LEVELS.indexOf(a);if(c<0||c<=k.LOG_LEVEL)if(k.LOG_OPTIONS.pipeTo)k.LOG_OPTIONS.pipeTo.apply(null,arguments);else{var d=b;if(k.LOG_OPTIONS.timestamp&&(d=k.getDateTime()+" "+d),d=k.LOG_PRINT_LABELS[c]+" "+d,k.LOG_OPTIONS.prefix&&(d=k.LOG_OPTIONS.prefix+" "+d),arguments.length>2){for(var e=[d],f=2;f<arguments.length;f++)e.push(arguments[f]);console[1===c?"error":2===c?"warn":"log"].apply(console,e)}else switch(c){case 1:console.error(d);break;case 2:console.warn(d);break;default:console.log(d)}k.LOG_OPTIONS.chainTo&&k.LOG_OPTIONS.chainTo.apply(null,arguments)}},getBoolean:function(a,b){return"true"===a||"false"!==a&&b},getVal:function(a,b){return""===a||null===a||void 0===a?b||null:a},getNumber:function(a,b){return Number(k.getVal(a,b))},getPercent:function(a){return Math.round(100*a)+"%"},getHMStime:function(a){var b=new Date(a),c=b.getUTCHours(),d=b.getUTCMinutes(),e=b.getUTCSeconds();return(c?c+"h ":"")+(c||d?("0"+d).slice(-2)+"'":"")+("0"+e).slice(-2)+'"'},getDateTime:function(a){return a||(a=new Date),a.getFullYear()+"/"+("0"+a.getMonth()).slice(-2)+"/"+("0"+a.getDate()).slice(-2)+" "+("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2)+":"+("0"+a.getSeconds()).slice(-2)},FALSE:0,TRUE:1,DEFAULT:2,getTriState:function(a){return Number("true"===a?k.TRUE:"false"===a?k.FALSE:k.DEFAULT)},fillString:function(a,b){for(var c="",d=0;d<b;d++)c+=a;return c},isNullOrUndef:function(a){return void 0===a||null===a},isEquivalent:function(a,b){return(void 0===a||null===a)&&(void 0===b||null===b)||a===b},getXmlText:function(b){var c="";return a(b).children("p").each(function(){c+="<p>"+this.textContent+"</p>"}),c},cssToString:function(b){var c="";return a.each(b,function(a,b){c+=a+": "+b+";"}),c},checkColor:function(a,b){void 0!==a&&null!==a||void 0!==(a=b)&&null!==a||(a=k.settings.BoxBase.BACK_COLOR);var c=a.replace("0x","#");if("#"===c.charAt(0)&&c.length>7){var d=parseInt(c.substring(1,3),16)/255;c="rgba("+parseInt(c.substring(3,5),16)+","+parseInt(c.substring(5,7),16)+","+parseInt(c.substring(7,9),16)+","+d+")"}return c},colorHasTransparency:function(a){var b=!1;if(k.startsWith(a,"rgba(")){var c=a.lastIndexOf(","),d=parseInt(a.substr(c));b="number"==typeof d&&d<1}return b},cloneObject:function(b){return a.extend(!0,{},b)},normalizeObject:function(b){var c={};return b&&a.each(b,function(a,b){var d;"string"==typeof b&&""!==(d=b.trim().toLowerCase())&&(b="true"===d||"false"!==d&&(isNaN(d)?b:Number(d))),c[a]=b}),c},isSeparator:function(a){return" .,;-|".indexOf(a)>=0},roundTo:function(a,b){return Math.round(a/b)*b},compareMultipleOptions:function(a,b,c){if(null===a||0===a.length||null===b||0===b.length)return!1;c||(a=a.toUpperCase()),a=a.trim();for(var d=b.split("|"),e=0;e<d.length;e++){if((c?d[e]:d[e].toUpperCase()).trim()===a)return!0}return!1},endsWith:function(a,b,c){var d=!1;return void 0!==a&&null!==a&&(c&&null!==a&&(a=a.trim()),d=-1!==a.indexOf(b,a.length-b.length)),d},startsWith:function(a,b,c){var d=!1;return void 0!==a&&null!==a&&(c&&null!==a&&(a=a.trim()),d=0===a.indexOf(b)),d},nSlash:function(a){return a?a.replace(/\\/g,"/"):a},isURL:function(a){return/^(filesystem:)?(https?|file|data|ftps?):/i.test(a)},getBasePath:function(a){var b="",c=a.lastIndexOf("/");return c>=0&&(b=a.substring(0,c+1)),b},getRelativePath:function(a,b){return b&&""!==b&&0===a.indexOf(b)?a.substr(b.length):a},getPath:function(a,b){return k.isURL(b)?b:a+b},getPathPromise:function(a,b,c){if(c){var d=k.getRelativePath(a+b,c.zipBasePath);if(c.files[d])return new j(function(a,e){c.file(d).async("base64").then(function(c){var d=b.toLowerCase().split(".").pop(),e=k.settings.MIME_TYPES[d];e||(e="application/octet-stream"),a("data:"+e+";base64,"+c)}).catch(e)})}return j.resolve(k.getPath(a,b))},$HTML:{doubleCell:function(b,c){return a("<tr/>").append(a("<td/>").html(b)).append(a("<td/>").html(c))},p:function(b){return a("<p/>").html(b)},td:function(b,c){return a("<td/>",c?{class:c}:null).html(b)},th:function(b,c){return a("<th/>",c?{class:c}:null).html(b)}},screenFullAllowed:function(){return b&&b.enabled},getSvg:function(a,b,c,d){return b&&(a=a.replace(/width=\"\d*\"/,'width="'+b+'"')),c&&(a=a.replace(/height=\"\d*\"/,'height="'+c+'"')),d&&(a=a.replace(/fill=\"[#A-Za-z0-9]*\"/,'fill="'+d+'"')),a},svgToURI:function(a,b,c,d){return"data:image/svg+xml;base64,"+btoa(k.getSvg(a,b,c,d))},toCssSize:function(a,b,c,d){var e=void 0===a||null===a?null:isNaN(a)?a:a+"px";return b&&c&&(e||d)&&(b[c]=null!==e?e:d),e},settings:{AB:0,BA:1,AUB:2,BUA:3,LAYOUT_NAMES:["AB","BA","AUB","BUA"],DEFAULT_WIDTH:400,DEFAULT_HEIGHT:300,MINIMUM_WIDTH:40,MINIMUM_HEIGHT:40,DEFAULT_NAME:"---",DEFAULT_MARGIN:8,DEFAULT_SHUFFLES:31,DEFAULT_GRID_ELEMENT_SIZE:20,MIN_CELL_SIZE:10,DEFAULT_BG_COLOR:"#C0C0C0",ACTIONS:{ACTION_MATCH:"MATCH",ACTION_PLACE:"PLACE",ACTION_WRITE:"WRITE",ACTION_SELECT:"SELECT",ACTION_HELP:"HELP"},PREVIOUS:0,MAIN:1,END:2,END_ERROR:3,NUM_MSG:4,MSG_TYPE:["previous","initial","final","finalError"],RANDOM_CHARS:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",NUM_COUNTERS:3,MAX_RECORD_LENGTH:20,BoxBase:{REDUCE_FONT_STEP:1,MIN_FONT_SIZE:8,STROKE:1,AC_MARGIN:6,BACK_COLOR:"#C0C0C0",TEXT_COLOR:"black",SHADOW_COLOR:"gray",INACTIVE_COLOR:"gray",ALTERNATIVE_COLOR:"gray",BORDER_COLOR:"black",BORDER_STROKE_WIDTH:.75,MARKER_STROKE_WIDTH:2.75},FILE_TYPES:{image:"gif,jpg,png,jpeg,bmp,ico,svg",audio:"wav,mp3,ogg,oga,au,aiff,flac",video:"avi,mov,mpeg,mp4,ogv,m4v,webm",font:"ttf,otf,eot,woff,woff2",midi:"mid,midi",anim:"swf",xml:"xml"},MIME_TYPES:{xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",svg:"image/svg+xml",ico:"image/x-icon",wav:"audio/wav",mp3:"audio/mpeg",mp4:"video/mp4",m4v:"video/mp4",ogg:"audio/ogg",oga:"audio/ogg",ogv:"video/ogg",webm:"video/webm",au:"audio/basic",aiff:"audio/x-aiff",flac:"audio/flac",avi:"video/avi",mov:"video/quicktime",mpeg:"video/mpeg",ttf:"application/font-sfnt",otf:"application/font-sfnt",eot:" application/vnd.ms-fontobject",woff:"application/font-woff",woff2:"application/font-woff2",swf:"application/x-shockwave-flash"},COMPRESS_IMAGES:!0,VK:{LEFT:37,UP:38,RIGHT:39,DOWN:40},TOUCH_DEVICE:!1,LOAD_TIMEOUT:1e4,BEZIER_POINTS:4,CANVAS_HITREGIONS:"undefined"!=typeof CanvasRenderingContext2D&&"function"==typeof CanvasRenderingContext2D.prototype.addHitRegion,CANVAS_HITREGIONS_FOCUS:"undefined"!=typeof CanvasRenderingContext2D&&"function"==typeof CanvasRenderingContext2D.prototype.drawFocusIfNeeded},getCaretCharacterOffsetWithin:function(a){var b,c=0,d=a.ownerDocument||a.document,e=d.defaultView||d.parentWindow;if(void 0!==e.getSelection){if(b=e.getSelection(),b.rangeCount>0){var f=e.getSelection().getRangeAt(0),g=f.cloneRange();g.selectNodeContents(a),g.setEnd(f.endContainer,f.endOffset),c=g.toString().length}}else if((b=d.selection)&&"Control"!==b.type){var h=b.createRange(),i=d.body.createTextRange();i.moveToElementText(a),i.setEndPoint("EndToEnd",h),c=i.text.length}return c},getTextNodesIn:function(a){var b=[];if(3===a.nodeType)b.push(a);else for(var c=a.childNodes,d=0,e=c.length;d<e;++d)b.push.apply(b,k.getTextNodesIn(c[d]));return b},setSelectionRange:function(a,b,c){if(k.isNullOrUndef(c)&&(c=b),document.createRange&&window.getSelection){var d=document.createRange();d.selectNodeContents(a);for(var e,f,g=k.getTextNodesIn(a),h=!1,i=0,j=0;j<g.length;j++){if(f=g[j],e=i+f.length,!h&&b>=i&&(b<e||b===e&&j+1<=g.length)&&(d.setStart(f,b-i),h=!0),h&&c<=e){d.setEnd(f,c-i);break}i=e}var l=window.getSelection();l.removeAllRanges(),l.addRange(d)}else if(document.selection&&document.body.createTextRange){var m=document.body.createTextRange();m.moveToElementText(a),m.collapse(!0),m.moveEnd("character",c),m.moveStart("character",b),m.select()}}};return k}(a("jquery"),a("screenfull"),a("es6-promise"),a("clipboard-js"),a("i18next"),a("jszip"),a("jszip-utils"),a("scriptjs"),a("webfontloader"))},{"clipboard-js":4,"es6-promise":27,i18next:45,jquery:51,jszip:62,"jszip-utils":52,screenfull:118,scriptjs:119,webfontloader:126}],135:[function(a,b,c){b.exports=function(a,b,c,d){var e=function(a){d.call(this,a),this.useIdAss=!0};e.prototype={constructor:e,nonAssignedCells:0,useIdAss:!1,setProperties:function(a){d.prototype.setProperties.call(this,a),this.abc.primary.avoidAllIdsNull(this.abc.secondary.getNumCells())},getMinNumActions:function(){return this.invAss?this.abc.secondary.getNumCells():this.abc.primary.getNumCells()-this.nonAssignedCells}},e.prototype=a.extend(Object.create(d.prototype),e.prototype),e.Panel=function(a,b,c){d.Panel.call(this,a,b,c)};var f=d.Panel.prototype;return e.Panel.prototype={constructor:e.Panel,invAssCheck:null,buildVisualComponents:function(){f.buildVisualComponents.call(this);var a,b,c=this.act.abc.primary,d=this.act.abc.secondary;if(c&&d){if(this.act.invAss)for(this.invAssCheck=[],b=d.getNumCells(),a=0;a<b;a++)this.invAssCheck[a]=!1;for(this.bgA.setDefaultIdAss(),this.act.nonAssignedCells=0,b=this.bgA.getNumCells(),a=0;a<b;a++){var e=this.bgA.getActiveBox(a);-1===e.idAss&&(this.act.nonAssignedCells++,e.switchToAlt(this.ps))}}},checkInvAss:function(){var a;if(!this.act.invAss||!this.invAssCheck)return!1;for(a=0;a<this.invAssCheck.length&&this.invAssCheck[a];a++);return a===this.invAssCheck.length},processEvent:function(a){if(this.bc&&this.playing){var b,d,e=null;if("touchend"===a.type)e=this.bc.active?this.bc.dest.clone():new c.Point;else{var f=a.originalEvent&&a.originalEvent.touches?a.originalEvent.touches[0].pageX:a.pageX,g=a.originalEvent&&a.originalEvent.touches?a.originalEvent.touches[0].pageY:a.pageY;e=new c.Point(f-this.$div.offset().left,g-this.$div.offset().top)}var h=!1,i=!1,j=!1;switch(a.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&e.distanceTo(this.bc.origin)<=3)break;h=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){this.ps.stopMedia(1);var k=this.bc.origin;if(this.bc.end(),b=this.bgA.findActiveBox(k),b?d=this.bgB.findActiveBox(e):(d=this.bgB.findActiveBox(k))&&(b=this.bgA.findActiveBox(e),j=!0),b&&d&&-1!==b.idAss&&!d.isInactive()){var l=!1,m=b.getDescription(),n=d.getDescription(),o=this.act.abc.secondary.getActiveBoxContent(b.idAss);(b.idAss===d.idOrder||d.getContent().isEquivalent(o,!0))&&(l=!0,b.idAss=-1,this.act.abc.solvedPrimary?(b.switchToAlt(this.ps),i|=b.playMedia(this.ps)):(i|=j?b.playMedia(this.ps):d.playMedia(this.ps),b.clear()),this.act.invAss&&(this.invAssCheck[d.idOrder]=!0,d.clear()),this.act.useOrder&&(this.currentItem=this.bgA.getNextItem(this.currentItem)));var p=this.bgA.countCellsWithIdAss(-1);this.ps.reportNewAction(this.act,"MATCH",m,n,l,p-this.act.nonAssignedCells),l&&(this.checkInvAss()||p===this.bgA.getNumCells())?this.finishActivity(!0):i||this.playEvent(l?"actionOk":"actionError")}else if(j&&this.bgA.contains(e)||!j&&this.bgB.contains(e)){var q=b?b.getDescription():d?d.getDescription():"null";this.ps.reportNewAction(this.act,"MATCH",q,"null",!1,this.bgB.countCellsWithIdAss(-1)),this.playEvent("actionError")}this.update(),this.bgA.$accessibleDiv&&this.bgA.$accessibleDiv.focus()}else{if(h)break;this.ps.stopMedia(1),b=this.bgA.findActiveBox(e),d=this.bgB.findActiveBox(e),(b&&-1!==b.idAss&&(!this.act.useOrder||b.idOrder===this.currentItem)||!this.act.useOrder&&d)&&(this.act.dragCells?this.bc.begin(e,b||d):this.bc.begin(e),(i|=(b||d).playMedia(this.ps))||this.playEvent("click"));var r=b?this.bgA:this.bgB;r.$accessibleDiv&&(r=b?this.bgB:this.bgA,r.$accessibleDiv&&r.$accessibleDiv.focus())}break;case"mousemove":case"touchmove":this.bc.moveTo(e)}a.preventDefault()}}},e.Panel.prototype=a.extend(Object.create(f),e.Panel.prototype),b.CLASSES["@associations.ComplexAssociation"]=e,e}(a("jquery"),a("../../Activity"),a("../../AWT"),a("./SimpleAssociation"))},{"../../AWT":127,"../../Activity":128,"./SimpleAssociation":136,jquery:51}],136:[function(a,b,c){b.exports=function(a,b,c,d,e,f){var g=function(a){b.call(this,a)};g.prototype={constructor:g,useIdAss:!1,getMinNumActions:function(){return this.abc.primary.getNumCells()},hasRandom:function(){return!0},shuffleAlways:function(){return!0},helpSolutionAllowed:function(){return!0}},g.prototype=a.extend(Object.create(b.prototype),g.prototype),g.Panel=function(a,c,d){b.Panel.call(this,a,c,d)};var h=b.Panel.prototype;return g.Panel.prototype={constructor:g.Panel,bgA:null,bgB:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"],clear:function(){this.bgA&&(this.bgA.end(),this.bgA=null),this.bgB&&(this.bgB.end(),this.bgB=null)},buildVisualComponents:function(){this.firstRun&&h.buildVisualComponents.call(this),this.clear();var b=this.act.abc.primary,d=this.act.abc.secondary,e=this.act.abc.solvedPrimary;if(b&&d){if(b.imgName&&(b.setImgContent(this.act.project.mediaBag,null,!1),!b.animatedGifFile||b.shaper.rectangularShapes||this.act.scramble.primary||(this.$animatedBg=a("<span/>").css({"background-image":"url("+b.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),d.imgName&&(d.setImgContent(this.act.project.mediaBag,null,!1),!d.animatedGifFile||d.shaper.rectangularShapes||this.act.scramble.secondary||(this.$animatedBgB=a("<span/>").css({"background-image":"url("+d.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),e&&e.imgName&&e.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp){var f=[b,d];e&&f.push(e),this.act.acp.generateContent(b.nch,b.ncw,f,!1)}this.bgA=c.createEmptyGrid(null,this,this.act.margin,this.act.margin,b),this.bgB=c.createEmptyGrid(null,this,this.act.margin,this.act.margin,d),this.bgA.setContent(b,e||null),this.$animatedBg&&this.bgA.setCellAttr("tmpTrans",!0),this.bgB.setContent(d),this.$animatedBgB&&this.bgB.setCellAttr("tmpTrans",!0),this.bgA.accessibleText=this.ps.getMsg("source"),this.bgB.accessibleText=this.ps.getMsg("target"),this.bgA.setVisible(!0),this.bgB.setVisible(!0)}},initActivity:function(){if(h.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bgA&&this.bgB){var a=[];this.act.scramble.primary&&a.push(this.bgA),this.act.scramble.secondary&&a.push(this.bgB),a.length>0&&this.shuffle(a,!0,!0),this.useOrder&&(this.currentItem=this.bgA.getNextItem(-1)),this.invalidate().update(),this.setAndPlayMsg("initial","start"),this.playing=!0}},updateContent:function(a){if(h.updateContent.call(this,a),this.bgA&&this.bgB&&this.$canvas){var b=this.$canvas.get(0),c=b.getContext("2d");a||(a=new f.Rectangle(0,0,b.width,b.height)),c.clearRect(a.pos.x,a.pos.y,a.dim.width,a.dim.height),this.bgA.update(c,a),this.bgB.update(c,a)}return this},setDimension:function(a){return this.bgA&&this.bgB&&!this.getBounds().equals(a)?d.layoutDouble(a,this.bgA,this.bgB,this.act.boxGridPos,this.act.margin):a},setBounds:function(b){if(this.$canvas&&this.$canvas.remove(),h.setBounds.call(this,b),this.bgA||this.bgB){if(this.$canvas=a('<canvas width="'+b.dim.width+'" height="'+b.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg){var c=this.bgA.getBounds();this.$animatedBg.css({left:c.pos.x,top:c.pos.y,width:c.dim.width+"px",height:c.dim.height+"px","background-size":c.dim.width+"px "+c.dim.height+"px"})}if(this.$animatedBgB){var d=this.bgB.getBounds();this.$animatedBgB.css({left:d.pos.x,top:d.pos.y,width:d.dim.width+"px",height:d.dim.height+"px",
"background-size":d.dim.width+"px "+d.dim.height+"px"})}this.$div.append(this.$canvas),this.bc=new e(this,this.$canvas.get(0).getContext("2d")),this.invalidate().update()}},buildAccessibleComponents:function(){this.$canvas&&this.accessibleCanvas&&(h.buildAccessibleComponents.call(this),this.bgA&&this.bgA.buildAccessibleElements(this.$canvas,this.$div,"mousedown"),this.bgB&&this.bgB.buildAccessibleElements(this.$canvas,this.$div,"mousedown"))},processEvent:function(a){if(this.bc&&this.playing){var b,c,d=null;if("touchend"===a.type)d=this.bc.active?this.bc.dest.clone():new f.Point;else{var e=a.originalEvent&&a.originalEvent.touches?a.originalEvent.touches[0].pageX:a.pageX,g=a.originalEvent&&a.originalEvent.touches?a.originalEvent.touches[0].pageY:a.pageY;d=new f.Point(e-this.$div.offset().left,g-this.$div.offset().top)}var h=!1,i=!1,j=!1;switch(a.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&d.distanceTo(this.bc.origin)<=3)break;h=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){this.ps.stopMedia(1);var k=this.bc.origin;if(this.bc.end(),b=this.bgA.findActiveBox(k),b?c=this.bgB.findActiveBox(d):(c=this.bgB.findActiveBox(k))&&(b=this.bgA.findActiveBox(d),j=!0),b&&c&&-1!==b.idAss&&-1!==c.idAss){var l=!1,m=b.getDescription(),n=c.getDescription(),o=this.act.abc.secondary.getActiveBoxContent(b.idOrder);(b.idOrder===c.idOrder||c.getContent().isEquivalent(o,!0))&&(l=!0,b.idAss=-1,c.idAss=-1,this.act.abc.solvedPrimary?(b.switchToAlt(this.ps),i|=b.playMedia(this.ps)):(i|=j?b.playMedia(this.ps):c.playMedia(this.ps),b.clear()),c.clear(),this.act.useOrder&&(this.currentItem=this.bgA.getNextItem(this.currentItem)));var p=this.bgB.countCellsWithIdAss(-1);this.ps.reportNewAction(this.act,"MATCH",m,n,l,p),l&&p===this.bgB.getNumCells()?this.finishActivity(!0):i||this.playEvent(l?"actionOk":"actionError")}this.update(),this.bgA.$accessibleDiv&&this.bgA.$accessibleDiv.focus()}else{if(h)break;if(this.ps.stopMedia(1),b=this.bgA.findActiveBox(d),c=this.bgB.findActiveBox(d),b&&(!this.act.useOrder||b.idOrder===this.currentItem)||!this.act.useOrder&&c&&-1!==c.idAss){this.act.dragCells?this.bc.begin(d,b||c):this.bc.begin(d),i|=(b||c).playMedia(this.ps),i||this.playEvent("click");var q=b?this.bgA:this.bgB;q.$accessibleDiv&&(q=b?this.bgB:this.bgA,q.$accessibleDiv&&q.$accessibleDiv.focus())}}break;case"mousemove":case"touchmove":this.bc.moveTo(d)}a.preventDefault()}}},g.Panel.prototype=a.extend(Object.create(h),g.Panel.prototype),b.CLASSES["@associations.SimpleAssociation"]=g,g}(a("jquery"),a("../../Activity"),a("../../boxes/ActiveBoxGrid"),a("../../boxes/BoxBag"),a("../../boxes/BoxConnector"),a("../../AWT"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,"../../boxes/BoxConnector":171,jquery:51}],137:[function(a,b,c){b.exports=function(a,b,c,d,e,f,g){var h=function(a){b.call(this,a)};h.prototype={constructor:h,getMinNumActions:function(){return this.abc.primary.getNumCells()},hasRandom:function(){return!0},shuffleAlways:function(){return!0}},h.prototype=a.extend(Object.create(b.prototype),h.prototype),h.Panel=function(a,c,d){b.Panel.call(this,a,c,d)};var i=b.Panel.prototype;return h.Panel.prototype={constructor:h.Panel,bg:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"],clear:function(){this.bg&&(this.bg.end(),this.bg=null)},buildVisualComponents:function(){this.firstRun&&i.buildVisualComponents.call(this),this.clear();var a=this.act.abc.primary,b=this.act.abc.secondary;if(a){if(a.imgName&&a.setImgContent(this.act.project.mediaBag,null,!1),b&&b.imgName&&b.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp){var d=[a];b&&d.push(b),this.act.acp.generateContent(a.nch,a.ncw,d,!1)}var e=a.ncw,f=a.nch;"AB"===this.act.boxGridPos||"BA"===this.act.boxGridPos?e*=2:f*=2,this.bg=new c(null,this,a.bb,this.act.margin,this.act.margin,a.w*e,a.h*f,new g(e,f));var h=a.getNumCells();this.bg.setBorder(a.border),this.bg.setContent(a,null,0,0,h),this.bg.setContent(b||a,null,0,h,h);for(var j=0;j<2;j++)for(var k=0;k<h;k++){var l=this.bg.getActiveBox(j*h+k);l.idAss=k,l.setInactive(!0)}this.bg.setVisible(!0)}},initActivity:function(){i.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bg&&(this.shuffle([this.bg],!0,!0),this.invalidate().update(),this.setAndPlayMsg("initial","start"),this.playing=!0)},updateContent:function(a){if(i.updateContent.call(this,a),this.bg&&this.$canvas){var b=this.$canvas.get(0),c=b.getContext("2d");a||(a=new f.Rectangle(0,0,b.width,b.height)),c.clearRect(a.pos.x,a.pos.y,a.dim.width,a.dim.height),this.bg.update(c,a)}return this},setDimension:function(a){return!this.bg||this.getBounds().equals(a)?a:d.layoutSingle(a,this.bg,this.act.margin)},setBounds:function(b){this.$canvas&&this.$canvas.remove(),i.setBounds.call(this,b),this.bg&&(this.$canvas=a('<canvas width="'+b.dim.width+'" height="'+b.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.bc=new e(this,this.$canvas.get(0).getContext("2d")),this.invalidate().update())},buildAccessibleComponents:function(){this.$canvas&&this.accessibleCanvas&&this.bg&&(i.buildAccessibleComponents.call(this),this.bg.setCellAttr("accessibleAlwaysActive",!0),this.bg.buildAccessibleElements(this.$canvas,this.$div,"mousedown"))},processEvent:function(a){if(this.bc&&this.playing){var b,c,d=null;if("touchend"===a.type)d=this.bc.active?this.bc.dest.clone():new f.Point;else{var e=a.originalEvent&&a.originalEvent.touches?a.originalEvent.touches[0].pageX:a.pageX,g=a.originalEvent&&a.originalEvent.touches?a.originalEvent.touches[0].pageY:a.pageY;d=new f.Point(e-this.$div.offset().left,g-this.$div.offset().top)}var h=!1;switch(a.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":case"touchend":if(this.bc.active&&d.distanceTo(this.bc.origin)<=3)break;h=!0;case"touchstart":case"mousedown":if(this.bc.active){if(this.ps.stopMedia(1),b=this.act.dragCells?this.bc.bx:this.bg.findActiveBox(this.bc.origin),this.bc.end(),c=this.bg.findActiveBox(d),b&&-1!==b.idAss&&c&&-1!==c.idAss)if(b!==c){var i=!1;b.idAss===c.idAss||b.getContent().isEquivalent(c.getContent(),!0)?(i=!0,b.idAss=-1,b.setInactive(!1),c.idAss=-1,c.setInactive(!1)):(b.setInactive(!0),this.act.dragCells?c.setInactive(!0):(c.setInactive(!1),this.update(),this.act.dragCells?this.bc.begin(d,b):this.bc.begin(d)));var j=c.playMedia(this.ps),k=this.bg.countCellsWithIdAss(-1);this.ps.reportNewAction(this.act,"MATCH",b.getDescription(),c.getDescription(),i,k/2),i&&k===this.bg.getNumCells()?this.finishActivity(!0):j||this.playEvent(i?"actionOk":"actionError")}else this.playEvent("CLICK"),b.setInactive(!0);else null!==b&&b.setInactive(!0);this.invalidate().update()}else{if(h)break;this.ps.stopMedia(1),b=this.bg.findActiveBox(d),b&&-1!==b.idAss&&(b.playMedia(this.ps)||this.playEvent("click"),b.setInactive(!1),this.update(),this.act.dragCells?this.bc.begin(d,b):this.bc.begin(d))}break;case"mousemove":case"touchmove":this.bc.moveTo(d)}a.preventDefault()}}},h.Panel.prototype=a.extend(Object.create(i),h.Panel.prototype),b.CLASSES["@memory.MemoryGame"]=h,h}(a("jquery"),a("../../Activity"),a("../../boxes/ActiveBoxGrid"),a("../../boxes/BoxBag"),a("../../boxes/BoxConnector"),a("../../AWT"),a("../../shapers/Rectangular"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,"../../boxes/BoxConnector":171,"../../shapers/Rectangular":194,jquery:51}],138:[function(a,b,c){b.exports=function(a,b,c,d,e,f){var g=function(a){b.call(this,a)};g.prototype={constructor:g,mustPauseSequence:function(){return!0},getMinNumActions:function(){return 0},hasRandom:function(){return!0}},g.prototype=a.extend(Object.create(b.prototype),g.prototype),g.Panel=function(a,c,d){b.Panel.call(this,a,c,d)};var h=b.Panel.prototype;return g.Panel.prototype={constructor:g.Panel,bgA:null,bgB:null,events:["click"],clear:function(){this.bgA&&(this.bgA.end(),this.bgA=null),this.bgB&&(this.bgB.end(),this.bgB=null)},buildVisualComponents:function(){this.firstRun&&h.buildVisualComponents.call(this),this.clear();var b=this.act.abc.primary,d=this.act.abc.secondary;if(b&&d){b.imgName&&(b.setImgContent(this.act.project.mediaBag,null,!1),!b.animatedGifFile||b.shaper.rectangularShapes||this.act.scramble.primary||(this.$animatedBg=a("<span/>").css({"background-image":"url("+b.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),d.imgName&&d.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(b.nch,b.ncw,[b,d],!1),this.bgA=c.createEmptyGrid(null,this,this.act.margin,this.act.margin,b);var e=d.w;"AUB"!==this.act.boxGridPos&&"BUA"!==this.act.boxGridPos||(e=b.getTotalWidth()),this.bgB=new c(null,this,d.bb,this.act.margin,this.act.margin,e,d.h,new f(1,1)),this.bgA.setContent(b),this.bgA.setDefaultIdAss(),this.$animatedBg&&this.bgA.setCellAttr("tmpTrans",!0),this.bgB.getActiveBox(0).setInactive(!1),this.bgA.setVisible(!0),this.bgB.setVisible(!0)}},initActivity:function(){h.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bgA&&this.bgB&&(this.act.scramble.primary&&this.shuffle([this.bgA],!0,!0),this.useOrder&&(this.currentItem=this.bgA.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)},updateContent:function(a){if(h.updateContent.call(this,a),this.bgA&&this.bgB&&this.$canvas){var b=this.$canvas.get(0),c=b.getContext("2d");a||(a=new e.Rectangle(0,0,b.width,b.height)),c.clearRect(a.pos.x,a.pos.y,a.dim.width,a.dim.height),this.bgA.update(c,a),this.bgB.update(c,a)}return this},setDimension:function(a){return this.bgA&&this.bgB&&!this.getBounds().equals(a)?d.layoutDouble(a,this.bgA,this.bgB,this.act.boxGridPos,this.act.margin):a},setBounds:function(b){if(this.$canvas&&this.$canvas.remove(),h.setBounds.call(this,b),this.bgA||this.bgB){if(this.$canvas=a('<canvas width="'+b.dim.width+'" height="'+b.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg){var c=this.bgA.getBounds();this.$animatedBg.css({left:c.pos.x,top:c.pos.y,width:c.dim.width+"px",height:c.dim.height+"px","background-size":c.dim.width+"px "+c.dim.height+"px"})}this.$div.append(this.$canvas),this.invalidate().update()}},buildAccessibleComponents:function(){this.$canvas&&this.accessibleCanvas&&(h.buildAccessibleComponents.call(this),this.bgA&&this.bgA.buildAccessibleElements(this.$canvas,this.$div),this.bgB&&this.bgB.buildAccessibleElements(this.$canvas,this.$div))},processEvent:function(a){if(this.playing){var b,c,d=new e.Point(a.pageX-this.$div.offset().left,a.pageY-this.$div.offset().top);switch(a.type){case"click":this.ps.stopMedia(1),b=this.bgA.findActiveBox(d),b&&(c=this.bgB.getActiveBox(0),-1===b.idAss||this.act.useOrder&&b.idOrder!==this.currentItem?(c.clear(),c.setInactive(!1)):(c.setContent(this.act.abc.secondary,b.idAss),c.playMedia(this.ps)||b.playMedia(this.ps)||this.playEvent("CLICK"),this.act.useOrder&&(this.currentItem=this.bgA.getNextItem(this.currentItem)),this.ps.reportNewAction(this.act,"SELECT",b.getDescription(),c.getDescription(),!0,0),c.$accessibleElement&&c.$accessibleElement.focus()),this.update())}a.preventDefault()}}},g.Panel.prototype=a.extend(Object.create(h),g.Panel.prototype),b.CLASSES["@panels.Explore"]=g,g}(a("jquery"),a("../../Activity"),a("../../boxes/ActiveBoxGrid"),a("../../boxes/BoxBag"),a("../../AWT"),a("../../shapers/Rectangular"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,"../../shapers/Rectangular":194,jquery:51}],139:[function(a,b,c){b.exports=function(a,b,c,d,e){var f=function(a){b.call(this,a)};f.prototype={constructor:f,nonAssignedCells:0,cellsToMatch:1,getMinNumActions:function(){return this.cellsToMatch},hasRandom:function(){return!0}},f.prototype=a.extend(Object.create(b.prototype),f.prototype),f.Panel=function(a,c,d){b.Panel.call(this,a,c,d)};var g=b.Panel.prototype;return f.Panel.prototype={constructor:f.Panel,bg:null,events:["click"],clear:function(){this.bg&&(this.bg.end(),this.bg=null)},buildVisualComponents:function(){this.firstRun&&g.buildVisualComponents.call(this),this.clear();var b=this.act.abc.primary,d=this.act.abc.solvedPrimary;if(b){if(b.imgName&&(b.setImgContent(this.act.project.mediaBag,null,!1),!b.animatedGifFile||b.shaper.rectangularShapes||this.act.scramble.primary||(this.$animatedBg=a("<span/>").css({"background-image":"url("+b.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),d&&d.imgName&&d.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp){var e=[b];d&&(e.push(null),e.push(d)),this.act.acp.generateContent(b.nch,b.ncw,e,!1)}this.bg=c.createEmptyGrid(null,this,this.act.margin,this.act.margin,b),this.bg.setContent(b,d||null),this.bg.setAlternative(!1),this.$animatedBg&&this.bg.setCellAttr("tmpTrans",!0),this.bg.setDefaultIdAss(),this.act.nonAssignedCells=0,this.act.cellsToMatch=0;for(var f=this.bg.getNumCells(),h=0;h<f;h++){var i=this.bg.getActiveBox(h),j=i.idAss;1===j?this.act.cellsToMatch++:-1===j&&(this.act.nonAssignedCells++,i.switchToAlt(this.ps))}this.bg.setVisible(!0)}},initActivity:function(){g.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bg&&(this.act.scramble.primary&&this.shuffle([this.bg],!0,!0),this.useOrder&&(this.currentItem=this.bg.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)},updateContent:function(a){if(g.updateContent.call(this,a),this.bg&&this.$canvas){var b=this.$canvas.get(0),c=b.getContext("2d");a||(a=new e.Rectangle(0,0,b.width,b.height)),c.clearRect(a.pos.x,a.pos.y,a.dim.width,a.dim.height),this.bg.update(c,a)}return g.updateContent.call(this,a)},setDimension:function(a){return this.getBounds().equals(a)?a:d.layoutSingle(a,this.bg,this.act.margin)},setBounds:function(b){if(this.$canvas&&this.$canvas.remove(),g.setBounds.call(this,b),this.bg){if(this.$canvas=a('<canvas width="'+b.dim.width+'" height="'+b.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg){var c=this.bg.getBounds();this.$animatedBg.css({left:c.pos.x,top:c.pos.y,width:c.dim.width+"px",height:c.dim.height+"px","background-size":c.dim.width+"px "+c.dim.height+"px"})}this.$div.append(this.$canvas),this.invalidate().update();var d=this;setTimeout(function(){d.bg&&d.bg.buildAccessibleElements(d.$canvas,d.$div)},0)}},buildAccessibleComponents:function(){this.$canvas&&this.accessibleCanvas&&(g.buildAccessibleComponents.call(this),this.bg.buildAccessibleElements(this.$canvas,this.$div))},processEvent:function(a){if(this.playing){var b,c=!1,d=new e.Point(a.pageX-this.$div.offset().left,a.pageY-this.$div.offset().top);switch(a.type){case"click":if(this.ps.stopMedia(1),b=this.bg.findActiveBox(d))if(-1!==b.idAss){var f=!1,g=b.getDescription();c|=b.playMedia(this.ps),1!==b.idAss||this.act.useOrder&&b.idOrder!==this.currentItem||(f=!0,b.idAss=-1,b.switchToAlt(this.ps)?c|=b.playMedia(this.ps):b.clear(),this.act.useOrder&&(this.currentItem=this.bg.getNextItem(this.currentItem,1)));var h=this.bg.countCellsWithIdAss(-1);this.ps.reportNewAction(this.act,"SELECT",g,null,f,h-this.act.nonAssignedCells),f&&h===this.act.cellsToMatch+this.act.nonAssignedCells?this.finishActivity(!0):c||this.playEvent(f?"actionOk":"actionError"),this.update()}else this.playEvent("actionError")}a.preventDefault()}}},f.Panel.prototype=a.extend(Object.create(g),f.Panel.prototype),b.CLASSES["@panels.Identify"]=f,f}(a("jquery"),a("../../Activity"),a("../../boxes/ActiveBoxGrid"),a("../../boxes/BoxBag"),a("../../AWT"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,jquery:51}],140:[function(a,b,c){b.exports=function(a,b,c,d,e){var f=function(a){b.call(this,a),this.includeInReports=!1,this.reportActions=!1};f.prototype={constructor:f},f.prototype=a.extend(Object.create(b.prototype),f.prototype),f.Panel=function(a,c,d){b.Panel.call(this,a,c,d)};var g=b.Panel.prototype;return f.Panel.prototype={constructor:f.Panel,bg:null,events:["click"],clear:function(){this.bg&&(this.bg.end(),this.bg=null)},buildVisualComponents:function(){this.firstRun&&g.buildVisualComponents.call(this),this.clear();var b=this.act.abc.primary;b&&(b.imgName&&(b.setImgContent(this.act.project.mediaBag,null,!1),b.animatedGifFile&&!b.shaper.rectangularShapes&&(this.$animatedBg=a("<span/>").css({"background-image":"url("+b.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),null!==this.act.acp&&this.act.acp.generateContent(b.nch,b.ncw,[b],!1),this.bg=c.createEmptyGrid(null,this,this.act.margin,this.act.margin,b),this.bg.setContent(b),this.$animatedBg&&this.bg.setCellAttr("tmpTrans",!0),this.bg.setVisible(!0))},initActivity:function(){g.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.invalidate().update(),this.setAndPlayMsg("initial","start"),this.playing=!0},updateContent:function(a){if(g.updateContent.call(this,a),this.bg&&this.$canvas){var b=this.$canvas.get(0),c=b.getContext("2d");a||(a=new e.Rectangle(0,0,b.width,b.height)),c.clearRect(a.pos.x,a.pos.y,a.dim.width,a.dim.height),this.bg.update(c,a)}return this},setDimension:function(a){return this.getBounds().equals(a)?a:d.layoutSingle(a,this.bg,this.act.margin)},setBounds:function(b){if(this.$canvas&&this.$canvas.remove(),g.setBounds.call(this,b),this.bg){if(this.$canvas=a('<canvas width="'+b.dim.width+'" height="'+b.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg){var c=this.bg.getBounds();this.$animatedBg.css({left:c.pos.x,top:c.pos.y,width:c.dim.width+"px",height:c.dim.height+"px","background-size":c.dim.width+"px "+c.dim.height+"px"})}this.$div.append(this.$canvas),this.invalidate().update();var d=this;setTimeout(function(){d.bg.buildAccessibleElements(d.$canvas,d.$div)},0)}},buildAccessibleComponents:function(){this.$canvas&&this.accessibleCanvas&&this.bg&&(g.buildAccessibleComponents.call(this),this.bg.buildAccessibleElements(this.$canvas,this.$div))},processEvent:function(a){if(this.playing){var b=new e.Point(a.pageX-this.$div.offset().left,a.pageY-this.$div.offset().top);this.ps.stopMedia(1);var c=this.bg.findActiveBox(b);c&&(c.playMedia(this.ps)||this.playEvent("click")),a.preventDefault()}}},f.Panel.prototype=a.extend(Object.create(g),f.Panel.prototype),b.CLASSES["@panels.InformationScreen"]=f,f}(a("jquery"),a("../../Activity"),a("../../boxes/ActiveBoxGrid"),a("../../boxes/BoxBag"),a("../../AWT"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,jquery:51}],141:[function(a,b,c){b.exports=function(a,b,c,d,e,f){var g=function(a){b.call(this,a)};g.prototype={constructor:g,getMinNumActions:function(){return this.abc.primary.getNumCells()},hasRandom:function(){return!0},shuffleAlways:function(){return!0},helpSolutionAllowed:function(){return!0}},g.prototype=a.extend(Object.create(b.prototype),g.prototype),g.Panel=function(a,c,d){b.Panel.call(this,a,c,d)};var h=b.Panel.prototype;return g.Panel.prototype={constructor:g.Panel,bgA:null,bgB:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"],clear:function(){this.bgA&&(this.bgA.end(),this.bgA=null),this.bgB&&(this.bgB.end(),this.bgB=null)},buildVisualComponents:function(){this.firstRun&&h.buildVisualComponents.call(this),this.clear();var a=this.act.abc.primary;if(a){a.imgName&&a.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(a.nch,a.ncw,[a],!1),this.bgA=c.createEmptyGrid(null,this,this.act.margin,this.act.margin,a),this.bgB=c.createEmptyGrid(null,this,this.act.margin,this.act.margin,a),this.bgA.setContent(a),this.bgA.accessibleText=this.ps.getMsg("source"),this.bgB.accessibleText=this.ps.getMsg("target"),this.bgA.setVisible(!0),this.bgB.setVisible(!0);var b=this.bgA.getBackgroundActiveBox(),d=this.bgB.getBackgroundActiveBox();b&&d&&d.exchangeContent(b)}},initActivity:function(){h.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bgA&&this.bgB&&(this.shuffle([this.bgA],!0,!0),this.useOrder&&(this.currentItem=this.bgA.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)},updateContent:function(a){if(h.updateContent.call(this,a),this.bgA&&this.bgB&&this.$canvas){var b=this.$canvas.get(0),c=b.getContext("2d");a||(a=new f.Rectangle(0,0,b.width,b.height)),c.clearRect(a.pos.x,a.pos.y,a.dim.width,a.dim.height),this.bgA.update(c,a),this.bgB.update(c,a)}return this},setDimension:function(a){return this.bgA&&this.bgB&&!this.getBounds().equals(a)?d.layoutDouble(a,this.bgA,this.bgB,this.act.boxGridPos,this.act.margin):a},setBounds:function(b){this.$canvas&&this.$canvas.remove(),h.setBounds.call(this,b),(this.bgA||this.bgB)&&(this.$canvas=a('<canvas width="'+b.dim.width+'" height="'+b.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.bc=new e(this,this.$canvas.get(0).getContext("2d")),this.invalidate().update())},buildAccessibleComponents:function(){this.$canvas&&this.accessibleCanvas&&(h.buildAccessibleComponents.call(this),this.bgA&&this.bgA.buildAccessibleElements(this.$canvas,this.$div,"mousedown"),this.bgB&&(this.bgB.setCellAttr("accessibleAlwaysActive",!0),this.bgB.buildAccessibleElements(this.$canvas,this.$div,"mousedown")))},processEvent:function(a){if(this.bc&&this.playing){var b,c,d=null;if("touchend"===a.type)d=this.bc.active?this.bc.dest.clone():new f.Point;else{var e=a.originalEvent&&a.originalEvent.touches?a.originalEvent.touches[0].pageX:a.pageX,g=a.originalEvent&&a.originalEvent.touches?a.originalEvent.touches[0].pageY:a.pageY;d=new f.Point(e-this.$div.offset().left,g-this.$div.offset().top)}var h=!1;switch(a.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&d.distanceTo(this.bc.origin)<=3)break;h=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){if(this.ps.stopMedia(1),b=this.act.dragCells?this.bc.bx:this.bgA.findActiveBox(this.bc.origin),c=this.bgB.findActiveBox(d),this.bc.end(),b&&c&&c.isInactive()){var i=!1,j=b.getDescription()+" ("+b.idOrder+")",k="("+c.idOrder+")",l=this.act.abc.primary.getActiveBoxContent(c.idOrder);b.getContent().isEquivalent(l,!0)&&(i=!0,b.exchangeContent(c),b.setVisible(!1),this.act.useOrder&&(this.currentItem=this.bgA.getNextItem(this.currentItem)));var m=this.bgA.countInactiveCells();this.ps.reportNewAction(this.act,"PLACE",j,k,i,m),i&&m===this.bgA.getNumCells()?this.finishActivity(!0):this.playEvent(i?"actionOk":"actionError")}this.update(),this.bgA.$accessibleDiv&&this.bgA.$accessibleDiv.focus()}else{if(h)break;this.ps.stopMedia(1),b=this.bgA.findActiveBox(d),!b||b.isInactive()||this.act.useOrder&&b.idOrder!==this.currentItem||(this.act.dragCells?this.bc.begin(d,b):this.bc.begin(d),b.playMedia(this.ps)||this.playEvent("click"),this.bgB.$accessibleDiv&&this.bgB.$accessibleDiv.focus())}break;case"mousemove":case"touchmove":this.bc.moveTo(d)}a.preventDefault()}}},g.Panel.prototype=a.extend(Object.create(h),g.Panel.prototype),b.CLASSES["@puzzles.DoublePuzzle"]=g,g}(a("jquery"),a("../../Activity"),a("../../boxes/ActiveBoxGrid"),a("../../boxes/BoxBag"),a("../../boxes/BoxConnector"),a("../../AWT"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,"../../boxes/BoxConnector":171,jquery:51}],142:[function(a,b,c){b.exports=function(a,b,c,d,e,f){var g=function(a){b.call(this,a)};g.prototype={constructor:g,getMinNumActions:function(){return this.abc.primary.getNumCells()},hasRandom:function(){return!0},shuffleAlways:function(){return!0},helpSolutionAllowed:function(){return!0}},g.prototype=a.extend(Object.create(b.prototype),g.prototype),g.Panel=function(a,c,d){b.Panel.call(this,a,c,d)};var h=b.Panel.prototype;return g.Panel.prototype={constructor:g.Panel,bg:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"],clear:function(){this.bg&&(this.bg.end(),this.bg=null)},buildVisualComponents:function(){this.firstRun&&h.buildVisualComponents.call(this),this.clear();var a=this.act.abc.primary;a&&(a.imgName&&a.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(a.nch,a.ncw,[a],!1),this.bg=c.createEmptyGrid(null,this,this.act.margin,this.act.margin,a),this.bg.setContent(a),this.bg.setVisible(!0))},initActivity:function(){h.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bg&&(this.shuffle([this.bg],!0,!0),this.useOrder&&(this.currentItem=this.bg.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)},updateContent:function(a){if(h.updateContent.call(this,a),this.bg&&this.$canvas){var b=this.$canvas.get(0),c=b.getContext("2d");a||(a=new f.Rectangle(0,0,b.width,b.height)),c.clearRect(a.pos.x,a.pos.y,a.dim.width,a.dim.height),this.bg.update(c,a)}return this},setDimension:function(a){return!this.bg||this.getBounds().equals(a)?a:d.layoutSingle(a,this.bg,this.act.margin)},setBounds:function(b){this.$canvas&&this.$canvas.remove(),h.setBounds.call(this,b),this.bg&&(this.$canvas=a('<canvas width="'+b.dim.width+'" height="'+b.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.bc=new e(this,this.$canvas.get(0).getContext("2d")),this.invalidate().update())},buildAccessibleComponents:function(){this.$canvas&&this.accessibleCanvas&&this.bg&&(h.buildAccessibleComponents.call(this),this.bg.buildAccessibleElements(this.$canvas,this.$div,"mousedown"))},processEvent:function(a){if(this.bc&&this.playing){var b,c,d=null;if("touchend"===a.type)d=this.bc.active?this.bc.dest.clone():new f.Point;else{var e=a.originalEvent&&a.originalEvent.touches?a.originalEvent.touches[0].pageX:a.pageX,g=a.originalEvent&&a.originalEvent.touches?a.originalEvent.touches[0].pageY:a.pageY;d=new f.Point(e-this.$div.offset().left,g-this.$div.offset().top)}var h=!1;switch(a.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&d.distanceTo(this.bc.origin)<=3)break;h=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){if(this.ps.stopMedia(1),b=this.act.dragCells?this.bc.bx:this.bg.findActiveBox(this.bc.origin),this.bc.end(),c=this.bg.findActiveBox(d),b&&c){var i=!1,j=b.getDescription()+" ("+b.idOrder+")",k="("+c.idLoc+")";i=b.idOrder===c.idLoc,b.exchangeLocation(c);var l=this.bg.countCellsAtEquivalentPlace(!0);this.ps.reportNewAction(this.act,"PLACE",j,k,i,l),i&&l===this.bg.getNumCells()?this.finishActivity(!0):this.playEvent(i?"actionOk":"actionError")}this.update()}else{if(h)break;this.ps.stopMedia(1),b=this.bg.findActiveBox(d),b&&(this.act.dragCells?this.bc.begin(d,b):this.bc.begin(d),b.playMedia(this.ps)||this.playEvent("click"))}break;case"mousemove":case"touchmove":this.bc.moveTo(d)}a.preventDefault()}}},g.Panel.prototype=a.extend(Object.create(h),g.Panel.prototype),b.CLASSES["@puzzles.ExchangePuzzle"]=g,g}(a("jquery"),a("../../Activity"),a("../../boxes/ActiveBoxGrid"),a("../../boxes/BoxBag"),a("../../boxes/BoxConnector"),a("../../AWT"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,"../../boxes/BoxConnector":171,jquery:51}],143:[function(a,b,c){b.exports=function(a,b,c,d,e,f,g){var h=function(a){b.call(this,a)};h.prototype={constructor:h,getMinNumActions:function(){return this.abc.primary.getNumCells()},hasRandom:function(){return!0},shuffleAlways:function(){return!0},helpSolutionAllowed:function(){return!0}},h.prototype=a.extend(Object.create(b.prototype),h.prototype),h.Panel=function(a,c,d){b.Panel.call(this,a,c,d)};var i=b.Panel.prototype;return h.Panel.prototype={constructor:h.Panel,bg:null,parkBg:null,hiddenBox:null,hiddenBoxIndex:-1,events:["click"],clear:function(){this.bg&&(this.bg.end(),this.bg=null),this.parkBg&&(this.parkBg.end(),this.parkBg=null)},buildVisualComponents:function(){this.firstRun&&i.buildVisualComponents.call(this),this.clear();var a=this.act.abc.primary;a&&(a.imgName&&a.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(a.nch,a.ncw,[a],!1),this.bg=c.createEmptyGrid(null,this,this.act.margin,this.act.margin,a),this.bg.setContent(a),this.bg.setVisible(!0),this.hiddenBoxIndex=Math.floor(Math.random()*this.bg.getNumCells()),this.hiddenBox=this.bg.getActiveBox(this.hiddenBoxIndex),this.hiddenBox.setVisible(!1),this.parkBg=new c(null,this,a.bb,this.act.margin,this.act.margin,this.hiddenBox.dim.width,this.hiddenBox.dim.height,new g(1,1)),this.parkBg.setContent(a,null,this.hiddenBoxIndex,0,1),this.parkBg.setBorder(this.bg.hasBorder()),this.parkBg.setVisible(!0))},initActivity:function(){if(i.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bg){this.act.shuffles%2!=1&&this.act.shuffles++;for(var a=0;a<this.act.shuffles;a++){var b=this.bg.getCoord(this.hiddenBox),c=0===Math.floor(2*Math.random())?1:-1;0===Math.floor(2*Math.random())?(b.x+=c,(b.x<0||b.x>=this.bg.nCols)&&(b.x-=2*c)):(b.y+=c,(b.y<0||b.y>=this.bg.nRows)&&(b.y-=2*c));var d=this.bg.getActiveBoxWithIdLoc(b.y*this.bg.nCols+b.x);null!==d&&this.hiddenBox.exchangeLocation(d)}this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0}},updateContent:function(a){if(i.updateContent.call(this,a),this.bg&&this.parkBg&&this.$canvas){var b=this.$canvas.get(0),c=b.getContext("2d");a||(a=new f.Rectangle(0,0,b.width,b.height)),c.clearRect(a.pos.x,a.pos.y,a.dim.width,a.dim.height),this.bg.update(c,a),this.parkBg.update(c,a)}return this},setDimension:function(a){return this.bg&&this.parkBg&&!this.getBounds().equals(a)?d.layoutDouble(a,this.bg,this.parkBg,this.act.boxGridPos,this.act.margin):a},setBounds:function(b){this.$canvas&&this.$canvas.remove(),i.setBounds.call(this,b),this.bg&&this.parkBg&&(this.$canvas=a('<canvas width="'+b.dim.width+'" height="'+b.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.invalidate().update())},buildAccessibleComponents:function(){this.$canvas&&this.accessibleCanvas&&this.bg&&(i.buildAccessibleComponents.call(this),this.bg.buildAccessibleElements(this.$canvas,this.$div))},processEvent:function(a){if(this.playing){var b,c=new f.Point(a.pageX-this.$div.offset().left,a.pageY-this.$div.offset().top);switch(a.type){case"click":if(this.ps.stopMedia(1),b=this.bg.findActiveBox(c))if(b.isVisible()){var d=this.bg.getCoordDist(b,this.hiddenBox);if(Math.abs(d.x)+Math.abs(d.y)===1){var e=b.playMedia(this.ps),g=b.getDescription()+"("+b.idOrder+")",h="("+this.hiddenBox.idLoc+")";b.exchangeLocation(this.hiddenBox);var i=b.idOrder===b.idLoc,j=this.bg.countCellsAtEquivalentPlace(!0);this.ps.reportNewAction(this.act,"SELECT",g,h,i,j),i&&j===this.bg.getNumCells()?(this.hiddenBox.setVisible(!0),this.parkBg.setVisible(!1),this.finishActivity(!0)):e||this.playEvent("click")}this.update()}else this.playEvent("actionError")}a.preventDefault()}}},h.Panel.prototype=a.extend(Object.create(i),h.Panel.prototype),b.CLASSES["@puzzles.HolePuzzle"]=h,h}(a("jquery"),a("../../Activity"),a("../../boxes/ActiveBoxGrid"),a("../../boxes/BoxBag"),a("../../boxes/BoxConnector"),a("../../AWT"),a("../../shapers/Rectangular"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,"../../boxes/BoxConnector":171,"../../shapers/Rectangular":194,jquery:51}],144:[function(a,b,c){b.exports=function(a,b,c){var d=function(a){c.call(this,a)};d.prototype={constructor:d},d.prototype=a.extend(Object.create(c.prototype),d.prototype),d.Panel=function(a,b,d){c.Panel.call(this,a,b,d)};var e=c.Panel.prototype;return d.Panel.prototype={constructor:d.Panel,
$createTargetElement:function(a,b){return null},startActivity:function(){e.startActivity.call(this),this.$div.find(".JClicTextDocument").attr("contenteditable","true").attr("spellcheck","false")},evaluatePanel:function(){var a=this.$div.find(".JClicTextDocument").text().trim(),b=this.act.document.getRawText(),c=this.act.ev.checkText(a,b);return this.ps.reportNewAction(this.act,"WRITE",a,b,c,this.targets.length),c?(this.finishActivity(!0),!0):(this.playEvent("finishedError"),!1)},finishActivity:function(a){return this.$div.find(".JClicTextDocument").attr("contenteditable","false"),e.finishActivity.call(this,a)}},d.Panel.prototype=a.extend(Object.create(e),d.Panel.prototype),b.CLASSES["@text.Complete"]=d,d}(a("jquery"),a("../../Activity"),a("./TextActivityBase"))},{"../../Activity":128,"./TextActivityBase":149,jquery:51}],145:[function(a,b,c){b.exports=function(a,b){var c=function(a){this.className=a,window.Intl&&window.Intl.Collator?this.collator=new window.Intl.Collator:this.collator={compare:function(a,b){return this.checkCase?a===b:a.toUpperCase()===b.toUpperCase()}}};return c.getEvaluator=function(a){var d=null;if(a){var e=a.attr("class"),f=c.CLASSES[e];f?(d=new f(e),d.setProperties(a)):b.log("error",'Unknown evaluator class: "%s"',e)}return d},c.prototype={constructor:c,className:null,initiated:!1,collator:null,checkCase:!1,setProperties:function(c){var d=this;return a.each(c.get(0).attributes,function(){var a=this.name,c=this.value;switch(a){case"class":d.className=c;break;case"checkCase":case"checkAccents":case"checkPunctuation":case"checkDoubleSpaces":case"detail":d[a]=b.getBoolean(c);break;case"checkSteps":case"checkScope":d[a]=Number(c)}}),this},init:function(a){this.initiated=!0},checkText:function(a,b){if(b instanceof Array){for(var c=0;c<b.length;c++)if(this._checkText(a,b[c]))return!0}else if(b)return this._checkText(a,b);return!1},_checkText:function(a,b){return!1},evalText:function(a,b){return b instanceof Array||(b=[b]),this._evalText(a,b)},_evalText:function(a,b){return[]},isOk:function(a){for(var b=0;b<a.length;b++)if(0!==a[b])return!1;return!0}},c.BasicEvaluator=function(a){c.call(this,a)},c.BasicEvaluator.prototype={constructor:c.BasicEvaluator,checkAccents:!0,checkPunctuation:!0,checkDoubleSpaces:!1,PUNCTUATION:".,;:",init:function(a){c.prototype.init.call(this,[a]),window.Intl&&window.Intl.Collator&&(this.collator=new window.Intl.Collator(a,{sensitivity:this.checkAccents?this.checkCase?"case":"accent":"base",ignorePunctuation:!this.checkPunctuation}))},_checkText:function(a,b){return 0===this.collator.compare(this.getClearedText(a),this.getClearedText(b))},_evalText:function(a,b){for(var c=[],d=this._checkText(a,b[0]),e=0;e<a.length;e++)c[e]=d?0:1;return c},getClearedText:function(a,b){var c;if(!b)for(b=[],c=0;c<a.length;c++)b[c]=!1;if(this.checkPunctuation&&this.checkDoubleSpaces)return a;var d="",e=!1;for(c=0;c<a.length;c++){var f=a.charAt(c);this.PUNCTUATION.indexOf(f)>=0&&!this.checkPunctuation?(e?b[c]=!0:d+=" ",e=!0):" "===f?(this.checkDoubleSpaces||!e?d+=f:b[c]=!0,e=!0):(e=!1,d+=f)}return d}},c.BasicEvaluator.prototype=a.extend(Object.create(c.prototype),c.BasicEvaluator.prototype),c.ComplexEvaluator=function(a){c.BasicEvaluator.call(this,a)},c.ComplexEvaluator.prototype={constructor:c.ComplexEvaluator,detail:!0,checkSteps:3,checkScope:6,_evalText:function(a,b){var d,e;if(!this.detail)return c.BasicEvaluator.prototype._evalText.call(this,a,b);var f=[];for(d=0;d<a.length;d++)f[d]=!1;var g=this.getClearedText(a,f),h=-1,i=-1,j=[],k=[];for(d=0;d<b.length;d++){k[d]=[];for(var l=0;l<a.length;l++)k[d][l]=0;var m=this.compareSegment(g,g.length,b[d],b[d].length,k[d],!1);j[d]=this.countFlagsOk(k[d]),m&&(i=d,h=j[d])}if(-1===i)for(d=0;d<b.length;d++)j[d]>h&&(h=j[d],i=d);var n=[];for(d=0,e=0;d<a.length;d++)f[d]?n[d]=0:n[d]=k[i][e++];return n},countFlagsOk:function(a){for(var b=0,c=0;c<a.length;c++)0===a[c]&&b++;return b},compareSegment:function(a,b,c,d,e,f){var g=0,h=0,i=0,j=!0,k=!0,l="",m="";if(0===b||0===d||null===a||null===c)return!1;for(;g<b;g++,h++)if(l=a.charAt(g),i=g,m=h>=0&&h<d?c.charAt(h):0,0===this.collator.compare(l,m))e[g]=0,j=!0;else if(k=!1,e[g]=1,!f&&j&&0!==m&&this.checkSteps>0&&this.checkScope>0){var n,o,p,q,r,s,t=2*this.checkSteps+1,u=[],v=0;for(n=0;n<t;n++)if(u[n]=0,!((v=h+Math.floor((n+1)/2)*(0!=(1&n)?1:-1))>=d||(o=v<0?g-v:g)>=b)){q=(q=b-o)>this.checkScope?this.checkScope:q,p=v<0?0:v,r=(r=d-p)>this.checkScope?this.checkScope:r;for(var w=[],x=0;x<a.length-o;x++)w[x]=0;var y=this.compareSegment(a.substring(o),q,c.substring(p),r,w,!0);if(u[n]=this.countFlagsOk(w),y)break}if(n===t){for(s=this.checkSteps,n=0;n<t;n++)u[n]>u[s]&&(s=n);v=h+Math.floor((s+1)/2)*(0!=(1&s)?1:-1)}else u[n];h=v,j=!1}return h!==d&&(k=!1,e[i]=1),k}},c.ComplexEvaluator.prototype=a.extend(Object.create(c.BasicEvaluator.prototype),c.ComplexEvaluator.prototype),c.CLASSES={"@BasicEvaluator":c.BasicEvaluator,"@ComplexEvaluator":c.ComplexEvaluator},c}(a("jquery"),a("../../Utils"))},{"../../Utils":134,jquery:51}],146:[function(a,b,c){b.exports=function(a,b,c,d){var e=function(a){d.call(this,a)};e.prototype={constructor:e,autoJump:!1,forceOkToAdvance:!1,needsKeyboard:function(){return!0}},e.prototype=a.extend(Object.create(d.prototype),e.prototype),e.Panel=function(a,b,c){d.Panel.call(this,a,b,c)};var f=d.Panel.prototype;return e.Panel.prototype={constructor:e.Panel,locked:!0,$createTargetElement:function(c,d){var e=this.targets.length-1,f="target"+("000"+e).slice(-3),g=this;if(d.addClass("JClicTextTarget"),c.isList&&c.options&&c.options.length>0){d=a("<select/>",{id:f,name:f}),""!==c.options[0].trim()&&a("<option selected/>",{value:"",text:""}).appendTo(d);for(var h=0;h<c.options.length;h++)a("<option/>",{value:c.options[h],text:c.options[h]}).appendTo(d);c.$comboList=d.bind("focus change",function(a){a.textTarget=c,g.processEvent(a)})}else c.currentText=c.iniText?c.iniText:b.fillString(c.iniChar,c.numIniChars),c.$span=d.text(c.currentText).attr({contenteditable:"true",id:f,autocomplete:"off",spellcheck:"false"}).bind("focus input blur",function(a){a.textTarget=c,g.processEvent(a)});return d},evaluatePanel:function(){for(var a=0,b=this.targets.length,c=0;c<b;c++){var d=this.targets[c],e=this.act.ev.evalText(d.readCurrentText(),d.answers),f=this.act.ev.isOk(e);d.targetStatus=f?"SOLVED":"WITH_ERROR",f&&a++,this.markTarget(d,e),this.ps.reportNewAction(this.act,"WRITE",d.currentText,d.getAnswers(),f,a)}return a===b?(this.finishActivity(!0),!0):(this.playEvent("finishedError"),!1)},checkTarget:function(a,c,d){var e=this.act.ev.evalText(a.currentText,a.answers),f=this.act.ev.isOk(e);if(a.targetStatus=f?"SOLVED":"WITH_ERROR",c)return f;this.markTarget(a,e);var g=this.countSolvedTargets(!1,!1);if(a.currentText.length>0&&this.ps.reportNewAction(this.act,"WRITE",a.currentText,a.getAnswers(),f,g),f&&g===this.targets.length)return this.finishActivity(!0),f;if(a.currentText.length>0&&this.playEvent(f?"actionOk":"actionError"),d&&0!==d){var h=a.num+d;h>=this.targets.length?h=0:h<0&&(h=this.targets.length-1),a=this.targets[h],a.$span?(a.$span.focus(),b.setSelectionRange(a.$span.get(0),0,0)):a.$comboList&&a.$comboList.focus()}return f},countSolvedTargets:function(a,b){for(var c=0,d=0;d<this.targets.length;d++){var e=this.targets[d];a&&(e.readCurrentText(),this.checkTarget(e,!b)),"SOLVED"===e.targetStatus&&c++}return c},markTarget:function(b,c){var d=0;if(b.$comboList||this.act.ev.isOk(c))b.checkColors();else if(b.$span){for(var e=b.currentText,f=[],g=-1,h=-1;d<c.length&&d<e.length;d++)c[d]!==g&&(f[++h]="",g=c[d]),f[h]+=e.charAt(d);for(d<e.length&&(f[h]+=e.substr(d)),b.$span.empty(),g=c[0],d=0;d<f.length;d++)a("<span/>").text(f[d]).css(b.doc.style[0===g?"target":"targetError"].css).appendTo(b.$span),g^=1}b.flagModified=!1},activityReady:function(){f.activityReady.call(this),a(".JClicTextTarget").css("white-space","normal"),this.targets.length>0&&this.targets[0].$span&&this.targets[0].$span.focus()},finishActivity:function(a){for(var b=0;b<this.targets.length;b++){var c=this.targets[b];c.$span?c.$span.removeAttr("contenteditable").blur():c.$comboList&&c.$comboList.attr("disabled","true").blur()}return f.finishActivity.call(this,a)},processEvent:function(a){if(!f.processEvent.call(this,a))return!1;var c=a.textTarget,d=null,e=0;switch(a.type){case"focus":c&&(c.$span&&c.$span.children().length>0?(d=c.$span,e=Math.min(c.currentText.length,b.getCaretCharacterOffsetWithin(d.get(0))),d.empty(),d.text(c.currentText),b.setSelectionRange(d.get(0),e,e),c.flagModified=!0):c.$comboList&&c.$comboList.css(c.doc.style.target.css));break;case"blur":c.flagModified&&!this.$checkButton&&this.checkTarget(c,!1,1);break;case"input":if(c&&c.$span){d=c.$span;var g=d.html();if(g.indexOf("<br>")>=0)return g=g.replace(/<br>/g,""),d.html(g),c.currentText=d.text(),!this.$checkButton&&this.checkTarget(c,!1,1);if((g=d.text())!==c.currentText){c.flagModified=!0;var h=g.length-c.currentText.length;if(h>0){if(g.indexOf(c.iniChar)>=0){e=b.getCaretCharacterOffsetWithin(d.get(0));for(var i=0;i<h;i++){var j=g.indexOf(c.iniChar);if(j<0)break;g=g.substr(0,j)+g.substr(j+1),j<e&&e--}d.text(g),b.setSelectionRange(d.get(0),e,e)}g.length>c.maxLenResp&&(e=b.getCaretCharacterOffsetWithin(d.get(0)),g=g.substr(0,c.maxLenResp),e=Math.min(e,g.length),d.text(g),b.setSelectionRange(d.get(0),e,e))}else""===g&&(g=c.iniChar,d.text(g),b.setSelectionRange(d.get(0),0,0));c.currentText=g}}break;case"change":if(c&&c.$comboList)return c.currentText=c.$comboList.val(),c.flagModified=!0,!this.$checkButton&&this.checkTarget(c,!1,1)}return!0}},e.Panel.prototype=a.extend(Object.create(f),e.Panel.prototype),c.CLASSES["@text.FillInBlanks"]=e,e}(a("jquery"),a("../../Utils"),a("../../Activity"),a("./TextActivityBase"))},{"../../Activity":128,"../../Utils":134,"./TextActivityBase":149,jquery:51}],147:[function(a,b,c){b.exports=function(a,b,c){var d=function(a){c.call(this,a)};d.prototype={constructor:d},d.prototype=a.extend(Object.create(c.prototype),d.prototype),d.Panel=function(a,b,d){c.Panel.call(this,a,b,d)};var e=c.Panel.prototype;return d.Panel.prototype={constructor:d.Panel,targetsMarked:!1,$createTargetElement:function(a,b){e.$createTargetElement.call(this,a,b);var c=this.targets.length-1,d="target"+("000"+c).slice(-3),f=this;return b.bind("click",function(b){b.textTarget=a,b.idLabel=d,f.processEvent(b)}),b},initActivity:function(){e.initActivity.call(this),this.$div.find(".JClicTextDocument > p").css("cursor","pointer"),this.playing=!0},countSolvedTargets:function(){for(var a=0,b=0;b<this.targets.length;b++){"SOLVED"===this.targets[b].targetStatus&&a++}return a},evaluatePanel:function(){for(var a=0,b=this.targets.length,c=0;c<b;c++){var d=this.targets[c],e="SOLVED"===d.targetStatus;e&&a++,d.checkColors(),this.ps.reportNewAction(this.act,"SELECT",d.text,d.pos,e,a)}return a===b?(this.finishActivity(!0),!0):(this.playEvent("finishedError"),!1)},finishActivity:function(a){return this.$div.find(".JClicTextDocument > p").css("cursor","pointer"),e.finishActivity.call(this,a)},lastTimeStamp:0,processEvent:function(a){if(!e.processEvent.call(this,a)||a.timeStamp===this.lastTimeStamp)return!1;a.timeStamp&&(this.lastTimeStamp=a.timeStamp);var b=a.textTarget;switch(a.type){case"click":var c,d,f=!1;if(b?("SOLVED"===b.targetStatus?b.targetStatus="HIDDEN":(b.targetStatus="SOLVED",f=!0),c=b.text,d=b.pos,b.checkColors()):(c="unknown",d=0),!this.$checkButton){var g=this.countSolvedTargets();this.ps.reportNewAction(this.act,"SELECT",c,d,f,g),f&&g===this.targets.length?this.finishActivity(!0):this.playEvent(f?"actionOk":"actionError")}a.preventDefault()}return!0}},d.Panel.prototype=a.extend(Object.create(e),d.Panel.prototype),b.CLASSES["@text.Identify"]=d,d}(a("jquery"),a("../../Activity"),a("./TextActivityBase"))},{"../../Activity":128,"./TextActivityBase":149,jquery:51}],148:[function(a,b,c){b.exports=function(a,b,c,d,e){var f=function(a){c.call(this,a)};f.prototype={constructor:f,amongParagraphs:!1,bc:null,hasRandom:function(){return!0},shuffleAlways:function(){return!0},helpSolutionAllowed:function(){return!0}},f.prototype=a.extend(Object.create(c.prototype),f.prototype),f.Panel=function(a,b,d){c.Panel.call(this,a,b,d)};var g=c.Panel.prototype;return f.Panel.prototype={constructor:f.Panel,currentTarget:null,bc:null,events:["click","mousemove"],buildVisualComponents:function(){this.act.document.style.target.css.cursor="pointer",g.buildVisualComponents.call(this)},setBounds:function(b){this.$canvas&&this.$canvas.remove(),g.setBounds.call(this,b),this.act.dragCells||(this.$canvas=a('<canvas width="'+b.dim.width+'" height="'+b.dim.height+'"/>').css({position:"absolute",top:0,left:0,"pointer-events":"none"}),this.$div.append(this.$canvas),this.bc=new d(this,this.$canvas.get(0).getContext("2d")),this.bc.compositeOp=this.bc.DEFAULT_COMPOSITE_OP,this.invalidate().update())},$createTargetElement:function(a,b){g.$createTargetElement.call(this,a,b);var c=this.targets.length-1,d="target"+("000"+c).slice(-3),e=this;return b.addClass("JClicTextTarget").bind("click",function(b){b.textTarget=a,b.idLabel=d,e.processEvent(b)}),b},swapTargets:function(b,c){var d=b.$span,e=c.$span,f=a("<span/>");f.insertAfter(e),e.detach(),e.insertAfter(d),d.detach(),d.insertAfter(f),f.remove();var g=b.pos,h=b.$p;b.pos=c.pos,b.$p=c.$p,c.pos=g,c.$p=h},initActivity:function(){g.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents()},startActivity:function(){if(g.startActivity.call(this),!this.showingPrevScreen){if("orderWords"!==this.act.type||this.act.amongParagraphs)this.shuffleTargets(this.targets,this.act.shuffles);else{for(var a=[],b=null,c=[],d=0;d<this.targets.length;d++){var e=this.targets[d];null!==b&&b.$p!==e.$p&&(a.push(c),c=[]),c.push(e),b=e}c.length>0&&a.push(c);for(var f=0;f<a.length;f++)this.shuffleTargets(a[f],this.act.shuffles)}this.playing=!0}this.setBounds(this)},shuffleTargets:function(a,b){var c=a.length;if(c>1)for(var d=100,e=0;e<b;e++){var f=Math.floor(Math.random()*c),g=Math.floor(Math.random()*c);f!==g?this.swapTargets(a[f],a[g]):--d&&e++}},setCurrentTarget:function(a){var b=this.act.document.getFullStyle("target").css;this.currentTarget&&this.currentTarget.$span&&this.currentTarget.$span.css(b),a&&a.$span&&a.$span.css({color:b["background-color"],"background-color":b.color}),this.currentTarget=a},countSolvedTargets:function(){for(var a=0,b=this.targets.length,c=0;c<b;c++){var d=this.targets[c];d.num===d.pos&&a++}return a},evaluatePanel:function(){this.bc&&this.bc.active&&this.bc.end(),this.setCurrentTarget(null);for(var a=0,b=this.targets.length,c=0;c<b;c++){var d=this.targets[c],e=d.num===d.pos;d.targetStatus=e?"SOLVED":"WITH_ERROR",e&&a++,d.checkColors(),this.ps.reportNewAction(this.act,"PLACE",d.text,d.pos,e,a)}return a===b?(this.finishActivity(!0),!0):(this.playEvent("finishedError"),!1)},finishActivity:function(b){return a(".JClicTextTarget").css("cursor","pointer"),g.finishActivity.call(this,b)},processEvent:function(a){if(!g.processEvent.call(this,a))return!1;var b=a.textTarget,c=null;if(this.bc&&this.playing&&!this.showingPrevScreen){if("touchend"===a.type)c=this.bc.active?this.bc.dest.clone():new e.Point;else{var d=a.originalEvent.touches?a.originalEvent.touches[0].pageX:a.pageX,f=a.originalEvent.touches?a.originalEvent.touches[0].pageY:a.pageY;c=new e.Point(d-this.$div.offset().left,f-this.$div.offset().top)}switch(a.type){case"click":if(b&&b!==this.currentTarget)if(this.currentTarget){if(this.bc&&this.bc.active&&this.bc.end(),this.swapTargets(b,this.currentTarget),this.setCurrentTarget(null),!this.$checkButton){var h=this.countSolvedTargets(),i=b.pos===b.num;this.ps.reportNewAction(this.act,"PLACE",b.text,b.pos,i,h),i&&h===this.targets.length?this.finishActivity(!0):this.playEvent(i?"actionOk":"actionError")}}else this.setCurrentTarget(b),this.bc.begin(c),this.playEvent("click");break;case"mousemove":this.bc.moveTo(c)}return a.preventDefault(),!0}}},f.Panel.prototype=a.extend(Object.create(g),f.Panel.prototype),b.CLASSES["@text.Order"]=f,f}(a("jquery"),a("../../Activity"),a("./TextActivityBase"),a("../../boxes/BoxConnector"),a("../../AWT"))},{"../../AWT":127,"../../Activity":128,"../../boxes/BoxConnector":171,"./TextActivityBase":149,jquery:51}],149:[function(a,b,c){b.exports=function(a,b,c,d,e){var f=function(a){b.call(this,a)};f.prototype={constructor:f,ev:null,checkButtonText:null,prevScreen:!1,prevScreenText:null,prevScreenStyle:null,prevScreenMaxTime:-1,getMinNumActions:function(){return this.document?this.document.numTargets:0}},f.prototype=a.extend(Object.create(b.prototype),f.prototype),f.Panel=function(a,c,d){b.Panel.call(this,a,c,d),this.boxes=[],this.popups=[],this.targets=[]};var g=b.Panel.prototype;return f.Panel.prototype={constructor:f.Panel,boxes:null,popups:null,targets:null,targetsMarked:!0,$checkButton:null,buildVisualComponents:function(){g.buildVisualComponents.call(this)},setDocContent:function(b,c){var e=this;b.empty().css(c.style.default.css).css({display:"flex","flex-direction":"column"});var f=a("<div/>").css({"flex-grow":1,overflow:"auto"}),g=a("<div/>",{class:"JClicTextDocument"}).css({padding:4}).css(c.style.default.css),h=null;return a.each(c.p,function(){var b=a("<p/>").css({margin:0}),f=!0;if(this.style?(h=c.style[this.style].css,b.css(h)):h=null,this.Alignment){var i=Number(this.Alignment);b.css({"text-align":1===i?"center":2===i?"right":"left"})}a.each(this.elements,function(){var g=a("<span/>");switch(this.objectType){case"text":this.attr?(g.html(this.text),this.attr.style&&g.css(c.style[this.attr.style].css),this.attr.css&&g.css(this.attr.css),b.append(g)):b.append(this.text);break;case"cell":var i=d.createCell(g.css({position:"relative"}),this);e.boxes.push(i),g.css({display:"inline-block","vertical-align":"middle"}),this.mediaContent&&g.on("click",function(a){return a.preventDefault(),e.ps.stopMedia(1),i.playMedia(e.ps),!1}),b.append(g);break;case"target":if(e.showingPrevScreen){g.text(this.text),b.append(g);break}var j=this;g=e.$createTargetElement(j,g),j.num=e.targets.length,j.pos=j.num,e.targets.push(j),g&&(g.css(c.style.default.css),h&&g.css(h),e.targetsMarked?j.attr?(j.attr.style||(j.attr.style="target"),g.css(c.style[j.attr.style].css),j.attr.css&&g.css(j.attr.css)):c.style.target&&g.css(c.style.target.css):j.targetStatus="HIDDEN",b.append(g)),j.$p=b}f=!1}),f&&b.html("&nbsp;"),g.append(b)}),b.append(f.append(g)),this.act.checkButtonText&&!this.showingPrevScreen&&(this.$checkButton=a("<button/>",{class:"StockBtn"}).html(this.act.checkButtonText).css({width:"100%","flex-shrink":0}).on("click",function(){e.evaluatePanel()}),b.append(this.$checkButton)),this.act.ev&&this.act.ev.init(this.act.project.settings.locales),b},$createTargetElement:function(a,b){return b.text(a.text),a.$span=b,b},initActivity:function(){this.act.prevScreen?this.preInitActivity():this.startActivity()},startActivity:function(){g.initActivity.call(this),this.setAndPlayMsg("initial","start"),this.setDocContent(this.$div,this.act.document),this.playing=!0},preInitActivity:function(){if(this.act.prevScreen){if(this.showingPrevScreen=!0,this.$div.empty(),this.act.prevScreenText){this.act.prevScreenStyle||(this.act.prevScreenStyle=new e),this.$div.css(this.act.prevScreenStyle.getCSS()).css("overflow","auto");var b=a("<div/>",{class:"JClicTextDocument"}).css({padding:4}).css(this.act.prevScreenStyle.getCSS()).append(this.act.prevScreenText);this.$div.append(b)}else this.setDocContent(this.$div,this.act.document);this.enableCounters(!0,!1,!1),this.ps.setCounterValue("time",0),this.ps.setMsg(this.act.messages.previous),this.prevScreenTimer&&(this.ps.setCountDown("time",this.act.prevScreenMaxTime),this.prevScreenTimer.start());var c=this;this.$div.on("click",function(){return c.showingPrevScreen=!1,c.$div.unbind("click"),c.startActivity(),!0}),this.ps.playMsg()}},evaluatePanel:function(){return this.finishActivity(!0),!0},finishActivity:function(a){this.$checkButton&&this.$checkButton.prop("disabled",!0),g.finishActivity.call(this,a)},processEvent:function(a){return this.playing}},f.Panel.prototype=a.extend(Object.create(g),f.Panel.prototype),f}(a("jquery"),a("../../Activity"),a("../../AWT"),a("../../boxes/ActiveBox"),a("../../boxes/BoxBase"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBox":165,"../../boxes/BoxBase":170,jquery:51}],150:[function(a,b,c){b.exports=function(a,b,c,d,e,f){var g=function(){this.style={default:a.extend(!0,{},g.DEFAULT_DOC_STYLE)},this.p=[],this.boxesContent=new f,this.popupsContent=new f};return g.prototype={constructor:g,tabSpc:12,lastBoxId:0,tmb:null,numTargets:0,targetType:"TT_FREE",boxesContent:null,popupsContent:null,style:null,p:null,setProperties:function(c,e){var f=this;return c.children("style").each(function(){var b=f.readDocAttributes(a(this));f.style[b.name]="default"===b.name?a.extend(!0,f.style.default,b):b}),c.find("section > p").each(function(){var c={elements:[]};a.each(this.attributes,function(){var a=this.name,b=this.value;switch(this.name){case"style":c[a]=b;break;case"bidiLevel":case"Alignment":c[a]=Number(b)}}),a(this).children().each(function(){var h,i=a(this);switch(this.nodeName){case"cell":h=(new d).setProperties(i,e);break;case"text":h={text:this.textContent.replace(/\t/g,"&#9;")};var j=f.readDocAttributes(i);a.isEmptyObject(j)||(h.attr=j);break;case"target":h=new g.TextTarget(f,this.textContent.replace(/\t/g,"&#9;")),h.setProperties(i,e),f.numTargets++;break;default:b.log("error",'Unknown object in activity document: "%s"',this.nodeName)}h&&(h.objectType=this.nodeName,c.elements.push(h))}),f.p.push(c)}),this},readDocAttributes:function(c){var d={},e={},f=this;return a.each(c.get(0).attributes,function(){var c=this.name,g=this.value;switch(c){case"background":g=b.checkColor(g,"white"),d[c]=g,e["background-color"]=g;break;case"foreground":g=b.checkColor(g,"black"),d[c]=g,e.color=g;break;case"family":e["font-family"]=g;case"name":case"style":d[c]=g;break;case"base":d[c]=g,f.style[g]&&(d=a.extend(!0,{},f.style[g],d),f.style[g].css&&(e=a.extend({},f.style[g].css,e)));break;case"bold":g=b.getBoolean(g),d[c]=g,e["font-weight"]=g?"bold":"normal";break;case"italic":g=b.getBoolean(g),d[c]=g,e["font-style"]=g?"italic":"normal";break;case"target":d[c]=b.getBoolean(g);break;case"size":d[c]=Number(g),e["font-size"]=g+"px";break;case"tabWidth":f.tabSpc=g,e["tab-size"]=f.tabSpc,e["white-space"]="pre-wrap";break;default:b.log("warn",'Unknown text attribute: "%s" = "%s"',c,g),d[c]=g}}),a.isEmptyObject(e)||(d.css=e),d},getRawText:function(){var b=a("<div/>");return a.each(this.p,function(){var c=a("<p/>"),d=!0;a.each(this.elements,function(){switch(this.objectType){case"text":case"target":c.append(this.text)}d=!1}),d&&c.html("&nbsp;"),b.append(c)}),b.text().trim()},getFullStyle:function(b){var c=a.extend(!0,{},this.style.default);return a.extend(!0,c,this.style[b]?this.style[b]:{})}},g.DEFAULT_DOC_STYLE={background:"white",foreground:"black",family:"Arial",size:17,css:{"font-family":"Arial,Helvetica,sans-serif","font-size":"17px","background-color":"white",color:"black"}},g.TextTarget=function(a,b){this.doc=a,this.text=b,this.numIniChars=b.length,this.answers=[b],this.maxLenResp=this.numIniChars},g.TextTarget.prototype={constructor:g.TextTarget,doc:null,text:null,attr:null,isList:!1,numIniChars:1,iniChar:"_",maxLenResp:0,answers:null,options:null,iniText:null,infoMode:"no_info",popupContent:null,popupDelay:0,popupMaxTime:0,onlyPlay:!1,$comboList:null,$span:null,$p:null,currentText:"",num:0,pos:0,targetStatus:"NOT_EDITED",flagModified:!1,parentPane:null,reset:function(a){this.targetStatus=a||"NOT_EDITED",this.flagModified=!1},setProperties:function(c,f){var h=this,i=!0;c.children().each(function(){var c=a(this);switch(this.nodeName){case"answer":i&&(i=!1,h.answers=[]),null===h.answers&&(h.answers=[]),h.answers.push(this.textContent);break;case"optionList":c.children("option").each(function(){h.isList=!0,null===h.options&&(h.options=[]),h.options.push(this.textContent)});break;case"response":h.iniChar=b.getVal(c.attr("fill"),h.iniChar).charAt(0),h.numIniChars=b.getNumber(c.attr("length"),h.numIniChars),h.maxLenResp=b.getNumber(c.attr("maxLength"),h.maxLenResp),h.iniText=b.getVal(c.attr("show"),h.iniText);break;case"info":h.infoMode=b.getVal(c.attr("mode"),"always"),h.popupDelay=b.getNumber(c.attr("delay"),h.popupDelay),h.popupMaxTime=b.getNumber(c.attr("maxTime"),h.popupMaxTime),c.children("media").each(function(){h.onlyPlay=!0,h.popupContent=new d,h.popupContent.mediaContent=(new e).setProperties(a(this))}),h.popupContent||c.children("cell").each(function(){h.popupContent=(new d).setProperties(a(this,f))});break;case"text":h.text=this.textContent.replace(/\t/g,"&#9;");var j=g.prototype.readDocAttributes(a(this));a.isEmptyObject(j)||(h.attr=j)}})},getAnswers:function(){return this.answers?this.answers.join("|"):""},checkColors:function(){var a=this.$comboList||this.$span;if(a){var b=this.doc.style["WITH_ERROR"===this.targetStatus?"targetError":"HIDDEN"===this.targetStatus?"default":"target"];b&&b.css&&a.css(b.css)}},readCurrentText:function(){return this.$span?this.currentText=this.$span.text():this.$comboList&&(this.currentText=this.$comboList.val()),this.currentText}},g}(a("jquery"),a("../../Utils"),a("../../AWT"),a("../../boxes/ActiveBoxContent"),a("../../media/MediaContent"),a("../../boxes/ActiveBagContent"))},{"../../AWT":127,"../../Utils":134,"../../boxes/ActiveBagContent":164,"../../boxes/ActiveBoxContent":167,"../../media/MediaContent":180,jquery:51}],151:[function(a,b,c){b.exports=function(a,b,c,d,e,f,g){var h=function(a){b.call(this,a)};h.prototype={constructor:h,nonAssignedCells:0,useIdAss:!0,setProperties:function(a){b.prototype.setProperties.call(this,a),this.abc.primary.avoidAllIdsNull(this.abc.answers.getNumCells())},getMinNumActions:function(){return this.invAss?this.abc.answers.getNumCells():this.abc.primary.getNumCells()-this.nonAssignedCells},hasRandom:function(){return!0},needsKeyboard:function(){return!0},helpSolutionAllowed:function(){return!0}},h.prototype=a.extend(Object.create(b.prototype),h.prototype),h.Panel=function(a,c,d){b.Panel.call(this,a,c,d)};var i=b.Panel.prototype;return h.Panel.prototype={constructor:h.Panel,$textField:null,invAssCheck:null,bgA:null,bgB:null,currentCell:-1,events:["click"],clear:function(){this.bgA&&(this.bgA.end(),this.bgA=null),this.bgB&&(this.bgB.end(),this.bgB=null)},buildVisualComponents:function(){var b,d;this.firstRun&&i.buildVisualComponents.call(this),this.clear();var e=this.act.abc.primary,f=this.act.abc.answers,h=this.act.abc.solvedPrimary;if(e&&f){if(this.act.invAss)for(this.invAssCheck=[],b=f.getNumCells(),d=0;d<b;d++)this.invAssCheck[d]=!1;if(e.imgName&&(e.setImgContent(this.act.project.mediaBag,null,!1),!e.animatedGifFile||e.shaper.rectangularShapes||this.act.scramble.primary||(this.$animatedBg=a("<span/>").css({"background-image":"url("+e.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),h&&h.imgName&&h.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp){var j=[e,f];h&&j.push(h),this.act.acp.generateContent(e.nch,e.ncw,j,!1)}this.bgA=c.createEmptyGrid(null,this,this.act.margin,this.act.margin,e);var k=f.w;"AUB"!==this.act.boxGridPos&&"BUA"!==this.act.boxGridPos||(k=e.getTotalWidth()),this.bgB=new c(null,this,f.bb,this.act.margin,this.act.margin,k,f.h,new g(1,1)),this.$form=a("<form/>",{id:"form1",action:"#"});var l=this;for(this.$form.submit(function(a){a.preventDefault(),l.playing&&l.setCurrentCell(l.currentCell)}),this.$textField=a("<input/>",{type:"text",size:200}).css(f.bb.getCSS()).css({position:"absolute",top:0,left:0,border:0,padding:0,margin:0,"text-align":"center"}),this.$div.append(this.$form.append(this.$textField)),this.bgA.setContent(e,h||null),this.bgA.setDefaultIdAss(),this.$animatedBg&&this.bgA.setCellAttr("tmpTrans",!0),this.act.nonAssignedCells=0,b=this.bgA.getNumCells(),d=0;d<b;d++){var m=this.bgA.getActiveBox(d);-1===m.idAss&&(this.act.nonAssignedCells++,m.switchToAlt(this.ps))}this.bgA.setVisible(!0),this.bgB.setVisible(!1)}},initActivity:function(){i.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bgA&&this.bgB&&(this.act.scramble.primary&&this.shuffle([this.bgA],!0,!0),this.useOrder&&(this.currentItem=this.bgA.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)},activityReady:function(){i.activityReady.call(this),this.setCurrentCell(0)},updateContent:function(a){if(i.updateContent.call(this,a),this.bgA&&this.$canvas){var b=this.$canvas.get(0),c=b.getContext("2d");a||(a=new e.Rectangle(0,0,b.width,b.height)),c.clearRect(a.pos.x,a.pos.y,a.dim.width,a.dim.height),this.bgA.update(c,a)}return this},setDimension:function(a){return this.bgA&&this.bgB&&!this.getBounds().equals(a)?d.layoutDouble(a,this.bgA,this.bgB,this.act.boxGridPos,this.act.margin):a},setBounds:function(b){if(this.$canvas&&this.$canvas.remove(),i.setBounds.call(this,b),this.bgA||this.bgB){var c=b.clone();if("AUB"===this.act.boxGridPos?c.height-=this.bgB.pos.y+this.act.margin/2:"AB"===this.act.boxGridPos&&(c.width-=this.bgB.pos.x+this.act.margin/2),this.$canvas=a('<canvas width="'+c.dim.width+'" height="'+c.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg){var d=this.bgA.getBounds();this.$animatedBg.css({left:d.pos.x,top:d.pos.y,width:d.dim.width+"px",height:d.dim.height+"px","background-size":d.dim.width+"px "+d.dim.height+"px"}),this.$canvas.insertAfter(this.$animatedBg)}else this.$div.prepend(this.$canvas);this.$textField&&this.$textField.css({top:this.bgB.pos.y,left:this.bgB.pos.x,width:this.bgB.dim.width,height:this.bgB.dim.height,zIndex:9}),this.invalidate().update()}},checkInvAss:function(){var a;if(!this.act.invAss||!this.invAssCheck)return!1;for(a=0;a<this.invAssCheck.length&&this.invAssCheck[a];a++);return a===this.invAssCheck.length},setCurrentCell:function(a){var b=null,c=!1;if(this.playing){if(-1!==this.currentCell){var d=!1;b=this.bgA.getActiveBoxWithIdLoc(this.currentCell);var e=b.getDescription();b.setMarked(!1);var g=b.idAss,h=g>=0?this.act.abc.answers.getActiveBoxContent(g).text:"",i=this.$textField.val().trim();if(f.compareMultipleOptions(i,h,!1)){d=!0,b.idAss=-1;var j=h.indexOf("|");j>=0&&this.$textField.val(h.substring(0,j)),this.act.abc.solvedPrimary?(b.switchToAlt(this.ps),c=b.playMedia(this.ps)):b.clear(),this.act.invAss&&g>=0&&g<this.invAssCheck.length&&(this.invAssCheck[g]=!0),this.act.useOrder&&(this.currentItem=this.bgA.getNextItem(this.currentItem))}var k=this.bgA.countCellsWithIdAss(-1);if(i.length>0&&this.ps.reportNewAction(this.act,"WRITE",e,i,d,k),d&&(this.checkInvAss()||k===this.bgA.getNumCells()))return this.finishActivity(!0),void this.$textField.prop("disabled",!0);!c&&i.length>0&&this.playEvent(d?"actionOk":"actionError")}if(!(b=this.act.useOrder?this.bgA.getBox(this.currentItem):this.bgA.getActiveBoxWithIdLoc(a))||-1===b.idAss){for(var l=0;l<this.bgA.getNumCells()&&(b=this.bgA.getActiveBoxWithIdLoc(l),-1===b.idAss);l++);if(b&&-1===b.idAss)return this.finishActivity(!1),void this.$textField.prop("disabled",!0)}b&&this.bgA.getNumCells()>1&&b.setMarked(!0),b&&(this.currentCell=b.idLoc),this.$textField.val(""),this.$textField.focus(),this.invalidate().update(),b&&b.playMedia(this.ps)}},processEvent:function(a){if(this.playing)switch(a.type){case"click":a.preventDefault(),this.ps.stopMedia(1);var b=new e.Point(a.pageX-this.$div.offset().left,a.pageY-this.$div.offset().top);if(this.bgB.contains(b)){this.$textField.focus();break}var c=this.bgA.findActiveBox(b);c&&(c.getContent()&&null===c.getContent().mediaContent&&this.playEvent("CLICK"),this.setCurrentCell(c.idLoc));break;case"edit":return a.preventDefault(),this.setCurrentCell(this.currentCell),!1}}},h.Panel.prototype=a.extend(Object.create(i),h.Panel.prototype),b.CLASSES["@text.WrittenAnswer"]=h,h}(a("jquery"),a("../../Activity"),a("../../boxes/ActiveBoxGrid"),a("../../boxes/BoxBag"),a("../../AWT"),a("../../Utils"),a("../../shapers/Rectangular"))},{
"../../AWT":127,"../../Activity":128,"../../Utils":134,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,"../../shapers/Rectangular":194,jquery:51}],152:[function(a,b,c){b.exports=function(a,b,c,d,e,f,g,h,i){var j=i.settings,k=function(a){b.call(this,a)};k.prototype={constructor:k,upperCase:!0,checkCase:!0,wildTransparent:!1,getMinNumActions:function(){return this.tgc.getNumChars()-this.tgc.countWildChars()},needsKeyboard:function(){return!0}},k.prototype=a.extend(Object.create(b.prototype),k.prototype),k.Panel=function(a,c,d){b.Panel.call(this,a,c,d)};var l=b.Panel.prototype;return k.Panel.prototype={constructor:k.Panel,LABEL_WIDTH:40,grid:null,bb:null,numLetters:0,advance:"NO_ADVANCE",hClue:null,vClue:null,hClueBtn:null,vClueBtn:null,events:["click","keydown","keypress"],clear:function(){this.grid&&(this.grid.end(),this.grid=null),this.bb&&(this.bb.end(),this.bb=null)},createBoxBag:function(b){var c=new d(null,this,null),e=new f(c,this,this.icoBB);e.setBounds(0,0,this.LABEL_WIDTH,this.act.abc[b].h);var i=this,j=a("<button/>",{class:"StockBtn"}).css({width:this.LABEL_WIDTH,height:this.act.abc[b].h,"background-image":"url("+("acrossClues"===b?this.hIcon:this.vIcon)+")","background-repeat":"no-repeat","background-position":"center","border-radius":6,"z-index":10}).click(function(){i.advance="acrossClues"===b?"ADVANCE_RIGHT"===i.advance?"NO_ADVANCE":"ADVANCE_RIGHT":"ADVANCE_DOWN"===i.advance?"NO_ADVANCE":"ADVANCE_DOWN",i.setBtnStatus()}).on("keypress",function(a){" "===String.fromCharCode(a.charCode||a.keyCode)&&a.stopPropagation()}).appendTo(this.$div);e.setHostedComponent(j),c.addBox(e);var k=new g(c,null,null,b,new h.Rectangle(this.LABEL_WIDTH+this.act.margin,0,this.act.abc[b].w,this.act.abc[b].h));return c.addBox(k),c.setBoxBase(this.act.abc[b].bb),"acrossClues"===b?(this.hClue=k,this.hClueBtn=e):(this.vClue=k,this.vClueBtn=e),c},buildVisualComponents:function(){this.firstRun&&l.buildVisualComponents.call(this),this.clear();var a=this.act.tgc,b=this.act.abc.acrossClues;b.imgName&&b.setImgContent(this.act.project.mediaBag,null,!1);var c=this.act.abc.downClues;if(c.imgName&&c.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(0,0,this.act.abc,!1),a){this.grid=e.createEmptyGrid(null,this,this.act.margin,this.act.margin,a,this.act.wildTransparent),this.bb=new d(null,this,null);var f=this.createBoxBag("acrossClues"),g=this.createBoxBag("downClues");"AUB"===this.act.boxGridPos||"BUA"===this.act.boxGridPos?g.moveTo(new h.Point(f.dim.width+this.act.margin,0)):g.moveTo(new h.Point(0,f.dim.height+this.act.margin)),this.bb.addBox(f),this.bb.addBox(g),this.grid.setVisible(!0),this.bb.setVisible(!0)}},initActivity:function(){l.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.grid&&(this.grid.setChars(this.act.tgc.text),this.numLetters=this.act.getMinNumActions(),this.grid.setCellAttributes(!0,!0),this.grid.setCursorEnabled(!0),this.setCursorAt(0,0),this.advance="ADVANCE_RIGHT",this.setBtnStatus(),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0,this.$div.attr("tabindex",0),this.$div.focus())},getCurrentScore:function(){return this.grid?this.grid.countCoincidences(this.act.checkCase):0},updateContent:function(a){if(l.updateContent.call(this,a),this.grid&&this.$canvas){var b=this.$canvas.get(0),c=b.getContext("2d");a||(a=new h.Rectangle(0,0,b.width,b.height)),c.clearRect(a.pos.x,a.pos.y,a.dim.width,a.dim.height),this.grid.update(c,a),this.bb.update(c,a)}return this},setDimension:function(a){return this.grid&&this.bb&&!this.getBounds().equals(a)?d.layoutDouble(a,this.grid,this.bb,this.act.boxGridPos,this.act.margin):a},setBounds:function(b){this.$canvas&&(this.$canvas.remove(),this.$canvas=null),l.setBounds.call(this,b),this.grid&&(this.$canvas=a('<canvas width="'+b.dim.width+'" height="'+b.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.invalidate().update())},processEvent:function(a){if(this.playing)switch(a.type){case"click":var b=a.originalEvent&&a.originalEvent.touches?a.originalEvent.touches[0].pageX:a.pageX,c=a.originalEvent&&a.originalEvent.touches?a.originalEvent.touches[0].pageY:a.pageY,d=new h.Point(b-this.$div.offset().left,c-this.$div.offset().top);if(this.ps.stopMedia(1),this.grid.contains(d)){var e=this.grid.getLogicalCoords(d);if(null!==e&&(this.setCursorAt(e.x,e.y),j.TOUCH_DEVICE)){var f="ADVANCE_DOWN"===this.advance,g=window.prompt((f?"Vertical":"Horizontal")+" word:","");this.writeChars(g)}}else if(this.hClue.contains(d))this.hClue.playMedia(this.ps);else{if(!this.vClue.contains(d))break;this.vClue.playMedia(this.ps)}this.update();break;case"keypress":var i=a.charCode||a.keyCode,k=this.grid.getCursor();if(i&&k){a.preventDefault();var l=String.fromCharCode(i);this.writeChars(l)}break;case"keydown":var m=0,n=0;switch(a.keyCode){case j.VK.RIGHT:m=1;break;case j.VK.LEFT:m=-1;break;case j.VK.DOWN:n=1;break;case j.VK.UP:n=-1}(m||n)&&(a.preventDefault(),this.moveCursor(m,n),this.update())}},moveCursor:function(a,b){this.grid&&(this.grid.moveCursor(a,b,!0),this.cursorPosChanged())},setCursorAt:function(a,b){this.grid.setCursorAt(a,b,!0),this.cursorPosChanged()},cursorPosChanged:function(){var a=this.grid.getCursor();if(null!==a&&null!==this.bb){var b=this.grid.getItemFor(a.x,a.y);null!==b&&(this.hClue.setContent(this.act.abc.acrossClues.getActiveBoxContentWith(a.y,b.x)),this.vClue.setContent(this.act.abc.downClues.getActiveBoxContentWith(a.x,b.y)))}},writeChars:function(a){if(a&&a.length>0)for(var b=0;b<a.length;b++){var c=this.grid.getCursor(),d=a.charAt(b);this.act.upperCase&&(d=d.toLocaleUpperCase()),this.grid.setCharAt(c.x,c.y,d);var e=this.grid.isCellOk(c.x,c.y,this.act.checkCase),f=this.getCurrentScore();this.ps.reportNewAction(this.act,"WRITE",d,"X:"+c.x+" Y:"+c.y,e,f),f===this.numLetters?(this.grid.setCursorEnabled(!1),this.grid.stopCursorBlink(),this.finishActivity(!0)):(this.playEvent("click"),"ADVANCE_DOWN"===this.advance?this.moveCursor(0,1):"ADVANCE_RIGHT"===this.advance&&this.moveCursor(1,0))}this.update()},setBtnStatus:function(){this.hClueBtn&&this.hClueBtn.setInactive("ADVANCE_RIGHT"!==this.advance),this.vClueBtn&&this.vClueBtn.setInactive("ADVANCE_DOWN"!==this.advance)},hIcon:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjM2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48cGF0aCBkPSJNNiAxMGMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bTEyIDBjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0tNiAwYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnoiPjwvcGF0aD48L3N2Zz4K",vIcon:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjM2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48cGF0aCBkPSJNMTIgOGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTItMiAuOS0yIDIgLjkgMiAyIDJ6bTAgMmMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bTAgNmMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+Cg==",icoSize:{w:36,h:36},icoBB:(new c).set("backColor","#4285F4").set("inactiveColor","#70A2F6").set("dontFill",!0)},k.Panel.prototype=a.extend(Object.create(l),k.Panel.prototype),b.CLASSES["@textGrid.CrossWord"]=k,k}(a("jquery"),a("../../Activity"),a("../../boxes/BoxBase"),a("../../boxes/BoxBag"),a("../../boxes/TextGrid"),a("../../boxes/AbstractBox"),a("../../boxes/ActiveBox"),a("../../AWT"),a("../../Utils"))},{"../../AWT":127,"../../Activity":128,"../../Utils":134,"../../boxes/AbstractBox":163,"../../boxes/ActiveBox":165,"../../boxes/BoxBag":169,"../../boxes/BoxBase":170,"../../boxes/TextGrid":172,jquery:51}],153:[function(a,b,c){b.exports=function(a,b,c,d,e,f,g){var h=function(a){b.call(this,a)};h.prototype={constructor:h,clues:null,clueItems:null,scramble:{primary:!1,secondary:!1},getMinNumActions:function(){return this.clues.length},helpSolutionAllowed:function(){return!0},hasRandom:function(){return!0}},h.prototype=a.extend(Object.create(b.prototype),h.prototype),h.Panel=function(a,c,d){b.Panel.call(this,a,c,d),this.resolvedClues=[]};var i=b.Panel.prototype;return h.Panel.prototype={constructor:h.Panel,grid:null,bgAlt:null,resolvedClues:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"],clear:function(){this.grid&&(this.grid.end(),this.grid=null),this.bgAlt&&(this.bgAlt.end(),this.bgAlt=null)},buildVisualComponents:function(){this.firstRun&&i.buildVisualComponents.call(this),this.clear();var b=this.act.tgc,d=this.act.abc.secondary;if(d&&(d.imgName&&(d.setImgContent(this.act.project.mediaBag,null,!1),!d.animatedGifFile||d.shaper.rectangularShapes||this.act.scramble.secondary||(this.$animatedBg=a("<span/>").css({"background-image":"url("+d.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),null!==this.act.acp)){var e=[d];this.act.acp.generateContent(0,0,e,!1)}b&&(this.grid=g.createEmptyGrid(null,this,this.act.margin,this.act.margin,b,!1),d&&(this.bgAlt=c.createEmptyGrid(null,this,this.act.margin,this.act.margin,d),this.$animatedBg&&this.bgAlt.backgroundBox&&(this.bgAlt.backgroundBox.tmpTrans=!0)),this.grid.setVisible(!0))},initActivity:function(){if(i.initActivity.call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.grid){this.grid.setChars(this.act.tgc.text),this.grid.randomize(),this.grid.setAllCellsAttribute(g.prototype.flags.INVERTED,!1);for(var a=0;a<this.act.clueItems.length;a++)this.resolvedClues[a]=!1;if(this.bgAlt){if(this.bgAlt.setContent(this.act.abc.secondary),this.$animatedBg&&this.bgAlt.clearAllBoxes(),this.act.scramble.secondary){var b=[this.bgAlt];this.shuffle(b,!0,!0)}this.bgAlt.setVisible(null!==this.$animatedBg)}this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0}},updateContent:function(a){if(i.updateContent.call(this,a),this.grid&&this.$canvas){var b=this.$canvas.get(0),c=b.getContext("2d");a||(a=new f.Rectangle(0,0,b.width,b.height)),c.clearRect(a.pos.x,a.pos.y,a.dim.width,a.dim.height),this.grid.update(c,a),this.bgAlt&&this.bgAlt.update(c,a)}return this},setDimension:function(a){return!this.grid||this.getBounds().equals(a)?a:this.bgAlt?d.layoutDouble(a,this.grid,this.bgAlt,this.act.boxGridPos,this.act.margin):d.layoutSingle(a,this.grid,this.act.margin)},setBounds:function(b){if(this.$canvas&&this.$canvas.remove(),i.setBounds.call(this,b),this.grid){if(this.$canvas=a('<canvas width="'+b.dim.width+'" height="'+b.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg&&this.bgAlt){var c=this.bgAlt.getBounds();this.$animatedBg.css({left:c.pos.x,top:c.pos.y,width:c.dim.width+"px",height:c.dim.height+"px","background-size":c.dim.width+"px "+c.dim.height+"px"})}this.$div.append(this.$canvas),this.bc=new e(this,this.$canvas.get(0).getContext("2d")),this.invalidate().update()}},getCurrentScore:function(){var a=0;if(this.act.clues)for(var b=0;b<this.act.clues.length;b++)this.resolvedClues[b]&&a++;return a},processEvent:function(a){if(this.bc&&this.playing){var b=null;if("touchend"===a.type)b=this.bc.active?this.bc.dest.clone():new f.Point;else{var c=a.originalEvent.touches?a.originalEvent.touches[0].pageX:a.pageX,d=a.originalEvent.touches?a.originalEvent.touches[0].pageY:a.pageY;b=new f.Point(c-this.$div.offset().left,d-this.$div.offset().top)}var e=!1,h=!1;switch(a.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&b.distanceTo(this.bc.origin)<=3)break;e=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){this.ps.stopMedia(1);var i=this.grid.getLogicalCoords(this.bc.origin),j=this.grid.getLogicalCoords(this.bc.dest);this.bc.end();var k=this.grid.getStringBetween(i.x,i.y,j.x,j.y);if(null!==k&&k.length>0){for(var l=!1,m=0;m<this.act.clues.length;m++)if(k===this.act.clues[m]){l=!0;break}var n=this.resolvedClues[m];if(l&&!n&&(this.resolvedClues[m]=!0,this.grid.setAttributeBetween(i.x,i.y,j.x,j.y,g.prototype.flags.INVERTED,!0),null!==this.bgAlt)){var o=this.act.clueItems[m];if(o>=0&&o<this.bgAlt.getNumCells()){var p=this.bgAlt.getActiveBox(this.act.clueItems[m]);p&&(p.setVisible(null===this.$animatedBg),h=p.playMedia(this.ps))}}if(n)l||h||this.playEvent("actionError");else{var q=this.getCurrentScore();this.ps.reportNewAction(this.act,"ACTION_SELECT",k,null,l,q),q===this.act.clues.length?this.finishActivity(!0):h||this.playEvent(l?"actionOK":"actionError"),this.invalidate()}}else this.playEvent("actionError");this.update()}else{if(e)break;this.ps.stopMedia(1),this.grid.contains(b)&&(this.playEvent("click"),this.bc.begin(b))}break;case"mousemove":case"touchmove":this.bc.moveTo(b)}a.preventDefault()}}},h.Panel.prototype=a.extend(Object.create(i),h.Panel.prototype),b.CLASSES["@textGrid.WordSearch"]=h,h}(a("jquery"),a("../../Activity"),a("../../boxes/ActiveBoxGrid"),a("../../boxes/BoxBag"),a("../../boxes/BoxConnector"),a("../../AWT"),a("../../boxes/TextGrid"))},{"../../AWT":127,"../../Activity":128,"../../boxes/ActiveBoxGrid":168,"../../boxes/BoxBag":169,"../../boxes/BoxConnector":171,"../../boxes/TextGrid":172,jquery:51}],154:[function(a,b,c){b.exports=function(a){var b=function(a){this.project=a};return b.prototype={constructor:b,project:null,setProperties:function(a){return this.className=(a.attr("class")||"").replace(/^edu\.xtec\.jclic\.automation\./,"@"),this},init:function(){},generateContent:function(a,c,d,e){var f=new b.ActiveBagContentKit(a,c,d,e);return this.process(f)},process:function(a){return!1}},b.ActiveBagContentKit=function(a,b,c,d){this.nRows=a,this.nCols=b,this.content=c,this.useIds=d},b.CLASSES={"@tagreplace.TagReplace":b},b.getProvider=function(c,d){var e=null;if(c&&d){var f=(c.attr("class")||"").replace(/^edu\.xtec\.jclic\.automation\./,"@"),g=b.CLASSES[f];g?(e=new g(d),e.setProperties(c)):a.log("error","Unknown AutoContentProvider class: %s",f)}return e},b}(a("../Utils"))},{"../Utils":134}],155:[function(a,b,c){b.exports=function(a,b,c){var d=function(a){b.call(this,a),this.opA=new d.Operator,this.opB=new d.Operator};return d.prototype={constructor:d,NMAXLOOPS:60,NOSORT:0,SORTASC:1,SORTDESC:2,SUM:1,REST:2,MULT:4,DIV:8,NOPERACIONS:4,OPSTR:["+","-",String.fromCharCode(215),":"],ABX:1,AXC:2,XBC:4,AXBC:8,CAXB:16,NTIPUSEX:5,INDIF:0,AGB:1,BGA:2,RES:-12345,MAX_STR_LEN:100,S:String.fromCharCode(160),opA:null,opB:null,use_add:!0,use_subst:!1,use_mult:!1,use_div:!1,exp_abx:!0,exp_axc:!1,exp_xbc:!1,exp_axbc:!1,exp_caxb:!1,resultLimInf:0,resultLimSup:9999,resultCarry:!1,resultNoDup:!1,resultOrder:"NOSORT",opCond:"INDIF",setProperties:function(b){var d=this;return b.children().each(function(){var b=a(this),e="";switch(this.nodeName){case"operand":switch(b.attr("id")){case"A":d.opA.setProperties(b);break;case"B":d.opB.setProperties(b)}break;case"operations":d.use_add=c.getBoolean(b.attr("plus")),d.use_subst=c.getBoolean(b.attr("minus")),d.use_mult=c.getBoolean(b.attr("multiply")),d.use_div=c.getBoolean(b.attr("divide"));break;case"unknown":d.exp_abx=c.getBoolean(b.attr("result")),d.exp_xbc=c.getBoolean(b.attr("first")),d.exp_axc=c.getBoolean(b.attr("last")),d.exp_axbc=c.getBoolean(b.attr("operand")),d.exp_caxb=c.getBoolean(b.attr("inverse"));break;case"result":e=b.attr("from"),d.resultLimInf=c.getNumber("x"===e?0:e,d.resultLimInf),e=b.attr("to"),d.resultLimSup=c.getNumber("x"===e?0:e,d.resultLimSup),d.resultCarry=c.getBoolean(b.attr("notCarry"),d.resultCarry),d.resultNoDup=!c.getBoolean(b.attr("duplicates"),!d.resultNoDup);var f=b.attr("order");d.resultOrder="ascending"===f?"SORTASC":"descending"===f?"SORTDESC":"NOSORT",f=b.attr("condition"),d.opCond="firstBig"===f?"AGB":"lastBig"===f?"BGA":"INDIF"}}),this},genNum:function(a,b,c,e){var f,g,h,i,j,k,l,m=!1;return a.c=b.numDec,g=0===a.c?1:1===a.c?10:100,i=b.limSup,e!==d.prototype.RES&&e<i&&(i=e),j=b.limInf,c!==d.prototype.RES&&c>j&&(j=c),m=!1,b.fromList>0&&(a.vf=b.lst[Math.floor(Math.random()*b.fromList)],m=!0),m||(f=Math.floor(100*Math.random()),b.wZero&&f<=10?(a.vf=0,m=!0):b.wOne&&f>10&&f<=20?(a.vf=1,m=!0):b.wMinusOne&&f>20&&f<=30&&(a.vf=-1,m=!0)),m||(j>i&&(k=j,j=i,i=k),h=Math.floor(i-j+1),h<0&&(h=1),l=(Math.floor(Math.random()*h)+j)*g,g>1&&(l+=Math.floor(Math.random()*g)),a.vf=l/g),!0},genOp:function(a){var b,c,e,f,g,h,i,j,k,l,m,n=[];switch(e=this.resultLimInf,f=this.resultLimSup,c=0,this.use_add&&(n[c++]="SUM"),this.use_subst&&(n[c++]="REST"),this.use_mult&&(n[c++]="MULT"),this.use_div&&(n[c++]="DIV"),n[Math.floor(Math.random()*c)]){case"SUM":for(b=0;b<this.NMAXLOOPS;b++){switch(this.genNum(a.numA,this.opA,this.RES,f),g=a.numA.vf<e?e-Math.floor(a.numA.vf):this.RES,h=f-Math.floor(a.numA.vf),this.opCond){case"AGB":(h===this.RES||h>a.numA.vf)&&(h=Math.floor(a.numA.vf));break;case"BGA":(g===this.RES||g<a.numA.vf)&&(g=Math.floor(a.numA.vf))}if(this.genNum(a.numB,this.opB,g,h),a.numR.vf=a.numA.vf+a.numB.vf,a.numR.vf>=e&&a.numR.vf<=f)break}if(a.numR.c=a.numA.c>a.numB.c?a.numA.c:a.numB.c,a.op=0,this.resultCarry&&a.numA.vf>0&&a.numB.vf>0){for(i=2===a.numR.c?100:1===a.numR.c?10:1,l=d.DecFormat(Math.floor(a.numA.vf*i+.5),0,10).split(""),m=d.DecFormat(Math.floor(a.numB.vf*i+.5),0,10).split(""),b=0;b<10&&("0"===l[b]&&"0"===m[b]);b++);for(;b<10;b++)if(j=parseInt(l[b]),k=parseInt(m[b]),!(j+k<10)){for(;j+k>9;)j>k?j=j>0?Math.floor(Math.random()*j):0:k=k>0?Math.floor(Math.random()*k):0;l[b]=j.toFixed(0),m[b]=k.toFixed(0)}a.numA.vf=parseInt(l.join(""))/i,a.numB.vf=parseInt(m.join(""))/i,a.numR.vf=Math.floor(a.numA.vf+a.numB.vf+.5)/i}break;case"REST":for(b=0;b<this.NMAXLOOPS;b++){switch(this.genNum(a.numA,this.opA,e,this.RES),g=a.numA.vf>f?Math.floor(a.numA.vf-f):this.RES,h=Math.floor(a.numA.vf-e),this.opCond){case"AGB":(h===this.RES||h>a.numA.vf)&&(h=Math.floor(a.numA.vf));break;case"BGA":(g===this.RES||g<a.numA.vf)&&(g=Math.floor(a.numA.vf))}if(this.genNum(a.numB,this.opB,g,h),a.numR.vf=a.numA.vf-a.numB.vf,a.numR.vf>=e&&a.numR.vf<=f)break}if(a.numR.c=a.numA.c>a.numB.c?a.numA.c:a.numB.c,a.op=1,this.resultCarry&&a.numA.vf>0&&a.numB.vf>0&&a.numA.vf>=a.numB.vf){for(i=2===a.numR.c?100:1===a.numR.c?10:1,l=d.DecFormat(Math.floor(a.numA.vf*i+.5),0,10).split(""),m=d.DecFormat(Math.floor(a.numB.vf*i+.5),0,10).split(""),b=0;b<10&&"0"===m[b];b++);for(;b<10;b++)j=parseInt(l[b]),k=parseInt(m[b]),j>=k||(k=j>0?Math.floor(Math.random()*j):0,m[b]=k.toFixed(0));a.numA.vf=parseInt(l.join(""))/i,a.numB.vf=parseInt(m.join(""))/i,a.numR.vf=Math.floor(a.numA.vf-a.numB.vf+.5)/i}break;case"MULT":for(b=0;b<this.NMAXLOOPS;b++){switch(this.genNum(a.numA,this.opA,this.RES,this.RES),g=this.opB.limInf,h=this.opB.limSup,this.opCond){case"AGB":h>a.numA.vf&&(h=Math.floor(a.numA.vf));break;case"BGA":g<a.numA.vf&&(g=Math.floor(a.numA.vf))}if(this.genNum(a.numB,this.opB,g,h),a.numR.vf=a.numA.vf*a.numB.vf,a.numR.vf>=e&&a.numR.vf<=f)break}a.numR.c=a.numA.c+a.numB.c,a.op=2;break;case"DIV":for(b=0;b<this.NMAXLOOPS;b++){switch(this.genNum(a.numA,this.opA,this.RES,this.RES),g=this.opB.limInf,h=this.opB.limSup,this.opCond){case"AGB":h>a.numA.vf&&(h=Math.floor(a.numA.vf));break;case"BGA":g<a.numA.vf&&(g=Math.floor(a.numA.vf))}if(this.genNum(a.numB,this.opB,g,h),0!==a.numB.vf&&Math.abs(a.numA.vf)>=Math.abs(a.numB.vf)&&(a.numR.vf=a.numA.vf/a.numB.vf)>=e&&a.numR.vf<=f)break}0===a.numB.vf&&(a.numB.vf=1),a.numR.vf=a.numA.vf/a.numB.vf,b=a.numA.c-a.numB.c,i=Math.pow(10,b),a.numA.vf*=i,a.numR.vf*=i,a.numR.vf=Math.floor(a.numR.vf),a.numA.vf=a.numR.vf*a.numB.vf,a.numA.vf/=i,a.numR.vf/=i,a.numR.c=b>0?b:0,a.op=3;break;default:return!1}return!0},process:function(a){var b,c,e,f,g,h,i=a.nRows,j=a.nCols,k=a.content,l=a.useIds,m=[],n=this.S,o=[],p=this.exp_caxb,q="",r="",s="",t="",u=[],v=[],w=[],x=j,y=i,z=i*j,A=null;if(i<=0||j<=0||null===k||k.length<1||null===k[0])return!1;if(z<2)return!1;if(g=0,this.exp_abx&&(o[g++]="ABX"),this.exp_axc&&(o[g++]="AXC"),this.exp_xbc&&(o[g++]="XBC"),this.exp_axbc&&(o[g++]="AXBC"),0===g)return!1;for(b=0;b<z;b++){for(f=new d.Operacio,c=0;c<this.NMAXLOOPS&&(this.genOp(f),this.resultNoDup);c++){for(e=0;e<b&&f.numR.vf!==m[e].numR.vf;e++);if(e===b)break}m[b]=f}if(0!==this.resultOrder)for(b=z-1;b>0;b--)for(c=0;c<b;c++)("SORTASC"===this.resultOrder&&m[c].numR.vf>m[c+1].numR.vf||"SORTDESC"===this.resultOrder&&m[c].numR.vf<m[c+1].numR.vf)&&(f=m[c],m[c]=m[c+1],m[c+1]=f);for(b=0;b<z;b++)switch(h=o[Math.floor(Math.random()*g)],q=d.DecFormat(m[b].numA.vf,m[0].numA.c),r=d.DecFormat(m[b].numB.vf,m[0].numB.c),s=d.DecFormat(m[b].numR.vf,m[0].numR.c),t=this.OPSTR[m[b].op],w[b]=p?s+n+"="+n+q+n+t+n+r:q+n+t+n+r+n+"="+n+s,h){case"AXC":v[b]=r,u[b]=p?s+n+"="+n+q+n+t+n+"?":q+n+t+n+"?"+n+"="+n+s;break;case"XBC":v[b]=q,u[b]=p?s+n+"="+n+"?"+n+t+n+r:"?"+n+t+n+r+n+"="+n+s;break;case"AXBC":v[b]=t,u[b]=p?s+n+"="+n+q+n+"?"+n+r:q+n+"?"+n+r+n+"="+n+s;break;default:v[b]=s,u[b]=p?"?"+n+"="+n+q+n+t+n+r:q+n+t+n+r+n+"="}if(l){A=[];var B=[];for(e=0,b=0;b<z;b++){for(c=0;c<e&&v[b]!==B[c];c++);c===e?(B[e]=v[b],A[b]=e,e++):A[b]=c}for(v=[],b=0;b<e;b++)v[b]=B[b];if(y*x!==e){switch(e){case 6:y=3,x=2;break;case 8:y=4,x=2;break;case 9:y=3,x=3;break;case 10:y=5,x=2;break;case 12:y=4,x=3;break;case 14:y=7,x=2;break;case 15:y=5,x=5;break;case 16:y=4,x=4;break;case 18:y=3,x=6;break;case 20:y=5,x=4;break;default:y=e,x=1}}}return k[0].setTextContent(u,j,i),null!==A&&k[0].setIds(A),k.length>1&&null!==k[1]&&(k[1].setTextContent(v,x,y),k[1].getShaper().reset(x,y)),k.length>2&&null!==k[2]&&k[2].setTextContent(w,j,i),!0}},d.DecFormat=function(a,b,c){var d=a.toFixed(b);if(c){var e=d.indexOf(".");for(e<0&&(e=d.length);e<c;e++)d="0"+d}return d},d.Operator=function(){this.limInf=this.LIM0,this.limSup=this.LIM10,this.lst=[]},d.Operator.prototype={constructor:d.Operator,MAX_VALUE:1e8,WZERO:1,WONE:2,WMINUSONE:4,NLIMITS:26,LIMITS:[0,-9999,-1e3,-999,-100,-99,-50,-25,-20,-10,-9,-5,-1,0,1,5,9,10,20,25,50,99,100,999,1e3,9999],DEFAULT_LIMIT:13,LIM0:13,LIM10:17,LIMI25:7,LIMS25:19,NOLIM:25,limInf:0,limSup:10,numDec:0,wZero:!1,wOne:!1,wMinusOne:!1,fromList:0,lst:[],setProperties:function(b){var d=this;return a.each(b.get(0).attributes,function(){var e=this.name,f=this.value;switch(e){case"decimals":d.numDec=Number(f);break;case"values":for(var g=f.split(" "),h=0;h<g.length;h++)d.lst[h]=Number(g[h]);d.fromList=d.lst.length;break;case"from":d.limInf=Number("x"===f?0:f);break;case"to":d.limSup=Number("x"===f?0:f)}b.children().each(function(){var b=a(this);switch(this.nodeName){case"include":d.wZero=c.getBoolean(b.attr("zero")),d.wOne=c.getBoolean(b.attr("one")),d.wMinusOne=c.getBoolean(b.attr("minusOne"))}})}),this}},d.Num=function(){this.vf=0,this.c=0},d.Num.prototype.format=function(){return d.DecFormat(this.vf,this.c)},d.Operacio=function(){this.numA=new d.Num,this.numB=new d.Num,this.numR=new d.Num,this.op=0},d.prototype=a.extend(Object.create(b.prototype),d.prototype),b.CLASSES["@arith.Arith"]=d,d}(a("jquery"),a("../AutoContentProvider"),a("../../Utils"))},{"../../Utils":134,"../AutoContentProvider":154,jquery:51}],156:[function(a,b,c){b.exports=function(a,b,c,d,e){var f=function(a){this.project=a,this.elements=[]};return f.prototype={constructor:f,elements:null,project:null,currentAct:-1,setProperties:function(b){var d=this.elements;return b.children("item").each(function(b,e){var f=(new c).setProperties(a(e));d.push(f)}),this},getElementIndex:function(a){return null===a?-1:this.elements.indexOf(a)},getElement:function(a,b){var c=null;return a>=0&&a<this.elements.length&&(c=this.elements[a],b&&(this.currentAct=a)),c},getElementByTag:function(a,b){var c=null,d=-1;return null!==a&&(a=e.nSlash(a),this.elements.some(function(b,e){return b.tag===a&&(c=b,d=e),-1!==d}),-1!==d&&b&&(this.currentAct=d)),c},getCurrentAct:function(){return this.getElement(this.currentAct,!1)},hasNextAct:function(a){var b=!1,c=this.getCurrentAct();if(null!==c)if(null===c.fwdJump)b=!0;else switch(c.fwdJump.action){case"STOP":break;case"RETURN":b=a;break;default:b=!0}return b},hasPrevAct:function(a){var b=!1,c=this.getCurrentAct();if(null!==c)if(null===c.backJump)b=!0;else switch(c.backJump.action){case"STOP":break;case"RETURN":b=a;break;default:b=!0}return b},getNavButtonsFlag:function(){var a="none",b=this.getCurrentAct();return null!==b&&(a=b.navButtons),a},getJump:function(a,c){var d=this.getCurrentAct(),e=null;if(null!==d){var f=a?d.backJump:d.fwdJump;if(null===f){var g=this.currentAct+(a?-1:1);(g>=this.elements.length||g<0)&&(g=0),e=new b("JUMP",g)}else{var h=-1,i=-1;if(null!==c){var j=c.getCurrentSequenceInfo();null!==j&&(h=Math.round(j.tScore),i=Math.round(j.tTime/1e3))}e=f.resolveJump(h,i)}}return e},getSequenceForElement:function(a){var b=null;if(a>=0&&a<this.elements.length)for(var c=a;null===b&&c>=0;c--)b=this.getElement(c,!1).tag;return b},getElementByActivityName:function(a){var b=null;if(null!==a)for(var c=0;null===b&&c<this.elements.length;c++){var d=this.getElement(c,!1);d.activityName.toLowerCase()===a.toLowerCase()&&(b=d)}return b},checkCurrentActivity:function(a){var b=this.getCurrentAct();if(null===b||b.activityName.toUpperCase()!==a.toUpperCase()){for(var e=0;e<this.elements.length;e++)if(this.getElement(e,!1).activityName.toUpperCase()===a.toUpperCase())return this.currentAct=e,!1;return b=new c,b.activityName=a,b.fwdJump=new d("STOP"),b.backJump=new d("STOP"),this.elements.push(b),this.currentAct=this.elements.length-1,!1}return!0}},f}(a("jquery"),a("./JumpInfo"),a("./ActivitySequenceElement"),a("./ActivitySequenceJump"),a("../Utils"))},{"../Utils":134,"./ActivitySequenceElement":157,"./ActivitySequenceJump":158,"./JumpInfo":160,jquery:51}],157:[function(a,b,c){b.exports=function(a,b,c){var d=function(){};return d.prototype={constructor:d,tag:null,description:null,activityName:"",fwdJump:null,backJump:null,navButtons:"both",delay:0,setProperties:function(d){var e=this;return a.each(d.get(0).attributes,function(){var a=this.name,b=this.value;switch(a){case"id":e.tag=c.nSlash(b);break;case"name":e.activityName=b;break;case"description":case"navButtons":e[a]=b;break;case"delay":e[a]=Number(b)}}),d.children("jump").each(function(){var c=(new b).setProperties(a(this));"forward"===c.id?e.fwdJump=c:"back"===c.id&&(e.backJump=c)}),this}},d}(a("jquery"),a("./ActivitySequenceJump"),a("../Utils"))},{"../Utils":134,"./ActivitySequenceJump":158,jquery:51}],158:[function(a,b,c){b.exports=function(a,b,c){var d=function(a,c){b.call(this,a,c)};return d.prototype={constructor:d,upperJump:null,lowerJump:null,setProperties:function(d){b.prototype.setProperties.call(this,d);var e=this;return d.children("jump").each(function(){var b=(new c).setProperties(a(this));"upper"===b.id?e.upperJump=b:"lower"===b.id&&(e.lowerJump=b)}),this},resolveJump:function(a,b){var c=this;return a>=0&&b>=0&&(null!==this.upperJump&&a>this.upperJump.threshold&&(this.upperJump.time<=0||b<this.upperJump.time)?c=this.upperJump:null!==this.lowerJump&&(a<this.lowerJump.threshold||this.lowerJump.time>0&&b>this.lowerJump.time)&&(c=this.lowerJump)),c}},d.prototype=a.extend(Object.create(b.prototype),d.prototype),d}(a("jquery"),a("./JumpInfo"),a("./ConditionalJumpInfo"))},{"./ConditionalJumpInfo":159,"./JumpInfo":160,jquery:51}],159:[function(a,b,c){b.exports=function(a,b){var c=function(a,c,d,e){b.call(this,a,c),this.threshold="number"==typeof d?d:-1,this.time="number"==typeof d?e:-1};return c.prototype={constructor:c,threshold:-1,time:-1,setProperties:function(a){return b.prototype.setProperties.call(this,a),void 0!==a.attr("threshold")&&(this.threshold=a.attr("threshold")),void 0!==a.attr("time")&&(this.time=a.attr("time")),this}},c.prototype=a.extend(Object.create(b.prototype),c.prototype),c}(a("jquery"),a("./JumpInfo"))},{"./JumpInfo":160,jquery:51}],160:[function(a,b,c){b.exports=function(a){var b=function(a,b){switch(this.action=a,typeof b){case"string":this.sequence=b;break;case"number":this.actNum=b}};return b.prototype={constructor:b,id:null,action:void 0,actNum:-1,sequence:void 0,projectPath:void 0,setProperties:function(b){return this.id=b.attr("id"),this.action=b.attr("action")||"JUMP",this.sequence=a.nSlash(b.attr("tag")),this.projectPath=a.nSlash(b.attr("project")),this}},b}(a("../Utils"))},{"../Utils":134}],161:[function(a,b,c){b.exports=function(a,b,c,d){var e=function(a){this.project=a,this.elements={}};return e.prototype={constructor:e,elements:null,project:null,setProperties:function(c){var d=this;return c.children("media").each(function(){var c=new b(d.project.basePath,null,d.project.zip);c.setProperties(a(this)),d.elements[c.name]=c}),this},getElement:function(a,b){a=d.nSlash(a);var c=this.elements[a];return b&&!c&&(c=this.getElementByFileName(a,b)),c},getElementByFileName:function(a,c){var e=null;if(a){a=d.nSlash(a);for(var f in this.elements)if(this.elements[f].fileName===a){e=this.elements[f];break}!e&&c&&(e=new b(this.project.basePath,null,this.project.zip),e.name=a,e.fileName=a,e.ext=a.toLowerCase().split("#")[0].split(".").pop(),e.type=e.getFileType(e.ext),this.elements[e.name]=e)}return e},getElementsOfType:function(b){var c=[];return a.each(this.elements,function(a,d){d.type===b&&c.push("font"===b?d.fontName:a)}),c},buildAll:function(b,c){var d=0;return a.each(this.elements,function(a,e){b&&e.type!==b||(e.build(c),d++)}),d},countWaitingElements:function(){var b=0,c=!0;return a.each(this.elements,function(a,e){!e.data||e.ready||e.checkReady()||e.checkTimeout()?b++:(d.log("debug","... waiting for: %s",a),c=!1)}),c?-1:b},getSkinElement:function(a,b){return c.getSkin(a,b)}},e}(a("jquery"),a("./MediaBagElement"),a("../skins/Skin"),a("../Utils"))},{"../Utils":134,"../skins/Skin":205,"./MediaBagElement":162,jquery:51}],162:[function(a,b,c){b.exports=function(a,b,c){var d=function(a,c,d){a&&(this.basePath=a),c&&(this.fileName=b.nSlash(c),this.name=b.nSlash(c),this.ext=this.fileName.toLowerCase().split(".").pop(),this.type=this.getFileType(this.ext),"gif"===this.ext&&this.checkAnimatedGif()),d&&(this.zip=d),this.timeout=Date.now()+b.settings.LOAD_TIMEOUT};return d.prototype={constructor:d,name:"",fileName:"",fontName:"",basePath:"",zip:null,data:null,ready:!1,_whenReady:null,ext:"",type:null,timeout:0,animated:!1,_fullPath:null,setProperties:function(a){if(this.name=b.nSlash(a.attr("name")),this.fileName=b.nSlash(a.attr("file")),this.ext=this.fileName.toLowerCase().split(".").pop(),this.type=this.getFileType(this.ext),"gif"===this.ext){var c=a.attr("animated");void 0===c?this.checkAnimatedGif():this.animated="true"===c}return"font"===this.type&&(this.fontName=this.name===this.fileName&&this.name.lastIndexOf(".")>0?this.name.substring(0,this.name.lastIndexOf(".")):this.name),this},checkAnimatedGif:function(){var a=this,c=new XMLHttpRequest;c.responseType="arraybuffer",c.addEventListener("load",function(){var d,e,f=new Uint8Array(c.response),g=f.length,h=0;if(71!==f[0]||73!==f[1]||70!==f[2]||56!==f[3])return void(a.animated=!1);for(d=0,e=g-3;d<e&&h<2;++d)if(0===f[d]&&33===f[d+1]&&249===f[d+2]){var i=f[d+3],j=d+4+i;if(j+1<g&&0===f[j]&&(44===f[j+1]||33===f[j+1])&&++h>1){a.animated=!0,b.log("debug","Animated GIF detected: %s",a.fileName);break}}}),this.getFullPathPromise().then(function(a){c.open("GET",a,!0),c.send()})},isEmpty:function(){return null===this.data},getFileType:function(a){var c=null;for(var d in b.settings.FILE_TYPES)b.settings.FILE_TYPES[d].indexOf(a)>=0&&(c=d);return c},build:function(d){var e=this;return d&&(this._whenReady||(this._whenReady=[]),this._whenReady.push(d)),e.data?e.ready&&e._onReady():e.getFullPathPromise().then(function(d){switch(e.type){case"font":var f="ttf"===e.ext?"truetype":"otf"===e.ext?"embedded-opentype":e.ext;a("head").append('<style type="text/css">@font-face{font-family:"'+e.fontName+'";src:url('+d+') format("'+f+'");}</style>'),e.data=new c.Font(e.name),e.ready=!0;break;case"image":e.data=new Image,a(e.data).on("load",function(){e._onReady.call(e)}),e.data.src=d;break;case"audio":case"video":e.data=document.createElement(e.type),
a(e.data).on("canplay",function(){e._onReady.call(e)}),e.data.src=d,e.data.pause();break;case"anim":e.data=a('<object type"application/x-shockwave-flash" width="300" height="200" data="'+d+'"/>').get(0),e.ready=!0;break;case"xml":e.data="",e.ready=!0;break;default:b.log("trace","Media currently not supported: %s",e.name),e.ready=!0}e.ready&&e._onReady()}),this},checkReady:function(){if(this.data&&!this.ready)switch(this.type){case"image":this.ready=!0===this.data.complete;break;case"audio":case"video":case"anim":this.ready=this.data.readyState>=1;break;default:this.ready=!0}return this.ready},checkTimeout:function(){var a=Date.now()>this.timeout;return a&&b.log("warn","Timeout while loading: %s",this.name),a},_onReady:function(){if(this.ready=!0,this._whenReady){for(var a=0;a<this._whenReady.length;a++){this._whenReady[a].apply(this)}this._whenReady=null}},getFullPath:function(){return this._fullPath},getFullPathPromise:function(){var a=this;return new b.Promise(function(c,d){b.getPathPromise(a.basePath,a.fileName,a.zip).then(function(b){a._fullPath=b,c(b)}).catch(d)})}},d}(a("jquery"),a("../Utils"),a("../AWT"))},{"../AWT":127,"../Utils":134,jquery:51}],163:[function(a,b,c){b.exports=function(a,b,c){var d=function(a,c,d){b.Rectangle.call(this),this.container=c,this.parent=a,this.boxBase=d,this.shape=this,this.specialShape=!1,this.visible=!0};return d.prototype={constructor:d,parent:null,container:null,boxBase:null,border:!1,shape:null,specialShape:!1,visible:!0,temporaryHidden:!1,tmpTrans:!1,inactive:!1,inverted:!1,alternative:!1,marked:!1,focused:!1,accessibleText:"",role:"cell",$accessibleElement:null,accessibleAlwaysActive:!1,$hostedComponent:null,setParent:function(a){this.parent=a},getParent:function(){return this.parent},end:function(){},setContainer:function(a){this.container=a,this.$hostedComponent&&this.container&&this.container.$div&&(this.$hostedComponent.detach(),this.container.$div.append(this.$hostedComponent))},getContainerX:function(){return this.container},getContainerResolve:function(){for(var a=this;null===a.container&&null!==a.parent;)a=a.parent;return a.container},invalidate:function(a){var b=this.getContainerResolve();b&&b.invalidate(a)},setBoxBase:function(a){this.boxBase=a,this.invalidate()},getBoxBaseResolve:function(){for(var a=this;!a.boxBase&&a.parent;)a=a.parent;return a.boxBase||c.prototype.defaultBoxBase},setShape:function(a){this.shape=a,this.specialShape=!0,this.invalidate(),b.Rectangle.prototype.setBounds.call(this,a.getBounds()),this.invalidate()},getShape:function(){return this.shape},contains:function(a){return this.shape===this?b.Rectangle.prototype.contains.call(this,a):this.shape.contains(a)},setBounds:function(a,c,d,e){if("number"==typeof a&&(a=new b.Rectangle(a,c,d,e)),!this.equals(a)){var f=!this.dim.equals(a.dim);return this.specialShape?(f&&(this.shape.scaleBy(new b.Dimension(a.dim.width/this.dim.width,a.dim.height/this.dim.height)),this.setShape(this.shape)),this.pos.equals(a.pos)||this.shape.moveTo(a.pos),this.setShape(this.shape)):b.Rectangle.prototype.setBounds.call(this,a),this.$hostedComponent&&this.setHostedComponentBounds(f),this}},moveTo:function(a,c){"number"==typeof a&&(a=new b.Point(a,c)),this.setBounds(new b.Rectangle(this).moveTo(a))},moveBy:function(a,c){this.setBounds(new b.Rectangle(this).moveBy(a,c))},setSize:function(a,c){this.setBounds(new b.Rectangle(this.pos,new b.Dimension(a,c)))},hasBorder:function(){return this.border},setBorder:function(a){a||this.invalidate(),this.border=a,a&&this.invalidate()},isVisible:function(){return this.visible},setVisible:function(a){this.visible=a,this.setHostedComponentVisible(),this.invalidate()},setHostedComponentVisible:function(){this.$hostedComponent&&this.$hostedComponent.css("visibility",this.visible?"visible":"hidden")},isTemporaryHidden:function(){return this.temporaryHidden},setTemporaryHidden:function(a){this.temporaryHidden=a},isInactive:function(){return this.inactive},setInactive:function(a){if(this.inactive=a,this.$hostedComponent)this.setHostedComponentColors(),this.setHostedComponentVisible();else{if(this.$accessibleElement){var b=this.isInactive()&&!this.accessibleAlwaysActive;this.$accessibleElement.prop({disabled:b,tabindex:b?-1:0})}this.invalidate()}},isInverted:function(){return this.inverted},setInverted:function(a){this.inverted=a,this.$hostedComponent?this.setHostedComponentColors():this.invalidate()},isMarked:function(){return this.marked},setMarked:function(a){a||this.invalidate(),this.marked=a,this.$hostedComponent?(this.setHostedComponentColors(),this.setHostedComponentBorder()):a&&this.invalidate()},isFocused:function(){return this.focused},setFocused:function(a){a||this.invalidate(),this.focused=a,a&&this.invalidate(),this.$hostedComponent&&this.$hostedComponent.css("z-index",this.focused?20:2)},isAlternative:function(){return this.alternative},setAlternative:function(a){this.alternative=a,this.invalidate()},update:function(a,b){if(this.isEmpty()||!this.isVisible()||this.isTemporaryHidden())return!1;if(b&&!this.shape.intersects(b))return!1;var c=this.getBoxBaseResolve();return c.transparent||c.dontFill||this.tmpTrans||(c.bgGradient&&!c.bgGradient.hasTransparency()||(a.fillStyle=this.inactive?c.inactiveColor:this.inverted?c.textColor:c.backColor,this.shape.fill(a,b)),c.bgGradient&&(a.fillStyle=c.bgGradient.getGradient(a,this.shape.getBounds()),this.shape.fill(a,b)),a.fillStyle="black"),this.$hostedComponent||this.updateContent(a,b),this.drawBorder(a),!0},updateContent:function(a,b){},drawBorder:function(a){if(this.border||this.marked){var c=this.getBoxBaseResolve();a.strokeStyle=c.borderColor,c[this.marked?"markerStroke":"borderStroke"].setStroke(a),this.marked&&(a.globalCompositeOperation="xor"),this.shape.stroke(a),this.marked&&(a.globalCompositeOperation="source-over"),a.strokeStyle="black",b.Stroke.prototype.setStroke(a)}},getBorderBounds:function(){var a=new b.Rectangle(this.getBounds());if(this.border||this.marked){var c=this.getBoxBaseResolve(),d=c[this.marked?"markerStroke":"borderStroke"].lineWidth;a.moveBy(-d/2,-d/2),a.dim.width+=d,a.dim.height+=d}return a},setHostedComponent:function(a){this.$hostedComponent&&this.$hostedComponent.detach(),this.$hostedComponent=a,this.$hostedComponent&&(this.setContainer(this.container),this.setHostedComponentColors(),this.setHostedComponentBorder(),this.setHostedComponentBounds(!0),this.setHostedComponentVisible(),this.setFocused(this.focused))},getHostedComponent:function(){return this.$hostedComponent},setHostedComponentColors:function(){if(this.$hostedComponent){var a=this.getBoxBaseResolve(),b=a.getCSS(null,this.inactive,this.inverted,this.alternative);this.$hostedComponent.data("background-image")&&b["background-image"]&&(b["background-image"]=this.$hostedComponent.data("background-image")+","+b["background-image"]),this.$hostedComponent.css(b)}},setHostedComponentBorder:function(){if(this.$hostedComponent&&(this.border||this.marked)){var a=this.getBoxBaseResolve();this.$hostedComponent.css({"border-width":a.get(this.marked?"markerStroke":"borderStroke").lineWidth+"px","border-style":"solid","border-color":a.get("borderColor")})}},setHostedComponentBounds:function(a){if(this.$hostedComponent){var b=this.getBounds(),c=this.border||this.marked?this.getBoxBaseResolve().get(this.marked?"markerStroke":"borderStroke").lineWidth:0;this.$hostedComponent.css({position:"absolute",width:b.dim.width-2*c+"px",height:b.dim.height-2*c+"px",top:b.pos.y+"px",left:b.pos.x+"px"})}}},d.prototype=a.extend(Object.create(b.Rectangle.prototype),d.prototype),d}(a("jquery"),a("../AWT"),a("./BoxBase"))},{"../AWT":127,"./BoxBase":170,jquery:51}],164:[function(a,b,c){b.exports=function(a,b,c,d,e,f){var g=function(a,b,c){a&&(this.id=a),this.activeBoxContentArray=[],this.ncw=Math.max(1,b),this.nch=Math.max(1,c)};return g.prototype={constructor:g,id:"primary",imgName:null,img:null,animatedGifFile:null,ncw:1,nch:1,w:f.settings.DEFAULT_GRID_ELEMENT_SIZE,h:f.settings.DEFAULT_GRID_ELEMENT_SIZE,border:!0,bb:null,shaper:null,backgroundContent:null,activeBoxContentArray:null,defaultIdValue:-1,setProperties:function(e,g){var h,i,j=this,k=!1;if(a.each(e.get(0).attributes,function(){var a=this.value;switch(this.name){case"id":j.id=a;break;case"image":j.imgName=f.nSlash(a);break;case"rows":j.nch=Number(a);break;case"columns":k=!0;case"cols":j.ncw=Number(a);break;case"cellWidth":j.w=Number(a);break;case"cellHeight":j.h=Number(a);break;case"border":j.border=f.getBoolean(a)}}),k&&(i=j.ncw,j.ncw=j.nch,j.nch=i),e.children().each(function(){var e=a(this);switch(this.nodeName){case"style":j.bb=new b(null).setProperties(e);break;case"shaper":var f=e.attr("class"),i=Math.max(1,e.attr("cols")),k=Math.max(1,e.attr("rows"));j.shaper=d.getShaper(f,i,k),j.shaper.setProperties(e);break;case"ids":var l=this.textContent.split(" ");for(h=0;h<l.length;h++)j.activeBoxContentArray[h]=new c(Number(l[h]));break;case"cell":var m=(new c).setProperties(e,g);j.activeBoxContentArray.push(m)}}),i=this.activeBoxContentArray.length,0===i&&j.shaper&&j.shaper.nCells>0&&(i=j.shaper.nCells,this.getActiveBoxContent(i-1)),i>0){var l=!0;for(h=0;h<i;h++){var m=this.getActiveBoxContent(h);if(-1!==m.id||-1!==m.item||!m.isEmpty()){l=!1;break}}if(l)for(h=0;h<i;h++)this.getActiveBoxContent(h).id=h}return j.bb&&a.each(j.activeBoxContentArray,function(a,b){b.bb&&(b.bb.parent=j.bb)}),this},prepareMedia:function(a){for(var b=0;b<this.activeBoxContentArray.length;b++)this.activeBoxContentArray[b].prepareMedia(a)},getTotalWidth:function(){return this.w*this.ncw},getTotalHeight:function(){return this.h*this.nch},getNumCells:function(){return this.activeBoxContentArray.length},isEmpty:function(){return 0===this.activeBoxContentArray.length},getShaper:function(){return null===this.shaper&&(this.shaper=d.getShaper("@Rectangular",this.ncw,this.nch)),this.shaper},getBoxBase:function(){return null===this.bb&&(this.bb=new b),this.bb},addActiveBoxContent:function(a){this.activeBoxContentArray.push(a),0!==this.ncw&&0!==this.nch||(this.ncw=1,this.nch=1)},getActiveBoxContent:function(a){if(a>=this.activeBoxContentArray.length)for(var b=this.activeBoxContentArray.length;b<=a;b++)this.activeBoxContentArray.push(new c);return this.activeBoxContentArray[a]},getActiveBoxContentWith:function(a,b){for(var c=null,d=0;d<this.activeBoxContentArray.length;d++){var e=this.activeBoxContentArray[d];if(e.id===a&&e.item===b){c=e;break}}return c},setImgContent:function(a,b,d){b&&this.setShaper(b),"@Holes"===this.shaper.className&&(this.shaper.hasRemainder=!0),this.ncw=this.shaper.nCols,this.nch=this.shaper.nRows;var f=a.elements[this.imgName];a&&this.imgName&&f&&f.ready?(this.img=f.data,f.animated&&(this.animatedGifFile=f.getFullPath()),this.w=this.img.width/this.ncw,this.h=this.img.height/this.nch,d&&(this.w=Math.round(this.w),this.h=Math.round(this.h))):(this.img=null,this.w=Math.max(this.w,10),this.h=Math.max(this.h,10));for(var g=new e.Rectangle(0,0,this.w*this.ncw,this.h*this.nch),h=0;h<this.shaper.nCells;h++)this.getActiveBoxContent(h).setImgContent(this.img,this.shaper.getShape(h,g),this.animatedGifFile);this.shaper.hasRemainder&&(this.backgroundContent=new c,this.backgroundContent.setImgContent(this.img,this.shaper.getRemainderShape(g)))},setTextContent:function(a,b,c){this.ncw=Math.max(1,b),this.nch=Math.max(1,c);for(var d=this.ncw*this.nch,e=0;e<d;e++)this.getActiveBoxContent(e).setTextContent(e>=a.length||null===a[e]?"":a[e])},setIds:function(a){for(var b=0;b<this.activeBoxContentArray.length;b++)b<a.length&&(this.getActiveBoxContent(b).id=a[b])},setCellsAttribute:function(a,b){for(var c=0;c<this.activeBoxContentArray.length;c++)this.getActiveBoxContent(c)[a]=b},avoidAllIdsNull:function(a){var b,c=!0,d=this.activeBoxContentArray.length;for(b=0;b<d;b++)if(-1!==this.getActiveBoxContent(b).id){c=!1;break}if(c)for(a=Math.max(1,a),b=0;b<d;b++)this.getActiveBoxContent(b).id=b%a}},g}(a("jquery"),a("./BoxBase"),a("./ActiveBoxContent"),a("../shapers/Shaper"),a("../AWT"),a("../Utils"))},{"../AWT":127,"../Utils":134,"../shapers/Shaper":195,"./ActiveBoxContent":167,"./BoxBase":170,jquery:51}],165:[function(a,b,c){b.exports=function(a,b,c,d,e,f){var g=function(a,c,d,e,f){b.call(this,a,c,d),this.clear(),"number"==typeof e&&(this.idLoc=e,this.idAss=0,this.idOrder=0),f&&this.setBounds(f)};return g.createCell=function(b,c){if(c&&c.dimension){var d=new g;d.container=new e.Container,d.container.$div=b,d.setContent(c);var f=a('<canvas width="'+c.dimension.width+'" height="'+c.dimension.height+'"/>'),h=new e.Rectangle(0,0,c.dimension.width,c.dimension.height);return d.setBounds(h),b.append(f),d.update(f.get(0).getContext("2d"),h),d}},g.prototype={constructor:g,idOrder:-1,idLoc:-1,idAss:-1,content:null,altContent:null,hasHostedComponent:!1,hostedMediaPlayer:null,isBackground:!1,getCurrentContent:function(){return this.isAlternative()?this.altContent:this.content},getContent:function(){return this.content||this.setContent(new c),this.content},clear:function(){this.content=null,this.altContent=null,this.idOrder=-1,this.setInactive(!0),this.hasHostedComponent||this.setHostedComponent(null),this.setHostedMediaPlayer(null),this.$accessibleElement&&this.$accessibleElement.html(""),this.tmpTrans&&(this.tmpTrans=!1),this.invalidate()},isEquivalent:function(a,b){return null!==a&&null!==this.content&&this.content.isEquivalent(a.content,b)},isCurrentContentEquivalent:function(a,b){return null!==a&&null!==this.getCurrentContent()&&this.getCurrentContent().isEquivalent(a.getCurrentContent(),b)},exchangeLocation:function(a){var b=new e.Point(this.pos),c=this.idLoc;this.moveTo(a.pos),a.moveTo(b),this.idLoc=a.idLoc,a.idLoc=c},copyContent:function(a){this.idOrder=a.idOrder,this.idAss=a.idAss,this.content=a.content,this.altContent=a.altContent,this.content&&(this.content.bb&&this.setBoxBase(this.content.bb),null!==this.content.border&&a.hasBorder()!==this.content.border&&this.setBorder(this.content.border)),this.setInactive(a.isInactive()),this.setInverted(a.isInverted()),this.setAlternative(a.isAlternative()),this.setHostedComponent(a.getHostedComponent()),this.hasHostedComponent=a.hasHostedComponent,this.setHostedMediaPlayer(a.hostedMediaPlayer),this.hostedMediaPlayer&&this.hostedMediaPlayer.setVisualComponentVisible(!this.isInactive()&&this.isVisible()),this.$accessibleElement&&this.$accessibleElement.html(this.toString())},exchangeContent:function(a){var b=new g(this.getParent(),this.getContainerX(),this.boxBase);b.copyContent(this),this.copyContent(a),a.copyContent(b)},setTextContent:function(a){a||(a=""),this.content||(this.content=new c),this.content.rawText=a,this.content.text=a,this.content.mediaContent=null,this.content.img=null,this.setHostedComponent(null),this.setInactive(!1),this.checkHostedComponent(),this.setHostedMediaPlayer(null),this.$accessibleElement&&this.$accessibleElement.html(this.toString())},setDefaultIdAss:function(){this.idAss=null===this.content?-1:this.content.id},isAtPlace:function(){return this.idOrder===this.idLoc},setContent:function(b,c){if(b instanceof d){if(c<0&&(c=this.idOrder),c>=b.getNumCells())return;b.bb!==this.boxBase&&this.setBoxBase(b.bb),b=b.getActiveBoxContent(c)}if(this.setHostedComponent(null),this.setHostedMediaPlayer(null),this.content=b,b){if(b.animatedGifFile&&!this.specialShape){var e="url("+b.animatedGifFile+")",f=a("<span/>").css({"background-image":e,"background-position":"center","background-repeat":"no-repeat"});f.data("background-image",e),null!==b.imgClip&&f.css({"background-origin":"border-box","background-position":-b.imgClip.pos.x+"px "+-b.imgClip.pos.y+"px"}),this.setHostedComponent(f)}b.bb!==this.boxBase&&this.setBoxBase(b.bb),b.innerHtmlText&&this.setHostedComponent(a("<div/>").html(b.innerHtmlText)),b.hasOwnProperty("border")&&this.hasBorder()!==b.border&&this.setBorder(b.border),this.setInactive(!1),b.amp&&this.setHostedMediaPlayer(b.amp),this.checkHostedComponent(),this.checkAutoStartMedia()}else this.clear();this.invalidate(),this.$accessibleElement&&this.$accessibleElement.html(this.toString())},setAltContent:function(a,b){a instanceof d&&(b<0&&(b=this.idOrder),a=a.getActiveBoxContent(b)),this.altContent=a,this.checkHostedComponent(),this.isAlternative()&&this.hostedMediaPlayer&&this.setHostedMediaPlayer(null),this.$accessibleElement&&(this.$accessibleElement.html(this.toString()),this.$accessibleElement.prop("disabled",!0))},setCurrentContent:function(a){this.isAlternative()?this.setAltContent(a):this.setContent(a),this.invalidate()},switchToAlt:function(){return!(this.isAlternative()||!this.altContent||this.altContent.isEmpty())&&(this.setHostedComponent(null),this.setHostedMediaPlayer(null),this.setAlternative(!0),this.tmpTrans=!1,this.checkHostedComponent(),this.checkAutoStartMedia(),this.$accessibleElement&&this.$accessibleElement.html(this.toString()),!0)},checkHostedComponent:function(){if(!this.hasHostedComponent){var a=this.getCurrentContent(),b=this.getBoxBaseResolve();if(!this.isInactive()&&a&&a.htmlText&&a.innerHtmlText){b.getCSS()["text-align"]=a.txtAlign.h.replace("middle","center")}}},checkAutoStartMedia:function(){var a=this.getContent();a&&a.mediaContent&&a.mediaContent.autoStart&&a.amp&&a.amp.playNow(this)},updateContent:function(a,b){var c=this.getCurrentContent(),d=this.getBoxBaseResolve();if(this.isInactive()||!c||this.dim.width<2||this.dim.height<2)return!0;if(b&&!this.intersects(b))return!1;var g=null;if(c.img&&!this.tmpTrans)try{if(c.imgClip){var h=c.imgClip.getBounds(),i=c.img;if(!c.imgClip.isRect()){var j=document.createElement("canvas");j.width=h.pos.x+h.dim.width,j.height=h.pos.y+h.dim.height;var k=j.getContext("2d");c.imgClip.clip(k),k.drawImage(c.img,0,0),i=j}a.drawImage(i,Math.max(0,h.pos.x),Math.max(0,h.pos.y),Math.min(i.width,h.dim.width),Math.min(i.height,h.dim.height),this.pos.x,this.pos.y,this.dim.width,this.dim.height)}else{var l,m,n=!1;l=c.img.naturalWidth,0===l&&(l=this.dim.width),m=c.img.naturalHeight,0===m&&(m=this.dim.height);var o=1;f.settings.COMPRESS_IMAGES&&this.dim.width>0&&this.dim.height>0&&(l>this.dim.width||m>this.dim.height)&&(o=Math.min(this.dim.width/l,this.dim.height/m),l*=o,m*=o,n=!0);var p="left"===c.imgAlign.h?0:"right"===c.imgAlign.h?this.dim.width-l:(this.dim.width-l)/2,q="top"===c.imgAlign.v?0:"bottom"===c.imgAlign.v?this.dim.height-m:(this.dim.height-m)/2;n?a.drawImage(c.img,this.pos.x+p,this.pos.y+q,l,m):a.drawImage(c.img,this.pos.x+p,this.pos.y+q),c.avoidOverlapping&&c.text&&(g=new e.Rectangle(Math.max(0,p),Math.max(0,q),Math.min(this.dim.width,l),Math.min(this.dim.height,m)))}}catch(a){f.log("warn",'Unable to draw image "%s": %s',c.imgName,a.message)}if(c.text&&c.text.length>0){var r=this.pos.x,s=this.pos.y,t=this.dim.width,u=this.dim.height;if(g){for(var v=[0,g.pos.x,g.pos.x+g.dim.width,t],w=[0,g.pos.y,g.pos.y+g.dim.height,u],x=[new e.Rectangle(v[0],w[0],v[3],w[1]),new e.Rectangle(v[0],w[2],v[3],w[3]-w[2]),new e.Rectangle(v[0],w[0],v[1],w[3]),new e.Rectangle(v[2],w[0],v[3]-v[2],w[3])],y=x[0],z=y.dim.width*y.dim.height,A=1;A<x.length;A++){var B=x[A].dim.width*x[A].dim.height;if(B>z-1){if(Math.abs(B-z)<=1){var C=!1;switch(A){case 1:C="bottom"===c.txtAlign.v;break;case 2:C="left"===c.txtAlign.h;break;case 3:C="right"===c.txtAlign.h}if(!C)continue}z=B,y=x[A]}}r+=y.pos.x,s+=y.pos.y,t=y.dim.width,u=y.dim.height}var D=Math.max(5,t-2*d.textMargin),E=Math.max(5,u-2*d.textMargin),F=d.prepareText(a,c.text,D,E);a.font=d.font.cssFont(),a.textBaseline="hanging";for(var G=d.font.getHeight(),H=G*F.length,I=s+d.textMargin+("top"===c.txtAlign.v?0:"bottom"===c.txtAlign.v?E-H:(E-H)/2),J=0;J<F.length;J++,I+=G){var K=r+d.textMargin+("left"===c.txtAlign.h?0:"right"===c.txtAlign.h?D-F[J].size.width:(D-F[J].size.width)/2);if(d.shadow){var L=Math.max(1,d.font.size/10);a.fillStyle=d.shadowColor,a.fillText(F[J].text,K+L,I+L)}a.fillStyle=this.isInverted()?d.backColor:this.isAlternative()?d.alternativeColor:d.textColor,a.fillText(F[J].text,K,I)}}return!0},getDescription:function(){return this.content?this.content.getDescription():""},toString:function(){return("cell"!==this.role?f.getMsg(this.role):"")+(this.getCurrentContent()||"-").toString()},playMedia:function(a){var b=this.getCurrentContent();return!(!b||!b.mediaContent)&&(f.log("debug","Playing: %s",b.mediaContent.toString()),a.playMedia(b.mediaContent,this),!0)},setHostedMediaPlayer:function(a){var b=this.hostedMediaPlayer;this.hostedMediaPlayer=a,b&&b!==a&&b.linkTo(null),a&&a.linkTo(this)},setBounds:function(a,c,d,f){"number"==typeof a&&(a=new e.Rectangle(a,c,d,f)),this.equals(a)||(b.prototype.setBounds.call(this,a),this.hostedMediaPlayer&&this.hostedMediaPlayer.checkVisualComponentBounds(this))},setHostedComponentBounds:function(a){if(this.$hostedComponent){b.prototype.setHostedComponentBounds.call(this,a);var c=this.getCurrentContent();if(a&&c&&c.animatedGifFile&&c.img){var d=c.img,e=Math.max(d.naturalWidth,this.dim.width),f=Math.max(d.naturalHeight,this.dim.height),g=1,h="";if(c.imgClip){var i=c.imgClip.getBounds();(this.dim.width<i.dim.width||this.dim.height<i.dim.height)&&(g=Math.min(this.dim.width/i.dim.width,this.dim.height/i.dim.height),h=e*g+"px "+f*g+"px"),this.$hostedComponent.css({"background-position":-c.imgClip.pos.x*g+"px "+-c.imgClip.pos.y*g+"px","background-size":h})}else(this.dim.width<e||this.dim.height<f)&&(g=Math.min(this.dim.width/e,this.dim.height/f),h=e*g+"px "+f*g+"px"),this.$hostedComponent.css({"background-size":h})}}},buildAccessibleElement:function(b,c,d,e){if(f.settings.CANVAS_HITREGIONS){this.$accessibleElement&&this.$accessibleElement.remove();var g=Math.round(1e5*Math.random()),h=this,i=this.isInactive()&&!this.accessibleAlwaysActive;this.$accessibleElement=a("<button/>",{tabindex:i?-1:0,id:"AE"+g,disabled:i}).html(this.toString()).click(function(d){if(d.originalEvent&&(0!==d.originalEvent.pageX||0!==d.originalEvent.pageY))return!0;f.log("debug","Click on accessible element: %s",h.toString());var g=a.Event(e||"click"),i=h.getBounds(),j=b.offset();return g.pageX=j.left+i.pos.x+i.dim.width/2,g.pageY=j.top+i.pos.y+i.dim.height/2,c.trigger(g),!1}),(d||b).append(this.$accessibleElement);var j=this.$accessibleElement.get(0);try{var k=b.get(0).getContext("2d");this.shape.preparePath(k),k.addHitRegion({id:"REG"+g,control:j}),f.settings.CANVAS_HITREGIONS_FOCUS&&k.drawFocusIfNeeded(j)}catch(a){f.log("error","Unable to build accessible element for canvas in: %s (%s)",this.toString(),a)}}return this.$accessibleElement}},g.prototype=a.extend(Object.create(b.prototype),g.prototype),g}(a("jquery"),a("./AbstractBox"),a("./ActiveBoxContent"),a("./ActiveBagContent"),a("../AWT"),a("../Utils"))},{"../AWT":127,"../Utils":134,"./AbstractBox":163,"./ActiveBagContent":164,"./ActiveBoxContent":167,jquery:51}],166:[function(a,b,c){b.exports=function(a,b,c,d){var e=function(a,c,d){b.call(this,a,c,d)};return e.prototype={constructor:e,$accessibleDiv:null,addActiveBox:function(a){return a.idLoc=this.cells.length,a.idOrder=a.idLoc,this.addBox(a)},getActiveBox:function(a){return this.getBox(a)},getBackgroundActiveBox:function(){return this.getBackgroundBox()},setContent:function(a,b,c,d,e){var f;c||(c=0),d||(d=0),e||(e=this.cells.length);for(var g=0;g<e;g++)f=this.getActiveBox(d+g),f.setContent(a,c+g),f.setAlternative(!1),b&&f.setAltContent(b,c+g);null!==a.backgroundContent&&null!==this.getBackgroundActiveBox()&&(f=this.getBackgroundActiveBox(),f.setContent(a.backgroundContent),a.bb!==f.boxBase&&f.setBoxBase(a.bb))},findActiveBox:function(a){return this.findBox(a)},clearAllBoxes:function(){for(var a=0;a<this.cells.length;a++)this.getActiveBox(a).clear()},clearAll:function(){this.clearAllBoxes(),null!==this.backgroundBox&&this.getBackgroundActiveBox().clear()},countCellsAtPlace:function(){for(var a=0,b=0;b<this.cells.length;b++)this.getActiveBox(b).isAtPlace()&&a++;return a},getActiveBoxWithIdLoc:function(a){for(var b,c=null,d=0;d<this.cells.length;d++)if((b=this.getActiveBox(d)).idLoc===a){c=b;break}return c},cellIsAtEquivalentPlace:function(a,b){return a.isAtPlace()||a.isEquivalent(this.getActiveBoxWithIdLoc(a.idOrder),b)},countCellsAtEquivalentPlace:function(a){for(var b=0,c=0;c<this.cells.length;c++)this.cellIsAtEquivalentPlace(this.getActiveBox(c),a)&&b++;return b},countCellsWithIdAss:function(a){for(var b=0,c=0;c<this.cells.length;c++)this.getActiveBox(c).idAss===a&&b++;return b},countInactiveCells:function(){for(var a=0,b=0;b<this.cells.length;b++)this.getActiveBox(b).isInactive()&&a++;return a},setDefaultIdAss:function(){for(var a=0;a<this.cells.length;a++)this.getActiveBox(a).setDefaultIdAss()},scrambleCells:function(a,b){var d=this.cells.length;if(d>=2){var e,f,g=[],h=[];for(e=0;e<d;e++)f=this.getActiveBox(e),g[e]=new c.Point(f.pos),h[e]=f.idLoc;var i,j=new c.Point;for(e=0;e<a;e++){var k=Math.floor(Math.random()*d),l=Math.floor(Math.random()*d);k!==l&&(j.moveTo(g[k]),g[k].moveTo(g[l]),g[l].moveTo(j),i=h[k],h[k]=h[l],h[l]=i)}var m=this.pos.x+this.dim.width,n=this.pos.y+this.dim.height;for(e=0;e<d;e++){f=this.getActiveBox(e);var o=g[e].x,p=g[e].y;b&&(o=Math.min(Math.max(o,this.pos.x),m-f.dim.width),p=Math.min(Math.max(p,this.pos.y),n-f.dim.height)),f.moveTo(new c.Point(o,p)),f.idLoc=h[e]}}},resetIds:function(){for(var a=0;a<this.cells.length;a++){var b=this.cells[a];b&&(b.idOrder=a,b.idAss=a,b.idLoc=a)}},getNextItem:function(a,b){b||(b=-12345);var c;for(c=a+1;c<this.cells.length;c++){var d=this.cells[c];if(!d)break;if(-12345!==b){if(b===d.idAss)break}else if(d.idAss>=0)break}return c},buildAccessibleElements:function(b,c,e){if(d.settings.CANVAS_HITREGIONS){this.$accessibleDiv=""!==this.accessibleText?a("<div/>",{"aria-label":this.accessibleText,tabindex:0}):null,b.append(this.$accessibleDiv);for(var f=0;f<this.cells.length;f++)this.cells[f].buildAccessibleElement(b,c,this.$accessibleDiv,e)}return this.$accessibleDiv}},e.prototype=a.extend(Object.create(b.prototype),e.prototype),e}(a("jquery"),a("./BoxBag"),a("../AWT"),a("../Utils"))},{"../AWT":127,"../Utils":134,"./BoxBag":169,jquery:51}],167:[function(a,b,c){b.exports=function(a,b,c,d,e){var f=function(a){void 0!==a&&(this.id=a),this.imgAlign={h:"middle",v:"middle"},this.txtAlign={h:"middle",v:"middle"}};return f.prototype={constructor:f,bb:null,dimension:null,border:null,text:null,imgName:null,imgClip:null,mediaContent:null,imgAlign:null,txtAlign:null,avoidOverlapping:!1,id:-1,item:-1,img:null,animatedGifFile:null,userData:null,rawText:null,htmlText:null,innerHtmlText:null,animated:!1,amp:null,mbe:null,setProperties:function(f,g){var h=this;return a.each(f.get(0).attributes,function(){var a=this.name,d=this.value;switch(this.name){case"id":case"item":h[a]=Number(d);break;case"width":case"height":null===h.dimension&&(h.dimension=new b.Dimension(0,0)),h.dimension[a]=Number(d);break;case"txtAlign":case"imgAlign":h[a]=h.readAlign(d);break;case"hAlign":h.txtAlign=h.readAlign(d+",center"),h.imgAlign=h.readAlign(d+",center");break;case"border":case"avoidOverlapping":h[a]=c.getBoolean(d);break;case"image":h.imgName=d}}),f.children().each(function(){var b=a(this);switch(this.nodeName){case"style":h.bb=new d(null).setProperties(b);break;case"media":h.mediaContent=(new e).setProperties(b);break;case"p":null===h.text?h.text="":h.text+="\n",h.text+=this.textContent}}),g&&this.realizeContent(g),this},readAlign:function(a){var b={h:"center",v:"center"};if(a){var c=a.split(",");b.h=c[0].replace("middle","center"),b.v=c[1].replace("middle","center")}return b},isEmpty:function(){return null===this.text&&null===this.img},isEquivalent:function(a,b){if(a===this)return!0;var c=!1;return null!==a&&(c=this.isEmpty()&&a.isEmpty()?this.id===a.id:(null===this.text?null===a.text:b?this.text===a.text:this.text.toLocaleLowerCase()===a.text.toLocaleLowerCase())&&(null===this.mediaContent?null===a.mediaContent:this.mediaContent.isEquivalent(a.mediaContent))&&this.img===a.img&&(null===this.imgClip?null===a.imgClip:this.imgClip.equals(a.imgClip))),c},setTextContent:function(a){null!==a?(this.rawText=a,this.text=a,this.checkHtmlText()):(this.rawText=null,this.text=null,this.htmlText=null,this.innerHtmlText=null)},checkHtmlText:function(){if(this.htmlText=null,this.innerHtmlText=null,c.startsWith(this.text,"<html>",!0)){this.htmlText=this.text.trim();var a=this.htmlText.toLocaleLowerCase();if(-1===a.indexOf("<body")){var b=a.indexOf("</html>");b>=0&&(this.innerHtmlText=this.htmlText.substr(6,b))}}},setImgContent:function(a,b,c){this.img=a,this.imgName=null,this.imgClip=b,c&&(this.animatedGifFile=c)},prepareMedia:function(a){!this.amp&&this.mediaContent&&"PLAY_VIDEO"===this.mediaContent.mediaType&&(this.amp=a.getActiveMediaPlayer(this.mediaContent),this.amp.realize())},realizeContent:function(a){var b=this;null!==this.imgName&&this.imgName.length>0&&(this.mbe=a.getElement(this.imgName,!0),this.mbe&&this.mbe.build(function(){b.img=b.mbe.data,b.animatedGifFile=b.mbe.animated?b.mbe.getFullPath():null})),null!==this.mediaContent&&(null!==this.imgName||null!==this.text&&0!==this.text.length||(this.img=this.mediaContent.getIcon(),this.animatedGifFile=null)),this.checkHtmlText(a)},getDescription:function(){var a="";return this.text&&this.text.length>0&&(a+=this.text),this.imgName&&(a+=(a.length>0?" ":"")+c.getMsg("image")+" "+this.imgName),this.imgClip&&(a+=(a.length>0?" ":"")+this.imgClip.toString()),this.mediaContent&&(a+=(a.length>0?" ":"")+this.mediaContent.getDescription()),a},toString:function(){var a="";return this.text&&this.text.length>0&&(a+=this.text),this.imgName&&(a+=(a.length>0?" ":"")+c.getMsg("image")+" "+this.imgName),this.imgClip&&(a+=(a.length>0?" ":"")+c.getMsg("image fragment")),a}},f.EMPTY_CONTENT=new f,f}(a("jquery"),a("../AWT"),a("../Utils"),a("./BoxBase"),a("../media/MediaContent"))},{"../AWT":127,"../Utils":134,"../media/MediaContent":180,"./BoxBase":170,jquery:51}],168:[function(a,b,c){b.exports=function(a,b,c,d,e){var f=function(a,e,f,g,h,i,j,k){b.call(this,a,e,f);var l,m,n;this.nCols=k.nCols,this.nRows=k.nRows;var o=new d.Rectangle(new d.Point(g,h),new d.Dimension(Math.round(i/this.nCols)*this.nCols,Math.round(j/this.nRows)*this.nRows));for(l=0;l<k.nCells;l++)m=k.getShape(l,o),n=new c(this,e,f,l,m.getBounds()),k.rectangularShapes||n.setShape(m),this.addActiveBox(n);k.hasRemainder&&(m=k.getRemainderShape(o),n=new c(this,e,f,0,m.getBounds()),n.setShape(m),this.setBackgroundBox(n))};return f.createEmptyGrid=function(a,b,c,d,e,g,h){var i=null;return e&&(i=new f(a,b,h||e.bb,c,d,e.getTotalWidth(),e.getTotalHeight(),g||e.getShaper()),i.setBorder(e.border)),i},f.prototype={constructor:f,nCols:1,nRows:1,getMinimumSize:function(){return new d.Dimension(e.settings.MIN_CELL_SIZE*this.nCols,e.settings.MIN_CELL_SIZE*this.nRows)},getScaledSize:function(a){return new d.Dimension(e.roundTo(a*this.preferredBounds.dim.width,this.nCols),e.roundTo(a*this.preferredBounds.dim.height,this.nRows))},getCoord:function(a){var b=Math.floor(a.idLoc/this.nCols),c=a.idLoc%this.nCols;return new d.Point(c,b)},getCoordDist:function(a,b){var c=this.getCoord(a),e=this.getCoord(b);return new d.Point(e.x-c.x,e.y-c.y)}},f.prototype=a.extend(Object.create(b.prototype),f.prototype),f}(a("jquery"),a("./ActiveBoxBag"),a("./ActiveBox"),a("../AWT"),a("../Utils"))},{"../AWT":127,"../Utils":134,"./ActiveBox":165,"./ActiveBoxBag":166,jquery:51}],169:[function(a,b,c){b.exports=function(a,b,c,d){var e=function(a,d,e){b.call(this,a,d,e),this.preferredBounds=new c.Rectangle,this.cells=[]};return e.prototype={constructor:e,cells:[],preferredBounds:new c.Rectangle,backgroundBox:null,getPreferredSize:function(){return this.preferredBounds.dim},getMinimumSize:function(){var a=this.getPreferredSize();return new c.Dimension(Math.max(d.settings.MIN_CELL_SIZE,a.width),Math.max(d.settings.MIN_CELL_SIZE,a.height))},getScaledSize:function(a){var b=this.getPreferredSize();return new c.Dimension(Math.round(a*b.width),Math.round(a*b.height))},addBox:function(a){this.cells.push(a),a.setParent(this),1===this.cells.length?c.Rectangle.prototype.setBounds.call(this,a):this.add(a),this.preferredBounds.setBounds(this.getBounds())},boxIndex:function(a){return null===a?-1:this.cells.indexOf(a)},
getBox:function(a){return a<0||a>=this.cells.length?null:this.cells[a]},getBackgroundBox:function(){return this.backgroundBox},setBackgroundBox:function(a){this.backgroundBox=a,null!==a&&(a.setParent(this),a.isBackground=!0),c.Rectangle.prototype.add.call(this,a),this.preferredBounds.setBounds(this.getBounds())},recalcSize:function(){var a=null;this.backgroundBox&&(a=new c.Rectangle(this.backgroundBox.pos,this.backgroundBox.dim));for(var b=0;b<this.cells.length;b++)a?a.add(this.cells[b]):a=new c.Rectangle(this.cells[b].pos,this.cells[b].dim);a||(a=new c.Rectangle(this.pos.x,this.pos.y,0,0)),this.preferredBounds.setRect(a),this.x=a.pos.x,this.y=a.pos.y,this.dim.width=a.dim.width,this.dim.height=a.dim.height},getNumCells:function(){return this.cells.length},setCellAttr:function(a,b){for(var c=0;c<this.cells.length;c++)this.getBox(c)[a]=b;this.backgroundBox&&(this.backgroundBox[a]=b)},setBorder:function(a){for(var b=0;b<this.cells.length;b++)this.getBox(b).setBorder(a)},setVisible:function(a){for(var b=0;b<this.cells.length;b++)this.getBox(b).setVisible(a)},setAlternative:function(a){b.prototype.setAlternative.call(this,a);for(var c=0;c<this.cells.length;c++)this.getBox(c).setAlternative(a)},setBounds:function(a,d,e,f){if("number"==typeof a){var g=a;a=new c.Rectangle(g,d,e,f)}if(a.getSurface()>0&&!a.equals(this)){for(var h,i,j=a.dim.width/this.dim.width,k=a.dim.height/this.dim.height,l=a.pos.x-this.pos.x,m=a.pos.y-this.pos.y,n=0;n<this.cells.length;n++)i=this.getBox(n),h=new c.Point(i.pos.x-this.pos.x,i.pos.y-this.pos.y),i.setBounds(l+this.pos.x+j*h.x,m+this.pos.y+k*h.y,j*i.dim.width,k*i.dim.height);null!==this.backgroundBox&&(i=this.backgroundBox,h=new c.Point(i.pos.x-this.pos.x,i.pos.y-this.pos.y),i.setBounds(l+this.pos.x+j*h.x,m+this.pos.y+k*h.y,j*i.dim.width,k*i.dim.height))}b.prototype.setBounds.call(this,a)},update:function(a,b){if(this.isEmpty()||!this.isVisible()||this.isTemporaryHidden())return!1;if(b&&!this.intersects(b))return!1;null!==this.backgroundBox&&this.backgroundBox.update(a,b);for(var c,d=0;d<this.cells.length;d++)c=this.getBox(d),c.isMarked()||c.update(a,b);for(var e=0;e<this.cells.length;e++)c=this.getBox(e),c.isMarked()&&c.update(a,b);return!0},findBox:function(a){for(var b=null,c=this.cells.length-1;c>=0;c--){var d=this.getBox(c);if(d.isVisible()&&d.contains(a)){b=d;break}}return b},countInactiveCells:function(){for(var a=0,b=0;b<this.cells.length;b++)this.getBox(b).isInactive()&&a++;return a}},e.prototype=a.extend(Object.create(b.prototype),e.prototype),e.layoutSingle=function(a,b,c){if(!b)return a;var d=b.getPreferredSize(),e=b.getMinimumSize(),f=a;f.width-=2*c,f.height-=2*c,(e.width>f.width||e.height>f.height)&&(f=e);var g=1;return d.width>f.width&&(g=f.width/d.width),g*d.height>f.height&&(g=f.height/d.height),d=b.getScaledSize(g),b.setBounds(c,c,d.width,d.height),d.width+=2*c,d.height+=2*c,d},e.layoutDouble=function(a,b,d,e,f){var g=!1,h=1,i=1;switch(e){case"AB":case"BA":h=2,i=1,g=!0;break;case"AUB":case"BUA":h=1,i=2,g=!1}var j=b.getBounds(),k=d.getBounds(),l=b.getPreferredSize(),m=d.getPreferredSize(),n=new c.Dimension(g?l.width+m.width:Math.max(l.width,m.width),g?Math.max(l.height,m.height):l.height+m.height),o=b.getMinimumSize(),p=d.getMinimumSize(),q=new c.Dimension(g?o.width+p.width:Math.max(o.width,p.width),g?Math.max(o.height,p.height):o.height+p.height),r=a;r.width-=(1+h)*f,r.height-=(1+i)*f,(q.width>r.width||q.height>r.height)&&r.setDimension(q);var s=1;n.width>r.width&&(s=r.width/n.width),s*n.height>r.height&&(s=r.height/n.height),l=b.getScaledSize(s),m=d.getScaledSize(s);var t,u,v,w;switch(t=m.width>l.width?(m.width-l.width)/2:0,v=l.width>m.width?(l.width-m.width)/2:0,u=m.height>l.height?(m.height-l.height)/2:0,w=l.height>m.height?(l.height-m.height)/2:0,e){case"AB":b.setBounds(f,f+u,l.width,l.height),d.setBounds(2*f+l.width,f+w,m.width,m.height);break;case"BA":d.setBounds(f,f+w,m.width,m.height),b.setBounds(2*f+m.width,f+u,l.width,l.height);break;case"AUB":b.setBounds(f+t,f,l.width,l.height),d.setBounds(f+v,2*f+l.height,m.width,m.height);break;case"BUA":d.setBounds(f+v,f,m.width,m.height),b.setBounds(f+t,2*f+m.height,l.width,l.height);break;default:b.setBounds(Math.round(f+s*j.pos.x),Math.round(f+s*j.pos.y),l.width,l.height),d.setBounds(Math.round(f+s*k.pos.x),Math.round(f+s*k.pos.y),l.width,l.height)}var x=new c.Rectangle(b.getBounds());return x.add(d.getBounds()),n.width=x.dim.width+2*f,n.height=x.dim.height+2*f,n},e}(a("jquery"),a("./AbstractBox"),a("../AWT"),a("../Utils"))},{"../AWT":127,"../Utils":134,"./AbstractBox":163,jquery:51}],170:[function(a,b,c){b.exports=function(a,b,c){var d=b.settings.BoxBase,e=function(a){this.parent=a||null};return e.prototype={constructor:e,parent:null,default:d,font:new c.Font,dynFontSize:0,resetFontCounter:0,backColor:d.BACK_COLOR,bgGradient:null,textColor:d.TEXT_COLOR,shadowColor:d.SHADOW_COLOR,borderColor:d.BORDER_COLOR,inactiveColor:d.INACTIVE_COLOR,alternativeColor:d.ALTERNATIVE_COLOR,shadow:!1,transparent:!1,dontFill:!1,textMargin:d.AC_MARGIN,borderStroke:new c.Stroke(d.BORDER_STROKE_WIDTH),markerStroke:new c.Stroke(d.MARKER_STROKE_WIDTH),setProperties:function(d){var e=this;return a.each(d.get(0).attributes,function(){var a=this.name,d=this.value;switch(this.name){case"shadow":case"transparent":e[a]=b.getBoolean(d,!1);break;case"margin":e[a]=Number(d);break;case"borderStroke":e.borderStroke=new c.Stroke(Number(d));break;case"markerStroke":e.markerStroke=new c.Stroke(Number(d))}}),d.children().each(function(){var d=a(this);switch(this.nodeName){case"font":e.font=(new c.Font).setProperties(d);break;case"gradient":e.bgGradient=(new c.Gradient).setProperties(d);break;case"color":e.textColor=b.checkColor(d.attr("foreground"),e.textColor),e.backColor=b.checkColor(d.attr("background"),e.backColor),e.shadowColor=b.checkColor(d.attr("shadow"),e.shadowColor),e.inactiveColor=b.checkColor(d.attr("inactive"),e.inactiveColor),e.alternativeColor=b.checkColor(d.attr("alternative"),e.alternativeColor),e.borderColor=b.checkColor(d.attr("border"),e.borderColor)}}),this},get:function(a){return this.hasOwnProperty(a)||null===this.parent?this[a]:this.parent.get(a)},set:function(a,b){return this[a]=b,this},getOwn:function(a){return this.hasOwnProperty(a)?this[a]:null!==this.parent?this.parent.getOwn(a):("object"==typeof this[a]?this[a]=b.cloneObject(e.prototype[a]):this[a]=e.prototype[a],this[a])},getCSS:function(a,b,c,d){var e=this.get("font");a=e.toCss(a),a.color=c?this.get("backColor"):d?this.get("alternativeColor"):this.get("textColor");var f=this.get("transparent");a["background-color"]=f?"transparent":b?this.get("inactiveColor"):c?this.get("textColor"):this.get("backColor");var g=this.get("bgGradient");if(g&&!f&&(a["background-image"]=g.getCss()),1===this.shadow){var h=Math.max(1,Math.round(e.size/10)),i=this.get("shadowColor");a["text-shadow"]=h+"px "+h+"px 3px "+i}return a},prepareText:function(a,e,f,g){var h=[],i=this.get("font"),j=i.getHeight(),k=0,l=e.trim().split("\n");a.font=i.cssFont();for(var m=0;m<l.length;m++){var n=l[m].trim(),o=a.measureText(n).width;if(o>f){for(var p=0,q=0,r=0;r<n.length;r++)if(b.isSeparator(n[r])){var s=a.measureText(n.substr(0,r).trim()).width;if(s>f)break;p=r,q=s}if(p>0)l.splice(m+1,0,n.substr(p+1).trim()),n=l[m]=n.substr(0,p).trim(),o=q;else if(i.size>d.MIN_FONT_SIZE)return this.getOwn("font").zoom(-1),this.prepareText(a,e,f,g)}if(h.push({text:n,size:new c.Dimension(o,j)}),(k+=j)>g&&i.size>d.MIN_FONT_SIZE)return this.getOwn("font").zoom(-1),this.prepareText(a,e,f,g)}return h}},e.prototype.defaultBoxBase=new e,e}(a("jquery"),a("../Utils"),a("../AWT"))},{"../AWT":127,"../Utils":134,jquery:51}],171:[function(a,b,c){b.exports=function(a){var b=function(b,c){this.parent=b,this.ctx=c,this.dim=new a.Dimension(c.canvas.width,c.canvas.height),this.origin=new a.Point,this.dest=new a.Point,this.relativePos=new a.Point};return b.prototype={constructor:b,bgImg:null,bgRect:null,origin:null,dest:null,arrow:!1,active:!1,linePainted:!1,arrowLength:10,arrowAngle:Math.PI/6,lineColor:"black",xorColor:"white",compositeOp:"difference",DEFAULT_COMPOSITE_OP:"source-over",relativePos:null,bx:null,ctx:null,dim:null,parent:null,lineWidth:1.5,moveBy:function(b,c){this.moveTo(a.Point(this.dest.x+b,this.dest.y+c))},moveTo:function(b,c){if(this.active&&(c||!this.dest.equals(b))){this.bgRect&&(this.bgImg?this.ctx.putImageData(this.bgImg,0,0,this.bgRect.pos.x,this.bgRect.pos.y,this.bgRect.dim.width,this.bgRect.dim.height):this.parent&&this.parent.updateContent()),this.dest.moveTo(b);var d=new a.Point(this.origin.x-this.relativePos.x,this.origin.y-this.relativePos.y);this.bgRect=new a.Rectangle(d,this.bx?this.bx.dim:new a.Dimension);var e=new a.Point(b.x-this.relativePos.x,b.y-this.relativePos.y);this.bgRect.add(new a.Rectangle(e,this.bx?this.bx.dim:new a.Dimension)),this.bgRect.grow(10,10),null!==this.bx?(this.bx.moveTo(new a.Point(b.x-this.relativePos.x,b.y-this.relativePos.y)),this.bx.setTemporaryHidden(!1),this.bx.update(this.ctx,null),this.bx.setTemporaryHidden(!0)):(this.drawLine(),this.linePainted=!0)}},begin:function(a,b){this.active&&this.end(),this.origin.moveTo(a),this.dest.moveTo(a),this.linePainted=!1,this.active=!0,b&&(this.bx=b,this.relativePos.moveTo(a.x-b.pos.x,a.y-b.pos.y),this.bx.setFocused(!0),this.bx.setTemporaryHidden(!0),this.linePainted=!1,this.parent.invalidate().update());try{this.bgImg=this.ctx.getImageData(0,0,this.dim.width,this.dim.height)}catch(a){this.bgImg=null}this.bgRect=null,b&&this.moveTo(a,!0)},end:function(){this.active&&(this.active=!1,this.linePainted=!1,this.bgRect=null,this.bgImg=null,this.bx&&(this.bx.setFocused(!1),this.bx.moveTo(this.origin.x-this.relativePos.x,this.origin.y-this.relativePos.y),this.bx.setTemporaryHidden(!1),this.bx=null,this.relativePos.moveTo(0,0)),this.ctx.clearRect(0,0,this.dim.width,this.dim.height),this.parent.invalidate().update())},drawLine:function(){if("source-over"!==this.compositeOp?(this.ctx.strokeStyle=this.xorColor,this.ctx.globalCompositeOperation=this.compositeOp):this.ctx.strokeStyle=this.lineColor,this.ctx.lineWidth=this.lineWidth,this.ctx.beginPath(),this.ctx.moveTo(this.origin.x,this.origin.y),this.ctx.lineTo(this.dest.x,this.dest.y),this.ctx.stroke(),this.arrow){var b=Math.atan2(this.origin.x-this.dest.x,this.dest.x-this.origin.x),c=new a.Point(this.dest.x-this.arrowLength*Math.cos(b+this.arrowAngle),this.dest.y+this.arrowLength*Math.sin(b+this.arrowAngle));this.ctx.beginPath(),this.ctx.moveTo(this.dest.x,this.dest.y),this.ctx.lineTo(c.x,c.y),this.ctx.stroke(),c.moveTo(this.dest.x-this.arrowLength*Math.cos(b-this.arrowAngle),this.dest.y+this.arrowLength*Math.sin(b-this.arrowAngle)),this.ctx.beginPath(),this.ctx.moveTo(this.dest.x,this.dest.y),this.ctx.lineTo(c.x,c.y),this.ctx.stroke()}"source-over"!==this.compositeOp&&(this.ctx.globalCompositeOperation="source-over")}},b}(a("../AWT"))},{"../AWT":127}],172:[function(a,b,c){b.exports=function(a,b,c,d,e){var f=function(a,c,e,f,g,h,i,j,k,l){d.call(this,a,c,e),this.pos.x=f,this.pos.y=g,this.nCols=Math.max(1,h),this.nRows=Math.max(1,i),this.cellWidth=Math.max(j,this.defaults.MIN_CELL_SIZE),this.cellHeight=Math.max(k,this.defaults.MIN_CELL_SIZE),this.dim.width=j*this.nCols,this.dim.height=k*this.nRows,this.setChars(" "),this.preferredBounds=new b.Rectangle(this.pos,this.dim),this.setBorder(l);var m=this;this.cursorTimer=new b.Timer(function(){m.blink(0)},500,!1),this.cursorEnabled=!1,this.useCursor=!1,this.wildTransparent=!1,this.cursor=new b.Point};return f.createEmptyGrid=function(a,b,c,d,e,g){var h=new f(a,b,e.bb,c,d,e.ncw,e.nch,e.w,e.h,e.border);return h.wild=e.wild,h.randomChars=e.randomChars,h.wildTransparent=g,h},f.prototype={constructor:f,nRows:1,nCols:1,chars:null,answers:null,attributes:null,cellWidth:20,cellHeight:20,preferredBounds:null,wild:e.prototype.wild,randomChars:e.prototype.randomChars,cursorEnabled:!1,useCursor:!1,cursor:null,cursorBlink:!1,cursorTimer:null,wildTransparent:!1,defaults:{MIN_CELL_SIZE:12,DEFAULT_CELL_SIZE:20,MIN_INTERNAL_MARGIN:2},flags:{NORMAL:0,INVERTED:1,HIDDEN:2,LOCKED:4,MARKED:8,TRANSPARENT:16},setChars:function(a){this.chars=[],this.answers=[],this.attributes=[];for(var b=0;b<this.nRows;b++){var c=b<a.length?a[b]:"";this.chars[b]=c.split(""),this.answers[b]=[],this.attributes[b]=[];for(var d=0;d<this.nCols;d++)d>=c.length&&(this.chars[b][d]=" "),this.answers[b][d]=this.chars[b][d],this.attributes[b][d]=this.flags.NORMAL}},randomize:function(){for(var a=0;a<this.nRows;a++)for(var b=0;b<this.nCols;b++)this.chars[a][b]===this.wild&&(this.chars[a][b]=this.randomChars.charAt(Math.floor(Math.random()*this.randomChars.length)))},setCellAttributes:function(a,b){var c=this.flags.LOCKED;this.wildTransparent?c|=this.flags.TRANSPARENT:c|=this.flags.INVERTED|this.flags.HIDDEN;for(var d=0;d<this.nRows;d++)for(var e=0;e<this.nCols;e++)a&&this.chars[d][e]===this.wild?this.attributes[d][e]=c:(this.attributes[d][e]=this.flags.NORMAL,b&&(this.chars[d][e]=" "))},setCellLocked:function(a,b,c){a>=0&&a<this.nCols&&b>=0&&b<this.nRows&&(this.attributes[b][a]=c?this.flags.LOCKED|(this.wildTransparent?this.flags.TRANSPARENT:this.flags.INVERTED|this.flags.HIDDEN):this.flags.NORMAL)},getItemFor:function(a,c){if(!this.isValidCell(a,c))return null;var d,e,f=new b.Point,g=!1,h=!1;for(d=0;d<a;d++)0!=(this.attributes[c][d]&this.flags.LOCKED)?g||(h&&f.x++,g=!0):(h=!0,g=!1);for(g=!1,h=!1,e=0;e<c;e++)0!=(this.attributes[e][a]&this.flags.LOCKED)?g||(h&&f.y++,g=!0):(h=!0,g=!1);return f},setCursorEnabled:function(a){this.cursorEnabled=a,!0===a?this.startCursorBlink():this.stopCursorBlink()},startCursorBlink:function(){this.useCursor&&this.cursorEnabled&&this.cursorTimer&&!this.cursorTimer.isRunning()&&(this.blink(1),this.cursorTimer.start())},stopCursorBlink:function(){this.cursorTimer&&this.cursorTimer.isRunning()&&(this.cursorTimer.stop(),this.blink(-1))},moveCursor:function(a,b,c){if(this.useCursor){var d=this.findNextCellWithAttr(this.cursor.x,this.cursor.y,c?this.flags.LOCKED:this.flags.NORMAL,a,b,!1);this.cursor.equals(d)||this.setCursorAt(d.x,d.y,c)}},findFreeCell:function(a,c,d){var e=null;if(a&&(0!==c||0!==d))for(var f=new b.Point(a);null===e&&(f.x+=c,f.y+=d,!(f.x<0||f.x>=this.nCols||f.y<0||f.y>=this.nRows));)this.getCellAttribute(f.x,f.y,this.flags.LOCKED)||(e=f);return e},findNextCellWithAttr:function(a,c,d,e,f,g){for(var h=new b.Point(a+e,c+f);;){if(h.x<0?(h.x=this.nCols-1,h.y>0?h.y--:h.y=this.nRows-1):h.x>=this.nCols&&(h.x=0,h.y<this.nRows-1?h.y++:h.y=0),h.y<0?(h.y=this.nRows-1,h.x>0?h.x--:h.x=this.nCols-1):h.y>=this.nRows&&(h.y=0,h.x<this.nCols-1?h.x++:h.x=0),h.x===a&&h.y===c||this.getCellAttribute(h.x,h.y,d)===g)break;h.x+=e,h.y+=f}return h},setCursorAt:function(a,b,c){this.stopCursorBlink(),this.isValidCell(a,b)&&(this.cursor.x=a,this.cursor.y=b,this.useCursor=!0,c&&this.getCellAttribute(a,b,this.flags.LOCKED)?this.moveCursor(1,0,c):this.cursorEnabled&&this.startCursorBlink())},setUseCursor:function(a){this.useCursor=a},getCursor:function(){return this.cursor},countCharsLike:function(a){var b,c,d=0;for(c=0;c<this.nRows;c++)for(b=0;b<this.nCols;b++)this.chars[c][b]===a&&d++;return d},getNumCells:function(){return this.nRows*this.nCols},countCoincidences:function(a){var b,c,d=0;if(this.answers)for(c=0;c<this.nRows;c++)for(b=0;b<this.nCols;b++)this.isCellOk(b,c,a)&&d++;return d},isCellOk:function(a,b,c){var d,e,f=!1;return this.isValidCell(a,b)&&(d=this.chars[b][a])!==this.wild&&(e=this.answers[b][a],(d===e||!c&&d.toUpperCase()===e.toUpperCase())&&(f=!0)),f},getLogicalCoords:function(a){if(!this.contains(a))return null;var c=Math.floor((a.x-this.pos.x)/this.cellWidth),d=Math.floor((a.y-this.pos.y)/this.cellHeight);return this.isValidCell(c,d)?new b.Point(c,d):null},isValidCell:function(a,b){return a<this.nCols&&b<this.nRows&&a>=0&&b>=0},setCharAt:function(a,b,c){this.isValidCell(a,b)&&(this.chars[b][a]=c,this.repaintCell(a,b))},getCharAt:function(a,b){return this.isValidCell(a,b)?this.chars[b][a]:" "},getStringBetween:function(a,b,c,d){var e,f,g,h,i="";if(this.isValidCell(a,b)&&this.isValidCell(c,d)&&(f=c-a,g=d-b,0===f||0===g||Math.abs(f)===Math.abs(g)))for(h=Math.max(Math.abs(f),Math.abs(g)),h>0&&(f/=h,g/=h),e=0;e<=h;e++)i+=this.getCharAt(a+f*e,b+g*e);return i},setAttributeBetween:function(a,b,c,d,e,f){if(this.isValidCell(a,b)&&this.isValidCell(c,d)){var g=c-a,h=d-b;if(0===g||0===h||Math.abs(g)===Math.abs(h)){var i=Math.max(Math.abs(g),Math.abs(h));i>0&&(g/=i,h/=i);for(var j=0;j<=i;j++)this.setAttribute(a+g*j,b+h*j,e,f)}}},setAttribute:function(a,b,c,d){this.isValidCell(a,b)&&(this.attribute!==this.flags.MARKED||d||this.repaintCell(a,b),this.attributes[b][a]&=~c,this.attributes[b][a]|=d?c:0,(c!==this.flags.MARKED||d)&&this.repaintCell(a,b))},setAllCellsAttribute:function(a,b){for(var c=0;c<this.nRows;c++)for(var d=0;d<this.nCols;d++)this.setAttribute(d,c,a,b)},getCellAttribute:function(a,b,c){return!!this.isValidCell(a,b)&&0!=(this.attributes[b][a]&c)},getCellRect:function(a,c){return new b.Rectangle(this.pos.x+a*this.cellWidth,this.pos.y+c*this.cellHeight,this.cellWidth,this.cellHeight)},getCellBorderBounds:function(a,b){var c=this.getCellAttribute(a,b,this.flags.MARKED);if(!this.border&&!c)return this.getCellRect(a,b);var d=this.getBoxBaseResolve(),e=c?d.markerStroke:d.borderStroke;return this.getCellRect(a,b).grow(e.lineWidth,e.lineWidth)},repaintCell:function(a,b){this.container&&this.container.invalidate(this.getCellBorderBounds(a,b)).update()},getPreferredSize:function(){return this.preferredBounds.dim},getMinimumSize:function(){return new b.Dimension(this.defaults.MIN_CELL_SIZE*this.nCols,this.defaults.MIN_CELL_SIZE*this.nRows)},getScaledSize:function(a){return new b.Dimension(c.roundTo(a*this.preferredBounds.dim.width,this.nCols),c.roundTo(a*this.preferredBounds.dim.height,this.nRows))},setBounds:function(a,b,c,e){d.prototype.setBounds.call(this,a,b,c,e),this.cellWidth=this.dim.width/this.nCols,this.cellHeight=this.dim.height/this.nRows},updateContent:function(a,c){var d=this.getBoxBaseResolve();a.font=d.font.cssFont(),a.textBaseline="hanging",d.prepareText(a,"W",this.cellWidth-2*this.defaults.MIN_INTERNAL_MARGIN,this.cellHeight-2*this.defaults.MIN_INTERNAL_MARGIN);var e,f,g,h,i,j,k,l,m,n,o,p=[];for(n=(this.cellHeight-d.font.getHeight())/2,m=0;m<this.nRows;m++)for(l=0;l<this.nCols;l++)if(o=this.getCellBorderBounds(l,m),o.intersects(c)&&0==((e=this.attributes[m][l])&this.flags.TRANSPARENT)){if(g=0!=(e&this.flags.INVERTED),f=0!=(e&this.flags.MARKED),h=this.useCursor&&this.cursor.x===l&&this.cursor.y===m,i=this.getCellRect(l,m),a.fillStyle=h&&this.cursorBlink?d.inactiveColor:g?d.textColor:d.backColor,i.fill(a),a.strokeStyle="black",0==(e&this.flags.HIDDEN)&&(p[0]=this.chars[m][l],p[0])){if(j=i.pos.x+(this.cellWidth-a.measureText(p[0]).width)/2,k=i.pos.y+n,d.shadow){var q=Math.max(1,d.font.size/10);a.fillStyle=d.shadowColor,a.fillText(p[0],j+q,k+q)}a.fillStyle=g?d.backColor:this.isAlternative()?d.alternativeColor:d.textColor,a.fillText(p[0],j,k)}(this.border||f)&&(a.strokeStyle=d.borderColor,d[f?"markerStroke":"borderStroke"].setStroke(a),f&&(a.globalCompositeOperation="xor"),i.stroke(a),f&&(a.globalCompositeOperation="source-over")),a.strokeStyle="black",b.Stroke.prototype.setStroke(a)}return!0},blink:function(a){this.useCursor&&(this.cursorBlink=1===a||-1!==a&&!this.cursorBlink,this.repaintCell(this.cursor.x,this.cursor.y))},end:function(){this.cursorTimer&&(this.cursorTimer.stop(),this.cursorTimer=null)}},f.prototype=a.extend(Object.create(d.prototype),f.prototype),f}(a("jquery"),a("../AWT"),a("../Utils"),a("./AbstractBox"),a("./TextGridContent"))},{"../AWT":127,"../Utils":134,"./AbstractBox":163,"./TextGridContent":173,jquery:51}],173:[function(a,b,c){b.exports=function(a,b,c){var d=function(){this.bb=new c(null),this.text=[]};return d.prototype={constructor:d,ncw:1,nch:1,w:20,h:20,border:!1,bb:null,text:null,wild:"*",randomChars:b.settings.RANDOM_CHARS,setProperties:function(d){var e=this;a.each(d.get(0).attributes,function(){var a=this.name,c=this.value;switch(a){case"rows":e.ncw=Number(c);break;case"columns":e.nch=Number(c);break;case"cellWidth":e.w=Number(c);break;case"cellHeight":e.h=Number(c);break;case"border":e.border=b.getBoolean(c);break;case"wild":case"randomChars":e[a]=c}}),d.children("style:first").each(function(){e.bb=(new c).setProperties(a(this))}),d.find("text:first > row").each(function(){e.text.push(this.textContent)});for(var f=e.text.length;f<e.nch;f++)e.text[f]="";return this},countWildChars:function(){var a=0;if(this.text)for(var b=0;b<this.nch;b++)for(var c=0;c<this.ncw;c++)this.text[b].charAt(c)===this.wild&&a++;return a},getNumChars:function(){return this.ncw*this.nch},setCharAt:function(a,b,c){a>=0&&a<this.ncw&&b>=0&&b<this.nch&&(this.text[b]=this.text[b].substring(0,a)+c+this.text[b].substring(a+1))}},d}(a("jquery"),a("../Utils"),a("./BoxBase"))},{"../Utils":134,"./BoxBase":170,jquery:51}],174:[function(a,b,c){b.exports=function(a,b,c){var d={checkPreferredLanguage:function(a,b,c){var d=-1,e=[];c&&e.push(c),window.navigator.languages&&(e=e.concat(window.navigator.languages)),window.navigator.language&&e.push(window.navigator.language),e.push(b||"en");for(var f=0;f<e.length;f++){var g=-1;for(var h in a)if(0===e[f].indexOf(a[h])&&(g=h,e[f]===a[h])){d=h;break}if(d>=0||(d=g)>=0)break}return a[d>=0?d:0]},init:function(e){a.init({nsSeparator:!1,keySeparator:!1,fallbackLng:"en",lng:d.checkPreferredLanguage(b.languages,"en",e.options.lang),resources:{en:{translation:{}},ca:{translation:b.messages.ca},"ca_ES@valencia":{translation:b.messages["ca_ES@valencia"]},es:{translation:b.messages.es}}},function(a,d){a?c.log("error",'Error initializing "i18next": %s',a.message):(c.getMsg=e.getMsg=d,e.JClicVersion=b.version)})}};return d}(a("i18next"),a("./GlobalData"),a("./Utils"))},{"./GlobalData":130,"./Utils":134,i18next:45}],175:[function(a,b,c){b.exports=function(a,b){var c=function(){this.players=[]};return c.prototype={constructor:c,players:[],createActiveMediaPlayer:function(c,d,e){var f=null;switch(c.mediaType){case"RECORD_AUDIO":if(c.length<=0||c.length>=b.settings.MAX_RECORD_LENGTH)break;case"PLAY_RECORDED_AUDIO":if(c.recBuffer<0||c.recBuffer>=10)break;case"PLAY_AUDIO":case"PLAY_MIDI":case"PLAY_VIDEO":f=new a(c,d,e)}return null!==f&&this.players.push(f),f},getActiveMediaPlayer:function(a,b,c){for(var d=null,e=0;e<this.players.length&&(d=this.players[e],d.mc!==a&&!d.mc.isEquivalent(a));e++)d=null;return null===d&&(d=this.createActiveMediaPlayer(a,b,c)),d},removeActiveMediaPlayer:function(a){var b,c=null;for(b=0;b<this.players.length&&(c=this.players[b],c.mc!==a);b++)c=null;null!==c&&(c.clear(),this.players.splice(b,1))},realizeAll:function(){for(var a=0;a<this.players.length;a++)this.players[a].realize()},stopAll:function(a){void 0===a&&(a=-1);for(var b=0;b<this.players.length;b++){var c=this.players[b];(-1===a||null!==c.mc&&c.mc.level<=a)&&c.stop()}},removeAll:function(){for(var b=0;b<this.players.length;b++)this.players[b].clear();this.players.length=0,a.prototype.clearAllAudioBuffers()}},c}(a("./ActiveMediaPlayer"),a("../Utils"))},{"../Utils":134,"./ActiveMediaPlayer":176}],176:[function(a,b,c){b.exports=function(a,b){var c=function(a,d,e){switch(this.mc=a,this.ps=e,a.mediaType){case"RECORD_AUDIO":c.AUDIO_BUFFERS&&(this.clearAudioBuffer(a.recBuffer),c.AUDIO_BUFFERS[a.recBuffer]=new b(a.length));case"PLAY_RECORDED_AUDIO":this.useAudioBuffer=!0;break;case"PLAY_AUDIO":case"PLAY_VIDEO":var f=a.mediaFileName;this.mbe=d.getElement(f,!0)}};return c.REC_ENABLED="undefined"!=typeof MediaRecorder&&"undefined"!=typeof navigator,c.REC_ENABLED&&(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia),c.AUDIO_BUFFERS=c.REC_ENABLED?[]:null,c.prototype={constructor:c,mc:null,ps:null,bx:null,$visualComponent:null,useAudioBuffer:!1,mbe:null,realize:function(){if(this.mbe){var b=this;this.mbe.build(function(){this.data.pause&&this.data.pause(),"video"!==this.type&&"anim"!==this.type||!this.data||(b.$visualComponent=a(this.data),b.$visualComponent.css("z-index",20))})}},playNow:function(b){if(this.useAudioBuffer){if(c.AUDIO_BUFFERS){var d=c.AUDIO_BUFFERS[this.mc.recBuffer];d&&("RECORD_AUDIO"===this.mc.mediaType?d.record():d.play())}}else if(this.mbe){var e=this;this.mbe.build(function(){var b=!1,c=this.data,d=a(c);d.off(),e.mc.to>0&&d.on("timeupdate",function(){b&&c.currentTime>=e.mc.to/1e3&&(d.off("timeupdate"),c.pause())});var f=e.mc.from>0?e.mc.from/1e3:0;b=!0,c.pause(),c.currentTime=f,c.play()})}},play:function(a){this.stopAllAudioBuffers(),this.playNow(a)},stop:function(){this.useAudioBuffer?this.stopAudioBuffer(this.mc.recBuffer):this.mbe&&this.mbe.data&&!this.mbe.data.paused&&this.mbe.data.pause&&this.mbe.data.pause()},clear:function(){this.stop(),this.useAudioBuffer&&this.clearAudioBuffer(this.mc.recBuffer)},clearAudioBuffer:function(a){c.AUDIO_BUFFERS&&a>=0&&a<c.AUDIO_BUFFERS.length&&c.AUDIO_BUFFERS[a]&&(c.AUDIO_BUFFERS[a].clear(),c.AUDIO_BUFFERS[a]=null)},clearAllAudioBuffers:function(){if(c.AUDIO_BUFFERS)for(var a=0;a<c.AUDIO_BUFFERS.length;a++)this.clearAudioBuffer(a)},countActiveBuffers:function(){var a=0;if(c.AUDIO_BUFFERS)for(var b=0;b<c.AUDIO_BUFFERS.length;b++)c.AUDIO_BUFFERS[b]&&a++;return a},stopAllAudioBuffers:function(){if(c.AUDIO_BUFFERS)for(var a=0;a<c.AUDIO_BUFFERS.length;a++)c.AUDIO_BUFFERS[a]&&c.AUDIO_BUFFERS[a].stop()},stopAudioBuffer:function(a){c.AUDIO_BUFFERS&&a>=0&&a<c.AUDIO_BUFFERS.length&&c.AUDIO_BUFFERS[a]&&c.AUDIO_BUFFERS[a].stop()},checkVisualComponentBounds:function(a){},setVisualComponentVisible:function(a){},linkTo:function(a){this.bx=a,this.bx&&this.$visualComponent&&this.bx.setHostedComponent(this.$visualComponent)}},c}(a("jquery"),a("./AudioBuffer"))},{"./AudioBuffer":177,jquery:51}],177:[function(a,b,c){b.exports=function(a){var b=function(a){a&&(this.seconds=a),this.chunks=[]};return b.MAX_RECORD_LENGTH=20,b.prototype={constructor:b,seconds:b.MAX_RECORD_LENGTH,mediaRecorder:null,chunks:null,mediaPlayer:null,timeoutID:null,playWhenFinished:!1,play:function(){this.stop(),this.mediaPlayer?(this.mediaPlayer.currentTime=0,this.mediaPlayer.play()):this.playWhenFinished=!0},stop:function(){this.mediaRecorder&&"recording"===this.mediaRecorder.state?this.mediaRecorder.stop():this.mediaPlayer&&!this.mediaPlayer.paused&&this.mediaPlayer.pause()},record:function(){if(this.mediaRecorder&&"recording"===this.mediaRecorder.state)this.mediaRecorder.stop();else{this.stop();var b=this;this.mediaPlayer=null,navigator.getUserMedia({audio:!0},function(c){b.mediaRecorder=new MediaRecorder(c),b.mediaRecorder.ondataavailable=function(a){b.chunks.push(a.data)},b.mediaRecorder.onerror=function(c){a.log("error","Error recording audio: %s",c),b.mediaRecorder=null},b.mediaRecorder.onstart=function(){a.log("debug","Recording audio started")},b.mediaRecorder.onstop=function(){a.log("debug","Recording audio finished"),b.timeoutID&&(window.clearTimeout(b.timeoutID),b.timeoutID=null);var c={};b.chunks.length>0&&b.chunks[0].type&&(c.type=b.chunks[0].type);var d=new Blob(b.chunks,c);b.chunks=[],b.mediaPlayer=document.createElement("audio");var e=URL.createObjectURL(d);b.mediaPlayer.src=e,b.mediaPlayer.pause(),b.mediaRecorder=null,b.playWhenFinished&&(b.playWhenFinished=!1,b.mediaPlayer.play())},b.mediaRecorder.onwarning=function(b){a.log("warn","Warning recording audio: %s",b)},b.playWhenFinished=!1,b.mediaRecorder.start(),b.timeoutID=window.setTimeout(function(){b.mediaRecorder&&b.mediaRecorder.stop()},1e3*b.seconds)},function(b){a.log("error","Error recording audio: %s",b)})}},clear:function(){this.stop(),this.mediaPlayer=null}},b}(a("../Utils"))},{"../Utils":134}],178:[function(a,b,c){b.exports=function(a,b,c){var d=function(b){if(b){this.elements={};var c=this.elements;a.each(b.elements,function(a,b){c[a]=b})}};return d.prototype={constructor:d,eventSoundsParent:null,elements:{},enabled:c.DEFAULT,globalEnabled:!0,setProperties:function(c){var d=this.elements;return c.children().each(function(){var c=this.getAttribute("id");d[c]=new b(c),d[c].setProperties(a(this))}),this},realize:function(b,c){a.each(this.elements,function(a,d){d.realize(b,c)})},play:function(a){var b=this.elements[a];b&&b.play()},resources:{start:"data:audio/mp3;base64,//NAxAARGk5RdUEQANIEZEBAPGPyIAAYAKMY/6EaQn8hP+c/yEb//kITU7oc9Cf6nPnPoT/8nQhCKEEEnDizkAwM8ThYH1Bj/EAYEhyUGghyivv7fn0vtsLdYI0CiTQE+aaqfH3BW37/80LEFhl6nvZfj1ACplLtsfx19gOQfBp7iHeEWRj8WxiLLI6khikjEI9IvsePycfERCSpPJ9s95IbO1O/tRX70XQiOGX+n+hmeb+aMirKxN/IibInf//G3K9PVym7NoL/W2usCkcMT5T/80DEDBcivuJd0lADkXMLoGxcA7ENhPlAY8LMK280iLkhQq80ojkRQCwz/rEsTjjTlMPMu3RWZ2c3dmONON0NVDzDzDzP79Y9PFg9v//oqi4hHyp+7HGl2b///I8VcYAAls9qrCT1Mv/zQsQKFsrCvlzLRNa/FN/jd/HUrGLUa8tKonzDK8+t55alG5sbKYilBExD8Id1ugmp+eKIdSplGpaoxNZiznEU/J9KJmUsqBzPVjJ/+Aif//71QCdv+gE7f//6gICqPAAci1sbgH8/G//zQMQKFfF2qb9ZaAKU9PlY3uHFsAqAXfgZvyyhtTM2fC1zH/8+tFlslODFHjTHsClFqSTfprRCxdzMcppQ8yHsbbEkzpoLvZFBnWt1GBa/+8se/+SPdQe//FIIsAAAba7YbC65AQAf//NCxA0XMh6xv5OIAEIz0mVENAJ0DbwIQjpGYFNAvTSI1ePBuh+MwYk+xib0DA/K5YQadIk+o0Z0UyLmiv+h5bMD1Ro3/3/TSUggmu/+v/7KNL03CcLAh//5dpCqkltAAAqFFpldqAHI//NAxAwXGl7aXYxoABm/nTyF8EwhIPY/DSOKUIQ2WXUzAlFDQXzyRCXBUNUk33XoqQNhyeltWFUL6CKTImv7/vSZNZw0MP6v/v2oFQ5EUR7/1SVyb//E7FkIn9f9NXWQAg47vXRBbzv/80LEChbaYs5f2IAC9rPHK1z/yygqmvwSoaAGvNLr9jCagdVUGyxOpVqpp79lJPf9ZNEttWXTUvf/9azMUgOcZrZPMThF00d7//v///9SnpUlpJJJJJFeLhp3///yKi4QAHWdrdQE07P/80DEChTJvrI+Ro6Oalhjl3DYQyyMpMHHcIbTFNlqYvp6GKBJBYZ89G+PKyt/Q4oCbx9z9b//80CTA+F3zTlSqOz6G0PoVCIItC3/CnwN/xZAvcr/99VSIAEKz7+UABhWz01LyctXJv/zQsQRE5nOvl4WFHISWA9Ybn87+VaIKzA0kk7n33/KHo6qv1QKoNjMTHtX//ocaRCuGg2MP8jbueS9WIWU3NPcenOEv/CbcsVAKiIkATNv/9QAb60qFitrzbcZQ+ixX7169gCfAOpwHf/zQMQeE+Fasl4T0HJRrdobjyh8XBKr80WAqJQaiQPhY7vmJ4///ppkOhOaLMDbgVOwVdYt0SgqM/4hBQO+qglKQAFQM0aPnrrVvpRJLyCYt2amWVGBpcJrSl6ypI4hgoMQk5Di+Yv3//NCxCkP+IpANGYehC+92dkrPJ/1a+z+3/r/sL/6f+6G7BotKqkVeDWsJLMDPP8pf2a4///Jf+VgHuRkfn85h7MIeAY9RE3ZM3IRTyUaGvCJpep52lDPb0nCY5xRqRkEWzDKgw+8Ftdp//NAxEUS42YhgAhHHAG9ZCQjo0VONppYbQStB6qWUv5f591O8bze0/3y//62eUqnWzSn9vNsnOBzK8TN6urr6bcxGukbeqNZjuyIMO5FREnqzI6SVZVcahzgpCwMa561B4M8zjedy6v/80LEVBI7ViYoCEsdN5b7kv/+Rsub5P/X6yz0/JdhcZdZl+/hII/xFYdTSmc0ck3O0055fkc2R+ZgsyZsEagnMwRqkK1xle//6iZh/ITJmiF/yEKT4QyEKEP8hMQl/mNYxv+hn/lKZyn/80DEZxEbPiWICEc9StmmMZW0r1KXR/qYxnX0UpWMZAxQFqoapnCiQwqxihWDAQEBAQEKE6mZGZGTTMiMjTWZHa/aZkZlTRGXojIzL///////8yP85/5k1lspGrWRyNWCggYME4kGJf/zQsR9EkNiDAAARN1MNUkqTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/zQMSQDcslQAoAR1mqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",click:"data:audio/mp3;base64,//NAxAASsyJgIUEQAY///gX8///yfyHO/8hCEafoRp3nPQgAAEUAABBCEIT//QhCKQhNGyEIQhCNITU5//OQhCN7f/yEZQAAIynOc5CEIhGnABGY/4gAIQZ4h4h4d3Z2Z9Jba5XWhWP/80LEEBhJOxcfiUAC9BEda+oiKFQsViiMpvHFC98pLjySjUNeKoYxMpwIT21HmHlEhx83A9K5vDAuZUQxzq7nJPgEVWKQZ1Iu5oJH3UpGObWV/MfAgLC4Z/yhP/ULKnqHd/syOQenhOL/80DEChZpZs7rzBgAT3bBWub0T/xNtn9nY5bvQdCA0TvnpXNC7EJ3iRPtebJ//7xK4IAqIii2AKbfkBAJxATDLN7wiUGv6VANBNjqQwGCayGoaBAJaNC79/z5wP2IuJbfZsNFgBVo7P/zQsQLF0lGxvRJhlQVDyEmYldHXJGadquTRs6aYmq9VY1hqqt6xmqts2zGTvGNrl+u1IMBHREJREbkpaFQkFRoa2FYSDvBp6DwSf1lgFqfkQ0JcRCYlKxKg0eEw8sKqgaEogGBH3EZpv/zQMQJEyEudaoIBoAf+HV2UBjoOsP2/IwrkezQ1Y4e2wVxgxlVAqDQUSRUBRU6LrBY1lvxEdUBWBIOnZWOCrvlVnTsltWNOqPP4seUBcKgKpW44m3GkHLjaBS4ohHZdTGi6FXXVo6+//NCxBcNYAYyWAhEAJ3U+j3uXdl1z1Du30fCySCGablvUTrhwggLTomAAmrWsmWY9ym89ZcvlwX/zf+a95ZLwXOar/LNrJ60LUl25Hs58yKRWIjSbt9DCIs0UtF/TOlm2cyNTpKysuCB//NAxD0Rw1YliAhHPdmd9nYYQOsGCgAfmqIAXlnhbNZeUBQvyL/y6NlP/r1LLlEiSPL/7lE9SirM5zxZEwCseMDL330yrtl8/8jJs6mt5dTloYsvNSGbmTkYQhpVpRpCG1yr9YSfr1b/80LEURFLZiWQCEc8v/rLXPzys+Z9z8v+H9qyCMpGLn3bla9qtcxYZXk9cbOUjb8t0q2ytz79ImM1R0ht3QdWK11myihIpt8SZBRAlbWq3CDpDKWUte/VHgJDH6k+lsqSPbRj+pHWWrL/80DEZxKjYh2ICIfhxIKhMBeLPjgKlFRIKjCxIKjCukkFAKCSCxFtgTAQFIkisqIg2EngUVFg8FQCQUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsR3EnAF9kgARgBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",
actionOk:"data:audio/mp3;base64,//NAxAAT+gKmPUFoAI81KAANYQZECuQAASjAD820006kC+buYDgGEGEKIcsCYAUQYA6JeI2JmS5wcY5yXL6b1IJpp6kG////9X+h/oaaaadAvpvBA5/9QIDQQOQ+cbQllsQQAKTggvn/80LECxdCcupdjFACwA8cFoNFZuosRJUe3E48kEhWIRueePjSdR4T9XMQ4SwB/BZ1GQNAtHHOPzOFryImV2zlb//rZV/6MYp56IY00sPgvi5vp1NN///3Q4ZlSUVV6wAAHLn//b/+Bv3/80DEChbo7s5fmGgA8cDgPEdPslrmVdkwdsV66+p2vZktFECYbF0sxMc6XTyGfU7omIDWqTLdIdocopcSHkqkN/1OLnGEiTI5lQIHz6F//h8+Aw////SWn6Ai////RQCALJttttthGP/zQsQJFgLXBl+PUAJpUBpuDr/a/Bn7vbuBpTSaJu9C26HLGnV05pymMa+52rjwoQl9HX5xkseQEWn/zR+C+CGcTN1IQsr/O/6N///////zyotv//Ulb+WNu/4a/G/DAGASAsBQ86QpAv/zQMQNFyqWqFWaUACorGJ3w70JwQXdB1Iw8FBR6w8BkLlXmCwSQKbRFEDGyFEFw/LiWNeT8eOSG/++3///5oEpv5wrF/RmoYsz////+yuLZ55GT//yosfyqj5gugANMBv///+Bt0Bw//NCxAsWul7hv49QAIAcsuZ3XnIKHgXVwYS+wjbgGuEvA8WjfAsaQmNk2QkZh5517ceH7uZegsm5y///0VTDzzDz09dev/6IIMKcL8i/5CSjE3/oqRMBZpmk7R/RgAAbjwkkcZrZNKRG//NAxAwW4j6pudpoAwwbDspelxARGBQ5l21KTHGz7RkyVSuLZ5l3/S9SQ1CutfuvPzIvF4HUFzRXNkiXJVH+pv//mvMTVRJGyT6S29LRao2Wqj///UbLJxLHVPBVD9SWyADnc5p6REf/80LECxb6Uoxe3A7SY0MyGLYtINLEx4dXVEEvywRGZ7pcZEtrkjRpam6yOArCCRZNX/W3WOoGKq04z/0I/nt/UCYZf6GfovMahvTn21oZ7KnY4oNhuRFQuLsBID8cKC5qSQAC9j29EzH/80DECxNZYoT+xuAyRLbuBA8WRBNAN0Eq+mboAV7G62xjgCvi7cM0Ov1kOELDyoy/75RGdB8iaMZJ//S9SaPWe8oonsV4o5NO40K5FG2xNQZo78WcFOwcZjQQYvlIW6mGkh0f0ZiOBv/zQsQYE8jiVBDfVogDF7hUFzGQhTgpeTFkKEeXlL8syjVHZ03ZCDR2nSxR7Pq7np3LRaHB9adBZ07r018kdy3tjTX1KiSqekjtoMGlaAKNEYCZkOHzpZziA0FmwmEDZhMwfvxGWFAY3P/zQMQkE5DaRAjW1ohECprRK1TRrKRtJsNpyJrNfLvndF7g+gSnAyt351B5obyX8r/u//////rqgBmlYGs01hNdBQpEQyNoHhEMuUtgytPS01oLy0hu6NVNabzryYxwzfIqvKPaRFls//NCxDAQ+FYw8gjSKH7tHbMxfJlUtVpIB16SI0SEXBsf68/+/L//zfLll/nmj7F/1pcpZ/+Z3Ur5Eq5WpbM9MfPljxeb9Lamv/nXIuOSkVXJVRmzRxLpVUlMiBhOahamKCgmCgSwVXHX//NAxEgRU1YcAABGvSNI0Nzzp5SNpUj5aE3ZUqAvIkhEnnq1D3/yxFqrceAgEVIho8WKlhKVGBUJHjzvOh0JndVbtdYykkFQmdDoaDqCIaLKTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqr/80LEXRFYBf5ICEYAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",actionError:"data:audio/mp3;base64,//M4xAAUuVJUAUgYARcXFz4DgFAeKHAeChiIie7u+iaIibgYuAYGcTz3OIhf/Xd38v+J6J7u+gGBiw8P8PDw8PDHRw8/+O6GADo/h78BEQz8HAHh5+v+A4A6H/8AAEfIiZmZBXlicwVCsWj1//M4xAwYWvL/H4goAHY5EADTzSBEDUpfz/OhTMPGC+NAMWAgfAcAgHFSjhZD1PCRAUQFBjMUxMhGGuOVyndnXzvlH2dGLp+jbHsUykMTTFkX/+ror2841v+k//+MIOdv/GUVmvrpkGSqAYta//M4xAkXMsLmN89oAg/iwxc/bCcqY374+ZYv8ms1WUWQHQlTUFCJgbIjvMcd6K1m71G+ttB9Pt32bR6OptTZxtV0l/ov20P3b9/1/1f0dSCkh7FjKTdSRbQKiRLyBKFroXi7uP0CAvGOAWNk//M4xAsXwr7a/mPUwS+O1HXtgEWD0qvqiuk8xOG4QoqkAU5eFUIMYl8WHoK3Hcq2dx5p5fTjLvlFtLucF2SuaciHhslc4JhNnm5XU2pCS6c3n6+3/9GyFsk+xwWUQmSTumm7e5ggAEWsUBor//M4xAsXCrLXHntO7NUoPTkrtfAzt+Vmc1QDhdvOk4mMiMaxzG9AERpgbNKfJVp0/lfOvjfl9SWj5XpoXfIYVep7R0WTaUAGDj1IkMHy1Oyrfnfq2e37/22fJduLdKpFmVawABglJaFVG03L//M4xA0XurK+5HnLTJeQXpCP4L6DAO1L6jOnPOCx/wVBu4nAIHEgOCbXJbP5R/74hGiwND1iw7BYtTsqM6viJ1aoa14o/kdXwsdo2K6nxravl7al1/t+rUDz4J+IDtW7bbVAX+3gDwiUL8lI//M4xA0Xgq7qVnoO+zaBvGmHeGt1WGsEPh7RWPKQT82FEhiWLGeUlRHjRERFE6UUhhATy9J5Lcv+PM+axpVIkaHDqqvi+yUHdjW3sp2vTv+rav9F/Kt+Lm9QJFdnwrvt7SXHLLMAFKoGoNaO//M4xA4UurLyXkDFT5XYo5iQ9ckoWFh61037WowPpb5NVRWlrUmVVqxmNV/b6q+xuJVfY1VVXfDHvnL7TGOFMb6ifdZf0etaP//lZH6FbyuK5MUAYWLKUvoamjS5tZpdNnrWz2ASUXdsckcS//M4xBoUcVJ4IisMydfHkiAUZzmoyajzSOzOf1T9qlFq+ORkFFeC//HxXOxf/PKPG/CNxYO4+WKbl+Lv4VBQU6KKhP/K/+vK3+WXVv/9SobSZ1b/lb9SshjN9S/Upahjf/LMahjv6qx/DpAR//M4xCcS40IEABDN5DMaqqrVVVjWLGPjH7GpWZ/7dqr47Eq/7HQds4duAxGfzkjUTpoLSIv///qn///YxTAwQIGhyP/u7O/3P2eqNZ2k4so4sp2NFAYhnZ2couBNTEFNRTMuOTkuNVVVVVVV//M4xDoKqz1wDACNy1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",finishedOk:"data:audio/mp3;base64,//NAxAAQiXIEAUIQAPnfO/OdyAYGehP/U5Gqd+c/8785zoBi3QhCMpCVP+SpwM6AYGODH/8TvB+sPiMP5cMCcPygIAg7/lAff4IAgcBCD6ofD4diQbC0WaISi0SB3EAzA8WZgeALXg3/80LEGBoDGyZfglACgsRODRuWFcnMLm+eQEhRVQz5IePy5Icm/2Yn5GLY58hG3/J0JyAkq54WhVHosmkTmr//OYkIx+aejta5yObVf////fbcgJP/8oP//L/+w6tzSgKyRVuaO6jleQb/80DEDBdLJs4/2FABfMefV3NU1/Pu+MiMj5TGccdZM7mtR9poqDaj269WQ7clU5//OzTSgSRYFoL8eoeaaxhw+u9lq/9jn/NY7/3VPohqW+///////5ELQ+cqSm8F1QfSAHmkZP3Rz//zQsQJFgHCul9ZUACtuzlS2auXefrUxQUkTU+etjYpBz++SrehymLQlDIbPScu+uppsoFMTf/5uSiO7kpKKo1ONQ6/NbKkDv8iJj3OE/xEHRQl1Hv//4UPLBeWtoFTaaAttttstQEAgP/zQMQNF1PXDl+BUAJQhUAPuz0DJsKELcVBuf+NDz79ceCoSE/meeYSBfk6fQt91kZOYYxE3/+2YwtnyQxn////0JHMY+w/H5OSN/////zDGf5+p7///////kjSQxXTFGTyENw7gapG//NCxAoVUeLUAYKYABCegFrFga4BpxsoJJHKbdSSNc9rTRNTiRTtofSWUkUt1o19fWkoiIJAGaRYixFlM4yQ2FK7pDOlX6q0Ty0TFQNc910f521f//sEw5VqWAAa0xN/4IJysXXPUXWj//NAxBAYQc7CX9RQAD7L1moNjonkAxWFww4nWd9JCeciFDR6QsKgKiayKccZU7pWdi9jnzTd7C9HzWNZFE6VNY70udouzEPUInt/WdLG0YKntR5SDn/rBWjQpBIJjCnEADG403RAjmT/80LEChYx1rpfU2gCXkzXRRXSZBTHSfAUM4JVGmSJvr92ZalqJzOtY1C+n3qXd7ojHpJVph9KfTv2QF00S62UsnjyUkk+pbH0Uf+akuloBUN9eziVT/Kbf//1pSuJ/YIvIGDjaERizGT/80DEDRciBtzLgWgAnyaG0C1lwTMAJBpi0QiX27oskt/p2pJGx1aanoWQ9R1FMw1JVmtN1vSNE2ZKcL4kwhTIv+7hPkVpum9/54qQNoCB5od9Wc/WVZltv//9olVqRkBpkMgFbWp6pf/zQsQLFGGq0jfYOAJYZ33eO8O4ay/WUDUrPXKa0BSIWhEPEua1Jvfvd1CxL/0T7nGsppoSEjjaf6tN1ZTTR0SRqRO/+K/Ou/9CwVOnmrcSdMqBpY56yFdrrd+BUSsXF/De07+HriXkC//zQMQVEyIO7l9IOAINDw83zXmx47coMuc54Km6W6HL5VI1dHUoFS9CrJ/FZBL1apo8Bec67a3b/1JDQt4iEv/niXtWlQKNhcSXFrNXq9RoxmJPGjO8N0UWAZDR6hQZVGYs4HkcGtuz//NCxCMcqvMKX4VQAp6GEjERDVO0nICRTDDitdHYkPnkRhZTDzS5o/yvFTPc9GLCuTkX7OXt7fseehISK578TUFArC8lNQ06n//2Gg/Jy48bb9TWcmmH//93/Fyy29rQUkjgEwC74QXH//NAxAwTWb76X8xoAtGYil8Sf13FyrazOOzs66VgJUPYvJbKXWr+myS2SrPPf1KWiiiyOpLSWjRTZFlalf//omqn///Bl/gqd4NSP1sCtUboQAq2KfAZcuompqTyWlosplpidkw4Y4D/80LEGRRiJrZdUqAAgAJMBywG+KiSmxrWtlKfMj6SV386x0gTt/1OtvvS0CizI+umWkl/XUbP1ESayKkktX93dfzztT61SAEkgBQEjccjkciAYAa39zxcaPCYCFY9Q550fgIUwErGSDn/80DEIxwS+tZfhWgDSkw83gvvZTK1Iko2tI9rLpf1mZ+b1tMy4Nm06mXyUQY9ZLXyQUJTs9RmYhzjd0y+bppJEj+8v/+81fqQYzTN1ppIW/////+pA0UgaXaVuC5FVLzhMlMyKAyi3P/zQsQNF/I62AGBiABLhOwsg1FMBUmAa4LK0kU0GslRZGmpJb+3on0EzNJjN/Rt+6CJfdTUtj6KkvV+iRcjyBCdC2XzhNFUvstzFYtImJ1Ff9ZRIj59h0HQICe1It//pYprEApJJFaBDP/zQMQJFHJu5l/GaALvVEYd0Zlq2t/CXLznyPVFYKIeRsUnRSrZNn/r6CnqdQ5i8i3q1bKfpGtS0UV2JMeKP6knf2Nf0VaLGLbf//rR0WRKyF4MhrBplw9IE232uwC4QyFzCiYsW86d//NCxBIT0nLqXgpUxo9sRW7llTyJzaqvmIaPi3VgsG/mt9ykwfCQIU3OOY04ehw7/ppOC+OfQ45TbwRmsdOf9V//3NEgtEX//4aVAAFRFv32vuC0ePWVlkuksMhlhMTeSZcTTa6TL1tX//NAxB4T0m7aXgNUnlF5nDuaJdERvfmX6mCXNcKxO/V1USAU/9yGy3Aqp/1gZFJn/1f/82RAAwvUf/9n/4aVAAEIF91+vwCeBTp6TCmP9INghMQii720i+pAnlzzrUX1IHQtju2swb//80LEKRQCbtJeAJqGnOo/ai6SKYMAWbN+pyk9BZgJk//uSoi1brV+z//mZmmHNKZ13/4fAAEADstllgF/v972towZ0QXK8AA+PC5cN0PRTdbHW9k5M9zgqso/zibfk+1ZC/skJF/61jz/80DENROyfrpeA9qODemqMKr/rUHwRS1Nq9SKD//rZIcRZmT//kUEALSZ3D//6vAmzqOlAm8FwxbwFiX8VRMT/DEsPCqRbOw8Q1mIxxtBkkSi3qAOVm6F2/FRWYSyB/bF4bP/YoK6TP/zQsRBE7JuiRpulMRYCzO1V/Bgm+3///oVNQABURf9/bgBP/8U9MW42GQb/AyP4bURvzzGIYvAhJL0x3ooCTlFLZYWlmfqPt+PdVErEQz3RZKDyTFf60vWSP/2GMeX/qsr/+oxmB0RAP/zQMROEzJqxl4CWpcBmBvv9vwBTX/L98zdfopM4GlbpJtgUn1eHHhe8yxjmqcdp+upQEuTdtU3X9x6VTAMv2qIoiG/VYg/GN7/nhJgfH2Qf0qSKab/9STkueh1IDkmklAH5fflAZLq//NCxFwT8m7CXgPall7BM4igvw7JyAbmlbrY2Zmc95UkokD/dw4U/VNjZq2TcStZukKgZTDVrng8v/mRTZa8Yre35WIl+v9boo3/1pprJU2wFQAyBI5tJABr9/77Z/CdRCLoRWqEYrN6//NAxGgUEnKcfgPaq4nSU+eNbpg1JSTemhOK12Eir1L/WdGRPphACdmzWMj7GIgg/nV/2MkNzYiH1f+MUXviFwhf5ESNESoACMgKy22UAf/oZWmPclPEoiClH5cGwN0IZce9FABAWFr/80LEchQJ8p2+BhqSJMm0Y97b+IcHG7exHP1o1ozptGFJY96zeDFv2jvm5WapBNLZ6npCx39f9//xJxaUAGauYYNH0NxP49ytAzAugiwASDuCaDUpRXKKAro0F7oKjNigqK2bCimismz/80DEfRPCbrJeUYsW2bJs07zhUJE83J52vOGiuPNiokv/+//8tONhddJC82Fk8VX//+//+L/+X8vgX38/zyBLzXnwocMyMyN5mLPJsiIzhs/AZfSMyzTJX/zT7ykZlXbe+/dxn2i68f/zQsSJFBiqZBYAXknZ3GPTCDzzqqXjKRMJwaRC8G6IQU2nG4n4GGmXKsyZrv9S/Pz0LNbNUKz3/+L//YfmT5sn3CfNUKp/vzCv+a/PzXF+sMhBLEGQyJlrOq0Ao4kKJILAayo7MqEZp//zQMSUEvNmFAAIzcjp0sip/9jKz0mW6zFUj/RP6r+xkUjlR2Mj/dbbIrGRyodjWKh2MrGEVYys5TKUSGhweBQ8NIQysZWMrlRxEYLh0SRVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVV//NCxKMQi2IeUAhHXVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//NAxLwR22HQAAgKnVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",finishedError:"data:audio/mp3;base64,/+MgxAAT5BX8AUEoAP///mNkc/////1Oc/6noc/9f///85/0O///r/kI2jf+pCf/Of/6HP/znOc7znPkIQgfFzvIRjhwOChCEIQOB8Ph853yHOc/zvEA4AAAAABF/UgSPmQKhhYBw4f/4yLECxVpXpgBmYgAKgCEXoz6Bj24G4gxlPDKhgAUoFxwtiGufjWFsGbKgF+Fh4noT/8i5uaFcZgLm1i2k0Mbam8ZAiwbYX0nExHIEEx2FBBP9J3S5vA6wAAltAA+pUwHS9e7B4EtiwD/4yDEERexdr1fz2ABlQrFTFPgXqqjQRzMFqGEeDUkEbrrMjtB+lU/tcuj+umyBDN1q/2GlFesgKLdHTqWo7RktruiRwdRlfa8J/BPRN+XHtgb0Y/AzC/2cZdiQgBuTa69W4S8bMAAXP/jIsQNF0k6wVZ5xSYzp4BvjV+T2Udd8R2+On01SiRpX5PGv6QjYpD1nBt8VZ0skMc9QHq1CpqJlnhoqVPKPHZYGqnIypEyWPAo8SPz0OhX//QJmyvHu/o8qM/6CtXSAhKu34FZMGcPy//jIMQLFcmeyX5pRy5R0BZEoNVh/FruKTVBRcR5rUTQpGyFqJx7CzcOcPjqoGcWJjOrcdzfsGXZAsFs2WdUKwcLiEIhWFB7w0GpuTa0XaMGgcqzrQsz/+kNKkIAFLvgP/OonDe+4DCL/+MixA4XgpK9XsKG9sYelKU8J/UGwRrm0l9/tjMjWMAOthrqK45iONNBfxi+hbllz+raE/If6Y91Y8jnb49Kxn0WeTT6ihhKnGOj8LGIiWQHuOogUc/66H/hHf+ZgAISpdgBncq6Fj3n/+MgxAwWYfa9fnqHEiCLPLVweu/9CIz6wGZbXVpry1Kg57ZhtwxXKh82K2giB2guGug/OyF9W1JuQftstdzJ1LPcEKLR5hTreUz/iBxskEVBY+CqAyCgQoz+yuNqlTn/4AmceACjmEH/4yLEDROBjtGfTFACEdnXxxr0lwp2+ghopgB4IjWCiAiL1Fns+pLqPWoKx2ncfG0InzW1JerftHxMpxQ801HHziUMvQeK6+SzxEliW+qFqaEByyhgQELpGQIgqtQ3JzIWch4kp17kEgX/4yDEGxrBdpwBmcgA2HbmH2R4LIKeMtsKwjCc/PT00y9l+qMGDIckAycFqvMfuJz7iPxLEzFQo5sngfD9d/3Lh+njFJYublz8Q5Rf////T2+4Yc+Lz9NurVqf9g+AKTd3AE4qU1E2vP/jIsQLFHFG1N/MMAKBuH8oS/ikp9KqlSqkwegTJgTLjeYlyndKcQSsCSPJJQRk9HC1Mj+l42THqWrK1khp0NFfwKks86SKw6IipGbLX60JBY92Jgpy/gAfjbqATePy62LBPlndI3QLQ//jIMQVEzHK0D5ITaKR7RryvYmOsx1fbM6V2JJnbpavk1iJiS8JPqV6qgWaY6uxhvzoBzN51ktGpofVlW2syZxMO0b3qgp3fgAeIb4DIseOluSeSAlQn7hrzAjZSZuJ1hX4vsT7jPQ//+MixCMTSZ7MPlmQ9/X6VzdY3edjF975aHZclh+kp0dpLevY334aVbI8HpNcncwNu/n4iv+WjdUp78AD9ctNSZuODC31N8HTqGeWmtBbEAMsHqNC8I2hSomoRqXy9S0ceUx3G2Xy1HlX/+MgxDETia7EHnnS35XKZuzIM1elCplWUbSZUyasFtQGBXZtvjOkd7fyKgXdgAP2BBZD9S9RP5NG79jO2pTIwZr7J8G1gzEtzOp2ieBOgOaBuVOqMyrSjT9MjQyjbxO0deP52eZM5EX/4yLEPRPR9rgeeccSHPRatU3MJQt+RHNLSiTFR+5aqgXbiAQBNtgMw1oA6FmGT6BBFIiJwdNzPHg4GwWjwaEZMdZCYHjSgwh4y0x3apZUmcmPvrb6vn+zvD/t5itoX1ejvi2HXytG9Pf/4yDESRRRirQZT1gDn6MGwmcJJfWqPBUiBf4SQhy0VHhgDRhoxv1ZsAhtWpzFYcHZOFihgb4zFC60dOmrlmXJiSomyBZ2YpiZigYKoIYAIGkiMAiwM8MMgCyIACjNhTPqzAnwKNMoKP/jIsRSJSlqhAma0AChCECX2WopEOPhhoiCKtdUFCCgKJA0W01lY2TxupC5HD8td2jhciVYlirC37fwM/kcmq9jHKMSipK977GKSz039KNFCnN8BxNkyKQ7PaifSU06ZWbLXIRrxeNesv/jIMQZFAk6zD/MMAKWQS5DeCUx/Y3lI4WvyH8L5+c/sB9iWul3X4R9zz7SwOgUyMBtTkhABBIUn1CLs///////9YC1KgVL/IbU4pxAdm9RCY22Fl3QDjRdhcbGgh/GwR2i7lo1CmY0/+MixCMT0ZasGMPKX2VNy3/JfvZB7an/a3fEB8Ky4hh6gJUlR8Y0bs8ZsysdHzOS5lQSpSjDL8SjagVdQAPkgaNhAzDy0U7Ny7ewjcdcD9uihn7LI+uRtxwzNFzBvzo+Dh1KUoG4nLxM/+MgxC8TQaK0HnnHLvdpTPyNVqWq8ps87Xc4tp+84odaBg0EhAGhAEm9SAVb+0XZfMCMzNKdBLCfWT9Cl5ZjyQd6VlAraiTVvTti91RulyZBkwXuoV3YXmOkKVn5U0rzPNMp1ltR6t7/4yLEPRQ5lqwYw1ETceczuhocBflPuWRyT5NPfTibxXsKc3HAHohRMAuHFwWYsiboQoSDQaBHij2BTtI1iU2jto6ycFqsuHDPAswsJlcSaDHBypOCRwT6zM81yPX/lTY4KIGgWSGQ4+n/4yDESBLppsg+SYaW///sUgodAxFs3LEahGcMIGORNKMFqJMRseA8gjpVF3QapN5RoQOoQ0DWBwiRkkW4R+n8dpREBICTA00IFzMpEJUo25plEqklOrq6VWSDH6/u3crqCEL0P4bJIP/jIsRXE9ECWADD0lknZeEGlVUAgUCFiDzDzCj4WjRpT2WWWUGKhkz4qKC1QsK/ioqLN9ISFhURmfWKi3//////////QDIVFBIHgZFaTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqqqqqqqqv/jIMRjEaCVZAp5hlCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"}},d.prototype.elements={start:new b("start",d.prototype.resources.start),click:new b("click",d.prototype.resources.click),actionOk:new b("actionOk",d.prototype.resources.actionOk),actionError:new b("actionError",d.prototype.resources.actionError),finishedOk:new b("finishedOk",d.prototype.resources.finishedOk),finishedError:new b("finishedError",d.prototype.resources.finishedError)},d}(a("jquery"),a("./EventSoundsElement"),a("../Utils"))},{"../Utils":134,"./EventSoundsElement":179,jquery:51}],179:[function(a,b,c){b.exports=function(a,b,c){var d=function(b,c){this.id=b,c&&(a.startsWith(c,"data:")?this.audio=new Audio(c):this.fileName=c)};return d.prototype={constructor:d,fileName:null,enabled:a.DEFAULT,player:null,audio:null,setProperties:function(b){return this.fileName=b.attr("file"),this.enabled=a.getTriState(b.attr("enabled")),this},realize:function(a,d){this.audio||null!==this.player||null===this.fileName||(this.player=new b(new c("PLAY_AUDIO",this.fileName),d,a),this.player.realize())},play:function(){this.audio?(this.audio.currentTime=0,this.audio.play()):this.player&&this.player.play()},stop:function(){this.audio?this.audio.pause():this.player&&this.player.stop()}},d}(a("../Utils"),a("./ActiveMediaPlayer"),a("./MediaContent"))},{"../Utils":134,"./ActiveMediaPlayer":176,"./MediaContent":180}],180:[function(a,b,c){b.exports=function(a,b,c){var d=function(a,b){this.mediaType=a,b&&(this.mediaFileName=b)};return d.prototype={constructor:d,mediaType:"UNKNOWN",level:1,mediaFileName:null,externalParam:null,from:-1,to:-1,length:3,recBuffer:0,stretch:!1,free:!1,absLocation:null,absLocationFrom:null,catchMouseEvents:!1,loop:!1,autoStart:!1,setProperties:function(d){var e=this;return a.each(d.get(0).attributes,function(){var a=this.name,d=this.value;switch(a){case"type":e.mediaType=d;break;case"file":e.mediaFileName=d;break;case"params":e.externalParam=d;break;case"pFrom":e.absLocationFrom=d;break;case"buffer":e.recBuffer=Number(d);break;case"level":case"from":case"to":case"length":e[a]=Number(d);break;case"px":case"py":null===e.absLocation&&(e.absLocation=new b.Point(0,0)),"px"===a?e.absLocation.x=Number(d):e.absLocation.y=Number(d);break;case"stretch":case"free":case"catchMouseEvents":case"loop":case"autostart":e[a]=c.getBoolean(d)}}),this},isEquivalent:function(a){return this.mediaType===a.mediaType&&(this.mediaFileName===a.mediaFileName||null!==this.mediaFileName&&null!==a.mediaFileName&&this.mediaFileName.toLocaleLowerCase()===a.mediaFileName.toLocaleLowerCase())&&this.from===a.from&&this.to===a.to&&this.recBuffer===a.recBuffer},getDescription:function(){var a="";return a+=this.mediaType,this.mediaFileName?(a+=" "+this.mediaFileName,this.from>=0&&(a+=" from:"+this.from),this.to>=0&&(a+=" to:"+this.to)):this.externalParam&&(a+=" "+this.externalParam),a},toString:function(){return this.mediaType+(this.mediaFileName?" "+this.mediaFileName:"")},getIcon:function(){var a=null;switch(this.mediaType){case"PLAY_AUDIO":case"PLAY_RECORDED_AUDIO":a="audio";break;case"RECORD_AUDIO":a="mic";break;case"PLAY_VIDEO":a="movie";break;case"PLAY_MIDI":a="music";break;case"URL":a="url";break;default:a="default"}return a?d.icoImg[a]:null}},d.icoData={default:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0yOC44IDEyTDI4IDhIMTB2MzRoNFYyOGgxMS4ybC44IDRoMTRWMTJ6Ij48L3BhdGg+PC9zdmc+Cg==",audio:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0zIDl2Nmg0bDUgNVY0TDcgOUgzem0xMy41IDNjMC0xLjc3LTEuMDItMy4yOS0yLjUtNC4wM3Y4LjA1YzEuNDgtLjczIDIuNS0yLjI1IDIuNS00LjAyek0xNCAzLjIzdjIuMDZjMi44OS44NiA1IDMuNTQgNSA2Ljcxcy0yLjExIDUuODUtNSA2LjcxdjIuMDZjNC4wMS0uOTEgNy00LjQ5IDctOC43N3MtMi45OS03Ljg2LTctOC43N3oiPjwvcGF0aD48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIj48L3BhdGg+PC9zdmc+Cg==",movie:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xOCA0bDIgNGgtM2wtMi00aC0ybDIgNGgtM2wtMi00SDhsMiA0SDdMNSA0SDRjLTEuMSAwLTEuOTkuOS0xLjk5IDJMMiAxOGMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjRoLTR6Ij48L3BhdGg+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvc3ZnPgo=",mic:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xMiAxNGMxLjY2IDAgMi45OS0xLjM0IDIuOTktM0wxNSA1YzAtMS42Ni0xLjM0LTMtMy0zUzkgMy4zNCA5IDV2NmMwIDEuNjYgMS4zNCAzIDMgM3ptNS4zLTNjMCAzLTIuNTQgNS4xLTUuMyA1LjFTNi43IDE0IDYuNyAxMUg1YzAgMy40MSAyLjcyIDYuMjMgNiA2LjcyVjIxaDJ2LTMuMjhjMy4yOC0uNDggNi0zLjMgNi02LjcyaC0xLjd6Ij48L3BhdGg+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvc3ZnPgo=",music:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48cGF0aCBkPSJNMTIgM3YxMC41NWMtLjU5LS4zNC0xLjI3LS41NS0yLS41NS0yLjIxIDAtNCAxLjc5LTQgNHMxLjc5IDQgNCA0IDQtMS43OSA0LTRWN2g0VjNoLTZ6Ij48L3BhdGg+PC9zdmc+Cg==",url:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptLTEgMTcuOTNjLTMuOTUtLjQ5LTctMy44NS03LTcuOTMgMC0uNjIuMDgtMS4yMS4yMS0xLjc5TDkgMTV2MWMwIDEuMS45IDIgMiAydjEuOTN6bTYuOS0yLjU0Yy0uMjYtLjgxLTEtMS4zOS0xLjktMS4zOWgtMXYtM2MwLS41NS0uNDUtMS0xLTFIOHYtMmgyYy41NSAwIDEtLjQ1IDEtMVY3aDJjMS4xIDAgMi0uOSAyLTJ2LS40MWMyLjkzIDEuMTkgNSA0LjA2IDUgNy40MSAwIDIuMDgtLjggMy45Ny0yLjEgNS4zOXoiPjwvcGF0aD48L3N2Zz4K"},d.icoImg={},a.each(d.icoData,function(a,b){var c=new Image;c.src=b,d.icoImg[a]=c}),d}(a("jquery"),a("../AWT"),a("../Utils"))},{"../AWT":127,"../Utils":134,jquery:51}],181:[function(a,b,c){b.exports=function(a,b,c,d,e,f,g){var h=function(){this.settings=new b(this),this.activitySequence=new c(this),this._activities={},this.mediaBag=new d(this)};return h.prototype={constructor:h,name:"unknown",version:"0.1.3",type:null,code:null,settings:null,activitySequence:null,_activities:null,reportableActs:0,mediaBag:null,skin:null,basePath:"",path:null,zip:null,setProperties:function(b,c,d,e){c&&(this.path=c,c.file?this.basePath=c:this.basePath=f.getBasePath(c)),this.zip=d,this.name=b.attr("name"),this.version=b.attr("version"),this.type=b.attr("type"),this.code=b.attr("code"),this.settings.setProperties(b.children("settings")),this.activitySequence.setProperties(b.children("sequence")),this.mediaBag.setProperties(b.children("mediaBag")),this.reportableActs=0,this._activities={};var h=this,i=b.children("activities"),j=i.children("activity"),k=this.mediaBag.getElementsOfType("font");return k.length>0&&(e.ownFonts=(e.ownFonts||[]).concat(k)),g.Font.checkTree(j,e),j.each(function(){h._activities[f.nSlash(a(this).attr("name"))]=a(this),"true"===a(this).children("settings").attr("report")&&h.reportableActs++}),this},getActivity:function(a){return e.getActivity(this._activities[f.nSlash(a)],this)},realize:function(a){null===this.skin&&null!==this.settings.skinFileName&&this.settings.skinFileName.length>0&&(this.skin=this.mediaBag.getSkinElement(this.settings.skinFileName,a)),this.settings.eventSounds.realize(a,this.mediaBag),this.mediaBag.buildAll("font")},end:function(){}},h}(a("jquery"),a("./ProjectSettings"),a("../bags/ActivitySequence"),a("../bags/MediaBag"),a("../Activity"),a("../Utils"),a("../AWT"))},{"../AWT":127,"../Activity":128,"../Utils":134,"../bags/ActivitySequence":156,"../bags/MediaBag":161,"./ProjectSettings":182,jquery:51}],182:[function(a,b,c){b.exports=function(a,b,c){var d=function(a){this.project=a,this.languages=[],this.locales=[]};return d.prototype={constructor:d,project:null,title:"Untitled",description:"",languages:null,locales:null,skinFileName:null,eventSounds:new b,setProperties:function(d){var e=this;if(d.children().each(function(){switch(this.nodeName){case"title":e.title=this.textContent;break;case"description":e.description=this.textContent;break;case"language":e.languages.push(this.textContent);break;case"eventSounds":e.eventSounds=new b,e.eventSounds.setProperties(a(this));break;case"skin":e.skinFileName=a(this).attr("file")}}),this.languages.length>0&&window.Intl&&window.Intl.getCanonicalLocales){this.locales=[];for(var f in this.languages){var g=/\(([a-z,A-Z,-]+)\)/.exec(this.languages[f]);if(g&&g.length>1)try{var h=window.Intl.getCanonicalLocales(g[1]);h&&(this.locales=this.locales.concat(h))}catch(a){c.log("error","Invalid language: %s",this.languages[f])}}}return this}},d}(a("jquery"),a("../media/EventSounds"),a("../Utils"))},{"../Utils":134,"../media/EventSounds":178,jquery:51}],183:[function(a,b,c){b.exports=function(a,b){var c=function(a,b,c,d){this.type=a,this.source=b||null,this.dest=c||null,this.ok=d||!1,this.time=(new Date).valueOf()};return c.prototype={constructor:c,type:"unknown",source:null,dest:null,time:0,isOk:!1,$getXML:function(){var b={ok:this.ok,time:this.time};return this.type&&(b.type=this.type),this.source&&(b.source=this.source),this.dest&&(b.dest=this.dest),a("<action/>",b)},setProperties:function(c){var d=this;a.each(c.get(0).attributes,function(){var a=this.name,c=this.value;switch(a){case"type":case"source":case"dest":d[a]=c;break;case"time":d[a]=Number(c);break;case"ok":d[a]=b.getBoolean(c,!1)}})}},c}(a("jquery"),a("../Utils"))},{"../Utils":134,jquery:51}],184:[function(a,b,c){b.exports=function(a,b,c){var d=function(a){this.name=a.name,this.code=a.code,this.actions=[],this.startTime=(new Date).valueOf(),this.minActions=a.getMinNumActions(),this.reportActions=a.reportActions};return d.prototype={constructor:d,name:"",code:"",startTime:0,totalTime:0,actions:[],solved:!1,lastAction:null,score:0,minActions:0,closed:!1,reportActions:!1,numActions:0,$getXML:function(){var b={start:this.startTime,time:this.totalTime,solved:this.solved,score:this.score,minActions:this.minActions,actions:this.numActions};this.name&&(b.name=this.name),this.code&&(b.code=this.code),this.closed||(b.closed=!1),this.reportActions&&(b.reportActions=!0);for(var c=a("<activity/>",b),d=0;d<this.actions.length;d++)c.append(this.actions[d].$getXML());return c},setProperties:function(d){var e=this;a.each(d.get(0).attributes,function(){var a=this.name,c=this.value;switch(a){case"name":case"code":e[a]=c;break;case"start":case"time":case"score":case"minActions":case"actions":e[a]=Number(c);break;case"solved":case"closed":case"reportActions":e[a]=b.getBoolean(c,!1)}}),d.children("action").each(function(){var b=new c;b.setProperties(a(this)),e.actions.push(b)})},$print:function(a){var c=b.$HTML,d=[];if(this.closed)d.push(c.td(this.name)),d.push(this.solved?c.td(a.getMsg("YES"),"ok"):c.td(a.getMsg("NO"),"no")),d.push(c.td(this.numActions)),d.push(c.td(b.getPercent(this.getPrecision()/100))),d.push(c.td(b.getHMStime(this.totalTime)));else{d.push(c.td(this.name,"incomplete"));for(var e=0;e<4;e++)d.push(c.td("-","incomplete"))}return d},newAction:function(a,b,d,e){this.closed||(this.lastAction=new c(a,b,d,e),this.actions.push(this.lastAction))},getActionReg:function(a){return a>=this.actions.length?null:this.actions[a]},closeActivity:function(){this.closed||(this.lastAction?this.totalTime=this.lastAction.time-this.startTime:this.totalTime=(new Date).valueOf()-this.startTime,this.closed=!0)},getPrecision:function(){var a=0;return this.closed&&this.minActions>0&&this.numActions>0&&(a=this.solved?this.numActions<this.minActions?100:Math.round(100*this.minActions/this.numActions):Math.round(this.score*this.score*100/(this.minActions*this.numActions))),a},endActivity:function(a,b,c){this.closed||(this.solved=c,this.numActions=b,this.score=a,this.closeActivity())}},d}(a("jquery"),a("../Utils"),a("./ActionReg"))},{"../Utils":134,"./ActionReg":183,jquery:51}],185:[function(a,b,c){b.exports=function(){var a={BLANK:"___blank___##",Decrypt:function(b){if(null===b||0===b.length)return null;var c=a.decodify(b);return c===a.BLANK?"":c},hexCharArrayToChar:function(a,b){for(var c=0,d=0;d<=3;d++){var e=Number.parseInt(a[b+d],16);if(isNaN(e))throw"Invalid expression!";c=16*c+e}return String.fromCharCode(c)},hexCharArrayToInt:function(a,b){for(var c=0,d=0;d<=1;d++){var e=Number.parseInt(a[b+d],16);if(isNaN(e))throw"Invalid expression!";c=16*c+e}return c},decodifyZerosField:function(a){for(var b="",c=Number.parseInt(a[0],32),d=0,e=0;0!==c;e++){for(;c>0;)b=b+a[3*e+1]+a[3*e+2],c--,d++;c=a.length>3*e+3?Number.parseInt(a[3*e+3],32):0}for(var f=3*e+1;f<a.length;f++)b+=a[f];return Number.parseInt(d,32)+b},decompressZeros:function(b){b=a.decodifyZerosField(b);for(var c=Number.parseInt(b[0],32),d=2*c+1,e=!1,f="",g=0;g<c&&!e;g++){for(var h=a.hexCharArrayToInt(b,1+2*g),i=h.toString(2);i.length<8;)i="0"+i;for(var j=0;j<=7&&!e;j++)"1"===i[j]?f+="0":d<b.length?f+=b[d++]:e=!0}return f},decodifyFromHex:function(b){for(var c="",d=0,e=0;d<b.length;e++){c+=a.hexCharArrayToChar(b,d),d+=4}return c},unchangeOrder:function(a){for(var b=0,c=a.length-1,d=[],e=0;e<a.length;e++)d[e]="";for(var f=0;f<a.length;f++)d[f]=f%2==0?a[b++]:a[c--];return d.join("")},codify:function(b){if(b.length>24)throw"Password is too large!";return a.changeOrder(a.compressZeros(a.codifyToHexWord(b)))},decodify:function(b){try{return a.decodifyFromHex(a.decompressZeros(a.unchangeOrder(b)))}catch(a){return""}}};return a}()},{}],186:[function(a,b,c){b.exports=function(a,b,c,d,e){var f=function(a){this.ps=a,this.sessions=[],this.started=new Date,this.initiated=!1,this.info=new f.Info(this)};return f.prototype={constructor:f,info:null,ps:null,SCORM:null,userId:null,sessionKey:null,sessionContext:null,groupCodeFilter:null,userCodeFilter:null,descriptionKey:"Results are not currently being saved",descriptionDetail:"",started:null,sessions:[],currentSession:null,initiated:!1,bUserBased:null,MAX_USERID_PROMPT_ATTEMPTS:3,getInfo:function(){return this.info.recalc()},getProperty:function(a,b){return b},getBooleanProperty:function(a,b){var c=this.getProperty(a,!0===b?"true":"false");return null===a?b:"true"===c},getGroups:function(){return e.Promise.reject("No groups defined!")},getUsers:function(a){return e.Promise.reject("No users defined in "+a)},getUserData:function(a){return e.Promise.reject("Unknown user!")},getGroupData:function(a){return e.Promise.reject("Unknown group!")},userBased:function(){return null===this.bUserBased&&(this.bUserBased=this.getBooleanProperty("USER_TABLES",!1)),this.bUserBased},promptForNewGroup:function(){return e.Promise.reject("Remote creation of groups not yet implemented!")},promptForNewUser:function(){return e.Promise.reject("Remote creation of users not yet implemented!")},promptGroupId:function(){var b=this;return new e.Promise(function(c,d){b.userBased()?b.getGroups().then(function(e){if(!e||e.length<1)d("No groups defined!");else{for(var f=0,g=a("<select/>").attr({size:Math.max(3,Math.min(15,e.length))}),h=0;h<e.length;h++)g.append(a("<option/>").attr({value:e[h].id}).text(e[h].name));g.change(function(){f=this.selectedIndex}),b.ps.skin.showDlg(!0,{main:[a("<h2/>",{class:"subtitle"}).html(b.ps.getMsg("Select group:")),g],bottom:[b.ps.skin.$okDlgBtn,b.ps.skin.$cancelDlgBtn]}).then(function(){c(e[f].id)}).catch(d)}}).catch(d):d("This system does not manage users!")})},promptUserId:function(b){var d=this;return new e.Promise(function(e,f){if(null===d.userId||b)if(d.userBased()){var g=a("<input/>",{type:"password",size:8,maxlength:64});if(d.getBooleanProperty("SHOW_USER_LIST",!0))d.promptGroupId().then(function(b){d.getUsers(b).then(function(h){if(!h||h.length<1)f("Group "+b+" has no users!");else{for(var i=-1,j=a("<select/>").attr({size:Math.max(3,Math.min(15,h.length))}),k=0;k<h.length;k++)j.append(a("<option/>").attr({value:h[k].id}).text(h[k].name));j.change(function(){i=this.selectedIndex}),d.ps.skin.showDlg(!0,{main:[a("<h2/>",{class:"subtitle"}).html(d.ps.getMsg("Select user:")),j,a("<h2/>",{class:"subtitle"}).html(d.ps.getMsg("Password:")).append(g)],bottom:[d.ps.skin.$okDlgBtn,d.ps.skin.$cancelDlgBtn]}).then(function(){i>=0?h[i].pwd&&c.Decrypt(h[i].pwd)!==g.val()?(window.alert(d.ps.getMsg("Incorrect password")),f("Incorrect password")):(d.userId=h[i].id,e(d.userId)):f("No user has been selected")}).catch(f)}}).catch(f)}).catch(f);else{var h=a("<input/>",{type:"text",size:8,maxlength:64});d.ps.skin.showDlg(!0,{main:[a("<div/>").css({"text-align":"right"}).append(a("<h2/>",{class:"subtitle"}).html(d.ps.getMsg("User:")).append(h)).append(a("<h2/>",{class:"subtitle"}).html(d.ps.getMsg("Password:")).append(g))],bottom:[d.ps.skin.$okDlgBtn,d.ps.skin.$cancelDlgBtn]}).then(function(){d.getUserData(h.val()).then(function(a){a.pwd&&c.Decrypt(a.pwd)!==g.val()?(window.alert(d.ps.getMsg("Incorrect password")),f("Incorrect password")):(d.userId=a.id,e(d.userId))}).catch(f)}).catch(f)}}else f("This system does not manage users!");else e(d.userId)})},$print:function(){this.info.recalc();var b=e.$HTML,c=[];c.push(a("<div/>",{class:"subTitle",id:this.ps.getUniqueId("ReportsLb")}).html(this.ps.getMsg("Current results")));var d=a("<table/>",{class:"JCGlobalResults"});if(d.append(b.doubleCell(this.ps.getMsg("Session started:"),this.started.toLocaleDateString()+" "+this.started.toLocaleTimeString()),b.doubleCell(this.ps.getMsg("Reports system:"),this.ps.getMsg(this.descriptionKey)+" "+this.descriptionDetail)),this.userId?d.append(b.doubleCell(this.ps.getMsg("User:"),this.userId)):this.SCORM&&d.append(b.doubleCell(this.ps.getMsg("User:"),this.SCORM.studentName+(""===this.SCORM.studentId?"":" ("+this.SCORM.studentId+")"))),this.info.numSequences>0){this.info.numSessions>1&&d.append(b.doubleCell(this.ps.getMsg("Projects:"),this.info.numSessions)),d.append(b.doubleCell(this.ps.getMsg("Sequences:"),this.info.numSequences),b.doubleCell(this.ps.getMsg("Activities done:"),this.info.nActivities),b.doubleCell(this.ps.getMsg("Activities played at least once:"),this.info.nActPlayed+"/"+this.info.reportableActs+" ("+e.getPercent(this.info.ratioPlayed)+")")),this.info.nActivities>0&&(d.append(b.doubleCell(this.ps.getMsg("Activities solved:"),this.info.nActSolved+" ("+e.getPercent(this.info.ratioSolved)+")")),this.info.nActScore>0&&d.append(b.doubleCell(this.ps.getMsg("Partial score:"),e.getPercent(this.info.partialScore)+" "+this.ps.getMsg("(out of played activities)")),b.doubleCell(this.ps.getMsg("Global score:"),e.getPercent(this.info.globalScore)+" "+this.ps.getMsg("(out of all project activities)"))),d.append(b.doubleCell(this.ps.getMsg("Total time in activities:"),e.getHMStime(this.info.tTime)),b.doubleCell(this.ps.getMsg("Actions done:"),this.info.nActions))),c.push(d);for(var f=0;f<this.sessions.length;f++){var g=this.sessions[f];g.getInfo().numSequences>0&&(c=c.concat(g.$print(this.ps,!1,this.info.numSessions>1)))}}else c.push(a("<p/>").html(this.ps.getMsg("No activities done!")));return c},init:function(a){return a||(a=this.ps.options),this.userId=e.getVal(a.user),this.sessionKey=e.getVal(a.key),this.sessionContext=e.getVal(a.context),this.groupCodeFilter=e.getVal(a.groupCodeFilter),this.userCodeFilter=e.getVal(a.userCodeFilter),!1!==a.SCORM&&(this.SCORM=d.getSCORM(this),null!==this.SCORM&&this.descriptionKey===f.prototype.descriptionKey&&(this.descriptionKey=this.SCORM.getScormType())),this.initiated=!0,e.log("debug","Basic Reporter initialized"),e.Promise.resolve(!0)},end:function(){return e.log("debug","Basic Reporter ending"),this.endSession(),e.Promise.resolve(!0)},endSequence:function(){this.currentSession&&(this.currentSession.endSequence(),this.info.valid=!1)},endSession:function(){this.endSequence(),this.currentSession=null},newGroup:function(a){throw"No database!"},newUser:function(a){throw"No database!"},newSession:function(a){this.endSession(),this.currentSession=new b(a),this.sessions.push(this.currentSession),this.info.valid=!1},newSequence:function(a){this.currentSession&&(this.currentSession.newSequence(a),this.info.valid=!1,this.SCORM&&this.SCORM.commitInfo())},newActivity:function(a){this.currentSession&&(this.currentSession.newActivity(a),this.info.valid=!1)},endActivity:function(a,b,c){this.currentSession&&(this.currentSession.endActivity(a,b,c),this.info.valid=!1)},newAction:function(a,b,c,d){this.currentSession&&(this.currentSession.newAction(a,b,c,d),this.info.valid=!1)},
getCurrentSequenceInfo:function(){return null===this.currentSession?null:this.currentSession.getCurrentSequenceInfo()},getCurrentSequenceTag:function(){return null===this.currentSession?null:this.currentSession.getCurrentSequenceTag()}},f.Info=function(a){this.rep=a},f.Info.prototype={constructor:f.Info,rep:null,valid:!1,numSessions:0,numSequences:0,nActivities:0,reportableActs:0,nActSolved:0,nActPlayed:0,nActScore:0,nActions:0,ratioSolved:0,ratioPlayed:0,tScore:0,partialScore:0,tTime:0,globalScore:0,clear:function(){this.numSessions=this.numSequences=this.nActivities=this.reportableActs=this.nActSolved=this.nActPlayed=this.nActScore=this.nActions=this.ratioSolved=this.ratioPlayed=this.tScore=this.tTime=this.partialScore=this.globalScore=0,this.valid=!1},recalc:function(){if(!this.valid){this.clear();for(var a=0;a<this.rep.sessions.length;a++){var b=this.rep.sessions[a].getInfo();this.reportableActs+=b.sReg.reportableActs,b.numSequences>0&&(this.numSessions++,this.numSequences+=b.numSequences,b.nActivities>0&&(this.nActivities+=b.nActivities,this.nActPlayed+=b.sReg.actNames.length,this.nActSolved+=b.nActSolved,this.nActions+=b.nActions,b.nActScore>0&&(this.tScore+=b.tScore*b.nActScore,this.nActScore+=b.nActScore),this.tTime+=b.tTime))}this.nActivities>0&&(this.ratioSolved=this.nActSolved/this.nActivities,this.reportableActs>0&&(this.ratioPlayed=this.nActPlayed/this.reportableActs),this.partialScore=this.tScore/(100*this.nActScore),this.globalScore=this.partialScore*this.ratioPlayed),this.valid=!0}return this}},f.CLASSES={Reporter:f},f.getReporter=function(a,b){var c=null;return null===a&&(a="Reporter",b.options.hasOwnProperty("reporter")&&(a=b.options.reporter)),f.CLASSES.hasOwnProperty(a)?c=new f.CLASSES[a](b):e.log("error","Unknown reporter class: %s",a),c},f}(a("jquery"),a("./SessionReg"),a("./EncryptMin"),a("./SCORM"),a("../Utils"))},{"../Utils":134,"./EncryptMin":185,"./SCORM":187,"./SessionReg":189,jquery:51}],187:[function(a,b,c){b.exports=function(a,b){var c=function(a,b){this.API=a,"function"==typeof a.Initialize?this.is2004=!0:(this.prefix="LMS",this.core="cmi.core."),this.reporter=b};return c.prototype={constructor:c,is2004:!1,reporter:null,prefix:"",core:"cmi.",API:null,studentId:"",studentName:"",initialize:function(){var c=!1;try{if(c=this.API[this.prefix+"Initialize"]("")){this.studentId=this.getValue(this.core+(this.is2004?"learner_id":"student_id")),this.studentName=this.getValue(this.core+(this.is2004?"learner_name":"student_name")),this.setValue(this.core+"score.min",0),this.setValue(this.core+"score.max",100);var d=this;a(window).on("unload",function(){d.commitInfo(),d.terminate(),d.API=null})}b.log("debug","SCORM initialized")}catch(a){b.log("error","Error initializing SCORM API: %s",a.message)}return c},terminate:function(){var a=!1;try{a=this.API[this.is2004?"Terminate":"LMSFinish"]("")}catch(a){b.log("error","Error terminating SCORM API: %s",a.message)}return a},commitInfo:function(){var a=this.reporter.getInfo(),c=Math.round(100*a.globalScore),d=this.getTimeExpression(a.tTime);this.setValue(this.core+"score.raw",c),this.setValue(this.core+"session_time",d),this.commit(),b.log("debug","SCORM results reported: %d (%s)",c,d)},commit:function(){var a=!1;try{a=this.API[this.prefix+"Commit"]("")}catch(a){b.log("error","Error commiting data to the SCORM API: %s",a.message)}return a},setValue:function(a,c){var d=!1;try{d=this.API[this.prefix+"SetValue"](a,c)}catch(d){b.log("error",'Error setting value "%s" to "%s" in SCORM API: %s',c,a,d.message)}return d},getValue:function(a){var c=!1;try{c=this.API[this.prefix+"GetValue"](a)}catch(c){b.log("error",'Error retrieving "%s" from SCORM API: %s',a,c.message)}return c},getTimeExpression:function(a){var b=new Date(a),c=b.getUTCHours(),d=b.getUTCMinutes(),e=b.getUTCSeconds();return this.is2004?"PT"+c+"H"+d+"M"+e+"S":("0000"+c).slice(-4)+":"+("00"+d).slice(-2)+":"+("00"+e).slice(-2)},getScormType:function(){return"SCORM "+(this.is2004?"2004":"1.2")}},c.DISCOVER_MAX_TRIES=50,c.scanForAPI=function(a,b){return a.API_1484_11&&a.API_1184_11.Initialize&&a.API_1184_11.SetValue&&a.API_1184_11.Commit?a.API_1184_11:a.API&&a.API.LMSInitialize&&a.API.LMSSetValue&&a.API.LMSCommit?a.API:a.parent&&a.parent!==a&&b++<c.DISCOVER_MAX_TRIES?c.scanForAPI(a.parent,b):null},c.getSCORM=function(a){var d=null;try{var e=c.scanForAPI(window,0);null===e&&window.opener&&(e=c.scanForAPI(window.opener,0)),e&&(d=new c(e,a),d.initialize()||(d=null))}catch(a){d=null,b.log("warn","Unable to use SCORM: %s",a.toString())}return d},c}(a("jquery"),a("../Utils"))},{"../Utils":134,jquery:51}],188:[function(a,b,c){b.exports=function(a,b){var c=function(a){this.name=a.tag,this.description=a.description,this.activities=[],this.currentActivity=null,this.totalTime=0,this.closed=!1,this.info=new c.Info(this)};return c.prototype={constructor:c,name:"",description:"",activities:[],currentActivity:null,totalTime:0,closed:!1,info:null,$print:function(b){for(var c=[],d=a("<tr/>").append(a("<td/>",{rowspan:this.activities.length}).html(this.name)),e=0;e<this.activities.length;e++)d.append(this.activities[e].$print(b)),c.push(d),d=a("<tr/>");return c},getInfo:function(){return this.info.recalc()},endSequence:function(){if(this.currentActivity&&this.activities.length>0){this.currentActivity.closed||this.currentActivity.closeActivity();var a=this.activities[0];this.totalTime=this.currentActivity.startTime+this.currentActivity.totalTime-a.startTime,this.info.valid=!1}},newActivity:function(a){this.closed||(this.currentActivity=new b(a),this.activities.push(this.currentActivity),this.info.valid=!1)},endActivity:function(a,b,c){this.currentActivity&&(this.currentActivity.endActivity(a,b,c),this.info.valid=!1)},newAction:function(a,b,c,d){this.currentActivity&&(this.currentActivity.newAction(a,b,c,d),this.info.valid=!1)}},c.Info=function(a){this.sqReg=a},c.Info.prototype={constructor:c.Info,sqReg:null,valid:!1,nActivities:0,nActClosed:0,nActSolved:0,nActScore:0,ratioSolved:0,nActions:0,tScore:0,tTime:0,clear:function(){this.nActivities=this.nActClosed=this.nActSolved=this.nActScore=0,this.ratioSolved=this.nActions=this.tScore=this.tTime=0,this.valid=!1},recalc:function(){if(!this.valid){if(this.clear(),this.nActivities=this.sqReg.activities.length,this.nActivities>0){for(var a=0;a<this.nActivities;a++){var b=this.sqReg.activities[a];if(b.closed){this.nActClosed++,this.tTime+=b.totalTime,this.nActions+=b.numActions,b.solved&&this.nActSolved++;var c=b.getPrecision();c>=0&&(this.tScore+=c,this.nActScore++)}}this.nActClosed>0&&(this.ratioSolved=this.nActSolved/this.nActClosed),this.nActScore>0&&(this.tScore=Math.round(this.tScore/this.nActScore))}this.valid=!0}return this}},c}(a("jquery"),a("./ActivityReg"))},{"./ActivityReg":184,jquery:51}],189:[function(a,b,c){b.exports=function(a,b,c,d){var e=function(a,b){this.projectName=a.name,this.code=b||a.code,this.sequences=[],this.actNames=[],this.started=new Date,this.info=new e.Info(this),this.reportableActs=a.reportableActs};return e.prototype={constructor:e,reportableActs:0,actNames:null,sequences:null,currentSequence:null,started:null,projectName:"",info:null,code:null,$print:function(c,d,e){d&&this.info.recalc();var f=b.$HTML,g=[],h=a("<table/>",{class:"JCDetailed"});if(this.info.numSequences>0){g.push(a("<p/>").html(e?c.getMsg("Project")+" "+this.projectName:"")),h.append(a("<thead/>").append(a("<tr/>").append(f.th(c.getMsg("sequence")),f.th(c.getMsg("activity")),f.th(c.getMsg("OK")),f.th(c.getMsg("actions")),f.th(c.getMsg("score")),f.th(c.getMsg("time")))));for(var i=0;i<this.sequences.length;i++)h.append(this.sequences[i].$print(c));h.append(a("<tr/>").append(f.td(c.getMsg("Total:")),f.td(this.info.nActivities+" ("+b.getPercent(this.info.ratioPlayed)+")"),f.td(this.info.nActSolved+" ("+b.getPercent(this.info.ratioSolved)+")"),f.td(this.info.nActions),f.td(b.getPercent(this.info.tScore/100)),f.td(b.getHMStime(this.info.tTime))))}return g.push(h),g},getInfo:function(){return this.info.recalc()},end:function(){this.endSequence()},endSequence:function(){this.currentSequence&&0===this.currentSequence.totalTime&&this.currentSequence.endSequence(),this.currentSequence=null,this.info.valid=!1},newSequence:function(a){this.endSequence(),this.currentSequence=new d(a),this.sequences.push(this.currentSequence),this.info.valid=!1},newActivity:function(a){this.currentSequence&&(-1===this.actNames.indexOf(a.name)&&this.actNames.push(a.name),this.currentSequence.newActivity(a),this.info.valid=!1)},endActivity:function(a,b,c){this.currentSequence&&(this.currentSequence.endActivity(a,b,c),this.info.valid=!1)},newAction:function(a,b,c,d){this.currentSequence&&(this.currentSequence.newAction(a,b,c,d),this.info.valid=!1)},getCurrentSequenceTag:function(){return this.currentSequence?this.currentSequence.name:null},getCurrentSequenceInfo:function(){return this.currentSequence?this.currentSequence.getInfo():null}},e.Info=function(a){this.sReg=a},e.Info.prototype={constructor:e.Info,sReg:null,valid:!1,numSequences:0,nActivities:0,nActSolved:0,nActScore:0,ratioSolved:0,ratioPlayed:0,nActions:0,tScore:0,tTime:0,clear:function(){this.numSequences=this.nActivities=this.nActSolved=this.nActScore=0,this.ratioSolved=this.ratioPlayed=this.nActions=this.tScore=this.tTime=0,this.valid=!1},recalc:function(){if(!this.valid){this.clear();for(var a=0;a<this.sReg.sequences.length;a++){var b=this.sReg.sequences[a].getInfo();b.nActivities>0&&(this.numSequences++,b.nActClosed>0&&(this.nActivities+=b.nActClosed,this.nActions+=b.nActions,b.nActScore>0&&(this.nActScore+=b.nActScore,this.tScore+=b.tScore*b.nActScore),this.tTime+=b.tTime,this.nActSolved+=b.nActSolved))}this.nActScore>0&&(this.tScore=Math.round(this.tScore/this.nActScore)),this.nActivities>0&&(this.ratioSolved=this.nActSolved/this.nActivities,this.sReg.reportableActs>0&&(this.ratioPlayed=this.sReg.actNames.length/this.sReg.reportableActs)),this.valid=!0}return this}},e}(a("jquery"),a("../Utils"),a("../project/JClicProject"),a("./SequenceReg"))},{"../Utils":134,"../project/JClicProject":181,"./SequenceReg":188,jquery:51}],190:[function(a,b,c){b.exports=function(a,b,c){var d=function(a){b.call(this,a),this.tasks=[]};return d.prototype={constructor:d,descriptionKey:"Reporting to remote server",descriptionDetail:"(not connected)",serverPath:"",beforeUnloadFunction:null,currentSessionId:"",lastActivity:null,actCount:0,serviceUrl:null,dbProperties:null,tasks:null,waitingTasks:null,processingTasks:!1,forceFlush:!1,timer:-1,timerLap:5,failCount:0,maxFails:5,DEFAULT_SERVER_PATH:"localhost:9000",DEFAULT_SERVER_SERVICE:"/JClicReportService",DEFAULT_SERVER_PROTOCOL:document&&document.location&&"http:"===document.location.protocol?"http":"https",DEFAULT_TIMER_LAP:20,getProperty:function(a,b){return null!==this.dbProperties&&this.dbProperties.hasOwnProperty(a)?this.dbProperties[a]:b},addTask:function(a){this.processingTasks?null===this.waitingTasks?this.waitingTasks=[a]:this.waitingTasks.push(a):this.tasks.push(a)},flushTasksPromise:function(){if(this.processingTasks||null===this.currentSessionId||0===this.tasks.length||null===this.serviceUrl)return this.processingTasks&&(this.forceFlush=!0),c.Promise.resolve(!0);this.processingTasks=!0;for(var a=this,b=new d.ReportBean("multiple"),e=0;e<this.tasks.length;e++)b.appendData(this.tasks[e].$bean);return c.log("debug","Reporting:",b.$bean[0]),new c.Promise(function(c,d){a.transaction(b.$bean).done(function(b,d,e){a.failCount=0,a.waitingTasks?(a.tasks=a.waitingTasks,a.waitingTasks=null):(a.forceFlush=!1,a.tasks=[]),a.forceFlush&&a.tasks.length>0?(a.forceFlush=!1,a.processingTasks=!1,a.flushTasksPromise().then(function(){c(!0)})):(a.forceFlush=!1,c(!0),a.processingTasks=!1)}).fail(function(b,c,e){++a.failCount>a.maxFails&&a.stopReporting().then(),d("Error reporting results to "+a.serviceUrl+" ["+c+" "+e+"]"),a.processingTasks=!1})})},init:function(e){void 0!==e&&null!==e||(e=this.ps.options),b.prototype.init.call(this,e),this.initiated=!1,this.stopReporting(),this.serverPath=e.path||this.DEFAULT_SERVER_PATH,this.descriptionDetail=this.serverPath;var f=e.service||this.DEFAULT_SERVER_SERVICE;c.startsWith(f,"/")||(f="/"+f);var g=e.protocol||this.DEFAULT_SERVER_PROTOCOL;this.serviceUrl=g+"://"+this.serverPath+f;var h=this,i=new d.ReportBean("get_properties");return new c.Promise(function(b,c){h.transaction(i.$bean).done(function(d,f,g){h.dbProperties={},a(d).find("param").each(function(){var b=a(this);h.dbProperties[b.attr("name")]=b.attr("value")}),h.promptUserId(!1).then(function(a){h.userId=a;var c=e.lap||h.getProperty("TIME_LAP",this.DEFAULT_TIMER_LAP);h.timerLap=Math.min(30,Math.max(1,parseInt(c))),h.timer=window.setInterval(function(){h.flushTasksPromise().then()},1e3*h.timerLap),h.beforeUnloadFunction=function(a){if(null!==h.serviceUrl&&(h.tasks.length>0||h.processingTasks)){h.flushTasksPromise().then();var b=h.ps.getMsg("Please wait until the results of your activities are sent to the reports system");return a&&(a.returnValue=b),b}},window.addEventListener("beforeunload",h.beforeUnloadFunction),h.initiated=!0,b(!0)}).catch(function(a){h.stopReporting(),c("Error getting the user ID: "+a)})}).fail(function(a,b,d){h.stopReporting(),c("Error initializing reports service "+h.serviceUrl+" ["+b+" "+d+"]")})})},newSession:function(a){b.prototype.newSession.call(this,a),this.serviceUrl&&null!==this.userId&&(this.currentSessionId=null)},createDBSession:function(b){var e=this;return null===this.currentSessionId||b?new c.Promise(function(b,c){e.initiated&&null!==e.userId&&null!==e.currentSession?e.flushTasksPromise().then(function(){e.currentSessionId=null;var f=new d.ReportBean("add session");f.setParam("project",e.currentSession.projectName),f.setParam("activities",Number(e.currentSession.reportableActs)),f.setParam("time",Number(e.currentSession.started)),f.setParam("code",e.currentSession.code),f.setParam("user",e.userId),f.setParam("key",e.sessionKey),f.setParam("context",e.sessionContext),e.transaction(f.$bean).done(function(c,d,f){e.currentSessionId=a(c).find('param[name="session"]').attr("value"),b(e.currentSessionId)}).fail(function(a,b,d){e.stopReporting(),c("Error creating new reports session in "+e.serviceUrl+" ["+b+" "+d+"]")})}):c("Unable to start session in remote server!")}):c.Promise.resolve(this.currentSessionId)},end:function(){var a=this;return a.reportActivity(!0),a.stopReporting().then(b.prototype.end.bind(a))},transaction:function(b){return null===this.serviceUrl?null:a.ajax({method:"POST",url:this.serviceUrl,data:'<?xml version="1.0" encoding="UTF-8"?>'+(new XMLSerializer).serializeToString(b.get(0)).replace("minactions","minActions").replace("reportactions","reportActions"),contentType:"text/xml",dataType:"xml"})},getGroups:function(){var b=this;return new c.Promise(function(c,e){if(b.userBased()){var f=new d.ReportBean("get groups");b.transaction(f.$bean).done(function(b,d,e){var f=[];a(b).find("group").each(function(){var b=a(this);f.push({id:b.attr("id"),name:b.attr("name")})}),c(f)}).fail(function(a,c,d){e("Error retrieving groups list from "+b.serviceUrl+" ["+c+" "+d+"]")})}else e("This system does not manage users!")})},getUsers:function(b){var e=this;return new c.Promise(function(c,f){if(e.userBased()){var g=new d.ReportBean("get users");void 0!==b&&null!==b&&g.setParam("group",b),e.transaction(g.$bean).done(function(b,d,e){var f=[];a(b).find("user").each(function(){var b=a(this),c={id:b.attr("id"),name:b.attr("name")};b.attr("pwd")&&(c.pwd=b.attr("pwd")),f.push(c)}),c(f)}).fail(function(a,b,c){f("Error retrieving users list from "+e.serviceUrl+" ["+b+" "+c+"]")})}else f("This system does not manage users!")})},getUserData:function(b){var e=this;return new c.Promise(function(c,f){if(e.userBased()){var g=new d.ReportBean("get user data");void 0!==b&&null!==b?g.setParam("user",b):f("Invalid user ID"),e.transaction(g.$bean).done(function(b,d,f){var g=a(b).find("user");if(1!==g.length)alert(e.ps.getMsg("Invalid user")),c("Invalid user ID");else{var h={id:g.attr("id"),name:g.attr("name")};g.attr("pwd")&&(h.pwd=g.attr("pwd")),c(h)}}).fail(function(a,b,c){f("Error retrieving user data from "+e.serviceUrl+" ["+b+" "+c+"]")})}else f("This system does not manage users!")})},stopReporting:function(){var a=null;if(this.timer>=0&&(window.clearInterval(this.timer),this.timer=-1),this.beforeUnloadFunction&&(window.removeEventListener("beforeunload",this.beforeUnloadFunction),this.beforeUnloadFunction=null),this.initiated){var b=this;a=this.flushTasksPromise().then(function(){b.serviceUrl=null,b.descriptionDetail=b.serverPath+" ("+b.ps.getMsg("not connected")+")",b.initiated=!1})}return a||c.Promise.resolve(!0)},reportActivity:function(a){if(this.lastActivity){this.lastActivity.closed||this.lastActivity.closeActivity();var b=this.actCount++,c=this.lastActivity,e=this;this.createDBSession(!1).then(function(){var f=new d.ReportBean("add activity");f.setParam("session",e.currentSessionId),f.setParam("num",b),f.appendData(c.$getXML()),e.addTask(f),a&&e.flushTasksPromise().then()})}null!==this.currentSession&&null!==this.currentSession.currentSequence&&this.currentSession.currentSequence.currentActivity!==this.lastActivity?this.lastActivity=this.currentSession.currentSequence.currentActivity:this.lastActivity=null},newActivity:function(a){b.prototype.newActivity.call(this,a),this.reportActivity(!1)},endActivity:function(a,c,d){b.prototype.endActivity.call(this,a,c,d),this.reportActivity(!0)}},d.ReportBean=function(b,c){this.$bean=a("<bean/>").attr({id:b}),c&&this.appendData(c)},d.ReportBean.prototype={constructor:d.ReportBean,$bean:null,appendData:function(a){a&&this.$bean.append(a)},setParam:function(b,c){void 0!==c&&null!==c&&this.appendData(a("<param/>").attr({name:b,value:c}))}},d.prototype=a.extend(Object.create(b.prototype),d.prototype),b.CLASSES.TCPReporter=d,d}(a("jquery"),a("./Reporter"),a("../Utils"))},{"../Utils":134,"./Reporter":186,jquery:51}],191:[function(a,b,c){b.exports=function(a,b,c,d){var e=function(a,b){c.call(this,a,b)};return e.prototype={constructor:e,baseWidthFactor:.75,toothHeightFactor:.6,hLine:function(a,b,c,e,f,g,h){var i=h?-1:1,j=1===b?1:-1;if(0===b)a.addStroke(new d.PathStroke("L",[c+f*i,e]));else{var k=c+(f-f*this.baseWidthFactor)/2*i,l=f*(this.baseWidthFactor/12)*i;a.addStroke(new d.PathStroke("L",[k,e]));var m=g*this.toothHeightFactor*j/8;a.addStroke(new d.PathStroke("B",[k+4*l,e,k+6*l,e-m,k+4*l,e-3*m])),a.addStroke(new d.PathStroke("B",[k+2*l,e-5*m,k+10*l,e-5*m,k+8*l,e-3*m])),a.addStroke(new d.PathStroke("B",[k+6*l,e-1*m,k+8*l,e,k+12*l,e])),a.addStroke(new d.PathStroke("L",[c+f*i,e]))}},vLine:function(a,b,c,e,f,g,h){var i=h?-1:1,j=1===b?1:-1;if(0===b)a.addStroke(new d.PathStroke("L",[c,e+g*i]));else{var k=e+(g-g*this.baseWidthFactor)/2*i,l=g*this.baseWidthFactor/12*i;a.addStroke(new d.PathStroke("L",[c,k]));var m=f*this.toothHeightFactor*j/8;a.addStroke(new d.PathStroke("B",[c,k+4*l,c-m,k+6*l,c-3*m,k+4*l])),a.addStroke(new d.PathStroke("B",[c-5*m,k+2*l,c-5*m,k+10*l,c-3*m,k+8*l])),a.addStroke(new d.PathStroke("B",[c-1*m,k+6*l,c,k+8*l,c,k+12*l])),a.addStroke(new d.PathStroke("L",[c,e+g*i]))}}},e.prototype=a.extend(Object.create(c.prototype),e.prototype),b.CLASSES["@ClassicJigSaw"]=e,e}(a("jquery"),a("./Shaper"),a("./JigSaw"),a("../AWT"))},{"../AWT":127,"./JigSaw":193,"./Shaper":195,jquery:51}],192:[function(a,b,c){b.exports=function(a,b){var c=function(a,c){b.call(this,1,1),this.nCols=a,this.nRows=c,this.showEnclosure=!0};return c.prototype={constructor:c,buildShapes:function(){this.nCells>0&&(this.initiated=!0)},getEnclosingShapeData:function(){return this.showEnclosure?this.enclosing||b.prototype.getEnclosingShapeData.call(this):null}},c.prototype=a.extend(Object.create(b.prototype),c.prototype),b.CLASSES["@Holes"]=c,c}(a("jquery"),a("./Shaper"))},{"./Shaper":195,jquery:51}],193:[function(a,b,c){b.exports=function(a,b,c){var d=function(a,c){b.call(this,a,c)};return d.prototype={constructor:d,buildShapes:function(){for(var a=[],b=[],d=0;d<=this.nRows;d++)a[d]=[],b[d]=[];for(var e=0;e<this.nRows;e++)for(var f=0;f<this.nCols;f++)a[e][f]=0===e?0:1+(this.randomLines?Math.round(9*Math.random()):e+f)%2,b[e][f]=0===f?0:1+(this.randomLines?Math.round(9*Math.random()):f+e+1)%2,f===this.nCols-1&&(b[e][f+1]=0),e===this.nRows-1&&(a[e+1][f]=0);for(var g=1/this.nCols,h=1/this.nRows,i=0;i<this.nRows;i++)for(var j=0;j<this.nCols;j++){var k=g*j,l=h*i,m=new c.Path([new c.PathStroke("M",[k,l])]);this.hLine(m,a[i][j],k+0,l+0,g,h,!1),this.vLine(m,b[i][j+1],k+g,l+0,g,h,!1),this.hLine(m,a[i+1][j],k+g,l+h,g,h,!0),this.vLine(m,b[i][j],k+0,l+h,g,h,!0),m.addStroke(new c.PathStroke("X")),m.calcEnclosingRect(),this.shapeData[i*this.nCols+j]=m}this.initiated=!0},hLine:function(a,b,d,e,f,g,h){var i=h?-1:1,j=1===b?1:-1;if(0===b)a.addStroke(new c.PathStroke("L",[d+f*i,e]));else{var k=d+(f-f*this.baseWidthFactor)/2*i,l=f*this.baseWidthFactor*i;a.addStroke(new c.PathStroke("L",[k,e]));var m=g*this.toothHeightFactor*j;a.addStroke(new c.PathStroke("L",[k,e+m])),a.addStroke(new c.PathStroke("L",[k+l,e+m])),a.addStroke(new c.PathStroke("L",[k+l,e])),a.addStroke(new c.PathStroke("L",[d+f*i,e]))}},vLine:function(a,b,d,e,f,g,h){var i=h?-1:1,j=1===b?1:-1;if(0===b)a.addStroke(new c.PathStroke("L",[d,e+g*i]));else{var k=e+(g-g*this.baseWidthFactor)/2*i,l=g*this.baseWidthFactor*i;a.addStroke(new c.PathStroke("L",[d,k]));var m=f*this.toothHeightFactor*j;a.addStroke(new c.PathStroke("L",[d+m,k])),a.addStroke(new c.PathStroke("L",[d+m,k+l])),a.addStroke(new c.PathStroke("L",[d,k+l])),a.addStroke(new c.PathStroke("L",[d,e+g*i]))}}},d.prototype=a.extend(Object.create(b.prototype),d.prototype),b.CLASSES["@JigSaw"]=d,d}(a("jquery"),a("./Shaper"),a("../AWT"))},{"../AWT":127,"./Shaper":195,jquery:51}],194:[function(a,b,c){b.exports=function(a,b,c){var d=function(a,c){b.call(this,a,c)};return d.prototype={constructor:d,rectangularShapes:!0,buildShapes:function(){for(var a=1/this.nCols,b=1/this.nRows,d=0;d<this.nRows;d++)for(var e=0;e<this.nCols;e++)this.shapeData[d*this.nCols+e]=new c.Rectangle(new c.Point(e*a,d*b),new c.Dimension(a,b));this.initiated=!0}},d.prototype=a.extend(Object.create(b.prototype),d.prototype),b.CLASSES["@Rectangular"]=d,d}(a("jquery"),a("./Shaper"),a("../AWT"))},{"../AWT":127,"./Shaper":195,jquery:51}],195:[function(a,b,c){b.exports=function(a,b,c){var d=function(a,b){this.reset(a,b)};return d.CLASSES={},d.getShaper=function(a,c,e){var f=null,g=d.CLASSES[(a||"").replace(/^edu\.xtec\.jclic\.shapers\./,"@")];return g?f=new g(c,e):b.log("error","Unknown shaper: %s",a),f},d.prototype={constructor:d,className:"Shaper",nCols:0,nRows:0,nCells:0,shapeData:null,initiated:!1,baseWidthFactor:1/3,toothHeightFactor:1/6,randomLines:!1,scaleX:1,scaleY:1,enclosing:null,showEnclosure:!1,rectangularShapes:!1,reset:function(a,b){this.nCols=a,this.nRows=b,this.nCells=b*a,this.initiated=!1,this.shapeData=[];for(var d=0;d<this.nCells;d++)this.shapeData[d]=new c.Shape},setProperties:function(c){var d=this;return a.each(c.get(0).attributes,function(){switch(this.name){case"class":d.className=this.value;break;case"cols":d.nCols=Number(this.value);break;case"rows":d.nRows=Number(this.value);break;case"baseWidthFactor":case"toothHeightFactor":case"scaleX":case"scaleY":d[this.name]=Number(this.value);break;case"randomLines":case"showEnclosure":d[this.name]=b.getBoolean(this.value,!0)}}),c.children("enclosing:first").each(function(){a(this).children("shape:first").each(function(a){d.enclosing=d.readShapeData(this,d.scaleX,d.scaleY),d.showEnclosure=!0,d.hasRemainder=!0})}),c.children("shape").each(function(a,b){d.shapeData[a]=d.readShapeData(b,d.scaleX,d.scaleY)}),d.shapeData.length>0&&(d.nCells=d.shapeData.length),this},readShapeData:function(b,d,e){var f=[],g=null;return a.each(b.textContent.split("|"),function(){var a=this.split(":"),b=a.length>1?a[1].split(","):null;if(b)for(var h=0;h<b.length;h++)b[h]/=h%2?e:d;switch(a[0]){case"rectangle":g=new c.Rectangle(b[0],b[1],b[2],b[3]);break;case"ellipse":g=new c.Ellipse(b[0],b[1],b[2],b[3]);break;default:f.push(new c.PathStroke(a[0],b))}}),!g&&f.length>0&&(g=new c.Path(f)),g},buildShapes:function(){},getShape:function(a,b){return this.initiated||this.buildShapes(),a>=this.nCells||null===this.shapeData[a]?null:this.shapeData[a].getShape(b)},getShapeData:function(a){return a>=0&&a<this.shapeData.length?this.shapeData[a]:null},getEnclosingShapeData:function(){return new c.Rectangle(0,0,1,1)},hasRemainder:!1,getRemainderShape:function(a){var b=null;if(!this.hasRemainder)return null;this.initiated||this.buildShapes();var d=this.getEnclosingShapeData();b=d?d.getShape(a):new c.Rectangle;for(var e=0;e<this.nCells;e++)this.shapeData[e]&&b.add(this.shapeData[e].getShape(a),!1);return b}},d}(a("jquery"),a("../Utils"),a("../AWT"))},{"../AWT":127,"../Utils":134,jquery:51}],196:[function(a,b,c){b.exports=function(a,b,c,d){var e=function(a,b){c.call(this,a,b)};return e.prototype={constructor:e,hLine:function(a,b,c,e,f,g,h){var i=h?-1:1,j=1===b?1:-1;if(0===b)a.addStroke(new d.PathStroke("L",[c+f*i,e]));else{var k=c+(f-f*this.baseWidthFactor)/2*i,l=f*this.baseWidthFactor*i;a.addStroke(new d.PathStroke("L",[k,e]));var m=g*this.toothHeightFactor*j;a.addStroke(new d.PathStroke("L",[k+l/2,e+m])),a.addStroke(new d.PathStroke("L",[k+l,e])),a.addStroke(new d.PathStroke("L",[c+f*i,e]))}},vLine:function(a,b,c,e,f,g,h){var i=h?-1:1,j=1===b?1:-1;if(0===b)a.addStroke(new d.PathStroke("L",[c,e+g*i]));else{var k=e+(g-g*this.baseWidthFactor)/2*i,l=g*this.baseWidthFactor*i;a.addStroke(new d.PathStroke("L",[c,k]));var m=f*this.toothHeightFactor*j;a.addStroke(new d.PathStroke("L",[c+m,k+l/2])),a.addStroke(new d.PathStroke("L",[c,k+l])),a.addStroke(new d.PathStroke("L",[c,e+g*i]))}}},e.prototype=a.extend(Object.create(c.prototype),e.prototype),b.CLASSES["@TriangularJigSaw"]=e,e}(a("jquery"),a("./Shaper"),a("./JigSaw"),a("../AWT"))},{"../AWT":127,"./JigSaw":193,"./Shaper":195,jquery:51}],197:[function(a,b,c){b.exports=function(a,b,c){var d=function(a,b){c.call(this,a,b)};return d.prototype={constructor:d,skinId:"JClicBlueSkin",_getStyleSheets:function(){return c.prototype._getStyleSheets()+this.skinCSS},skinCSS:".SKINID {background-color:#1990FF;}"},d.prototype=a.extend(Object.create(c.prototype),d.prototype),b.CLASSES.blue=d,d}(a("jquery"),a("./Skin"),a("./DefaultSkin"))},{"./DefaultSkin":199,"./Skin":205,jquery:51}],198:[function(a,b,c){b.exports=function(){var a=function(a,b){a&&(this.id=a),b&&(this.$div=b)};return a.prototype={constructor:a,id:"",$div:null,value:0,countDown:0,enabled:!0,MAX_DISPLAY_VALUE:999,displayDiffFrom:null,getDisplayValue:function(){var a=this.countDown>0?this.countDown-this.value:this.value;return this.displayDiffFrom&&(a-=this.displayDiffFrom.value),Math.max(0,Math.min(this.MAX_DISPLAY_VALUE,a))},refreshDisplay:function(){this.$div&&(this.$div.html(this.enabled?(this.getDisplayValue()+1e3).toString().substr(1):"000"),this.$div.css("opacity",this.enabled?1:.3))},setEnabled:function(a){this.enabled!==(this.enabled=a)&&this.refreshDisplay()},setCountDown:function(a){this.countDown!==(this.countDown=a)&&this.refreshDisplay()},incValue:function(){this.value++,this.enabled&&this.refreshDisplay()},setValue:function(a){this.enabled&&this.value!==(this.value=a)&&this.refreshDisplay()}},a}()},{}],199:[function(a,b,c){b.exports=function(a,b,c,d,e,f,g){b||(b=window.screenfull);var h=function(h,i,j){j=j||{},d.call(this,h,i);var k=this,l="";c.Font.loadGoogleFonts(this.cssFonts),this.$ctrlCnt=a("<div/>",{class:"JClicCtrlCnt unselectableText",role:"navigation"}),this.$div.append(this.$ctrlCnt),l=h.getMsg("Previous activity"),this.buttons.prev=a("<button/>",{class:"JClicBtn",title:l,"aria-label":l}).append(a(g.getSvg(this.prevIcon,this.iconWidth,this.iconHeight,this.iconFill))).on("click",function(a){k.ps&&k.ps.actions.prev.processEvent(a)}),this.$ctrlCnt.append(this.buttons.prev),this.msgBox=new e,this.msgBox.role="message";var m=this.msgBox;if(this.$msgBoxDiv=a("<div/>",{class:"JClicMsgBox"}).click(function(){return m.playMedia(h),!1}),this.$ctrlCnt.append(this.$msgBoxDiv),l=h.getMsg("Next activity"),this.buttons.next=a("<button/>",{class:"JClicBtn",title:l,"aria-label":l}).append(a(g.getSvg(this.nextIcon,this.iconWidth,this.iconHeight,this.iconFill))).on("click",function(a){k.ps&&k.ps.actions.next.processEvent(a)}),this.$ctrlCnt.append(this.buttons.next),!1!==this.ps.options.counters&&!1!==j.counters){l=h.getMsg("Reports");var n=a("<button/>",{class:"JClicCountCnt","aria-label":l}).on("click",function(a){k.ps&&k.ps.actions.reports.processEvent(a)});a.each(d.prototype.counters,function(b){l=h.getMsg(b),k.counters[b]=new f(b,a("<div/>",{class:"JClicCounter",title:l,"aria-label":l}).css({"background-image":"url("+g.svgToURI(k[b+"Icon"],k.counterIconWidth,k.counterIconHeight,k.counterIconFill)+")",color:k.counterIconFill}).html("000").appendTo(n))}),this.$ctrlCnt.append(n)}if(!0!==this.ps.options.info&&!0!==j.info||(l=h.getMsg("Information"),this.buttons.info=a("<button/>",{class:"JClicBtn",title:l,"aria-label":l}).append(a(g.getSvg(this.infoIcon,this.iconWidth,this.iconHeight,this.iconFill))).on("click",function(a){k.ps&&k.ps.actions.info.processEvent(a)}),this.$ctrlCnt.append(this.buttons.info)),!0!==this.ps.options.reportsBtn&&!0!==j.reportsBtn||(l=h.getMsg("Reports"),this.buttons.about=a("<button/>",{class:"JClicBtn",title:l,"aria-label":l}).append(a(g.getSvg(this.reportsIcon,this.iconWidth,this.iconHeight,this.iconFill))).on("click",function(a){k.ps&&k.ps.actions.reports.processEvent(a)}),this.$ctrlCnt.append(this.buttons.about)),b&&b.enabled&&(l=h.getMsg("Toggle full screen"),this.buttons.fullscreen=a("<button/>",{class:"JClicBtn",title:l,"aria-label":l}).append(a("<img/>",{src:g.svgToURI(this.fullScreenIcon,this.iconWidth,this.iconHeight,this.iconFill)})).on("click",function(){k.setScreenFull(null)}),this.$ctrlCnt.append(this.buttons.fullscreen)),"function"==typeof this.ps.options.closeFn){l=h.getMsg("Close");var o=this.ps.options.closeFn;this.buttons.close=a("<button/>",{class:"JClicBtn",title:l,"aria-label":l}).append(a(g.getSvg(this.closeIcon,this.iconWidth,this.iconHeight,this.iconFill))).on("click",function(){g.log("info","Closing the player"),o()}),this.$ctrlCnt.append(this.buttons.close)}var p=null;a.each(this.buttons,function(a,b){!b||"function"==typeof b[0].focus&&"function"==typeof b[0].blur||(null===p&&(p=function(){g.log("error",'"blur" and "focus" not defined for SVG objects in Explorer/Edge')}),b[0].focus=b[0].blur=p)})};return h.prototype={constructor:h,skinId:"JClicDefaultSkin",$ctrlCnt:null,msgBox:null,$msgBoxDiv:null,$msgBoxDivCanvas:null,margin:18,msgBoxHeight:60,countersWidth:60,countersHeight:20,_getStyleSheets:function(){return d.prototype._getStyleSheets()+this.mainCSS},updateContent:function(a){if(this.$msgBoxDivCanvas){var b=this.$msgBoxDivCanvas.get(0).getContext("2d");b.clearRect(0,0,b.canvas.clientWidth,b.canvas.clientHeight),this.msgBox.update(b,a)}return d.prototype.updateContent.call(this)},doLayout:function(){d.prototype.doLayout.call(this);var e=this;this.buttons.fullscreen&&(this.buttons.fullscreen.find("img").get(0).src=g.svgToURI(this[b.isFullscreen?"fullScreenExitIcon":"fullScreenIcon"],this.iconWidth,this.iconHeight,this.iconFill)),window.setTimeout(function(){e.$msgBoxDivCanvas&&e.$msgBoxDivCanvas.remove();var b=e.$msgBoxDiv.outerWidth(),d=e.$msgBoxDiv.outerHeight();null!==e.$msgBoxDivCanvas&&e.msgBox.dim.widht===b&&e.msgBox.dim.height===d||(e.$msgBoxDivCanvas=a('<canvas width="'+b+'" height="'+d+'"/>'),e.msgBox.setBounds(new c.Rectangle(0,0,b+1,d)),e.msgBox.buildAccessibleElement(e.$msgBoxDivCanvas,e.$msgBoxDiv)),e.$msgBoxDiv.append(e.$msgBoxDivCanvas),e.updateContent()},0)},getMsgBox:function(){return this.msgBox},actionStatusChanged:function(a){switch(a.name){case"next":this.setEnabled(this.buttons.next,a.enabled);break;case"prev":this.setEnabled(this.buttons.prev,a.enabled)}},enableMainButtons:function(a){this.$ctrlCnt.find(".JClicBtn,.JClicCountCnt").attr("tabindex",a?"0":"-1")},setEnabled:function(a,b){
a.css("opacity",b?1:.3).prop("disabled",!b)},mainCSS:".SKINID .JClicCtrlCnt {margin:0 9px 18px 9px; display:-webkit-flex; display:flex; -webkit-flex-direction:row; flex-direction:row; -webkit-align-items:center; align-items:center;}.SKINID .JClicCountCnt {display:-webkit-flex; display:flex; -webkit-flex-direction:column; flex-direction:column;}.SKINID .JClicMsgBox {height:60px; -webkit-flex-grow:1; flex-grow:1; background-color:lightblue;}.SKINID .JClicBtn {cursor:pointer; line-height:0;}.SKINID .JClicCounter {width:40px; height:20px; padding-left:20px; color:white; cursor:pointer; font-family:Roboto,Sans-serif; font-size:18px; text-align:center; background-repeat:no-repeat; background-position:left}",cssFonts:["Roboto"],iconWidth:36,iconHeight:36,iconFill:"#FFFFFF",prevIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>',nextIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>',fullScreenIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>',fullScreenExitIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/></svg>',closeIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',infoIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"/></svg>',reportsIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg>',counterIconWidth:18,counterIconHeight:18,counterIconFill:"#FFFFFF",timeIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/><path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>',scoreIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>',actionsIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"/></svg>'},h.prototype=a.extend(Object.create(d.prototype),h.prototype),d.CLASSES.default=h,h}(a("jquery"),a("screenfull"),a("../AWT"),a("./Skin"),a("../boxes/ActiveBox"),a("./Counter"),a("../Utils"))},{"../AWT":127,"../Utils":134,"../boxes/ActiveBox":165,"./Counter":198,"./Skin":205,jquery:51,screenfull:118}],200:[function(a,b,c){b.exports=function(a,b){var c=function(a,c){b.call(this,a,c)};return c.prototype={constructor:c,skinId:"JClicEmptySkin",_getStyleSheets:function(){return b.prototype._getStyleSheets()+this.mainCSS},mainCSS:".SKINID .JClicPlayerCnt {margin:0;}"},c.prototype=a.extend(Object.create(b.prototype),c.prototype),b.CLASSES.empty=c,c}(a("jquery"),a("./Skin"))},{"./Skin":205,jquery:51}],201:[function(a,b,c){b.exports=function(a,b,c){var d=function(a,b){c.call(this,a,b)};return d.prototype={constructor:d,skinId:"JClicGreenSkin",_getStyleSheets:function(){return c.prototype._getStyleSheets()+this.skinCSS},iconFill:"#20640E",counterIconFill:"#20640E",skinCSS:".SKINID {background-color:#4AFF19;}"},d.prototype=a.extend(Object.create(c.prototype),d.prototype),b.CLASSES.green=d,d}(a("jquery"),a("./Skin"),a("./DefaultSkin"))},{"./DefaultSkin":199,"./Skin":205,jquery:51}],202:[function(a,b,c){b.exports=function(a,b,c){var d=function(a,b){c.call(this,a,b,{counters:!1,reportsBtn:!0})};return d.prototype={constructor:d,skinId:"JClicMiniSkin",_getStyleSheets:function(){return c.prototype._getStyleSheets()+this.skinCSS},iconWidth:18,iconHeight:18,iconFill:"#080808",counterIconFill:"#080808",margin:8,skinCSS:".SKINID {background-color:#F4F4F4;}.SKINID .JClicPlayerCnt {margin:4px;}.SKINID .JClicCtrlCnt {margin:0 2px 4px 2px;}.SKINID .JClicMsgBox {height:25px;}"},d.prototype=a.extend(Object.create(c.prototype),d.prototype),b.CLASSES.mini=d,d}(a("jquery"),a("./Skin"),a("./DefaultSkin"))},{"./DefaultSkin":199,"./Skin":205,jquery:51}],203:[function(a,b,c){b.exports=function(a,b,c){var d=function(a,b){c.call(this,a,b)};return d.prototype={constructor:d,skinId:"JClicOrangeSkin",_getStyleSheets:function(){return c.prototype._getStyleSheets()+this.skinCSS},skinCSS:".SKINID {background-color:#FF8B19;}"},d.prototype=a.extend(Object.create(c.prototype),d.prototype),b.CLASSES.orange=d,d}(a("jquery"),a("./Skin"),a("./DefaultSkin"))},{"./DefaultSkin":199,"./Skin":205,jquery:51}],204:[function(a,b,c){b.exports=function(a,b,c){var d=function(b,d){c.call(this,b,d,{counters:!1,reportsBtn:!0}),this.$ctrlCnt.detach().prependTo(this.$div),this.$msgBoxDiv.detach().appendTo(this.$div),a("<div/>").css({"flex-grow":1}).insertAfter(this.$ctrlCnt.children(":nth-child(2)"))};return d.prototype={constructor:d,skinId:"JClicSimpleSkin",_getStyleSheets:function(){return c.prototype._getStyleSheets()+this.skinCSS},skinCSS:".SKINID {background-color:#888888;}.SKINID .JClicCtrlCnt {margin:9px;}.SKINID .JClicPlayerCnt {margin:0px 18px 18px;}.SKINID .JClicMsgBox {flex-grow:0; margin:0 18px 18px 18px;}"},d.prototype=a.extend(Object.create(c.prototype),d.prototype),b.CLASSES.simple=d,d}(a("jquery"),a("./Skin"),a("./DefaultSkin"))},{"./DefaultSkin":199,"./Skin":205,jquery:51}],205:[function(a,b,c){b.exports=function(a,b,c,d,e){b||(b=window.screenfull);var f=function(b,g){e.Container.call(this),f.registeredStylesheets.indexOf(this.skinId)<0&&(a("head").append(a('<style type="text/css"/>').html(this._getStyleSheets().replace(/SKINID/g,this.skinId))),f.registeredStylesheets.push(this.skinId));var h=this,i="";this.$div=a("<div/>",{class:this.skinId}),this.$playerCnt=a("<div/>",{class:"JClicPlayerCnt"}),this.$progress=a("<progress/>",{class:"progressBar"}).css({display:"none"}),this.$waitPanel=a("<div/>").css({display:"none","background-color":"rgba(255, 255, 255, .60)","z-index":99}).append(a("<div/>",{class:"waitPanel"}).css({display:"flex","flex-direction":"column"}).append(a("<div/>",{class:"animImgBox"}).append(a(this.waitImgBig),a(this.waitImgSmall))).append(this.$progress)),this.$playerCnt.append(this.$waitPanel),this.buttons=d.cloneObject(f.prototype.buttons),this.counters=d.cloneObject(f.prototype.counters),this.msgArea=d.cloneObject(f.prototype.msgArea),b&&(this.ps=b),g&&(this.name=g),this.$dlgOverlay=a("<div/>",{class:"dlgOverlay"}).css({"z-index":98,position:"fixed",left:0,top:0,width:"100%",height:"100%",display:"none","background-color":"rgba(30,30,30,0.7)"}).on("click",function(){return h._isModalDlg||h._closeDlg(!0),!1});var j=a("<div/>",{class:"dlgDiv",role:"dialog","aria-labelledby":b.getUniqueId("ReportsLb"),"aria-describedby":b.getUniqueId("ReportsCnt")}).css({display:"inline-block",position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}).on("click",function(){return!1});this.$dlgMainPanel=a("<div/>",{class:"dlgMainPanel",id:b.getUniqueId("ReportsCnt")}),this.$dlgBottomPanel=a("<div/>",{class:"dlgBottomPanel",role:"navigation"}),this.$div.append(this.$playerCnt,this.$dlgOverlay.append(j.append(this.$dlgMainPanel,this.$dlgBottomPanel))),i=b.getMsg("JClic logo"),this.$infoHead=a("<div/>",{class:"infoHead"}).append(a("<div/>",{class:"headTitle unselectableText"}).append(a(this.appLogo,{"aria-label":i}).css({width:"1.5em",height:"1.5em","vertical-align":"bottom"}).dblclick(function(){d.setLogLevel("all"),d.log("trace",'Log level set to "trace"'),a(this).off("dblclick")})).append(a("<span/>").html("JClic.js"))).append(a("<p/>").css({"margin-top":0,"margin-left":"3.5em"}).append(a("<a/>",{href:"http://clic.xtec.cat/repo/index.html?page=info"}).html("http://clic.xtec.cat")).append(a("<br>")).append(a("<span/>").html(b.getMsg("Version")+" "+this.ps.JClicVersion))),this.$reportsPanel=a("<div/>",{class:"reportsPanel",role:"document"}),i=b.getMsg("Copy data to clipboard"),this.$copyBtn=a("<button/>",{title:i,"aria-label":i}).append(a(this.copyIcon).css({width:"26px",height:"26px"})).on("click",function(){c.copy({"text/plain":"===> "+b.getMsg("The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor")+" <===","text/html":h.$reportsPanel.html()}),a(this).parent().append(a("<div/>",{class:"smallPopup"}).html(b.getMsg("The data has been copied to clipboard")).fadeIn().delay(3e3).fadeOut(function(){a(this).remove()}))}),i=b.getMsg("Close"),this.$closeDlgBtn=a("<button/>",{title:i,"aria-label":i}).append(a(this.closeDialogIcon).css({width:"26px",height:"26px"})).on("click",function(){h._closeDlg(!0)}),i=b.getMsg("OK"),this.$okDlgBtn=a("<button/>",{title:i,"aria-label":i}).append(a(this.okDialogIcon).css({width:"26px",height:"26px"})).on("click",function(){h._closeDlg(!0)}),i=b.getMsg("Cancel"),this.$cancelDlgBtn=a("<button/>",{title:i,"aria-label":i}).append(a(this.closeDialogIcon).css({width:"26px",height:"26px"})).on("click",function(){h._closeDlg(!1)}),f.skinStack.push(this)};return f.skinStack=[],f.registeredStylesheets=[],f.CLASSES={},f.prototype={constructor:f,skinId:"JClicBasicSkin",$div:null,$playerCnt:null,name:"default",fileName:"",$waitPanel:null,$progress:null,currentProgress:-1,maxProgress:0,$dlgOverlay:null,$dlgMainPanel:null,$dlgBottomPanel:null,$infoHead:null,$copyBtn:null,$closeDlgBtn:null,$okDlgBtn:null,$cancelDlgBtn:null,_dlgOkValue:null,_dlgCancelValue:null,_isModalDlg:!1,$reportsPanel:null,buttons:{prev:null,next:null,return:null,reset:null,info:null,help:null,audio:null,about:null,fullscreen:null,close:null},counters:{actions:null,score:null,time:null},msgArea:{main:null,aux:null,mem:null},player:null,ps:null,waitCursorCount:0,_getStyleSheets:function(){return this.basicCSS+this.waitAnimCSS+this.reportsCSS},attach:function(a){this.detach(),null!==a&&null!==a.skin&&a.skin.detach(),this.player=a,this.$playerCnt.prepend(a.$div),this.setSkinSizes(),a.$mainContainer.append(this.$div)},setSkinSizes:function(a){var c={},e=this.player.$topDiv.height(),f=this.player.fullScreenChecked?"inherit":null;void 0===a&&(a=b&&b.enabled&&b.isFullscreen),d.toCssSize(a?"100vw":this.ps.options.minWidth,c,"min-width",f),d.toCssSize(a?"100vh":this.ps.options.minHeight,c,"min-height",f),d.toCssSize(a?"100vw":this.ps.options.maxWidth,c,"max-width",f),d.toCssSize(a?"100vh":this.ps.options.maxHeight,c,"max-height",f),d.toCssSize(a?"100vw":this.ps.options.width,c,"width","100%"),d.toCssSize(a?"100vh":this.ps.options.height,c,"height",e>0?"100%":"100vh"),this.$div.css(c)},detach:function(){null!==this.player&&(this.player.$div.remove(),this.$div.detach(),this.player=null)},setProperties:function(a){},updateContent:function(a){return e.Container.prototype.updateContent.call(this,a)},resetAllCounters:function(b){a.each(this.counters,function(a,c){null!==c&&(c.value=0,c.countDown=0,c.enabled=b,c.refreshDisplay())})},setWaitCursor:function(a){if(void 0===a)this.$waitPanel&&this.$waitPanel.css({display:this.waitCursorCount>0?"initial":"none"});else{switch(a){case!0:this.waitCursorCount++;break;case!1:--this.waitCursorCount<0&&(this.waitCursorCount=0);break;case"reset":this.waitCursorCount=0}this.setWaitCursor()}},setProgress:function(a,b){this.$progress&&(this.currentProgress=a,a<0?this.$progress.css({display:"none"}):(b&&(this.maxProgress=b,this.$progress.attr("max",b).css({display:"initial"})),this.$progress.attr("value",a)),d.log("trace","Progress: %d/%d",this.currentProgress,this.maxProgress))},incProgress:function(a){this.currentProgress>=0&&this.setProgress(this.currentProgress+(a||1))},showHelp:function(a){},showDlg:function(a,b){var c=this;return new d.Promise(function(d,e){c._dlgOkValue="ok",c._dlgCancelValue="cancelled",c._isModalDlg=a,c.$dlgMainPanel.children().detach(),c.$dlgBottomPanel.children().detach(),b.main&&c.$dlgMainPanel.append(b.main),b.bottom&&c.$dlgBottomPanel.append(b.bottom),c._closeDlg=function(a){a&&d?d(c._dlgOkValue):!a&&e&&e(c._dlgCancelValue),c.$dlgOverlay.css({display:"none"}),c.enableMainButtons(!0),c._closeDlg=f.prototype._closeDlg},c.enableMainButtons(!1),c.$dlgOverlay.css({display:"initial"})})},enableMainButtons:function(a){this.$playerCnt.find("button").attr("tabindex",a?"0":"-1")},_closeDlg:function(){},showReports:function(a){return this.$reportsPanel.html(a?a.$print(this.ps):""),this.showDlg(!1,{main:[this.$infoHead,this.$reportsPanel],bottom:[this.$copyBtn,this.$closeDlgBtn]})},enableCounter:function(a,b){this.counters[a]&&this.counters[a].setEnabled(b)},doLayout:function(){this.player.doLayout()},fit:function(){return this.doLayout(),new e.Dimension(this.$div.width(),this.$div.height())},setScreenFull:function(a){if(b&&b.enabled&&(!0===a&&!b.isFullscreen||!1===a&&!b.isFullScreen||!0!==a&&!1!==a)){var c=b.isFullscreen;b.toggle(this.player.$mainContainer.get(0)),this.player.fullScreenChecked=!0,this.setSkinSizes(!c)}},equals:function(a){return a&&this.name===a.name&&this.ps===a.ps},getMsgBox:function(){return null},actionStatusChanged:function(a){},basicCSS:".SKINID {width:100%; background-color:#3F51B5; display:-webkit-flex; display:flex; -webkit-flex-direction:column; flex-direction:column;}.SKINID .JClicPlayerCnt {background-color:lightblue; margin:18px; -webkit-flex-grow:1; flex-grow:1; position:relative;}.SKINID .JClicPlayerCnt > div {position:absolute; width:100%; height:100%;}.SKINID button:not(.StockBtn) {background:transparent; padding:0; border:none;}.SKINID .unselectableText {-webkit-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select: none;}.SKINID .progressBar {width: 250px}",waitAnimCSS:".SKINID .waitPanel {display:-webkit-flex; display:flex; width:100%; height:100%; -webkit-justify-content:center; justify-content:center; -webkit-align-items:center; align-items:center;}.SKINID .animImgBox {position:relative; width:300px; height:300px; max-width:80%; max-height:80%;}.SKINID .animImgBox svg {position:absolute; width:100%; height:100%; animation-iteration-count:infinite; animation-timing-function:linear;}.SKINID #waitImgBig {animation-duration:0.8s; animation-name:rotate-right;}@keyframes rotate-right {from {transform:rotate(0);} to {transform:rotate(1turn);}}.SKINID #waitImgSmall {animation-duration:0.6s; animation-name:rotate-left;}@keyframes rotate-left {from {transform:rotate(0);} to {transform:rotate(-1turn);}}",waitImgBig:'<svg id="waitImgBig" viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg"><path fill="#3F51B5" d="m 65.99,40.19 c -0.42,5.33 7.80,4.94 8.11,0.20 C 74.50,34.37 66.35,8.59 42.92,7.98 15.90,7.29 9.96,29.50 9.94,39.41 15.33,-1.66 68.61,7.048 65.99,40.19 Z" /></svg>',waitImgSmall:'<svg id="waitImgSmall" viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg"><path fill="#3F51B5"d="m 57.00,39.43 c -0.28,-3.53 5.16,-3.27 5.37,-0.13 0.26,3.99 -5.13,21.04 -20.63,21.44 C 23.85,61.19 19.93,46.50 19.92,39.94 23.48,67.11 58.73,61.35 57.00,39.43 Z"/></svg>',reportsCSS:".SKINID .dlgDiv {background-color:#efefef; color:#757575; font-family:Roboto,sans-serif; font-size:10pt; line-height:normal;}.SKINID .dlgDiv a,a:visited,a:active,a:hover {text-decoration:none; color:inherit;}.SKINID .dlgMainPanel {padding:1em 2em; max-height:calc(100vh - 8em); max-width:calc(100vw - 2em); min-width:20em; overflow:auto;}.SKINID .dlgMainPanel .headTitle {font-size:2.5em; font-weight:bold; margin:auto;}.SKINID .dlgMainPanel .subTitle {font-size:1.4em; font-weight:bold; margin-bottom:0.5em;}.SKINID .dlgMainPanel p {font-size:1.1em; margin-bottom:0.5em;}.SKINID .dlgMainPanel table {table-layout:fixed; width:40em; margin:0.5em 0 1.7em 0; border-collapse:collapse;}.SKINID .dlgMainPanel select {min-width:20em; font-size:1.2em; font-family:Roboto,sans-serif; color:#757575;}.SKINID .dlgMainPanel input {margin-left:1em; font-size:1.2em; font-family:Roboto,sans-serif; border-color:lightgray;}.SKINID .infoHead {padding:1em 0em 0.5em;}.SKINID .JCGlobalResults td {padding:0.4em; border-bottom:1px solid #b6b6b6;}.SKINID .JCGlobalResults td:first-child {font-weight:600; width:14em;}.SKINID .JCDetailed td,th {border-bottom:1px solid #b6b6b6; padding:0.3em 0.4em; vertical-align:top; text-align:center; overflow:hidden; text-overflow:ellipsis;}.SKINID .JCDetailed thead {font-weight:600;}.SKINID .JCDetailed th:first-child {width:7em;}.SKINID .JCDetailed th:nth-last-child(4) {width:4em;}.SKINID .JCDetailed th:nth-last-child(-n+3) {width:4.1em; text-align:right;}.SKINID .JCDetailed td:nth-last-child(-n+3) {text-align:right;}.SKINID .JCDetailed .ok {color:#4bae4f; font-weight:600;}.SKINID .JCDetailed .no {color:#f34235; font-weight:600;}.SKINID .JCDetailed tr:last-child {font-weight:bold;}.SKINID .JCDetailed .incomplete {font-style:italic;}.SKINID .dlgBottomPanel {height:3.5em; background-color:white; padding:0.5em; font-weight:bold; text-align:right; border-top:1px solid #eee; position:relative;}.SKINID .dlgBottomPanel .smallPopup {background-color:#222; color:#ddd; padding:0.5em; font-size:0.9em; position:absolute; right:6em; top:1em;}.SKINID .dlgBottomPanel button {display:inline-block; padding:10px; cursor:pointer; line-height:0;}.SKINID .dlgBottomPanel button:hover {background-color:#eee; border-radius:80px;}.SKINID .dlgBottomPanel button:active {background-color:#b3e5fc;}",closeDialogIcon:'<svg fill="#757575" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',okDialogIcon:'<svg fill="#757575" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>',copyIcon:'<svg fill="#757575" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>',appLogo:'<svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(.02081 0 0-.02081 5 62.33)"><path d="m1263 1297l270 1003 996-267-267-990c-427-1583-2420-1046-1999 519 3 11 999-266 999-266z" fill="none" stroke="#9d6329" stroke-linejoin="round" stroke-linecap="round" stroke-width="180" stroke-miterlimit="3.864"/><path d="m1263 1297l270 1003 996-267-267-990c-427-1583-2420-1046-1998 519 3 11 999-266 999-266" fill="#f89c0e"/><path d="m357 2850l1000-268-267-992-1000 266 267 994z" fill="none" stroke="#86882b" stroke-linejoin="round" stroke-linecap="round" stroke-width="180" stroke-miterlimit="3.864"/>\n<path d="m357 2850l1000-268-267-992-1000 266 267 994" fill="#d9e70c"/>\n</g></svg>'},f.prototype=a.extend(Object.create(e.Container.prototype),f.prototype),f.getSkin=function(a,b,c){var e=null;if(a=a||"default","@"===a.charAt(0,1)&&".xml"===a.substr(-4)&&(a=a.substr(1,a.length-5)),a&&b)for(var g=0;g<f.skinStack;g++)if(e=f.skinStack[g],e.name===a&&e.ps===b)return e;var h=f.CLASSES[a];return h||(d.log("warn","Unknown skin class: %s",a),h=f.CLASSES.default),e=new h(b,a),c&&e.setProperties(c),e},f}(a("jquery"),a("screenfull"),a("clipboard-js"),a("../Utils"),a("../AWT"))},{"../AWT":127,"../Utils":134,"clipboard-js":4,jquery:51,screenfull:118}]},{},[131]);